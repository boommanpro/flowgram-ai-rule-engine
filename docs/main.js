!function(){var e={90160:function(e,n,r){var i=r("80722");e.exports={Graph:i.Graph,json:r("19318"),alg:r("87982"),version:i.version}},8708:function(e,n,r){e.exports=function(e){var n,r={},i=[];return e.nodes().forEach(function(o){n=[],!function i(o){!r.hasOwnProperty(o)&&(r[o]=!0,n.push(o),e.successors(o).forEach(i),e.predecessors(o).forEach(i))}(o),n.length&&i.push(n)}),i}},96303:function(e,n,r){e.exports=function(e,n,r){!Array.isArray(n)&&(n=[n]);var a=e.isDirected()?n=>e.successors(n):n=>e.neighbors(n),s="post"===r?i:o,l=[],u={};return n.forEach(n=>{if(!e.hasNode(n))throw Error("Graph does not have node: "+n);s(n,a,u,l)}),l};function i(e,n,r,i){for(var o=[[e,!1]];o.length>0;){var s=o.pop();s[1]?i.push(s[0]):!r.hasOwnProperty(s[0])&&(r[s[0]]=!0,o.push([s[0],!0]),a(n(s[0]),e=>o.push([e,!1])))}}function o(e,n,r,i){for(var o=[e];o.length>0;){var s=o.pop();!r.hasOwnProperty(s)&&(r[s]=!0,i.push(s),a(n(s),e=>o.push(e)))}}function a(e,n){for(var r=e.length;r--;)n(e[r],r,e);return e}},23864:function(e,n,r){var i=r("5617");e.exports=function(e,n,r){return e.nodes().reduce(function(o,a){return o[a]=i(e,a,n,r),o},{})}},5617:function(e,n,r){var i=r("67463");e.exports=function(e,n,r,a){return function(e,n,r,o){var a,s,l={},u=new i,c=function(e){var n=e.v!==a?e.v:e.w,i=l[n],o=r(e),c=s.distance+o;if(o<0)throw Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+o);c<i.distance&&(i.distance=c,i.predecessor=a,u.decrease(n,c))};for(e.nodes().forEach(function(e){var r=e===n?0:Number.POSITIVE_INFINITY;l[e]={distance:r},u.add(e,r)});u.size()>0&&(s=l[a=u.removeMin()]).distance!==Number.POSITIVE_INFINITY;){;o(a).forEach(c)}return l}(e,String(n),r||o,a||function(n){return e.outEdges(n)})};var o=()=>1},95745:function(e,n,r){var i=r("65859");e.exports=function(e){return i(e).filter(function(n){return n.length>1||1===n.length&&e.hasEdge(n[0],n[0])})}},89489:function(e,n,r){e.exports=function(e,n,r){return function(e,n,r){var i={},o=e.nodes();return o.forEach(function(e){i[e]={},i[e][e]={distance:0},o.forEach(function(n){e!==n&&(i[e][n]={distance:Number.POSITIVE_INFINITY})}),r(e).forEach(function(r){var o=r.v===e?r.w:r.v,a=n(r);i[e][o]={distance:a,predecessor:e}})}),o.forEach(function(e){var n=i[e];o.forEach(function(r){var a=i[r];o.forEach(function(r){var i=a[e],o=n[r],s=a[r],l=i.distance+o.distance;l<s.distance&&(s.distance=l,s.predecessor=o.predecessor)})})}),i}(e,n||i,r||function(n){return e.outEdges(n)})};var i=()=>1},87982:function(e,n,r){e.exports={components:r("8708"),dijkstra:r("5617"),dijkstraAll:r("23864"),findCycles:r("95745"),floydWarshall:r("89489"),isAcyclic:r("14746"),postorder:r("76900"),preorder:r("23376"),prim:r("46079"),tarjan:r("65859"),topsort:r("93425")}},14746:function(e,n,r){var i=r("93425");e.exports=function(e){try{i(e)}catch(e){if(e instanceof i.CycleException)return!1;throw e}return!0}},76900:function(e,n,r){var i=r("96303");e.exports=function(e,n){return i(e,n,"post")}},23376:function(e,n,r){var i=r("96303");e.exports=function(e,n){return i(e,n,"pre")}},46079:function(e,n,r){var i=r("29955"),o=r("67463");e.exports=function(e,n){var r,a=new i,s={},l=new o;function u(e){var i=e.v===r?e.w:e.v,o=l.priority(i);if(void 0!==o){var a=n(e);a<o&&(s[i]=r,l.decrease(i,a))}}if(0===e.nodeCount())return a;e.nodes().forEach(function(e){l.add(e,Number.POSITIVE_INFINITY),a.setNode(e)}),l.decrease(e.nodes()[0],0);for(var c=!1;l.size()>0;){if(r=l.removeMin(),s.hasOwnProperty(r))a.setEdge(r,s[r]);else if(c)throw Error("Input graph is not connected: "+e);else c=!0;e.nodeEdges(r).forEach(u)}return a}},65859:function(e,n,r){e.exports=function(e){var n=0,r=[],i={},o=[];return e.nodes().forEach(function(a){!i.hasOwnProperty(a)&&!function a(s){var l=i[s]={onStack:!0,lowlink:n,index:n++};if(r.push(s),e.successors(s).forEach(function(e){i.hasOwnProperty(e)?i[e].onStack&&(l.lowlink=Math.min(l.lowlink,i[e].index)):(a(e),l.lowlink=Math.min(l.lowlink,i[e].lowlink))}),l.lowlink===l.index){var u,c=[];do i[u=r.pop()].onStack=!1,c.push(u);while(s!==u);o.push(c)}}(a)}),o}},93425:function(e,n,r){function i(e){var n={},r={},i=[];if(e.sinks().forEach(function a(s){if(r.hasOwnProperty(s))throw new o;!n.hasOwnProperty(s)&&(r[s]=!0,n[s]=!0,e.predecessors(s).forEach(a),delete r[s],i.push(s))}),Object.keys(n).length!==e.nodeCount())throw new o;return i}class o extends Error{constructor(){super(...arguments)}}e.exports=i,i.CycleException=o},67463:function(e,n,r){e.exports=class e{_arr=[];_keyIndices={};size(){return this._arr.length}keys(){return this._arr.map(function(e){return e.key})}has(e){return this._keyIndices.hasOwnProperty(e)}priority(e){var n=this._keyIndices[e];if(void 0!==n)return this._arr[n].priority}min(){if(0===this.size())throw Error("Queue underflow");return this._arr[0].key}add(e,n){var r=this._keyIndices;if(e=String(e),!r.hasOwnProperty(e)){var i=this._arr,o=i.length;return r[e]=o,i.push({key:e,priority:n}),this._decrease(o),!0}return!1}removeMin(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key}decrease(e,n){var r=this._keyIndices[e];if(n>this._arr[r].priority)throw Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[r].priority+" New: "+n);this._arr[r].priority=n,this._decrease(r)}_heapify(e){var n=this._arr,r=2*e,i=r+1,o=e;r<n.length&&(o=n[r].priority<n[o].priority?r:o,i<n.length&&(o=n[i].priority<n[o].priority?i:o),o!==e&&(this._swap(e,o),this._heapify(o)))}_decrease(e){for(var n,r=this._arr,i=r[e].priority;0!==e&&!(r[n=e>>1].priority<i);){;this._swap(e,n),e=n}}_swap(e,n){var r=this._arr,i=this._keyIndices,o=r[e],a=r[n];r[e]=a,r[n]=o,i[a.key]=e,i[o.key]=n}}},29955:function(e,n,r){"use strict";function i(e,n){e[n]?e[n]++:e[n]=1}function o(e,n){!--e[n]&&delete e[n]}function a(e,n,r,i){var o=""+n,a=""+r;if(!e&&o>a){var s=o;o=a,a=s}return o+"\x01"+a+"\x01"+(void 0===i?"\x00":i)}function s(e,n){return a(e,n.v,n.w,n.name)}e.exports=class e{_isDirected=!0;_isMultigraph=!1;_isCompound=!1;_label;_defaultNodeLabelFn=()=>void 0;_defaultEdgeLabelFn=()=>void 0;_nodes={};_in={};_preds={};_out={};_sucs={};_edgeObjs={};_edgeLabels={};_nodeCount=0;_edgeCount=0;_parent;_children;constructor(e){e&&(this._isDirected=!e.hasOwnProperty("directed")||e.directed,this._isMultigraph=!!e.hasOwnProperty("multigraph")&&e.multigraph,this._isCompound=!!e.hasOwnProperty("compound")&&e.compound),this._isCompound&&(this._parent={},this._children={},this._children["\x00"]={})}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(e){return this._label=e,this}graph(){return this._label}setDefaultNodeLabel(e){return this._defaultNodeLabelFn=e,"function"!=typeof e&&(this._defaultNodeLabelFn=()=>e),this}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}sources(){var e=this;return this.nodes().filter(n=>0===Object.keys(e._in[n]).length)}sinks(){var e=this;return this.nodes().filter(n=>0===Object.keys(e._out[n]).length)}setNodes(e,n){var r=arguments,i=this;return e.forEach(function(e){r.length>1?i.setNode(e,n):i.setNode(e)}),this}setNode(e,n){return this._nodes.hasOwnProperty(e)?(arguments.length>1&&(this._nodes[e]=n),this):(this._nodes[e]=arguments.length>1?n:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]="\x00",this._children[e]={},this._children["\x00"][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)}node(e){return this._nodes[e]}hasNode(e){return this._nodes.hasOwnProperty(e)}removeNode(e){var n=this;if(this._nodes.hasOwnProperty(e)){var r=e=>n.removeEdge(n._edgeObjs[e]);delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],this.children(e).forEach(function(e){n.setParent(e)}),delete this._children[e]),Object.keys(this._in[e]).forEach(r),delete this._in[e],delete this._preds[e],Object.keys(this._out[e]).forEach(r),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this}setParent(e,n){if(!this._isCompound)throw Error("Cannot set parent in a non-compound graph");if(void 0===n)n="\x00";else{n+="";for(var r=n;void 0!==r;r=this.parent(r))if(r===e)throw Error("Setting "+n+" as parent of "+e+" would create a cycle");this.setNode(n)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=n,this._children[n][e]=!0,this}_removeFromParentsChildList(e){delete this._children[this._parent[e]][e]}parent(e){if(this._isCompound){var n=this._parent[e];if("\x00"!==n)return n}}children(e="\x00"){if(this._isCompound){var n=this._children[e];if(n)return Object.keys(n)}else if("\x00"===e)return this.nodes();else if(this.hasNode(e))return[]}predecessors(e){var n=this._preds[e];if(n)return Object.keys(n)}successors(e){var n=this._sucs[e];if(n)return Object.keys(n)}neighbors(e){var n=this.predecessors(e);if(n){let i=new Set(n);for(var r of this.successors(e))i.add(r);return Array.from(i.values())}}isLeaf(e){var n;return 0===(n=this.isDirected()?this.successors(e):this.neighbors(e)).length}filterNodes(e){var n=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});n.setGraph(this.graph());var r=this;Object.entries(this._nodes).forEach(function([r,i]){e(r)&&n.setNode(r,i)}),Object.values(this._edgeObjs).forEach(function(e){n.hasNode(e.v)&&n.hasNode(e.w)&&n.setEdge(e,r.edge(e))});var i={};return this._isCompound&&n.nodes().forEach(e=>n.setParent(e,function e(o){var a=r.parent(o);return void 0===a||n.hasNode(a)?(i[o]=a,a):a in i?i[a]:e(a)}(e))),n}setDefaultEdgeLabel(e){return this._defaultEdgeLabelFn=e,"function"!=typeof e&&(this._defaultEdgeLabelFn=()=>e),this}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setPath(e,n){var r=this,i=arguments;return e.reduce(function(e,o){return i.length>1?r.setEdge(e,o,n):r.setEdge(e,o),o}),this}setEdge(){var e,n,r,o,s=!1,l=arguments[0];"object"==typeof l&&null!==l&&"v"in l?(e=l.v,n=l.w,r=l.name,2==arguments.length&&(o=arguments[1],s=!0)):(e=l,n=arguments[1],r=arguments[3],arguments.length>2&&(o=arguments[2],s=!0)),e=""+e,n=""+n,void 0!==r&&(r=""+r);var u=a(this._isDirected,e,n,r);if(this._edgeLabels.hasOwnProperty(u))return s&&(this._edgeLabels[u]=o),this;if(void 0!==r&&!this._isMultigraph)throw Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(n),this._edgeLabels[u]=s?o:this._defaultEdgeLabelFn(e,n,r);var c=function(e,n,r,i){var o=""+n,a=""+r;if(!e&&o>a){var s=o;o=a,a=s}var l={v:o,w:a};return i&&(l.name=i),l}(this._isDirected,e,n,r);return e=c.v,n=c.w,Object.freeze(c),this._edgeObjs[u]=c,i(this._preds[n],e),i(this._sucs[e],n),this._in[n][u]=c,this._out[e][u]=c,this._edgeCount++,this}edge(e,n,r){var i=1==arguments.length?s(this._isDirected,arguments[0]):a(this._isDirected,e,n,r);return this._edgeLabels[i]}edgeAsObj(){let e=this.edge(...arguments);return"object"!=typeof e?{label:e}:e}hasEdge(e,n,r){var i=1==arguments.length?s(this._isDirected,arguments[0]):a(this._isDirected,e,n,r);return this._edgeLabels.hasOwnProperty(i)}removeEdge(e,n,r){var i=1==arguments.length?s(this._isDirected,arguments[0]):a(this._isDirected,e,n,r),l=this._edgeObjs[i];return l&&(e=l.v,n=l.w,delete this._edgeLabels[i],delete this._edgeObjs[i],o(this._preds[n],e),o(this._sucs[e],n),delete this._in[n][i],delete this._out[e][i],this._edgeCount--),this}inEdges(e,n){var r=this._in[e];if(r){var i=Object.values(r);return n?i.filter(e=>e.v===n):i}}outEdges(e,n){var r=this._out[e];if(r){var i=Object.values(r);return n?i.filter(e=>e.w===n):i}}nodeEdges(e,n){var r=this.inEdges(e,n);if(r)return r.concat(this.outEdges(e,n))}}},80722:function(e,n,r){e.exports={Graph:r("29955"),version:r("73321")}},19318:function(e,n,r){var i=r("29955");e.exports={write:function(e){var n={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:function(e){return e.nodes().map(function(n){var r=e.node(n),i=e.parent(n),o={v:n};return void 0!==r&&(o.value=r),void 0!==i&&(o.parent=i),o})}(e),edges:function(e){return e.edges().map(function(n){var r=e.edge(n),i={v:n.v,w:n.w};return void 0!==n.name&&(i.name=n.name),void 0!==r&&(i.value=r),i})}(e)};return void 0!==e.graph()&&(n.value=structuredClone(e.graph())),n},read:function(e){var n=new i(e.options).setGraph(e.value);return e.nodes.forEach(function(e){n.setNode(e.v,e.value),e.parent&&n.setParent(e.v,e.parent)}),e.edges.forEach(function(e){n.setEdge({v:e.v,w:e.w,name:e.name},e.value)}),n}}},73321:function(e,n,r){e.exports="2.2.2"},83050:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{HiddenText:function(){return a},LiveRegion:function(){return s},useAnnouncement:function(){return l}});var i=r.ir(r("56144"));let o={display:"none"};function a(e){let{id:n,value:r}=e;return i.default.createElement("div",{id:n,style:o},r)}function s(e){let{id:n,announcement:r,ariaLiveType:o="assertive"}=e;return i.default.createElement("div",{id:n,style:{position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":o,"aria-atomic":!0},r)}function l(){let[e,n]=(0,i.useState)(""),r=(0,i.useCallback)(e=>{null!=e&&n(e)},[]);return{announce:r,announcement:e}}},76784:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{DndContext:function(){return eq},DragOverlay:function(){return ti},KeyboardCode:function(){return m},KeyboardSensor:function(){return ev},MouseSensor:function(){return eS},PointerSensor:function(){return ex},TouchSensor:function(){return eM},TraversalOrder:function(){return w},applyModifiers:function(){return eZ},closestCenter:function(){return H},closestCorners:function(){return W},defaultAnnouncements:function(){return N},defaultCoordinates:function(){return L},defaultDropAnimationSideEffects:function(){return tt},defaultKeyboardCoordinateGetter:function(){return em},defaultScreenReaderInstructions:function(){return j},getClientRect:function(){return Q},getFirstCollision:function(){return $},getScrollableAncestors:function(){return J},rectIntersection:function(){return K},useDndContext:function(){return e2},useDndMonitor:function(){return I},useDraggable:function(){return e1},useDroppable:function(){return e4},useSensor:function(){return A},useSensors:function(){return R}});var i,o,a,s,l,u,c,d,h,f,p,g,y,m,b,_,w,E,x,C,S=r.ir(r("56144")),O=r("48362"),M=r("37866"),P=r("83050");let D=(0,S.createContext)(null);function I(e){let n=(0,S.useContext)(D);(0,S.useEffect)(()=>{if(!n)throw Error("useDndMonitor must be used within a children of <DndContext>");let r=n(e);return r},[e,n])}let j={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},N={onDragStart(e){let{active:n}=e;return"Picked up draggable item "+n.id+"."},onDragOver(e){let{active:n,over:r}=e;return r?"Draggable item "+n.id+" was moved over droppable area "+r.id+".":"Draggable item "+n.id+" is no longer over a droppable area."},onDragEnd(e){let{active:n,over:r}=e;return r?"Draggable item "+n.id+" was dropped over droppable area "+r.id:"Draggable item "+n.id+" was dropped."},onDragCancel(e){let{active:n}=e;return"Dragging was cancelled. Draggable item "+n.id+" was dropped."}};function T(e){let{announcements:n=N,container:r,hiddenTextDescribedById:i,screenReaderInstructions:o=j}=e,{announce:a,announcement:s}=(0,P.useAnnouncement)(),l=(0,M.useUniqueId)("DndLiveRegion"),[u,c]=(0,S.useState)(!1);if((0,S.useEffect)(()=>{c(!0)},[]),I((0,S.useMemo)(()=>({onDragStart(e){let{active:r}=e;a(n.onDragStart({active:r}))},onDragMove(e){let{active:r,over:i}=e;n.onDragMove&&a(n.onDragMove({active:r,over:i}))},onDragOver(e){let{active:r,over:i}=e;a(n.onDragOver({active:r,over:i}))},onDragEnd(e){let{active:r,over:i}=e;a(n.onDragEnd({active:r,over:i}))},onDragCancel(e){let{active:r,over:i}=e;a(n.onDragCancel({active:r,over:i}))}}),[a,n])),!u)return null;let d=S.default.createElement(S.default.Fragment,null,S.default.createElement(P.HiddenText,{id:i,value:o.draggable}),S.default.createElement(P.LiveRegion,{id:l,announcement:s}));return r?(0,O.createPortal)(d,r):d}function k(){}function A(e,n){return(0,S.useMemo)(()=>({sensor:e,options:null!=n?n:{}}),[e,n])}function R(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0,S.useMemo)(()=>[...n].filter(e=>null!=e),[...n])}(i=p||(p={})).DragStart="dragStart",i.DragMove="dragMove",i.DragEnd="dragEnd",i.DragCancel="dragCancel",i.DragOver="dragOver",i.RegisterDroppable="registerDroppable",i.SetDroppableDisabled="setDroppableDisabled",i.UnregisterDroppable="unregisterDroppable";let L=Object.freeze({x:0,y:0});function F(e,n){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function z(e,n){let{data:{value:r}}=e,{data:{value:i}}=n;return r-i}function B(e,n){let{data:{value:r}}=e,{data:{value:i}}=n;return i-r}function V(e){let{left:n,top:r,height:i,width:o}=e;return[{x:n,y:r},{x:n+o,y:r},{x:n,y:r+i},{x:n+o,y:r+i}]}function $(e,n){if(!e||0===e.length)return null;let[r]=e;return n?r[n]:r}function U(e,n,r){return void 0===n&&(n=e.left),void 0===r&&(r=e.top),{x:n+.5*e.width,y:r+.5*e.height}}let H=e=>{let{collisionRect:n,droppableRects:r,droppableContainers:i}=e,o=U(n,n.left,n.top),a=[];for(let e of i){let{id:n}=e,i=r.get(n);if(i){let r=F(U(i),o);a.push({id:n,data:{droppableContainer:e,value:r}})}}return a.sort(z)},W=e=>{let{collisionRect:n,droppableRects:r,droppableContainers:i}=e,o=V(n),a=[];for(let e of i){let{id:n}=e,i=r.get(n);if(i){let r=V(i),s=o.reduce((e,n,i)=>e+F(r[i],n),0),l=Number((s/4).toFixed(4));a.push({id:n,data:{droppableContainer:e,value:l}})}}return a.sort(z)},K=e=>{let{collisionRect:n,droppableRects:r,droppableContainers:i}=e,o=[];for(let e of i){let{id:i}=e,a=r.get(i);if(a){let r=function(e,n){let r=Math.max(n.top,e.top),i=Math.max(n.left,e.left),o=Math.min(n.left+n.width,e.left+e.width),a=Math.min(n.top+n.height,e.top+e.height);if(i<o&&r<a){let s=n.width*n.height,l=e.width*e.height,u=(o-i)*(a-r);return Number((u/(s+l-u)).toFixed(4))}return 0}(a,n);r>0&&o.push({id:i,data:{droppableContainer:e,value:r}})}}return o.sort(B)};function G(e,n){return e&&n?{x:e.left-n.left,y:e.top-n.top}:L}let Y=(o=1,function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((e,n)=>({...e,top:e.top+o*n.y,bottom:e.bottom+o*n.y,left:e.left+o*n.x,right:e.right+o*n.x}),{...e})});function X(e){if(e.startsWith("matrix3d(")){let n=e.slice(9,-1).split(/, /);return{x:+n[12],y:+n[13],scaleX:+n[0],scaleY:+n[5]}}if(e.startsWith("matrix(")){let n=e.slice(7,-1).split(/, /);return{x:+n[4],y:+n[5],scaleX:+n[0],scaleY:+n[3]}}return null}let Z={ignoreTransform:!1};function Q(e,n){void 0===n&&(n=Z);let r=e.getBoundingClientRect();if(n.ignoreTransform){let{transform:n,transformOrigin:i}=(0,M.getWindow)(e).getComputedStyle(e);n&&(r=function(e,n,r){let i=X(n);if(!i)return e;let{scaleX:o,scaleY:a,x:s,y:l}=i,u=e.left-s-(1-o)*parseFloat(r),c=e.top-l-(1-a)*parseFloat(r.slice(r.indexOf(" ")+1)),d=o?e.width/o:e.width,h=a?e.height/a:e.height;return{width:d,height:h,top:c,right:u+d,bottom:c+h,left:u}}(r,n,i))}let{top:i,left:o,width:a,height:s,bottom:l,right:u}=r;return{top:i,left:o,width:a,height:s,bottom:l,right:u}}function q(e){return Q(e,{ignoreTransform:!0})}function J(e,n){let r=[];return e?function i(o){var a,s;if(null!=n&&r.length>=n||!o)return r;if((0,M.isDocument)(o)&&null!=o.scrollingElement&&!r.includes(o.scrollingElement))return r.push(o.scrollingElement),r;if(!(0,M.isHTMLElement)(o)||(0,M.isSVGElement)(o)||r.includes(o))return r;let l=(0,M.getWindow)(e).getComputedStyle(o);return(o!==e&&function(e,n){void 0===n&&(n=(0,M.getWindow)(e).getComputedStyle(e));let r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(e=>{let i=n[e];return"string"==typeof i&&r.test(i)})}(o,l)&&r.push(o),a=o,void 0===(s=l)&&(s=(0,M.getWindow)(a).getComputedStyle(a)),"fixed"===s.position)?r:i(o.parentNode)}(e):r}function ee(e){let[n]=J(e,1);return null!=n?n:null}function et(e){return M.canUseDOM&&e?(0,M.isWindow)(e)?e:(0,M.isNode)(e)?(0,M.isDocument)(e)||e===(0,M.getOwnerDocument)(e).scrollingElement?window:(0,M.isHTMLElement)(e)?e:null:null:null}function en(e){return(0,M.isWindow)(e)?e.scrollX:e.scrollLeft}function er(e){return(0,M.isWindow)(e)?e.scrollY:e.scrollTop}function ei(e){return{x:en(e),y:er(e)}}function eo(e){return!!M.canUseDOM&&!!e&&e===document.scrollingElement}function ea(e){let n={x:0,y:0},r=eo(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},i={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},o=e.scrollTop<=n.y,a=e.scrollLeft<=n.x,s=e.scrollTop>=i.y,l=e.scrollLeft>=i.x;return{isTop:o,isLeft:a,isBottom:s,isRight:l,maxScroll:i,minScroll:n}}(a=g||(g={}))[a.Forward=1]="Forward",a[a.Backward=-1]="Backward";let es={x:.2,y:.2};function el(e){return e.reduce((e,n)=>(0,M.add)(e,ei(n)),L)}function eu(e,n){if(void 0===n&&(n=Q),!e)return;let{top:r,left:i,bottom:o,right:a}=n(e),s=ee(e);s&&(o<=0||a<=0||r>=window.innerHeight||i>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}let ec=[["x",["left","right"],function(e){return e.reduce((e,n)=>e+en(n),0)}],["y",["top","bottom"],function(e){return e.reduce((e,n)=>e+er(n),0)}]];class ed{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;let r=J(n),i=el(r);for(let[n,o,a]of(this.rect={...e},this.width=e.width,this.height=e.height,ec))for(let e of o)Object.defineProperty(this,e,{get:()=>{let o=a(r),s=i[n]-o;return this.rect[e]+s},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class eh{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>{var n;return null==(n=this.target)?void 0:n.removeEventListener(...e)})},this.target=e}add(e,n,r){var i;null==(i=this.target)||i.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function ef(e,n){let r=Math.abs(e.x),i=Math.abs(e.y);return"number"==typeof n?Math.sqrt(r**2+i**2)>n:"x"in n&&"y"in n?r>n.x&&i>n.y:"x"in n?r>n.x:"y"in n&&i>n.y}function ep(e){e.preventDefault()}function eg(e){e.stopPropagation()}(s=y||(y={})).Click="click",s.DragStart="dragstart",s.Keydown="keydown",s.ContextMenu="contextmenu",s.Resize="resize",s.SelectionChange="selectionchange",s.VisibilityChange="visibilitychange",(l=m||(m={})).Space="Space",l.Down="ArrowDown",l.Right="ArrowRight",l.Left="ArrowLeft",l.Up="ArrowUp",l.Esc="Escape",l.Enter="Enter",l.Tab="Tab";let ey={start:[m.Space,m.Enter],cancel:[m.Esc],end:[m.Space,m.Enter,m.Tab]},em=(e,n)=>{let{currentCoordinates:r}=n;switch(e.code){case m.Right:return{...r,x:r.x+25};case m.Left:return{...r,x:r.x-25};case m.Down:return{...r,y:r.y+25};case m.Up:return{...r,y:r.y-25}}};class ev{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;let{event:{target:n}}=e;this.props=e,this.listeners=new eh((0,M.getOwnerDocument)(n)),this.windowListeners=new eh((0,M.getWindow)(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(y.Resize,this.handleCancel),this.windowListeners.add(y.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(y.Keydown,this.handleKeyDown))}handleStart(){let{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&eu(r),n(L)}handleKeyDown(e){if((0,M.isKeyboardEvent)(e)){let{active:n,context:r,options:i}=this.props,{keyboardCodes:o=ey,coordinateGetter:a=em,scrollBehavior:s="smooth"}=i,{code:l}=e;if(o.end.includes(l)){this.handleEnd(e);return}if(o.cancel.includes(l)){this.handleCancel(e);return}let{collisionRect:u}=r.current,c=u?{x:u.left,y:u.top}:L;!this.referenceCoordinates&&(this.referenceCoordinates=c);let d=a(e,{active:n,context:r.current,currentCoordinates:c});if(d){let n=(0,M.subtract)(d,c),i={x:0,y:0},{scrollableAncestors:o}=r.current;for(let r of o){let o=e.code,{isTop:a,isRight:l,isLeft:u,isBottom:c,maxScroll:h,minScroll:f}=ea(r),p=function(e){if(e===document.scrollingElement){let{innerWidth:e,innerHeight:n}=window;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}let{top:n,left:r,right:i,bottom:o}=e.getBoundingClientRect();return{top:n,left:r,right:i,bottom:o,width:e.clientWidth,height:e.clientHeight}}(r),g={x:Math.min(o===m.Right?p.right-p.width/2:p.right,Math.max(o===m.Right?p.left:p.left+p.width/2,d.x)),y:Math.min(o===m.Down?p.bottom-p.height/2:p.bottom,Math.max(o===m.Down?p.top:p.top+p.height/2,d.y))},y=o===m.Right&&!l||o===m.Left&&!u,b=o===m.Down&&!c||o===m.Up&&!a;if(y&&g.x!==d.x){let e=r.scrollLeft+n.x,a=o===m.Right&&e<=h.x||o===m.Left&&e>=f.x;if(a&&!n.y){r.scrollTo({left:e,behavior:s});return}a?i.x=r.scrollLeft-e:i.x=o===m.Right?r.scrollLeft-h.x:r.scrollLeft-f.x,i.x&&r.scrollBy({left:-i.x,behavior:s});break}if(b&&g.y!==d.y){let e=r.scrollTop+n.y,a=o===m.Down&&e<=h.y||o===m.Up&&e>=f.y;if(a&&!n.x){r.scrollTo({top:e,behavior:s});return}a?i.y=r.scrollTop-e:i.y=o===m.Down?r.scrollTop-h.y:r.scrollTop-f.y,i.y&&r.scrollBy({top:-i.y,behavior:s});break}}this.handleMove(e,(0,M.add)((0,M.subtract)(d,this.referenceCoordinates),i))}}}handleMove(e,n){let{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){let{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){let{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function eb(e){return!!(e&&"distance"in e)}function e_(e){return!!(e&&"delay"in e)}ev.activators=[{eventName:"onKeyDown",handler:(e,n,r)=>{let{keyboardCodes:i=ey,onActivation:o}=n,{active:a}=r,{code:s}=e.nativeEvent;if(i.start.includes(s)){let n=a.activatorNode.current;return(!n||e.target===n)&&(e.preventDefault(),null==o||o({event:e.nativeEvent}),!0)}return!1}}];class ew{constructor(e,n,r){var i;void 0===r&&(r=function(e){let{EventTarget:n}=(0,M.getWindow)(e);return e instanceof n?e:(0,M.getOwnerDocument)(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;let{event:o}=e,{target:a}=o;this.props=e,this.events=n,this.document=(0,M.getOwnerDocument)(a),this.documentListeners=new eh(this.document),this.listeners=new eh(r),this.windowListeners=new eh((0,M.getWindow)(a)),this.initialCoordinates=null!=(i=(0,M.getEventCoordinates)(o))?i:L,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){let{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(y.Resize,this.handleCancel),this.windowListeners.add(y.DragStart,ep),this.windowListeners.add(y.VisibilityChange,this.handleCancel),this.windowListeners.add(y.ContextMenu,ep),this.documentListeners.add(y.Keydown,this.handleKeydown),n){if(null!=r&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(e_(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(eb(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){let{active:r,onPending:i}=this.props;i(r,e,this.initialCoordinates,n)}handleStart(){let{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(y.Click,eg,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(y.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;let{activated:r,initialCoordinates:i,props:o}=this,{onMove:a,options:{activationConstraint:s}}=o;if(!i)return;let l=null!=(n=(0,M.getEventCoordinates)(e))?n:L,u=(0,M.subtract)(i,l);if(!r&&s){if(eb(s)){if(null!=s.tolerance&&ef(u,s.tolerance))return this.handleCancel();if(ef(u,s.distance))return this.handleStart()}return e_(s)&&ef(u,s.tolerance)?this.handleCancel():(this.handlePending(s,u),void 0)}e.cancelable&&e.preventDefault(),a(l)}handleEnd(){let{onAbort:e,onEnd:n}=this.props;this.detach(),!this.activated&&e(this.props.active),n()}handleCancel(){let{onAbort:e,onCancel:n}=this.props;this.detach(),!this.activated&&e(this.props.active),n()}handleKeydown(e){e.code===m.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}let eE={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class ex extends ew{constructor(e){let{event:n}=e,r=(0,M.getOwnerDocument)(n.target);super(e,eE,r)}}ex.activators=[{eventName:"onPointerDown",handler:(e,n)=>{let{nativeEvent:r}=e,{onActivation:i}=n;return!!r.isPrimary&&0===r.button&&(null==i||i({event:r}),!0)}}];let eC={move:{name:"mousemove"},end:{name:"mouseup"}};(u=b||(b={}))[u.RightClick=2]="RightClick";class eS extends ew{constructor(e){super(e,eC,(0,M.getOwnerDocument)(e.event.target))}}eS.activators=[{eventName:"onMouseDown",handler:(e,n)=>{let{nativeEvent:r}=e,{onActivation:i}=n;return r.button!==b.RightClick&&(null==i||i({event:r}),!0)}}];let eO={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class eM extends ew{constructor(e){super(e,eO)}static setup(){return window.addEventListener(eO.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(eO.move.name,e)};function e(){}}}eM.activators=[{eventName:"onTouchStart",handler:(e,n)=>{let{nativeEvent:r}=e,{onActivation:i}=n,{touches:o}=r;return!(o.length>1)&&(null==i||i({event:r}),!0)}}],(c=_||(_={}))[c.Pointer=0]="Pointer",c[c.DraggableRect=1]="DraggableRect",(d=w||(w={}))[d.TreeOrder=0]="TreeOrder",d[d.ReversedTreeOrder=1]="ReversedTreeOrder";let eP={x:{[g.Backward]:!1,[g.Forward]:!1},y:{[g.Backward]:!1,[g.Forward]:!1}};(h=E||(E={}))[h.Always=0]="Always",h[h.BeforeDragging=1]="BeforeDragging",h[h.WhileDragging=2]="WhileDragging",(x||(x={})).Optimized="optimized";let eD=new Map;function eI(e,n){return(0,M.useLazyMemo)(r=>e?r?r:"function"==typeof n?n(e):e:null,[n,e])}function ej(e){let{callback:n,disabled:r}=e,i=(0,M.useEvent)(n),o=(0,S.useMemo)(()=>{if(r||"undefined"==typeof window||void 0===window.ResizeObserver)return;let{ResizeObserver:e}=window;return new e(i)},[r]);return(0,S.useEffect)(()=>()=>null==o?void 0:o.disconnect(),[o]),o}function eN(e){return new ed(Q(e),e)}function eT(e,n,r){void 0===n&&(n=eN);let[i,o]=(0,S.useState)(null);function a(){o(i=>{if(!e)return null;if(!1===e.isConnected){var o;return null!=(o=null!=i?i:r)?o:null}let a=n(e);return JSON.stringify(i)===JSON.stringify(a)?i:a})}let s=function(e){let{callback:n,disabled:r}=e,i=(0,M.useEvent)(n),o=(0,S.useMemo)(()=>{if(r||"undefined"==typeof window||void 0===window.MutationObserver)return;let{MutationObserver:e}=window;return new e(i)},[i,r]);return(0,S.useEffect)(()=>()=>null==o?void 0:o.disconnect(),[o]),o}({callback(n){if(e)for(let r of n){let{type:n,target:i}=r;if("childList"===n&&i instanceof HTMLElement&&i.contains(e)){a();break}}}}),l=ej({callback:a});return(0,M.useIsomorphicLayoutEffect)(()=>{a(),e?(null==l||l.observe(e),null==s||s.observe(document.body,{childList:!0,subtree:!0})):(null==l||l.disconnect(),null==s||s.disconnect())},[e]),i}let ek=[];function eA(e,n){void 0===n&&(n=[]);let r=(0,S.useRef)(null);return(0,S.useEffect)(()=>{r.current=null},n),(0,S.useEffect)(()=>{let n=e!==L;n&&!r.current&&(r.current=e),!n&&r.current&&(r.current=null)},[e]),r.current?(0,M.subtract)(e,r.current):L}function eR(e){return(0,S.useMemo)(()=>e?function(e){let n=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:n,bottom:r,width:n,height:r}}(e):null,[e])}let eL=[];function eF(e){if(!e)return null;if(e.children.length>1)return e;let n=e.children[0];return(0,M.isHTMLElement)(n)?n:e}let ez=[{sensor:ex,options:{}},{sensor:ev,options:{}}],eB={current:{}},eV={draggable:{measure:q},droppable:{measure:q,strategy:E.WhileDragging,frequency:x.Optimized},dragOverlay:{measure:Q}};class e$ extends Map{get(e){var n;return null!=e&&null!=(n=super.get(e))?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return null!=(n=null==(r=this.get(e))?void 0:r.node.current)?n:void 0}}let eU={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new e$,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:k},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:eV,measureDroppableContainers:k,windowRect:null,measuringScheduled:!1},eH={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:k,draggableNodes:new Map,over:null,measureDroppableContainers:k},eW=(0,S.createContext)(eH),eK=(0,S.createContext)(eU);function eG(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new e$}}}function eY(e,n){switch(n.type){case p.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:n.initialCoordinates,active:n.active}};case p.DragMove:if(null==e.draggable.active)return e;return{...e,draggable:{...e.draggable,translate:{x:n.coordinates.x-e.draggable.initialCoordinates.x,y:n.coordinates.y-e.draggable.initialCoordinates.y}}};case p.DragEnd:case p.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case p.RegisterDroppable:{let{element:r}=n,{id:i}=r,o=new e$(e.droppable.containers);return o.set(i,r),{...e,droppable:{...e.droppable,containers:o}}}case p.SetDroppableDisabled:{let{id:r,key:i,disabled:o}=n,a=e.droppable.containers.get(r);if(!a||i!==a.key)return e;let s=new e$(e.droppable.containers);return s.set(r,{...a,disabled:o}),{...e,droppable:{...e.droppable,containers:s}}}case p.UnregisterDroppable:{let{id:r,key:i}=n,o=e.droppable.containers.get(r);if(!o||i!==o.key)return e;let a=new e$(e.droppable.containers);return a.delete(r),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function eX(e){let{disabled:n}=e,{active:r,activatorEvent:i,draggableNodes:o}=(0,S.useContext)(eW),a=(0,M.usePrevious)(i),s=(0,M.usePrevious)(null==r?void 0:r.id);return(0,S.useEffect)(()=>{if(!n&&!i&&a&&null!=s){if(!(0,M.isKeyboardEvent)(a)||document.activeElement===a.target)return;let e=o.get(s);if(!e)return;let{activatorNode:n,node:r}=e;if(!!n.current||!!r.current)requestAnimationFrame(()=>{for(let e of[n.current,r.current]){if(!e)continue;let n=(0,M.findFirstFocusableNode)(e);if(n){n.focus();break}}})}},[i,n,o,s,a]),null}function eZ(e,n){let{transform:r,...i}=n;return null!=e&&e.length?e.reduce((e,n)=>n({transform:e,...i}),r):r}let eQ=(0,S.createContext)({...L,scaleX:1,scaleY:1});(f=C||(C={}))[f.Uninitialized=0]="Uninitialized",f[f.Initializing=1]="Initializing",f[f.Initialized=2]="Initialized";let eq=(0,S.memo)(function(e){var n,r,i,o,a,s,l,u,c,d,h;let{id:f,accessibility:y,autoScroll:m=!0,children:b,sensors:x=ez,collisionDetection:P=K,measuring:I,modifiers:j,...N}=e,k=(0,S.useReducer)(eY,void 0,eG),[A,R]=k,[F,z]=function(){let[e]=(0,S.useState)(()=>new Set),n=(0,S.useCallback)(n=>(e.add(n),()=>e.delete(n)),[e]),r=(0,S.useCallback)(n=>{let{type:r,event:i}=n;e.forEach(e=>{var n;return null==(n=e[r])?void 0:n.call(e,i)})},[e]);return[r,n]}(),[B,V]=(0,S.useState)(C.Uninitialized),U=B===C.Initialized,{draggable:{active:H,nodes:W,translate:X},droppable:{containers:Z}}=A,q=null!=H?W.get(H):null,en=(0,S.useRef)({initial:null,translated:null}),er=(0,S.useMemo)(()=>{var e;return null!=H?{id:H,data:null!=(e=null==q?void 0:q.data)?e:eB,rect:en}:null},[H,q]),eu=(0,S.useRef)(null),[ec,eh]=(0,S.useState)(null),[ef,ep]=(0,S.useState)(null),eg=(0,M.useLatestValue)(N,Object.values(N)),ey=(0,M.useUniqueId)("DndDescribedBy",f),em=(0,S.useMemo)(()=>Z.getEnabled(),[Z]);let ev=(a=I,(0,S.useMemo)(()=>({draggable:{...eV.draggable,...null==a?void 0:a.draggable},droppable:{...eV.droppable,...null==a?void 0:a.droppable},dragOverlay:{...eV.dragOverlay,...null==a?void 0:a.dragOverlay}}),[null==a?void 0:a.draggable,null==a?void 0:a.droppable,null==a?void 0:a.dragOverlay])),{droppableRects:eb,measureDroppableContainers:e_,measuringScheduled:ew}=function(e,n){let{dragging:r,dependencies:i,config:o}=n,[a,s]=(0,S.useState)(null),{frequency:l,measure:u,strategy:c}=o,d=(0,S.useRef)(e),h=function(){switch(c){case E.Always:return!1;case E.BeforeDragging:return r;default:return!r}}(),f=(0,M.useLatestValue)(h),p=(0,S.useCallback)(function(e){void 0===e&&(e=[]),!f.current&&s(n=>null===n?e:n.concat(e.filter(e=>!n.includes(e))))},[f]),g=(0,S.useRef)(null),y=(0,M.useLazyMemo)(n=>{if(h&&!r)return eD;if(!n||n===eD||d.current!==e||null!=a){let n=new Map;for(let r of e){if(!r)continue;if(a&&a.length>0&&!a.includes(r.id)&&r.rect.current){n.set(r.id,r.rect.current);continue}let e=r.node.current,i=e?new ed(u(e),e):null;r.rect.current=i,i&&n.set(r.id,i)}return n}return n},[e,a,r,h,u]);return(0,S.useEffect)(()=>{d.current=e},[e]),(0,S.useEffect)(()=>{!h&&p()},[r,h]),(0,S.useEffect)(()=>{a&&a.length>0&&s(null)},[JSON.stringify(a)]),(0,S.useEffect)(()=>{!h&&"number"==typeof l&&null===g.current&&(g.current=setTimeout(()=>{p(),g.current=null},l))},[l,h,p,...i]),{droppableRects:y,measureDroppableContainers:p,measuringScheduled:null!=a}}(em,{dragging:U,dependencies:[X.x,X.y],config:ev.droppable}),eE=function(e,n){let r=null!=n?e.get(n):void 0,i=r?r.node.current:null;return(0,M.useLazyMemo)(e=>{var r;return null==n?null:null!=(r=null!=i?i:e)?r:null},[i,n])}(W,H),ex=(0,S.useMemo)(()=>ef?(0,M.getEventCoordinates)(ef):null,[ef]),eC=function(){let e=(null==ec?void 0:ec.autoScrollEnabled)===!1,n="object"==typeof m?!1===m.enabled:!1===m,r=U&&!e&&!n;return"object"==typeof m?{...m,enabled:r}:{enabled:r}}(),eS=eI(eE,ev.draggable.measure);!function(e){let{activeNode:n,measure:r,initialRect:i,config:o=!0}=e,a=(0,S.useRef)(!1),{x:s,y:l}="boolean"==typeof o?{x:o,y:o}:o;(0,M.useIsomorphicLayoutEffect)(()=>{let e=!s&&!l;if(e||!n){a.current=!1;return}if(a.current||!i)return;let o=null==n?void 0:n.node.current;if(!o||!1===o.isConnected)return;let u=r(o),c=G(u,i);if(!s&&(c.x=0),!l&&(c.y=0),a.current=!0,Math.abs(c.x)>0||Math.abs(c.y)>0){let e=ee(o);e&&e.scrollBy({top:c.y,left:c.x})}},[n,s,l,i,r])}({activeNode:null!=H?W.get(H):null,config:eC.layoutShiftCompensation,initialRect:eS,measure:ev.draggable.measure});let eO=eT(eE,ev.draggable.measure,eS),eM=eT(eE?eE.parentElement:null),eN=(0,S.useRef)({activatorEvent:null,active:null,activeNode:eE,collisionRect:null,collisions:null,droppableRects:eb,draggableNodes:W,draggingNode:null,draggingNodeRect:null,droppableContainers:Z,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),e$=Z.getNodeFor(null==(n=eN.current.over)?void 0:n.id),eU=function(e){let{measure:n}=e,[r,i]=(0,S.useState)(null),o=(0,S.useCallback)(e=>{for(let{target:r}of e)if((0,M.isHTMLElement)(r)){i(e=>{let i=n(r);return e?{...e,width:i.width,height:i.height}:i});break}},[n]),a=ej({callback:o}),s=(0,S.useCallback)(e=>{let r=eF(e);null==a||a.disconnect(),r&&(null==a||a.observe(r)),i(r?n(r):null)},[n,a]),[l,u]=(0,M.useNodeRef)(s);return(0,S.useMemo)(()=>({nodeRef:l,rect:r,setRef:u}),[r,l,u])}({measure:ev.dragOverlay.measure}),eH=null!=(r=eU.nodeRef.current)?r:eE,eq=U?null!=(i=eU.rect)?i:eO:null,eJ=!!(eU.nodeRef.current&&eU.rect),e0=function(e){let n=eI(e);return G(e,n)}(eJ?null:eO),e1=eR(eH?(0,M.getWindow)(eH):null),e2=function(e){let n=(0,S.useRef)(e),r=(0,M.useLazyMemo)(r=>e?r&&r!==ek&&e&&n.current&&e.parentNode===n.current.parentNode?r:J(e):ek,[e]);return(0,S.useEffect)(()=>{n.current=e},[e]),r}(U?null!=e$?e$:eE:null),e3=function(e,n){void 0===n&&(n=Q);let[r]=e,i=eR(r?(0,M.getWindow)(r):null),[o,a]=(0,S.useState)(eL);function s(){a(()=>e.length?e.map(e=>eo(e)?i:new ed(n(e),e)):eL)}let l=ej({callback:s});return(0,M.useIsomorphicLayoutEffect)(()=>{null==l||l.disconnect(),s(),e.forEach(e=>null==l?void 0:l.observe(e))},[e]),o}(e2),e4=eZ(j,{transform:{x:X.x-e0.x,y:X.y-e0.y,scaleX:1,scaleY:1},activatorEvent:ef,active:er,activeNodeRect:eO,containerNodeRect:eM,draggingNodeRect:eq,over:eN.current.over,overlayNodeRect:eU.rect,scrollableAncestors:e2,scrollableAncestorRects:e3,windowRect:e1}),e5=ex?(0,M.add)(ex,X):null,e6=function(e){let[n,r]=(0,S.useState)(null),i=(0,S.useRef)(e),o=(0,S.useCallback)(e=>{let n=et(e.target);n&&r(e=>e?(e.set(n,ei(n)),new Map(e)):null)},[]);return(0,S.useEffect)(()=>{let n=i.current;if(e!==n){a(n);let s=e.map(e=>{let n=et(e);return n?(n.addEventListener("scroll",o,{passive:!0}),[n,ei(n)]):null}).filter(e=>null!=e);r(s.length?new Map(s):null),i.current=e}return()=>{a(e),a(n)};function a(e){e.forEach(e=>{let n=et(e);null==n||n.removeEventListener("scroll",o)})}},[o,e]),(0,S.useMemo)(()=>e.length?n?Array.from(n.values()).reduce((e,n)=>(0,M.add)(e,n),L):el(e):L,[e,n])}(e2),e8=eA(e6),e9=eA(e6,[eO]),e7=(0,M.add)(e4,e8),te=eq?Y(eq,e4):null,tt=er&&te?P({active:er,collisionRect:te,droppableRects:eb,droppableContainers:em,pointerCoordinates:e5}):null,tn=$(tt,"id"),[tr,ti]=(0,S.useState)(null),to=eJ?e4:(0,M.add)(e4,e9);let ta=(s=to,l=null!=(o=null==tr?void 0:tr.rect)?o:null,u=eO,{...s,scaleX:l&&u?l.width/u.width:1,scaleY:l&&u?l.height/u.height:1}),ts=(0,S.useRef)(null),tl=(0,S.useCallback)((e,n)=>{let{sensor:r,options:i}=n;if(null==eu.current)return;let o=W.get(eu.current);if(!o)return;let a=e.nativeEvent,s=new r({active:eu.current,activeNode:o,event:a,options:i,context:eN,onAbort(e){let n=W.get(e);if(!n)return;let{onDragAbort:r}=eg.current,i={id:e};null==r||r(i),F({type:"onDragAbort",event:i})},onPending(e,n,r,i){let o=W.get(e);if(!o)return;let{onDragPending:a}=eg.current,s={id:e,constraint:n,initialCoordinates:r,offset:i};null==a||a(s),F({type:"onDragPending",event:s})},onStart(e){let n=eu.current;if(null==n)return;let r=W.get(n);if(!r)return;let{onDragStart:i}=eg.current,o={activatorEvent:a,active:{id:n,data:r.data,rect:en}};(0,O.unstable_batchedUpdates)(()=>{null==i||i(o),V(C.Initializing),R({type:p.DragStart,initialCoordinates:e,active:n}),F({type:"onDragStart",event:o}),eh(ts.current),ep(a)})},onMove(e){R({type:p.DragMove,coordinates:e})},onEnd:l(p.DragEnd),onCancel:l(p.DragCancel)});function l(e){return async function(){let{active:n,collisions:r,over:i,scrollAdjustedTranslate:o}=eN.current,s=null;if(n&&o){let{cancelDrop:l}=eg.current;if(s={activatorEvent:a,active:n,collisions:r,delta:o,over:i},e===p.DragEnd&&"function"==typeof l){let n=await Promise.resolve(l(s));n&&(e=p.DragCancel)}}eu.current=null,(0,O.unstable_batchedUpdates)(()=>{R({type:e}),V(C.Uninitialized),ti(null),eh(null),ep(null),ts.current=null;let n=e===p.DragEnd?"onDragEnd":"onDragCancel";if(s){let e=eg.current[n];null==e||e(s),F({type:n,event:s})}})}}ts.current=s},[W]),tu=(0,S.useCallback)((e,n)=>(r,i)=>{let o=r.nativeEvent,a=W.get(i);if(null!==eu.current||!a||o.dndKit||o.defaultPrevented)return;let s=e(r,n.options,{active:a});!0===s&&(o.dndKit={capturedBy:n.sensor},eu.current=i,tl(r,n))},[W,tl]);let tc=(c=x,d=tu,(0,S.useMemo)(()=>c.reduce((e,n)=>{let{sensor:r}=n,i=r.activators.map(e=>({eventName:e.eventName,handler:d(e.handler,n)}));return[...e,...i]},[]),[c,d]));h=x,(0,S.useEffect)(()=>{if(!M.canUseDOM)return;let e=h.map(e=>{let{sensor:n}=e;return null==n.setup?void 0:n.setup()});return()=>{for(let n of e)null==n||n()}},h.map(e=>{let{sensor:n}=e;return n})),(0,M.useIsomorphicLayoutEffect)(()=>{eO&&B===C.Initializing&&V(C.Initialized)},[eO,B]),(0,S.useEffect)(()=>{let{onDragMove:e}=eg.current,{active:n,activatorEvent:r,collisions:i,over:o}=eN.current;if(!n||!r)return;let a={active:n,activatorEvent:r,collisions:i,delta:{x:e7.x,y:e7.y},over:o};(0,O.unstable_batchedUpdates)(()=>{null==e||e(a),F({type:"onDragMove",event:a})})},[e7.x,e7.y]),(0,S.useEffect)(()=>{let{active:e,activatorEvent:n,collisions:r,droppableContainers:i,scrollAdjustedTranslate:o}=eN.current;if(!e||null==eu.current||!n||!o)return;let{onDragOver:a}=eg.current,s=i.get(tn),l=s&&s.rect.current?{id:s.id,rect:s.rect.current,data:s.data,disabled:s.disabled}:null,u={active:e,activatorEvent:n,collisions:r,delta:{x:o.x,y:o.y},over:l};(0,O.unstable_batchedUpdates)(()=>{ti(l),null==a||a(u),F({type:"onDragOver",event:u})})},[tn]),(0,M.useIsomorphicLayoutEffect)(()=>{eN.current={activatorEvent:ef,active:er,activeNode:eE,collisionRect:te,collisions:tt,droppableRects:eb,draggableNodes:W,draggingNode:eH,draggingNodeRect:eq,droppableContainers:Z,over:tr,scrollableAncestors:e2,scrollAdjustedTranslate:e7},en.current={initial:eq,translated:te}},[er,eE,tt,te,W,eH,eq,eb,Z,tr,e2,e7]),!function(e){let{acceleration:n,activator:r=_.Pointer,canScroll:i,draggingRect:o,enabled:a,interval:s=5,order:l=w.TreeOrder,pointerCoordinates:u,scrollableAncestors:c,scrollableAncestorRects:d,delta:h,threshold:f}=e,p=function(e){let{delta:n,disabled:r}=e,i=(0,M.usePrevious)(n);return(0,M.useLazyMemo)(e=>{if(r||!i||!e)return eP;let o={x:Math.sign(n.x-i.x),y:Math.sign(n.y-i.y)};return{x:{[g.Backward]:e.x[g.Backward]||-1===o.x,[g.Forward]:e.x[g.Forward]||1===o.x},y:{[g.Backward]:e.y[g.Backward]||-1===o.y,[g.Forward]:e.y[g.Forward]||1===o.y}}},[r,n,i])}({delta:h,disabled:!a}),[y,m]=(0,M.useInterval)(),b=(0,S.useRef)({x:0,y:0}),E=(0,S.useRef)({x:0,y:0}),x=(0,S.useMemo)(()=>{switch(r){case _.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case _.DraggableRect:return o}},[r,o,u]),C=(0,S.useRef)(null),O=(0,S.useCallback)(()=>{let e=C.current;if(!e)return;let n=b.current.x*E.current.x,r=b.current.y*E.current.y;e.scrollBy(n,r)},[]),P=(0,S.useMemo)(()=>l===w.TreeOrder?[...c].reverse():c,[l,c]);(0,S.useEffect)(()=>{if(!a||!c.length||!x){m();return}for(let e of P){if((null==i?void 0:i(e))===!1)continue;let r=c.indexOf(e),o=d[r];if(!o)continue;let{direction:a,speed:l}=function(e,n,r,i,o){let{top:a,left:s,right:l,bottom:u}=r;void 0===i&&(i=10),void 0===o&&(o=es);let{isTop:c,isBottom:d,isLeft:h,isRight:f}=ea(e),p={x:0,y:0},y={x:0,y:0},m={height:n.height*o.y,width:n.width*o.x};return!c&&a<=n.top+m.height?(p.y=g.Backward,y.y=i*Math.abs((n.top+m.height-a)/m.height)):!d&&u>=n.bottom-m.height&&(p.y=g.Forward,y.y=i*Math.abs((n.bottom-m.height-u)/m.height)),!f&&l>=n.right-m.width?(p.x=g.Forward,y.x=i*Math.abs((n.right-m.width-l)/m.width)):!h&&s<=n.left+m.width&&(p.x=g.Backward,y.x=i*Math.abs((n.left+m.width-s)/m.width)),{direction:p,speed:y}}(e,o,x,n,f);for(let e of["x","y"])!p[e][a[e]]&&(l[e]=0,a[e]=0);if(l.x>0||l.y>0){m(),C.current=e,y(O,s),b.current=l,E.current=a;return}}b.current={x:0,y:0},E.current={x:0,y:0},m()},[n,O,i,m,a,s,JSON.stringify(x),JSON.stringify(p),y,c,P,d,JSON.stringify(f)])}({...eC,delta:X,draggingRect:te,pointerCoordinates:e5,scrollableAncestors:e2,scrollableAncestorRects:e3});let td=(0,S.useMemo)(()=>({active:er,activeNode:eE,activeNodeRect:eO,activatorEvent:ef,collisions:tt,containerNodeRect:eM,dragOverlay:eU,draggableNodes:W,droppableContainers:Z,droppableRects:eb,over:tr,measureDroppableContainers:e_,scrollableAncestors:e2,scrollableAncestorRects:e3,measuringConfiguration:ev,measuringScheduled:ew,windowRect:e1}),[er,eE,eO,ef,tt,eM,eU,W,Z,eb,tr,e_,e2,e3,ev,ew,e1]),th=(0,S.useMemo)(()=>({activatorEvent:ef,activators:tc,active:er,activeNodeRect:eO,ariaDescribedById:{draggable:ey},dispatch:R,draggableNodes:W,over:tr,measureDroppableContainers:e_}),[ef,tc,er,eO,R,ey,W,tr,e_]);return S.default.createElement(D.Provider,{value:z},S.default.createElement(eW.Provider,{value:th},S.default.createElement(eK.Provider,{value:td},S.default.createElement(eQ.Provider,{value:ta},b)),S.default.createElement(eX,{disabled:(null==y?void 0:y.restoreFocus)===!1})),S.default.createElement(T,{...y,hiddenTextDescribedById:ey}))}),eJ=(0,S.createContext)(null),e0="button";function e1(e){var n,r;let{id:i,data:o,disabled:a=!1,attributes:s}=e,l=(0,M.useUniqueId)("Draggable"),{activators:u,activatorEvent:c,active:d,activeNodeRect:h,ariaDescribedById:f,draggableNodes:p,over:g}=(0,S.useContext)(eW),{role:y=e0,roleDescription:m="draggable",tabIndex:b=0}=null!=s?s:{},_=(null==d?void 0:d.id)===i,w=(0,S.useContext)(_?eQ:eJ),[E,x]=(0,M.useNodeRef)(),[C,O]=(0,M.useNodeRef)();let P=(n=u,r=i,(0,S.useMemo)(()=>n.reduce((e,n)=>{let{eventName:i,handler:o}=n;return e[i]=e=>{o(e,r)},e},{}),[n,r])),D=(0,M.useLatestValue)(o);(0,M.useIsomorphicLayoutEffect)(()=>(p.set(i,{id:i,key:l,node:E,activatorNode:C,data:D}),()=>{let e=p.get(i);e&&e.key===l&&p.delete(i)}),[p,i]);let I=(0,S.useMemo)(()=>({role:y,tabIndex:b,"aria-disabled":a,"aria-pressed":!!_&&y===e0||void 0,"aria-roledescription":m,"aria-describedby":f.draggable}),[a,y,b,_,m,f.draggable]);return{active:d,activatorEvent:c,activeNodeRect:h,attributes:I,isDragging:_,listeners:a?void 0:P,node:E,over:g,setNodeRef:x,setActivatorNodeRef:O,transform:w}}function e2(){return(0,S.useContext)(eK)}let e3={timeout:25};function e4(e){let{data:n,disabled:r=!1,id:i,resizeObserverConfig:o}=e,a=(0,M.useUniqueId)("Droppable"),{active:s,dispatch:l,over:u,measureDroppableContainers:c}=(0,S.useContext)(eW),d=(0,S.useRef)({disabled:r}),h=(0,S.useRef)(!1),f=(0,S.useRef)(null),g=(0,S.useRef)(null),{disabled:y,updateMeasurementsFor:m,timeout:b}={...e3,...o},_=(0,M.useLatestValue)(null!=m?m:i),w=(0,S.useCallback)(()=>{if(!h.current){h.current=!0;return}null!=g.current&&clearTimeout(g.current),g.current=setTimeout(()=>{c(Array.isArray(_.current)?_.current:[_.current]),g.current=null},b)},[b]),E=ej({callback:w,disabled:y||!s}),x=(0,S.useCallback)((e,n)=>{E&&(n&&(E.unobserve(n),h.current=!1),e&&E.observe(e))},[E]),[C,O]=(0,M.useNodeRef)(x),P=(0,M.useLatestValue)(n);return(0,S.useEffect)(()=>{E&&C.current&&(E.disconnect(),h.current=!1,E.observe(C.current))},[C,E]),(0,S.useEffect)(()=>(l({type:p.RegisterDroppable,element:{id:i,key:a,disabled:r,node:C,rect:f,data:P}}),()=>l({type:p.UnregisterDroppable,key:a,id:i})),[i]),(0,S.useEffect)(()=>{r!==d.current.disabled&&(l({type:p.SetDroppableDisabled,id:i,key:a,disabled:r}),d.current.disabled=r)},[i,a,r,l]),{active:s,rect:f,isOver:(null==u?void 0:u.id)===i,node:C,over:u,setNodeRef:O}}function e5(e){let{animation:n,children:r}=e,[i,o]=(0,S.useState)(null),[a,s]=(0,S.useState)(null),l=(0,M.usePrevious)(r);return!r&&!i&&l&&o(l),(0,M.useIsomorphicLayoutEffect)(()=>{if(!a)return;let e=null==i?void 0:i.key,r=null==i?void 0:i.props.id;if(null==e||null==r){o(null);return}Promise.resolve(n(r,a)).then(()=>{o(null)})},[n,i,a]),S.default.createElement(S.default.Fragment,null,r,i?(0,S.cloneElement)(i,{ref:s}):null)}let e6={x:0,y:0,scaleX:1,scaleY:1};function e8(e){let{children:n}=e;return S.default.createElement(eW.Provider,{value:eH},S.default.createElement(eQ.Provider,{value:e6},n))}let e9={position:"fixed",touchAction:"none"},e7=e=>{let n=(0,M.isKeyboardEvent)(e);return n?"transform 250ms ease":void 0},te=(0,S.forwardRef)((e,n)=>{let{as:r,activatorEvent:i,adjustScale:o,children:a,className:s,rect:l,style:u,transform:c,transition:d=e7}=e;if(!l)return null;let h=o?c:{...c,scaleX:1,scaleY:1},f={...e9,width:l.width,height:l.height,top:l.top,left:l.left,transform:M.CSS.Transform.toString(h),transformOrigin:o&&i?function(e,n){let r=(0,M.getEventCoordinates)(e);if(!r)return"0 0";let i={x:(r.x-n.left)/n.width*100,y:(r.y-n.top)/n.height*100};return i.x+"% "+i.y+"%"}(i,l):void 0,transition:"function"==typeof d?d(i):d,...u};return S.default.createElement(r,{className:s,style:f,ref:n},a)}),tt=e=>n=>{let{active:r,dragOverlay:i}=n,o={},{styles:a,className:s}=e;if(null!=a&&a.active)for(let[e,n]of Object.entries(a.active))void 0!==n&&(o[e]=r.node.style.getPropertyValue(e),r.node.style.setProperty(e,n));if(null!=a&&a.dragOverlay)for(let[e,n]of Object.entries(a.dragOverlay))void 0!==n&&i.node.style.setProperty(e,n);return null!=s&&s.active&&r.node.classList.add(s.active),null!=s&&s.dragOverlay&&i.node.classList.add(s.dragOverlay),function(){for(let[e,n]of Object.entries(o))r.node.style.setProperty(e,n);null!=s&&s.active&&r.node.classList.remove(s.active)}},tn={duration:250,easing:"ease",keyframes:e=>{let{transform:{initial:n,final:r}}=e;return[{transform:M.CSS.Transform.toString(n)},{transform:M.CSS.Transform.toString(r)}]},sideEffects:tt({styles:{active:{opacity:"0"}}})},tr=0,ti=S.default.memo(e=>{var n;let{adjustScale:r=!1,children:i,dropAnimation:o,style:a,transition:s,modifiers:l,wrapperElement:u="div",className:c,zIndex:d=999}=e,{activatorEvent:h,active:f,activeNodeRect:p,containerNodeRect:g,draggableNodes:y,droppableContainers:m,dragOverlay:b,over:_,measuringConfiguration:w,scrollableAncestors:E,scrollableAncestorRects:x,windowRect:C}=e2(),O=(0,S.useContext)(eQ);let P=(n=null==f?void 0:f.id,(0,S.useMemo)(()=>{if(null!=n)return++tr},[n])),D=eZ(l,{activatorEvent:h,active:f,activeNodeRect:p,containerNodeRect:g,draggingNodeRect:b.rect,over:_,overlayNodeRect:b.rect,scrollableAncestors:E,scrollableAncestorRects:x,transform:O,windowRect:C}),I=eI(p),j=function(e){let{config:n,draggableNodes:r,droppableContainers:i,measuringConfiguration:o}=e;return(0,M.useEvent)((e,a)=>{if(null===n)return;let s=r.get(e);if(!s)return;let l=s.node.current;if(!l)return;let u=eF(a);if(!u)return;let{transform:c}=(0,M.getWindow)(a).getComputedStyle(a),d=X(c);if(!d)return;let h="function"==typeof n?n:function(e){let{duration:n,easing:r,sideEffects:i,keyframes:o}={...tn,...e};return e=>{let{active:a,dragOverlay:s,transform:l,...u}=e;if(!n)return;let c={x:s.rect.left-a.rect.left,y:s.rect.top-a.rect.top},d={scaleX:1!==l.scaleX?a.rect.width*l.scaleX/s.rect.width:1,scaleY:1!==l.scaleY?a.rect.height*l.scaleY/s.rect.height:1},h={x:l.x-c.x,y:l.y-c.y,...d},f=o({...u,active:a,dragOverlay:s,transform:{initial:l,final:h}}),[p]=f,g=f[f.length-1];if(JSON.stringify(p)===JSON.stringify(g))return;let y=null==i?void 0:i({active:a,dragOverlay:s,...u}),m=s.node.animate(f,{duration:n,easing:r,fill:"forwards"});return new Promise(e=>{m.onfinish=()=>{null==y||y(),e()}})}}(n);return eu(l,o.draggable.measure),h({active:{id:e,data:s.data,node:l,rect:o.draggable.measure(l)},draggableNodes:r,dragOverlay:{node:a,rect:o.dragOverlay.measure(u)},droppableContainers:i,measuringConfiguration:o,transform:d})})}({config:o,draggableNodes:y,droppableContainers:m,measuringConfiguration:w}),N=I?b.setRef:void 0;return S.default.createElement(e8,null,S.default.createElement(e5,{animation:j},f&&P?S.default.createElement(te,{key:P,id:f.id,ref:N,as:u,activatorEvent:h,adjustScale:r,className:c,transition:s,rect:I,style:{zIndex:d,...a},transform:D},i):null))})},15414:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{SortableContext:function(){return h},arrayMove:function(){return s},defaultAnimateLayoutChanges:function(){return p},defaultNewIndexGetter:function(){return f},hasSortableData:function(){return w},rectSortingStrategy:function(){return u},sortableKeyboardCoordinates:function(){return x},useSortable:function(){return _}});var i=r.ir(r("56144")),o=r("76784"),a=r("37866");function s(e,n,r){let i=e.slice();return i.splice(r<0?i.length+r:r,0,i.splice(n,1)[0]),i}function l(e){return null!==e&&e>=0}let u=e=>{let{rects:n,activeIndex:r,overIndex:i,index:o}=e,a=s(n,i,r),l=n[o],u=a[o];return u&&l?{x:u.left-l.left,y:u.top-l.top,scaleX:u.width/l.width,scaleY:u.height/l.height}:null},c="Sortable",d=i.default.createContext({activeIndex:-1,containerId:c,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:u,disabled:{draggable:!1,droppable:!1}});function h(e){var n;let{children:r,id:s,items:l,strategy:h=u,disabled:f=!1}=e,{active:p,dragOverlay:g,droppableRects:y,over:m,measureDroppableContainers:b}=(0,o.useDndContext)(),_=(0,a.useUniqueId)(c,s),w=null!==g.rect,E=(0,i.useMemo)(()=>l.map(e=>"object"==typeof e&&"id"in e?e.id:e),[l]),x=null!=p,C=p?E.indexOf(p.id):-1,S=m?E.indexOf(m.id):-1,O=(0,i.useRef)(E),M=!function(e,n){if(e===n)return!0;if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==n[r])return!1;return!0}(E,O.current),P=-1!==S&&-1===C||M;let D="boolean"==typeof(n=f)?{draggable:n,droppable:n}:n;(0,a.useIsomorphicLayoutEffect)(()=>{M&&x&&b(E)},[M,E,x,b]),(0,i.useEffect)(()=>{O.current=E},[E]);let I=(0,i.useMemo)(()=>{var e,n;return{activeIndex:C,containerId:_,disabled:D,disableTransforms:P,items:E,overIndex:S,useDragOverlay:w,sortedRects:(e=E,n=y,e.reduce((e,r,i)=>{let o=n.get(r);return o&&(e[i]=o),e},Array(e.length))),strategy:h}},[C,_,D.draggable,D.droppable,P,E,S,y,w,h]);return i.default.createElement(d.Provider,{value:I},r)}let f=e=>{let{id:n,items:r,activeIndex:i,overIndex:o}=e;return s(r,i,o).indexOf(n)},p=e=>{let{containerId:n,isSorting:r,wasDragging:i,index:o,items:a,newIndex:s,previousItems:l,previousContainerId:u,transition:c}=e;return!!c&&!!i&&(l===a||o!==s)&&(!!r||s!==o&&n===u)},g={duration:200,easing:"ease"},y="transform",m=a.CSS.Transition.toString({property:y,duration:0,easing:"linear"}),b={roleDescription:"sortable"};function _(e){let{animateLayoutChanges:n=p,attributes:r,disabled:s,data:u,getNewIndex:c=f,id:h,strategy:_,resizeObserverConfig:w,transition:E=g}=e,{items:x,containerId:C,activeIndex:S,disabled:O,disableTransforms:M,sortedRects:P,overIndex:D,useDragOverlay:I,strategy:j}=(0,i.useContext)(d),N=function(e,n){var r,i;return"boolean"==typeof e?{draggable:e,droppable:!1}:{draggable:null!=(r=null==e?void 0:e.draggable)?r:n.draggable,droppable:null!=(i=null==e?void 0:e.droppable)?i:n.droppable}}(s,O),T=x.indexOf(h),k=(0,i.useMemo)(()=>({sortable:{containerId:C,index:T,items:x},...u}),[C,u,T,x]),A=(0,i.useMemo)(()=>x.slice(x.indexOf(h)),[x,h]),{rect:R,node:L,isOver:F,setNodeRef:z}=(0,o.useDroppable)({id:h,data:k,disabled:N.droppable,resizeObserverConfig:{updateMeasurementsFor:A,...w}}),{active:B,activatorEvent:V,activeNodeRect:$,attributes:U,setNodeRef:H,listeners:W,isDragging:K,over:G,setActivatorNodeRef:Y,transform:X}=(0,o.useDraggable)({id:h,data:k,attributes:{...b,...r},disabled:N.draggable}),Z=(0,a.useCombinedRefs)(z,H),Q=!!B,q=Q&&!M&&l(S)&&l(D),J=!I&&K,ee=J&&q?X:null,et=q?null!=ee?ee:(null!=_?_:j)({rects:P,activeNodeRect:$,activeIndex:S,overIndex:D,index:T}):null,en=l(S)&&l(D)?c({id:h,items:x,activeIndex:S,overIndex:D}):T,er=null==B?void 0:B.id,ei=(0,i.useRef)({activeId:er,items:x,newIndex:en,containerId:C}),eo=x!==ei.current.items,ea=n({active:B,containerId:C,isDragging:K,isSorting:Q,id:h,index:T,items:x,newIndex:ei.current.newIndex,previousItems:ei.current.items,previousContainerId:ei.current.containerId,transition:E,wasDragging:null!=ei.current.activeId}),es=function(e){let{disabled:n,index:r,node:s,rect:l}=e,[u,c]=(0,i.useState)(null),d=(0,i.useRef)(r);return(0,a.useIsomorphicLayoutEffect)(()=>{if(!n&&r!==d.current&&s.current){let e=l.current;if(e){let n=(0,o.getClientRect)(s.current,{ignoreTransform:!0}),r={x:e.left-n.left,y:e.top-n.top,scaleX:e.width/n.width,scaleY:e.height/n.height};(r.x||r.y)&&c(r)}}r!==d.current&&(d.current=r)},[n,r,s,l]),(0,i.useEffect)(()=>{u&&c(null)},[u]),u}({disabled:!ea,index:T,node:L,rect:R});return(0,i.useEffect)(()=>{Q&&ei.current.newIndex!==en&&(ei.current.newIndex=en),C!==ei.current.containerId&&(ei.current.containerId=C),x!==ei.current.items&&(ei.current.items=x)},[Q,en,C,x]),(0,i.useEffect)(()=>{if(er===ei.current.activeId)return;if(er&&!ei.current.activeId){ei.current.activeId=er;return}let e=setTimeout(()=>{ei.current.activeId=er},50);return()=>clearTimeout(e)},[er]),{active:B,activeIndex:S,attributes:U,data:k,rect:R,index:T,newIndex:en,items:x,isOver:F,isSorting:Q,isDragging:K,listeners:W,node:L,overIndex:D,over:G,setNodeRef:Z,setActivatorNodeRef:Y,setDroppableNodeRef:z,setDraggableNodeRef:H,transform:null!=es?es:et,transition:function(){return es||eo&&ei.current.newIndex===T?m:(!J||(0,a.isKeyboardEvent)(V))&&E&&(Q||ea)?a.CSS.Transition.toString({...E,property:y}):void 0}()}}function w(e){if(!e)return!1;let n=e.data.current;return!!n&&"sortable"in n&&"object"==typeof n.sortable&&"containerId"in n.sortable&&"items"in n.sortable&&"index"in n.sortable||!1}let E=[o.KeyboardCode.Down,o.KeyboardCode.Right,o.KeyboardCode.Up,o.KeyboardCode.Left],x=(e,n)=>{let{context:{active:r,collisionRect:i,droppableRects:s,droppableContainers:l,over:u,scrollableAncestors:c}}=n;if(E.includes(e.code)){if(e.preventDefault(),!r||!i)return;let n=[];l.getEnabled().forEach(r=>{if(!r||null!=r&&r.disabled)return;let a=s.get(r.id);if(a)switch(e.code){case o.KeyboardCode.Down:i.top<a.top&&n.push(r);break;case o.KeyboardCode.Up:i.top>a.top&&n.push(r);break;case o.KeyboardCode.Left:i.left>a.left&&n.push(r);break;case o.KeyboardCode.Right:i.left<a.left&&n.push(r)}});let d=(0,o.closestCorners)({active:r,collisionRect:i,droppableRects:s,droppableContainers:n,pointerCoordinates:null}),h=(0,o.getFirstCollision)(d,"id");if(h===(null==u?void 0:u.id)&&d.length>1&&(h=d[1].id),null!=h){let e=l.get(r.id),n=l.get(h),u=n?s.get(n.id):null,d=null==n?void 0:n.node.current;if(d&&u&&e&&n){let r=(0,o.getScrollableAncestors)(d),s=r.some((e,n)=>c[n]!==e),l=C(e,n),h=function(e,n){return!!(w(e)&&w(n)&&C(e,n))&&e.data.current.sortable.index<n.data.current.sortable.index}(e,n),f=s||!l?{x:0,y:0}:{x:h?i.width-u.width:0,y:h?i.height-u.height:0},p={x:u.left,y:u.top},g=f.x&&f.y?p:(0,a.subtract)(p,f);return g}}}};function C(e,n){return!!(w(e)&&w(n))&&e.data.current.sortable.containerId===n.data.current.sortable.containerId}},37866:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{CSS:function(){return j},add:function(){return S},canUseDOM:function(){return a},findFirstFocusableNode:function(){return T},getEventCoordinates:function(){return I},getOwnerDocument:function(){return f},getWindow:function(){return u},hasViewportRelativeCoordinates:function(){return M},isDocument:function(){return c},isHTMLElement:function(){return d},isKeyboardEvent:function(){return P},isNode:function(){return l},isSVGElement:function(){return h},isTouchEvent:function(){return D},isWindow:function(){return s},subtract:function(){return O},useCombinedRefs:function(){return o},useEvent:function(){return g},useInterval:function(){return y},useIsomorphicLayoutEffect:function(){return p},useLatestValue:function(){return m},useLazyMemo:function(){return b},useNodeRef:function(){return _},usePrevious:function(){return w},useUniqueId:function(){return x}});var i=r("56144");function o(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0,i.useMemo)(()=>e=>{n.forEach(n=>n(e))},n)}let a="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function s(e){let n=Object.prototype.toString.call(e);return"[object Window]"===n||"[object global]"===n}function l(e){return"nodeType"in e}function u(e){var n,r;return e?s(e)?e:l(e)?null!=(n=null==(r=e.ownerDocument)?void 0:r.defaultView)?n:window:window:window}function c(e){let{Document:n}=u(e);return e instanceof n}function d(e){return!s(e)&&e instanceof u(e).HTMLElement}function h(e){return e instanceof u(e).SVGElement}function f(e){return e?s(e)?e.document:l(e)?c(e)?e:d(e)||h(e)?e.ownerDocument:document:document:document}let p=a?i.useLayoutEffect:i.useEffect;function g(e){let n=(0,i.useRef)(e);return p(()=>{n.current=e}),(0,i.useCallback)(function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return null==n.current?void 0:n.current(...r)},[])}function y(){let e=(0,i.useRef)(null),n=(0,i.useCallback)((n,r)=>{e.current=setInterval(n,r)},[]),r=(0,i.useCallback)(()=>{null!==e.current&&(clearInterval(e.current),e.current=null)},[]);return[n,r]}function m(e,n){void 0===n&&(n=[e]);let r=(0,i.useRef)(e);return p(()=>{r.current!==e&&(r.current=e)},n),r}function b(e,n){let r=(0,i.useRef)();return(0,i.useMemo)(()=>{let n=e(r.current);return r.current=n,n},[...n])}function _(e){let n=g(e),r=(0,i.useRef)(null),o=(0,i.useCallback)(e=>{e!==r.current&&(null==n||n(e,r.current)),r.current=e},[]);return[r,o]}function w(e){let n=(0,i.useRef)();return(0,i.useEffect)(()=>{n.current=e},[e]),n.current}let E={};function x(e,n){return(0,i.useMemo)(()=>{if(n)return n;let r=null==E[e]?0:E[e]+1;return E[e]=r,e+"-"+r},[e,n])}function C(e){return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return i.reduce((n,r)=>{let i=Object.entries(r);for(let[r,o]of i){let i=n[r];null!=i&&(n[r]=i+e*o)}return n},{...n})}}let S=C(1),O=C(-1);function M(e){return"clientX"in e&&"clientY"in e}function P(e){if(!e)return!1;let{KeyboardEvent:n}=u(e.target);return n&&e instanceof n}function D(e){if(!e)return!1;let{TouchEvent:n}=u(e.target);return n&&e instanceof n}function I(e){if(D(e)){if(e.touches&&e.touches.length){let{clientX:n,clientY:r}=e.touches[0];return{x:n,y:r}}if(e.changedTouches&&e.changedTouches.length){let{clientX:n,clientY:r}=e.changedTouches[0];return{x:n,y:r}}}return M(e)?{x:e.clientX,y:e.clientY}:null}let j=Object.freeze({Translate:{toString(e){if(!e)return;let{x:n,y:r}=e;return"translate3d("+(n?Math.round(n):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;let{scaleX:n,scaleY:r}=e;return"scaleX("+n+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[j.Translate.toString(e),j.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:n,duration:r,easing:i}=e;return n+" "+r+"ms "+i}}}),N="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function T(e){return e.matches(N)?e:e.querySelector(N)}},1385:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{cssClasses:function(){return o},strings:function(){return a}});var i=r("12864");let o={PREFIX:`${i.BASE_CLASS_PREFIX}-avatar`},a={SHAPE:["circle","square"],SIZE:["extra-extra-small","extra-small","small","default","medium","large","extra-large"],COLOR:["grey","red","pink","purple","violet","indigo","blue","light-blue","cyan","teal","green","light-green","lime","yellow","amber","orange","white"],OVERLAP_FROM:["start","end"]}},10279:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var i=r.ir(r("89967")),o=r.ir(r("66177"));class a extends i.default{constructor(e){super(Object.assign({},e)),this.handleFocusVisible=e=>{let{target:n}=e;try{n.matches(":focus-visible")&&this._adapter.setFocusVisible(!0)}catch(e){(0,o.default)(!0,"Warning: [Semi Avatar] The current browser does not support the focus-visible")}},this.handleBlur=()=>{this._adapter.setFocusVisible(!1)},this.changeScale=()=>{let{gap:e}=this.getProps(),n=this._adapter.getAvatarNode(),r=null==n?void 0:n.firstChild,[i,o]=[(null==n?void 0:n.offsetWidth)||0,(null==r?void 0:r.offsetWidth)||0];0!==i&&0!==o&&2*e<i&&this._adapter.setScale(i-2*e>o?1:(i-2*e)/o)}}init(){let{children:e}=this.getProps();"string"==typeof e&&this.changeScale()}destroy(){}handleImgLoadError(){let{onError:e}=this.getProps(),n=e?e():void 0;!1!==n&&this._adapter.notifyImgState(!1)}handleEnter(e){this._adapter.notifyEnter(e)}handleLeave(e){this._adapter.notifyLeave(e)}}},35794:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{cssClasses:function(){return o},strings:function(){return a}});var i=r("12864");let o={PREFIX:`${i.BASE_CLASS_PREFIX}-badge`},a={TYPE_SET:["success","primary","secondary","tertiary","warning","danger"],THEME_SET:["solid","light","inverted"],POS_SET:["leftTop","leftBottom","rightTop","rightBottom"]}},12864:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{BASE_CLASS_PREFIX:function(){return i.BASE_CLASS_PREFIX},VALIDATE_STATUS:function(){return o}});var i=r("77511");let o=["default","error","warning","success"]},77511:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"BASE_CLASS_PREFIX",{enumerable:!0,get:function(){return i}});let i="semi"},89967:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var i=r.ir(r("82203")),o=r.ir(r("59998"));class a{static get cssClasses(){return{}}static get strings(){return{}}static get numbers(){return{}}static get defaultAdapter(){return{getProp:i.default,getProps:i.default,getState:i.default,getStates:i.default,setState:i.default,getContext:i.default,getContexts:i.default,getCache:i.default,setCache:i.default,getCaches:i.default,stopPropagation:i.default,persistEvent:i.default}}constructor(e){this._adapter=Object.assign(Object.assign({},a.defaultAdapter),e)}getProp(e){return this._adapter.getProp(e)}getProps(){return this._adapter.getProps()}getState(e){return this._adapter.getState(e)}getStates(){return this._adapter.getStates()}setState(e,n){return this._adapter.setState(Object.assign({},e),n)}getContext(e){return this._adapter.getContext(e)}getContexts(){return this._adapter.getContexts()}getCaches(){return this._adapter.getCaches()}getCache(e){return this._adapter.getCache(e)}setCache(e,n){return e&&this._adapter.setCache(e,n)}stopPropagation(e){this._adapter.stopPropagation(e)}_isControlledComponent(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"value",n=this.getProps();return e in n}_isInProps(e){let n=this.getProps();return e in n}init(e){}destroy(){}log(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(0,o.default)(e,...r)}_persistEvent(e){this._adapter.persistEvent(e)}}var s=a},21723:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{cssClasses:function(){return o},strings:function(){return a}});var i=r("12864");let o={PREFIX:`${i.BASE_CLASS_PREFIX}-button`},a={sizes:["default","small","large"],iconPositions:["left","right"],htmlTypes:["button","reset","submit"],btnTypes:["primary","secondary","tertiary","warning","danger"],themes:["solid","borderless","light","outline"],DEFAULT_ICON_SIZE:"default",DEFAULT_ICON_POSITION:"left"}},94576:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return l}});var i=r.ir(r("89967")),o=r.ir(r("31448")),a=r.ir(r("66177"));class s extends i.default{constructor(e){super(Object.assign({},e)),this.clickState=!1,this.handleFocusVisible=e=>{let{target:n}=e;try{if(this.clickState){this.clickState=!1;return}n.matches(":focus-visible")&&this._adapter.setFocusVisible(!0)}catch(e){(0,a.default)(!0,"Warning: [Semi Checkbox] The current browser does not support the focus-visible")}},this.handleBlur=()=>{this.clickState=!1,this._adapter.setFocusVisible(!1)}}init(){let{children:e,extra:n,extraId:r,addonId:i}=this.getProps();e&&!i&&this._adapter.setAddonId(),n&&!r&&this._adapter.setExtraId()}notifyChange(e,n){let r=this._adapter.generateEvent(e,n);this._adapter.notifyChange(r)}handleChange(e){let n=this.getProp("disabled");if(n)return;(null==e?void 0:e.type)==="click"&&(this.clickState=!0),this._adapter.focusCheckboxEntity();let r=this._adapter.getIsInGroup();if(r){let n=this._adapter.getGroupDisabled();!n&&this.handleChangeInGroup(e);return}let i=this.getState("checked"),o=!i;this._isControlledComponent("checked")||this.setChecked(o),this.notifyChange(o,e)}handleChangeInGroup(e){let{value:n}=this.getProps(),r=this._adapter.getGroupValue(),i=r.includes(n),o=this._adapter.generateEvent(!i,e);this._adapter.notifyChange(o),this._adapter.notifyGroupChange(o)}handleEnterPress(e){(0,o.default)(e)&&this.handleChange(e)}setChecked(e){this._adapter.setNativeControlChecked(e)}destroy(){}}var l=s},82972:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var i=r.ir(r("89967")),o=r.ir(r("66177"));class a extends i.default{static get checkboxGroupDefaultAdapter(){return{}}constructor(e){super(Object.assign(Object.assign({},a.checkboxGroupDefaultAdapter),e))}init(){let{defaultValue:e,value:n}=this.getProps();void 0!==e&&!Array.isArray(e)&&(0,o.default)(!0,"Warning: [Semi CheckboxGroup] defaultValue should be an Array"),void 0!==n&&!Array.isArray(n)&&(0,o.default)(!0,"Warning: [Semi CheckboxGroup] value should be an Array")}notifyChange(e){this._adapter.notifyChange(e)}handleChange(e){let n=this.getState("value"),r=[];!Array.isArray(n)&&(r=[n]),r=e.target.checked?[...n,e.target.value]:n.filter((n,r)=>n!==e.target.value);let i="value"in this.getProps();i||this._adapter.updateGroupValue(r),this.notifyChange(r)}getFormatName(){let e=this.getProp("name");return e||"default"}handlePropValueChange(e){Array.isArray(e)?this._adapter.updateGroupValue(e):(void 0===e&&this._adapter.updateGroupValue([]),(0,o.default)(!0,"Warning: [Semi CheckboxGroup] value should be an Array"))}destroy(){}}var s=a},90277:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{checkboxClasses:function(){return o},checkboxGroupClasses:function(){return a},strings:function(){return s}});var i=r("12864");let o={PREFIX:`${i.BASE_CLASS_PREFIX}-checkbox`,INNER:`${i.BASE_CLASS_PREFIX}-checkbox-inner`,TEXT:`${i.BASE_CLASS_PREFIX}-checkbox-text`,INPUT:`${i.BASE_CLASS_PREFIX}-checkbox-input`,CHECKED:`${i.BASE_CLASS_PREFIX}-checkbox-checked`,DISABLED:`${i.BASE_CLASS_PREFIX}-checkbox-disabled`,BUTTON:`${i.BASE_CLASS_PREFIX}-checkbox-button`,WRAPPER:""},a={PREFIX:`${i.BASE_CLASS_PREFIX}-checkboxGroup`,INNER:`${i.BASE_CLASS_PREFIX}-checkboxGroup-inner`,TEXT:`${i.BASE_CLASS_PREFIX}-checkboxGroup-text`,INPUT:`${i.BASE_CLASS_PREFIX}-checkboxGroup-input`,CHECKED:`${i.BASE_CLASS_PREFIX}-checkboxGroup-checked`,DISABLED:`${i.BASE_CLASS_PREFIX}-checkboxGroup-disabled`},s={DIRECTION_SET:["horizontal","vertical"],TYPE_DEFAULT:"default",TYPE_CARD:"card",TYPE_PURECARD:"pureCard",DEFAULT_DIRECTION:"vertical"}},6117:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"cssClasses",{enumerable:!0,get:function(){return o}});var i=r("12864");let o={PREFIX:`${i.BASE_CLASS_PREFIX}-collapsible`}},66240:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var i=r.ir(r("89967"));class o extends i.default{constructor(e){super(Object.assign({},e)),this.updateDOMInRenderTree=e=>{this._adapter.setDOMInRenderTree(e)},this.updateDOMHeight=e=>{this._adapter.setDOMHeight(e)},this.updateVisible=e=>{this._adapter.setVisible(e)},this.updateIsTransitioning=e=>{this._adapter.setIsTransitioning(e)}}}var a=o},62200:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"cssClasses",{enumerable:!0,get:function(){return o}});var i=r("12864");let o={PREFIX:`${i.BASE_CLASS_PREFIX}`}},23425:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{cssClasses:function(){return a},strings:function(){return s},numbers:function(){return l}});var i=r("74168"),o=r("12864");let a={PREFIX:`${o.BASE_CLASS_PREFIX}-dropdown`,SELECTED:`${o.BASE_CLASS_PREFIX}-dropdown-item-selected`,DISABLED:`${o.BASE_CLASS_PREFIX}-dropdown-item-disabled`},s={POSITION_SET:i.strings.POSITION_SET,TRIGGER_SET:["hover","focus","click","custom","contextMenu"],DEFAULT_LEAVE_DELAY:100,ITEM_TYPE:["primary","secondary","tertiary","warning","danger"]},l={SPACING:4,NESTED_SPACING:2}},97823:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var i=r.ir(r("89967")),o=r("79297");class a extends i.default{handleVisibleChange(e){this._adapter.setPopVisible(e),this._adapter.notifyVisibleChange(e);let{trigger:n}=this.getProps();if(e&&"click"===n){let e=this._adapter.getPopupId();this.setFocusToFirstMenuItem(e)}}getMenuItemNodes(e){let n=document.getElementById(e);return n?Array.from(n.getElementsByTagName("li")).filter(e=>"false"===e.ariaDisabled):null}setFocusToFirstMenuItem(e){let n=this.getMenuItemNodes(e);n&&(0,o.setFocusToFirstItem)(n)}setFocusToLastMenuItem(e){let n=this.getMenuItemNodes(e);n&&(0,o.setFocusToLastItem)(n)}handleKeyDown(e){var n,r;let i=null===(r=null===(n=e.target)||void 0===n?void 0:n.attributes["data-popupid"])||void 0===r?void 0:r.value,{visible:a}=this._adapter.getStates();switch(e.key){case" ":case"Enter":e.target.click();break;case"ArrowDown":this.setFocusToFirstMenuItem(i),a&&(0,o.handlePrevent)(e);break;case"ArrowUp":this.setFocusToLastMenuItem(i),a&&(0,o.handlePrevent)(e)}}}},72864:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var i=r.ir(r("89967")),o=r("79297");class a extends i.default{constructor(){super(...arguments),this.menuItemNodes=null,this.firstChars=[]}handleEscape(e){let n=this._adapter.getContext("trigger");if("custom"===n){let n=e&&(0,o.getMenuButton)(document.querySelectorAll("[data-popupid]"),e.id);n.focus()}}setFocusByFirstCharacter(e,n){let r=(0,o.findIndexByCharacter)(this.menuItemNodes,e,this.firstChars,n);r>=0&&(0,o.setFocusToItem)(this.menuItemNodes,this.menuItemNodes[r])}onMenuKeydown(e){let n=(0,o.getAncestorNodeByRole)(e.target,"tooltip");!this.menuItemNodes&&(this.menuItemNodes=[...e.target.parentNode.getElementsByTagName("li")].filter(e=>"true"!==e.ariaDisabled)),0===this.firstChars.length&&this.menuItemNodes.forEach(e=>{var n;this.firstChars.push(null===(n=e.textContent.trim()[0])||void 0===n?void 0:n.toLowerCase())});let r=this.menuItemNodes.find(e=>0===e.tabIndex);switch(e.key){case" ":case"Enter":e.target.click();break;case"Escape":this.handleEscape(n);break;case"ArrowUp":(0,o.setFocusToPreviousMenuItem)(this.menuItemNodes,r),(0,o.handlePrevent)(e);break;case"ArrowDown":(0,o.setFocusToNextMenuitem)(this.menuItemNodes,r),(0,o.handlePrevent)(e);break;default:(0,o.isPrintableCharacter)(e.key)&&this.setFocusByFirstCharacter(r,e.key)}}}},70042:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"cssClasses",{enumerable:!0,get:function(){return o}});var i=r("12864");let o={PREFIX:`${i.BASE_CLASS_PREFIX}-form`}},16876:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"cssClasses",{enumerable:!0,get:function(){return o}});var i=r("12864");let o={PREFIX:`${i.BASE_CLASS_PREFIX}-highlight`}},19147:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var i=r.ir(r("94228")),o=r.ir(r("89967"));let a=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");class s extends o.default{constructor(e){super(Object.assign({},e)),this.findAll=e=>{let{autoEscape:n=!0,caseSensitive:r=!1,searchWords:o,sourceString:a}=e;(0,i.default)(o)&&(o=[o]);let s=this.findChunks({autoEscape:n,caseSensitive:r,searchWords:o,sourceString:a}),l=this.combineChunks({chunks:s}),u=this.fillInChunks({chunksToHighlight:l,totalLength:a?a.length:0});return u},this.findChunks=e=>{let{autoEscape:n,caseSensitive:r,searchWords:i,sourceString:o}=e;return i.map(e=>"string"==typeof e?{text:e}:e).filter(e=>e.text).reduce((e,i)=>{let s,l=i.text;n&&(l=a(l));let u=new RegExp(l,r?"g":"gi");for(;s=u.exec(o);){let n=s.index,r=u.lastIndex;r>n&&e.push({highlight:!0,start:n,end:r,className:i.className,style:i.style}),s.index===u.lastIndex&&u.lastIndex++}return e},[])},this.combineChunks=e=>{let{chunks:n}=e;return n.sort((e,n)=>e.start-n.start).reduce((e,n)=>{if(0===e.length)return[n];{let r=e.pop();if(n.start<=r.end){let i=Math.max(r.end,n.end);e.push({highlight:!0,start:r.start,end:i,className:r.className||n.className,style:Object.assign(Object.assign({},r.style),n.style)})}else e.push(r,n);return e}},[])},this.fillInChunks=e=>{let{chunksToHighlight:n,totalLength:r}=e,i=[],o=(e,n,r,o,a)=>{n-e>0&&i.push({start:e,end:n,highlight:r,className:o,style:a})};if(0===n.length)o(0,r,!1);else{let e=0;n.forEach(n=>{o(e,n.start,!1),o(n.start,n.end,!0,n.className,n.style),e=n.end}),o(e,r,!1)}return i}}}},49696:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"strings",{enumerable:!0,get:function(){return i}}),r("12864").BASE_CLASS_PREFIX;let i={SIZE:["extra-small","small","default","large","extra-large","custom"],ICON_PREFIX:"semi-icon-"}},89420:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{cssClasses:function(){return o},strings:function(){return a}});var i=r("12864");let o={PREFIX:`${i.BASE_CLASS_PREFIX}-input`},a={SIZE:["small","large","default"],DEFAULT_SIZE:"default",STATUS:["default","error","warning","success"],CLEARBTN_CLICKED_EVENT_FLAG:"__fromClearBtn",MODE:["password"]}},70060:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return p}});var i=r.ir(r("8250")),o=r.ir(r("94228")),a=r.ir(r("15135")),s=r.ir(r("80334")),l=r.ir(r("82203")),u=r.ir(r("89967")),c=r("89420"),d=r("73075"),h=r.ir(r("31253"));class f extends u.default{static get inputDefaultAdapter(){return{notifyChange:l.default,setValue:l.default}}constructor(e){super(Object.assign(Object.assign({},f.inputDefaultAdapter),e))}destroy(){this._timer&&(clearTimeout(this._timer),this._timer=null)}setDisable(){}setValue(e){this._adapter.setValue(e)}handleChange(e,n){let{maxLength:r,minLength:o,getValueLength:a}=this._adapter.getProps(),s=e;r&&(0,i.default)(a)&&(s=this.handleVisibleMaxLength(e)),o&&(0,i.default)(a)&&this.handleVisibleMinLength(s),this._isControlledComponent()||this._adapter.setValue(s),this._adapter.notifyChange(s,n)}handleVisibleMinLength(e){let{minLength:n,getValueLength:r}=this._adapter.getProps(),{minLength:s}=this._adapter.getStates();if((0,a.default)(n)&&n>=0&&(0,i.default)(r)&&(0,o.default)(e)){let i=r(e);if(i<n){let r=e.length+(n-i);r!==s&&this._adapter.setMinLength(r)}else s!==n&&this._adapter.setMinLength(n)}}handleVisibleMaxLength(e){let{maxLength:n,getValueLength:r}=this._adapter.getProps();if((0,a.default)(n)&&n>=0&&(0,i.default)(r)&&(0,o.default)(e)){let i=r(e);if(i>n){console.warn("[Semi Input] The input character is truncated because the input length exceeds the maximum length limit");let r=this.handleTruncateValue(e,n);return r}}return e}handleTruncateValue(e,n){let{getValueLength:r}=this._adapter.getProps();return(0,h.default)({value:e,maxLength:n,getValueLength:r})}handleClear(e){let n=e;this._isControlledComponent("value")?this._adapter.setState({isFocus:!1}):this._adapter.setState({value:"",isFocus:!1}),(!n||"object"!=typeof n)&&(n={}),(0,s.default)(n,c.strings.CLEARBTN_CLICKED_EVENT_FLAG,!0),this._adapter.notifyChange("",n),this._adapter.notifyClear(n),n&&this.stopPropagation(n)}handleClick(e){let{disabled:n}=this._adapter.getProps(),{isFocus:r}=this._adapter.getStates();!n&&!r&&this._adapter.isEventTarget(e)&&(this._adapter.focusInput(),this._adapter.toggleFocusing(!0))}handleModeChange(e){"password"===e?this._adapter.setEyeClosed(!0):this._adapter.setEyeClosed(!1)}handleClickEye(e){let n=this._adapter.getState("eyeClosed");this._adapter.focusInput(),this._adapter.toggleFocusing(!0),this._adapter.setEyeClosed(!n)}handleInputType(e){let n=this._adapter.getProp("mode"),r=this._adapter.getState("eyeClosed");return"password"===n?r?"password":"text":e}handleMouseDown(e){e.preventDefault()}handleMouseUp(e){e.preventDefault()}handleBlur(e){let{value:n}=this.getStates();this._adapter.toggleFocusing(!1),this._adapter.notifyBlur(n,e)}handleFocus(e){let{value:n}=this.getStates();this._adapter.toggleFocusing(!0),this._adapter.notifyFocus(n,e)}handleInput(e){this._adapter.notifyInput(e)}handleKeyDown(e){this._adapter.notifyKeyDown(e)}handleKeyUp(e){this._adapter.notifyKeyUp(e)}handleKeyPress(e){this._adapter.notifyKeyPress(e),e.key===d.ENTER_KEY&&this._adapter.notifyEnterPress(e)}isAllowClear(){let{value:e,isFocus:n,isHovering:r}=this._adapter.getStates(),{showClear:i,disabled:o,showClearIgnoreDisabled:a}=this._adapter.getProps();return e&&i&&(!o||a)&&(n||r)}handleClickPrefixOrSuffix(e){let{disabled:n}=this._adapter.getProps(),{isFocus:r}=this._adapter.getStates();!n&&!r&&(this._adapter.focusInput(),this._adapter.toggleFocusing(!0))}handlePreventMouseDown(e){e&&(0,i.default)(e.preventDefault)&&e.preventDefault()}handleModeEnterPress(e){["Enter"," "].includes(null==e?void 0:e.key)&&(this.handlePreventMouseDown(e),this.handleClickEye(e))}}var p=f},54434:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return h}});var i=r.ir(r("94228")),o=r.ir(r("15135")),a=r.ir(r("8250")),s=r.ir(r("82203")),l=r.ir(r("89967")),u=r.ir(r("4262")),c=r.ir(r("42069")),d=r.ir(r("31253"));class h extends l.default{static get textAreaDefaultAdapter(){return{notifyChange:s.default,setValue:s.default,toggleFocusing:s.default,toggleHovering:s.default,notifyFocus:s.default,notifyBlur:s.default,notifyKeyDown:s.default,notifyEnterPress:s.default}}constructor(e){super(Object.assign(Object.assign({},h.textAreaDefaultAdapter),e)),this.resizeTextarea=()=>{var e;let{height:n}=this.getStates(),{rows:r,autosize:i}=this.getProps(),o=this._adapter.getRef(),a=(0,c.default)(o);if(!a)return;let[s,l]=null!==i&&"object"==typeof i?[null!==(e=null==i?void 0:i.minRows)&&void 0!==e?e:r,null==i?void 0:i.maxRows]:[r],d=(0,u.default)(a,o.value||o.placeholder||"x",s,l);if(n!==d){this._adapter.notifyHeightUpdate(d),o.style.height=`${d}px`;return}}}destroy(){}handleValueChange(e){this._adapter.setValue(e)}handleChange(e,n){let{maxLength:r,minLength:i,getValueLength:o}=this._adapter.getProps(),s=e;r&&(0,a.default)(o)&&(s=this.handleVisibleMaxLength(e)),i&&(0,a.default)(o)&&this.handleVisibleMinLength(s),this._isControlledComponent()||this._adapter.setValue(s),this._adapter.notifyChange(s,n)}handleVisibleMinLength(e){let{minLength:n,getValueLength:r}=this._adapter.getProps(),{minLength:s}=this._adapter.getStates();if((0,o.default)(n)&&n>=0&&(0,a.default)(r)&&(0,i.default)(e)){let i=r(e);if(i<n){let r=e.length+(n-i);r!==s&&this._adapter.setMinLength(r)}else s!==n&&this._adapter.setMinLength(n)}}handleVisibleMaxLength(e){let{maxLength:n,getValueLength:r}=this._adapter.getProps();if((0,o.default)(n)&&n>=0&&(0,i.default)(e)){if((0,a.default)(r)){let i=r(e);if(i>n){console.warn("[Semi TextArea] The input character is truncated because the input length exceeds the maximum length limit");let r=this.handleTruncateValue(e,n);return r}}else if(e.length>n)return console.warn("[Semi TextArea] The input character is truncated because the input length exceeds the maximum length limit"),e.slice(0,n);return e}}handleTruncateValue(e,n){let{getValueLength:r}=this._adapter.getProps();return(0,d.default)({value:e,maxLength:n,getValueLength:r})}handleFocus(e){let{value:n}=this.getStates();this._adapter.toggleFocusing(!0),this._adapter.notifyFocus(n,e)}handleBlur(e){let{value:n}=this.getStates(),{maxLength:r}=this.getProps(),i=n;r&&(i=this.handleVisibleMaxLength(n))!==n&&(!this._isControlledComponent()&&this._adapter.setValue(i),this._adapter.notifyChange(i,e)),this._adapter.toggleFocusing(!1),this._adapter.notifyBlur(i,e)}handleKeyDown(e){let{disabledEnterStartNewLine:n}=this.getProps();n&&"Enter"===e.key&&!e.shiftKey&&e.preventDefault(),this._adapter.notifyKeyDown(e),13===e.keyCode&&this._adapter.notifyPressEnter(e)}handleMouseEnter(e){this._adapter.toggleHovering(!0)}handleMouseLeave(e){this._adapter.toggleHovering(!1)}isAllowClear(){let{value:e,isFocus:n,isHover:r}=this._adapter.getStates(),{showClear:i,disabled:o,readonly:a}=this._adapter.getProps();return e&&i&&!o&&(n||r)&&!a}handleClear(e){let{isFocus:n}=this.getStates();this._isControlledComponent("value")?this._adapter.setState({isFocus:!1}):this._adapter.setState({value:"",isFocus:!1}),n&&this._adapter.notifyBlur("",e),this._adapter.notifyChange("",e),this._adapter.notifyClear(e),this.stopPropagation(e)}}},4262:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return l}});let i=null,o={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},a=e=>{Object.keys(o).forEach(n=>{e.style.setProperty(n,o[n],"important")})},s=(e,n)=>{let r=e.scrollHeight;return"border-box"===n.sizingStyle.boxSizing?r+n.borderSize:r-n.paddingSize};function l(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;!i&&((i=document.createElement("textarea")).setAttribute("tab-index","-1"),i.setAttribute("aria-hidden","true"),a(i)),null===i.parentNode&&document.body.appendChild(i);let{paddingSize:l,borderSize:u,sizingStyle:c}=e,{boxSizing:d}=c;Object.keys(c).forEach(e=>{i.style[e]=c[e]}),a(i),i.value=n;let h=s(i,e);i.value="x";let f=s(i,e)-l-u,p=f*r;"border-box"===d&&(p=p+l+u),h=Math.max(p,h);let g=f*o;return"border-box"===d&&(g=g+l+u),h=Math.min(g,h)}},42069:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var i=r.ir(r("24578"));let o=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width"];var a=e=>{let n=window.getComputedStyle(e);if(null===n)return null;let r=(0,i.default)(n,o),{boxSizing:a}=r;if(""===a)return null;let s=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),l=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:s,borderSize:l}}},31253:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var i=r.ir(r("8250"));function o(e){let{value:n,maxLength:r,getValueLength:o}=e;if(!(0,i.default)(o))return n.slice(0,r);{let e=0,i=n.length;for(;e<i;){let a=e+Math.floor((i-e)/2),s=n.slice(0,a+1);o(s)>r?i=a:e=a+1}return n.slice(0,e)}}},40747:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{cssClasses:function(){return o},strings:function(){return a}});var i=r("12864");let o={DIALOG:`${i.BASE_CLASS_PREFIX}-modal`},a={cancelKey:"cancel",confirmKey:"confirm",SIZE:["small","medium","large","full-width"],directions:["ltr","rtl"]}},77002:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var i=r.ir(r("89967")),o=r.ir(r("73075"));class a extends i.default{constructor(e){super(Object.assign(Object.assign({},a.defaultAdapter),e)),this.handleKeyDown=e=>{let{closeOnEsc:n}=this.getProps();if(n&&e.keyCode===o.default.ESC){e.stopPropagation(),this.close(e);return}}}destroy(){this.handleKeyDownEventListenerUnmount(),this.modalDialogBlur(),this.prevFocusElementReFocus()}handleDialogMouseDown(){this._adapter.notifyDialogMouseDown()}handleMaskMouseUp(){this._adapter.notifyDialogMouseUp()}handleKeyDownEventListenerMount(){this._adapter.addKeyDownEventListener()}handleKeyDownEventListenerUnmount(){this._adapter.removeKeyDownEventListener()}getMouseState(){this._adapter.getMouseState()}handleMaskClick(e){let{dialogMouseDown:n}=this.getStates();e.target===e.currentTarget&&!n&&this.close(e)}close(e){this._adapter.notifyClose(e)}modalDialogFocus(){this._adapter.modalDialogFocus()}modalDialogBlur(){this._adapter.modalDialogBlur()}prevFocusElementReFocus(){this._adapter.prevFocusElementReFocus()}}},86274:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var i=r.ir(r("89967")),o=r.ir(r("54439"));class a extends i.default{constructor(e){super(Object.assign({},e)),this.toggleDisplayNone=(e,n)=>{this._adapter.toggleDisplayNone(e,n)}}destroy(){this.afterHide()}handleCancel(e){var n;let r=this._adapter.notifyCancel(e);(0,o.default)(r)&&(this._adapter.setState({onCancelReturnPromiseStatus:"pending"}),null===(n=null==r?void 0:r.then(()=>{this._adapter.setState({onCancelReturnPromiseStatus:"fulfilled"})}))||void 0===n||n.catch(e=>{throw this._adapter.setState({onCancelReturnPromiseStatus:"rejected"}),e}))}handleOk(e){var n;let r=this._adapter.notifyOk(e);(0,o.default)(r)&&(this._adapter.setState({onOKReturnPromiseStatus:"pending"}),null===(n=null==r?void 0:r.then(()=>{this._adapter.setState({onOKReturnPromiseStatus:"fulfilled"})}))||void 0===n||n.catch(e=>{throw this._adapter.setState({onOKReturnPromiseStatus:"rejected"}),e}))}beforeShow(){this._adapter.disabledBodyScroll()}afterHide(){this._adapter.enabledBodyScroll(),this._adapter.notifyClose()}enabledBodyScroll(){this._adapter.enabledBodyScroll()}}},87686:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{cssClasses:function(){return o},strings:function(){return l},numbers:function(){return u}});var i=r("12864");let o={PREFIX:i.BASE_CLASS_PREFIX+"-overflow-list"},a={COLLAPSE:"collapse",SCROLL:"scroll"},s={START:"start",END:"end"},l={BOUNDARY_SET:Object.values(s),POSITION_SET:["vertical","horizontal"],MODE_SET:Object.values(a),MODE_MAP:a,BOUNDARY_MAP:s,OVERFLOW_DIR:{NONE:0,GROW:1,SHRINK:2}},u={MINIMUM_HTML_ELEMENT_WIDTH:4}},46731:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return c}});var i=r.ir(r("15478")),o=r.ir(r("89967")),a=r("87686"),s=r.ir(r("93839"));let l=a.strings.BOUNDARY_MAP;a.strings.OVERFLOW_DIR;class u extends o.default{constructor(e){super(Object.assign({},e)),this.previousY=void 0,this.isScrollMode=()=>{let{renderMode:e}=this.getProps();return"scroll"===e},this.getReversedItems=()=>{let{items:e}=this.getProps();return(0,s.default)(e).reverse()}}getOverflowItem(){let{items:e}=this.getProps(),{visibleState:n,overflow:r}=this.getStates();if(!this.isScrollMode())return r;let i=e.map(e=>{let{key:r}=e;return!!n.get(r)}),o=i.indexOf(!0),a=i.lastIndexOf(!0),s=[];return s[0]=o>=0?e.slice(0,o):[],s[1]=a>=0?e.slice(a+1,e.length):e.slice(),s}handleIntersect(e){let n=(0,s.default)(this.getState("visibleState")),r={};e.forEach(e=>{let o=(0,i.default)(e,"target.dataset.scrollkey"),a=e.isIntersecting;r[o]=e,n.set(o,a)});let o=!1;for(let e of n.values())if(e){o=!0;break}let a=o,[l]=e,u=l.boundingClientRect.y;if(!a&&void 0!==this.previousY&&u!==this.previousY){this.previousY=u;return}this.previousY=u,this._adapter.updateVisibleState(n),this._adapter.notifyIntersect(r)}handleCollapseOverflow(){let{minVisibleItems:e,collapseFrom:n}=this.getProps(),{overflowWidth:r,containerWidth:i,pivot:o,overflowStatus:a}=this.getStates(),{items:s,onOverflow:u}=this.getProps(),c=r,d=0,h=!1;for(let e of this._adapter.getItemSizeMap().values()){if((c+=e)>i){h=!0;break}if(d===s.length-1){this._adapter.updateStates({overflowStatus:"normal",pivot:s.length-1,visible:s,overflow:[]});break}d++}if(h){let r=Math.max(e,d),i=n===l.START,a=i?this.getReversedItems().slice(0,r).reverse():s.slice(0,r),c=i?this.getReversedItems().slice(r).reverse():s.slice(r);this._adapter.updateStates({overflowStatus:"overflowed",pivot:r,visible:a,overflow:c}),o!==r&&u(c);return}}}var c=u},14014:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{cssClasses:function(){return a},strings:function(){return s},numbers:function(){return l}});var i=r("74168"),o=r("12864");let a={PREFIX:`${o.BASE_CLASS_PREFIX}-popover`,ARROW:`${o.BASE_CLASS_PREFIX}-popover-icon-arrow`},s={POSITION_SET:["top","topLeft","topRight","left","leftTop","leftBottom","right","rightTop","rightBottom","bottom","bottomLeft","bottomRight","leftTopOver","rightTopOver"],TRIGGER_SET:["hover","focus","click","custom","contextMenu"],DEFAULT_ARROW_STYLE:{borderOpacity:"1",backgroundColor:"var(--semi-color-bg-3)",borderColor:"var(--semi-color-border)"}},l={ARROW_BOUNDING:Object.assign(Object.assign({},i.numbers.ARROW_BOUNDING),{offsetY:6,offsetX:0,height:8}),SPACING:4,SPACING_WITH_ARROW:10,DEFAULT_Z_INDEX:1030}},93096:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{cssClasses:function(){return a},strings:function(){return s},numbers:function(){return l}});var i=r("12864"),o=r("74168");let a={PREFIX:`${i.BASE_CLASS_PREFIX}-select`,PREFIX_OPTION:`${i.BASE_CLASS_PREFIX}-select-option`,PREFIX_GROUP:`${i.BASE_CLASS_PREFIX}-select-group`},s={SIZE_SET:["small","large","default"],POSITION_SET:o.strings.POSITION_SET,MODE_SELECT:"select",MODE_AUTOCOMPLETE:"autoComplete",STATUS:i.VALIDATE_STATUS,SEARCH_POSITION_TRIGGER:"trigger",SEARCH_POSITION_DROPDOWN:"dropdown"},l={LIST_HEIGHT:270}},50113:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return y}});var i=r.ir(r("51854")),o=r.ir(r("3409")),a=r.ir(r("94228")),s=r.ir(r("15135")),l=r.ir(r("89967")),u=r.ir(r("73075")),c=r.ir(r("66177")),d=r.ir(r("29807")),h=r.ir(r("31448")),f=r("79297"),p=r("93096"),g=function(e,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>n.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)0>n.indexOf(i[o])&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(r[i[o]]=e[i[o]]);return r};class y extends l.default{constructor(e){super(Object.assign({},e)),this._keydownHandler=null}init(){this._setDropdownWidth();let e=this.getProp("defaultOpen"),n=this.getProp("open"),r=this._collectOptions();this._setDefaultSelection(r),(e||n)&&this.open(void 0,r);let i=this.getProp("autoFocus");i&&this.focus()}focus(){let e=this._isFilterable(),n=this._isMultiple();this._adapter.updateFocusState(!0),this._adapter.setIsFocusInContainer(!1),e&&n?this.focusInput():e&&!n?this.toggle2SearchInput(!0):this._focusTrigger()}_focusTrigger(){this._adapter.focusTrigger()}destroy(){this._adapter.unregisterClickOutsideHandler()}_setDropdownWidth(){let e;let{style:n,dropdownMatchSelectWidth:r}=this.getProps();r&&(e=n&&(0,s.default)(n.width)?n.width:n&&(0,a.default)(n.width)&&!n.width.includes("%")?n.width:this._adapter.getTriggerWidth(),this._adapter.setOptionWrapperWidth(e))}_collectOptions(){let e=this._adapter.getOptionsFromChildren();return this._adapter.updateOptions(e),this._adapter.rePositionDropdown(),e}_setDefaultSelection(e){let{value:n}=this.getProps(),{defaultValue:r}=this.getProps();this._isControlledComponent()||(n=r),this._update(n,e)}handleOptionListChange(){let e=this._collectOptions(),{selections:n}=this.getStates();this.updateOptionsActiveStatus(n,e);let{defaultActiveFirstOption:r}=this.getProps();r&&this._adapter.updateFocusIndex(0)}handleOptionListChangeHadDefaultValue(){let e;let n=this.getState("selections"),{onChangeWithObject:r}=this.getProps(),i=this._isMultiple();switch(!0){case i&&!!n.size:try{e=[...n].map(e=>r?e[1]:e[1].value)}catch(n){e=[]}break;case i&&!n.size:e=[];break;case!i&&!!n.size:try{e=r?[...n][0][1]:[...n][0][1].value}catch(e){}case!i&&!n.size:}let o=this._adapter.getOptionsFromChildren();this._update(e,o)}handleValueChange(e){let n;let{allowCreate:r,autoClearSearchValue:i,remote:o}=this.getProps(),{inputValue:a}=this.getStates();r&&this._isControlledComponent()?(n=this.getState("options")).forEach(e=>e._show=!0):n=this._adapter.getOptionsFromChildren(),this._adapter.rePositionDropdown(),this._isFilterable()&&!i&&a&&!o&&(n=this._filterOption(n,a)),this._update(e,n)}_update(e,n){let r;this._isMultiple()?(r=this._updateMultiple(e,n),this.updateOverflowItemCount(r.size)):r=this._updateSingle(e,n),this._adapter.updateSelection(r),this.updateOptionsActiveStatus(r,n)}_updateSingle(e,n){let r=new Map,{onChangeWithObject:i}=this.getProps(),o=i&&void 0!==e?e.value:e,a=n.filter(e=>e.value===o),s=!a.length&&null!=o;if(a.length){let e=a[0],n=Object.assign({},e);r.set(n.label,n)}else if(s){let n={value:e,label:e,_notExist:!0,_scrollIndex:-1};i&&(n=Object.assign(Object.assign({},e),{_notExist:!0,_scrollIndex:-1})),r.set(n.label,n)}return r}_updateMultiple(e,n){let r=this.getState("selections"),i=[],a=Array.isArray(e);this.checkMultipleProps(),r.size&&(i=[...r].map(e=>e[1]));let s=new Map,l=e,{onChangeWithObject:u}=this.getProps();return u&&a&&(l=e.map(e=>e.value)),a&&l.length&&l.forEach((r,a)=>{let l=n.findIndex(e=>e.value===r);if(-1!==l)s.set(n[l].label,n[l]);else{let n=i.findIndex(e=>e.value===r);if(-1!==n){let r=i[n];if(u){let n=Object.assign({},e[a]);(0,o.default)(n,r)?s.set(r.label,r):s.set(n.label,n)}else s.set(r.label,r)}else{let n={value:r,label:r,_notExist:!0};u&&(n=Object.assign(Object.assign({},e[a]),{_notExist:!0})),s.set(n.label,Object.assign(Object.assign({},n),{_scrollIndex:-1}))}}}),s}_isMultiple(){return this.getProp("multiple")}_isDisabled(){return this.getProp("disabled")}_isFilterable(){return!!this.getProp("filter")}handleClick(e){let{clickToHide:n}=this.getProps(),{isOpen:r}=this.getStates(),i=this._isDisabled();if(!i)r?r&&n?this.close({event:e}):r&&!n&&this.focusInput():(this.open(),this._notifyFocus(e))}open(e,n){let r=this._isFilterable(),i=n||this.getState("options");if(r){let e=this._filterOption(i,"").filter(e=>!e._inputCreateOnly);this._adapter.updateOptions(e),this.toggle2SearchInput(!0)}else this._adapter.updateFocusState(!0);this._adapter.openMenu(()=>{let{searchPosition:e,autoFocus:n}=this.getProps();n&&e===p.strings.SEARCH_POSITION_DROPDOWN&&this._adapter.focusDropdownInput()}),this._setDropdownWidth(),this._adapter.notifyDropdownVisibleChange(!0),this.bindKeyBoardEvent(),this._adapter.registerClickOutsideHandler(e=>{this.close({event:e}),this._notifyBlur(e),this._adapter.updateFocusState(!1)})}toggle2SearchInput(e){e?this._adapter.toggleInputShow(e,()=>this.focusInput()):this._adapter.toggleInputShow(e,()=>void 0)}close(e){let{event:n,closeCb:r,notToggleInput:i}=e||{},{isFocus:o}=this.getStates();this._adapter.closeMenu(),this._adapter.notifyDropdownVisibleChange(!1),this._adapter.setIsFocusInContainer(!1),o&&this._focusTrigger(),this._adapter.unregisterClickOutsideHandler();let a=this._isFilterable();a&&!i&&this.toggle2SearchInput(!1),this._adapter.once("popoverClose",()=>{a&&this.clearInput(n),r&&r()})}onSelect(e,n,r){let i=this._isDisabled();if(i)return;e._inputCreateOnly&&this._adapter.notifyCreate(e);let o=this._isMultiple();o?this._handleMultipleSelect(e,r):this._handleSingleSelect(e,r),this._adapter.updateFocusIndex(n)}_handleSingleSelect(e,n){var{value:r,label:i}=e,o=g(e,["value","label"]);let a=new Map().set(i,Object.assign({value:r,label:i},o));this._notifySelect(r,Object.assign({value:r,label:i},o));let s=this._isFilterable();this._isControlledComponent()?this.close({event:n,notToggleInput:!0,closeCb:()=>{this._notifyChange(a),s&&this.toggle2SearchInput(!1)}}):(this._adapter.updateSelection(a),this._notifyChange(a),this.close({event:n,closeCb:()=>{this.updateOptionsActiveStatus(a)}}))}_handleMultipleSelect(e,n){var{value:r,label:o}=e,a=g(e,["value","label"]);let s=this._adapter.getMaxLimit(),l=this._adapter.getSelections(),{autoClearSearchValue:u}=this.getProps();if(l.has(o))this._notifyDeselect(r,Object.assign({value:r,label:o},a)),l.delete(o);else if(s&&l.size===s){this._adapter.notifyMaxLimit(Object.assign({value:r,label:o},(0,i.default)(a,"_scrollIndex")));return}else this._notifySelect(r,Object.assign({value:r,label:o},a)),l.set(o,Object.assign({value:r,label:o},a));if(this._isControlledComponent())this._notifyChange(l),this._isFilterable()&&(u&&this.clearInput(n),this.focusInput());else{this._adapter.updateSelection(l),this.updateOverflowItemCount(l.size),this._adapter.rePositionDropdown();let{options:e}=this.getStates();if(this._isFilterable()){if(u){this.clearInput(n);e=this._filterOption(e,"")}this.focusInput()}this.updateOptionsActiveStatus(l,e),this._notifyChange(l)}}clearSelected(){let e=new Map;this._isControlledComponent()?(this._notifyChange(e),this._adapter.notifyClear()):(this._adapter.updateSelection(e),this.updateOptionsActiveStatus(e),this._notifyChange(e),this._adapter.notifyClear());let{isOpen:n}=this.getStates();n&&this._adapter.rePositionDropdown()}updateOptionsActiveStatus(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getState("options"),{allowCreate:r}=this.getProps(),i=n.map(n=>(e.has(n.label)?(n._selected=!0,r&&delete n._inputCreateOnly):(n._inputCreateOnly&&(n._show=!1),n._selected=!1),n));this._adapter.updateOptions(i)}removeTag(e){let n=this._adapter.getSelections();n.delete(e.label),this._isControlledComponent()?(this._notifyDeselect(e.value,e),this._notifyChange(n)):(this._notifyDeselect(e.value,e),this._adapter.updateSelection(n),this.updateOverflowItemCount(n.size),this.updateOptionsActiveStatus(n),this._adapter.rePositionDropdown(),this._notifyChange(n))}clearInput(e){let{inputValue:n}=this.getStates();if(""!==n){this._adapter.updateInputValue(""),this._adapter.notifySearch("",e);let{options:n}=this.getStates(),{remote:r}=this.getProps(),i=n;!r&&(i=this._filterOption(n,"")),this._adapter.updateOptions(i)}}focusInput(){this._adapter.focusInput(),this._adapter.updateFocusState(!0),this._adapter.setIsFocusInContainer(!1)}handleInputChange(e,n){this._adapter.updateInputValue(e);let{options:r,isOpen:i}=this.getStates(),{allowCreate:o,remote:a}=this.getProps(),s=r;!a&&(s=this._filterOption(r,e)),s=this._createOptionByInput(o,s,e),this._adapter.updateOptions(s),this._adapter.notifySearch(e,n),this._isMultiple()&&this._adapter.rePositionDropdown()}_filterOption(e,n){let r=this.getProp("filter");if(!r)return e;if("boolean"==typeof r&&r){let r=n.toLowerCase();return e.map(e=>{let n=e.label.toString().toLowerCase(),i=e._parentGroup&&e._parentGroup.label,o=n.includes(r),s=(0,a.default)(i)&&i.toLowerCase().includes(r);return o||s?e._show=!0:e._show=!1,e})}if("function"==typeof r)return e.map(e=>(r(n,e)?e._show=!0:e._show=!1,e))}_createOptionByInput(e,n,r){if(e){if(r){let e=-1,i=-1;n.forEach((n,o)=>{(n._show||n._inputCreateOnly)&&(n.label===r&&(i=o),n._inputCreateOnly&&(e=o,n.value=r,n.label=r,n._show=!0))}),-1===e&&-1===i&&n.push({_show:!0,_selected:!1,value:r,label:r,_inputCreateOnly:!0}),-1!==i&&(n=n.filter(e=>!e._inputCreateOnly))}else n=n.filter(e=>!e._inputCreateOnly)}return n}bindKeyBoardEvent(){this._keydownHandler=e=>{this._handleKeyDown(e)},this._adapter.registerKeyDown(this._keydownHandler)}unBindKeyBoardEvent(){this._keydownHandler&&this._adapter.unregisterKeyDown()}_handleKeyDown(e){let n=e.keyCode,{loading:r,filter:i,multiple:o,disabled:a}=this.getProps(),{isOpen:s}=this.getStates();if(!r&&!a)switch(n){case u.default.UP:e.preventDefault(),this._handleArrowKeyDown(-1);break;case u.default.DOWN:e.preventDefault(),this._handleArrowKeyDown(1);break;case u.default.BACKSPACE:this._handleBackspaceKeyDown();break;case u.default.ENTER:(0,f.handlePrevent)(e),this._handleEnterKeyDown(e);break;case u.default.ESC:s&&this.close({event:e}),i&&!o&&this._focusTrigger();break;case u.default.TAB:this._handleTabKeyDown(e)}}handleContainerKeyDown(e){let n=e.keyCode,{isOpen:r}=this.getStates();if(n===u.default.TAB)r&&this._handleTabKeyDown(e)}_getEnableFocusIndex(e){let{focusIndex:n,options:r}=this.getStates(),i=r.filter(e=>e._show),o=i.length,a=n+e;if(a<0&&(a=o-1),a>=o&&(a=0),e>0){let e=-1;for(let n=0;n<i.length;n++){let r=!i[n].disabled;if(r&&(e=n),e>=a)break}a=e}else{let e=i.length;for(let n=o-1;n>=0;n--){let r=!i[n].disabled;if(r&&(e=n),e<=a)break}a=e}this._adapter.updateFocusIndex(a),this._adapter.updateScrollTop(a)}_handleArrowKeyDown(e){let{isOpen:n}=this.getStates();n?this._getEnableFocusIndex(e):this.open()}_handleTabKeyDown(e){let{isOpen:n}=this.getStates();if(this._adapter.updateFocusState(!1),n){let n=this._adapter.getContainer(),r=this._adapter.getFocusableElements(n),i=r.length;i>0?e.shiftKey?this._handlePanelOpenShiftTabKeyDown(r,e):this._handlePanelOpenTabKeyDown(r,e):(this.close({event:e}),this._notifyBlur(e))}else this._notifyBlur(e)}_handlePanelOpenTabKeyDown(e,n){let r=this._adapter.getActiveElement(),i=this._adapter.getIsFocusInContainer();i?r===e[e.length-1]&&(this._focusTrigger(),this.close({event:n}),(0,f.handlePrevent)(n)):(e[0].focus(),this._adapter.setIsFocusInContainer(!0),(0,f.handlePrevent)(n))}_handlePanelOpenShiftTabKeyDown(e,n){let r=this._adapter.getActiveElement(),i=this._adapter.getIsFocusInContainer();i?r===e[0]&&(this._focusTrigger(),this._adapter.setIsFocusInContainer(!1),(0,f.handlePrevent)(n)):(this.close({event:n}),this._notifyBlur(n))}_handleEnterKeyDown(e){let{isOpen:n,options:r,focusIndex:i}=this.getStates();if(n){if(-1!==i){let n=r.filter(e=>e._show),{length:o}=n;if(o<=i)return;if(n&&o){let r=n[i];if(r.disabled)return;this.onSelect(r,i,e)}}else this.close({event:e})}else this.open()}_handleBackspaceKeyDown(){if(this._isMultiple()){let e=this._adapter.getSelections(),{inputValue:n}=this.getStates(),r=e.size;if(r&&!n){let n=[...e.keys()],i=r-1,o=n[i],a=e.get(o),s=!1;if(a.disabled&&0===i)return;for(;a.disabled&&0!==i;)i-=1,o=n[i],a=e.get(o),0==i&&a.disabled&&(s=!0);!s&&this.removeTag(a)}}}_notifyChange(e){let n;let{onChangeWithObject:r}=this.getProps(),i=this.getState("selections"),o=[...e.values()],a=this._isMultiple(),s=this._diffSelections(e,i,a);if(s)switch(!0){case r:this._notifyChangeWithObject(e);break;case!r&&!a:n=o.length?o[0].value:void 0,this._adapter.notifyChange(n);break;case!r&&a:n=o.length?o.map(e=>e.value):[],this._adapter.notifyChange(n)}}_removeInternalKey(e){let n=Object.assign({},e);return delete n._parentGroup,delete n._show,delete n._selected,delete n._scrollIndex,delete n._keyInJsx,"_keyInOptionList"in n&&(n.key=n._keyInOptionList,delete n._keyInOptionList),n}_notifySelect(e,n){let r=this._removeInternalKey(n);this._adapter.notifySelect(e,r)}_notifyDeselect(e,n){let r=this._removeInternalKey(n);this._adapter.notifyDeselect(e,r)}_diffSelections(e,n,r){let i=!0,a=!0;if(!r){let r=[...e.values()],s=[...n.values()],l=r[0]?r[0].value:r[0],u=s[0]?s[0].value:s[0];a=!(0,o.default)(l,u);let c=r[0]?r[0].label:r[0],d=s[0]?s[0].label:s[0];i=!(0,o.default)(c,d)}return a||i}_notifyChangeWithObject(e){this.getState("selections");let n=[];for(let r of e.entries()){let e=Object.assign({label:r[0]},r[1]);e=this._removeInternalKey(e),n.push(e)}this._isMultiple()?this._adapter.notifyChange(n):this._adapter.notifyChange(n[0])}_notifyBlur(e){this._adapter.notifyBlur(e)}_notifyFocus(e){this._adapter.notifyFocus(e)}handleMouseEnter(e){this._adapter.updateHovering(!0),this._adapter.notifyMouseEnter(e)}handleMouseLeave(e){this._adapter.updateHovering(!1),this._adapter.notifyMouseLeave(e)}handleClearClick(e){let{filter:n,searchPosition:r}=this.getProps();n&&r===p.strings.SEARCH_POSITION_TRIGGER&&this.clearInput(e),this.focus(),this.clearSelected(),e.stopPropagation()}handleKeyPress(e){e&&e.key===u.ENTER_KEY&&this.handleClick(e)}handleClearBtnEnterPress(e){(0,h.default)(e)&&this.handleClearClick(e)}handleOptionMouseEnter(e){this._adapter.updateFocusIndex(e)}handleListScroll(e){this._adapter.notifyListScroll(e)}handleTriggerFocus(e){this.bindKeyBoardEvent(),this._adapter.setIsFocusInContainer(!1)}handleTriggerBlur(e){let{filter:n,autoFocus:r}=this.getProps(),{isOpen:i,isFocus:o}=this.getStates();o&&!i&&(this._notifyBlur(e),this._adapter.updateFocusState(!1))}handleInputBlur(e){let{filter:n,autoFocus:r}=this.getProps(),{showInput:i,isOpen:o}=this.getStates(),a=this._isMultiple();n&&!a&&(i||r)&&!o&&this.toggle2SearchInput(!1)}selectAll(){let{options:e}=this.getStates(),{onChangeWithObject:n}=this.getProps(),r=[],i=this._isMultiple();if(!i){console.warn(`[Semi Select]: It seems that you have called the selectAll method in the single-selection Select.
                Please note that this is not a legal way to use it`);return}r=n?e:e.map(e=>e.value),this.handleValueChange(r),this._adapter.notifyChange(r)}checkMultipleProps(e){if(this._isMultiple()){let n=e||this.getProps(),{defaultValue:r,value:i}=n,o=i||r;!(0,d.default)(o)&&!Array.isArray(o)&&(0,c.default)(!0,"[Semi Select] defaultValue/value should be array type in multiple mode")}}updateScrollTop(){this._adapter.updateScrollTop()}updateOverflowItemCount(e,n){let{maxTagCount:r,ellipsisTrigger:i}=this.getProps();i&&(n?this._adapter.updateOverflowItemCount(n):"number"==typeof r&&(e-r>0?this._adapter.updateOverflowItemCount(e-r):this._adapter.updateOverflowItemCount(0)))}updateIsFullTags(){let{isFullTags:e}=this.getStates();!e&&this._adapter.setState({isFullTags:!0})}handlePopoverClose(){this._adapter.emit("popoverClose")}handleSlotMouseEnter(){this._adapter.updateFocusIndex(-1)}}},73559:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"cssClasses",{enumerable:!0,get:function(){return o}});var i=r("12864");let o={PREFIX:`${i.BASE_CLASS_PREFIX}-skeleton`}},15863:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{cssClasses:function(){return o},strings:function(){return a}});var i=r("12864");let o={PREFIX:`${i.BASE_CLASS_PREFIX}-space`},a={ALIGN_SET:["start","end","center","baseline"],SPACING_LOOSE:"loose",SPACING_MEDIUM:"medium",SPACING_TIGHT:"tight"}},50771:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{cssClasses:function(){return a},strings:function(){return s}});var i=r("12864");let o=`${i.BASE_CLASS_PREFIX}-spin`,a={PREFIX:o},s={SIZE:["small","middle","large"]}},33225:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var i=r.ir(r("89967"));class o extends i.default{static get spinDefaultAdapter(){return{getProp:()=>void 0,setLoading:e=>void 0}}constructor(e){super(Object.assign(Object.assign({},o.spinDefaultAdapter),e))}updateLoadingIfNeedDelay(){let{spinning:e,delay:n}=this._adapter.getProps(),{delay:r}=this._adapter.getStates();if(r){let r=this;this._timer=setTimeout(()=>{r._adapter.setState({loading:e,delay:0})},n)}}destroy(){this._timer&&(clearTimeout(this._timer),this._timer=null)}}var a=o},50855:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{cssClasses:function(){return o},strings:function(){return a}});var i=r("12864");let o={PREFIX:`${i.BASE_CLASS_PREFIX}-tag`},a={TAG_SIZE:["default","small","large"],TAG_COLOR:["grey","red","pink","purple","violet","indigo","blue","light-blue","cyan","teal","green","light-green","lime","yellow","amber","orange","white"],TAG_TYPE:["light","solid","ghost"],AVATAR_SHAPE:["square","circle"]}},17717:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{cssClasses:function(){return o},strings:function(){return a}});var i=r("12864");let o={PREFIX:`${i.BASE_CLASS_PREFIX}-tagInput`},a={SIZE_SET:["large","default","small"],STATUS:["success","default","error","warning"]}},48031:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return p}});var i=r.ir(r("83910")),o=r.ir(r("8250")),a=r.ir(r("15135")),s=r.ir(r("94228")),l=r.ir(r("89967")),u=r.ir(r("73075")),c=r.ir(r("5185")),d=r.ir(r("31448")),h=r.ir(r("5210"));class f extends l.default{constructor(e){super(Object.assign({},e)),this.handleInputChange=e=>{let{value:n}=e.target,{entering:r}=this.getStates();r?this._onInputChange(n,e):this._checkInputChangeValid(n)&&this._onInputChange(n,e)},this.handleInputCompositionStart=e=>{let{maxLength:n}=this.getProps();(0,a.default)(n)&&this._adapter.setEntering(!0)},this.handleInputCompositionEnd=e=>{let{value:n}=e.target,{maxLength:r,onInputExceed:i,separator:s}=this.getProps();if(!(0,a.default)(r))return;this._adapter.setEntering(!1);let l=!0,u=(0,c.default)(n,s),d=0;for(;d<u.length;d++)if(u[d].length>r){l=!1,(0,o.default)(i)&&i(n);break}if(l)this._adapter.setInputValue(n);else{let e=u.slice(0,d);d<u.length&&e.push(u[d].slice(0,r)),this._adapter.setInputValue(e.join(s))}},this._checkInputChangeValid=e=>{let{maxLength:n,onInputExceed:r,separator:s}=this._adapter.getProps(),{inputValue:l}=this._adapter.getStates(),u=!0;if((0,a.default)(n)){let a=(0,c.default)(e,s),d=(0,c.default)(l,s),h=Math.max(a.length,d.length);for(let s=0;s<h;s++)if(!(0,i.default)(a[s])&&((0,i.default)(d[s])||a[s].length>d[s].length)&&a[s].length>n){u=!1,(0,o.default)(r)&&r(e);break}}return u},this.handleKeyDown=e=>{let{inputValue:n,tagsArray:r}=this._adapter.getStates(),i=e.keyCode;i===u.default.ENTER&&(e.preventDefault(),""!==n&&this._handleAddTags(e));let{length:o}=r;if(i===u.default.BACKSPACE&&""===n&&o>0){let e=r.slice(0,o-1),n=r[o-1];this._onRemove(e,n,o-1)}this._adapter.notifyKeyDown(e)}}_handleAddTags(e){let{separator:n,max:r,onExceed:i,allowDuplicates:l}=this._adapter.getProps(),{inputValue:u,tagsArray:d}=this._adapter.getStates(),h=(0,c.default)(u,n);h=h.filter((e,n)=>!(!l&&(d.includes(e)||h.indexOf(e)!==n))&&(0,s.default)(e)&&""!==e.trim());let f=d.concat(h);(0,a.default)(r)&&f.length>r&&((0,o.default)(i)&&i(f),f=f.slice(0,r),h=h.slice(0,r-d.length)),h.length>0&&this._onAdd(f,h),this._onInputChange("",e)}handleInputBlur(e){let{addOnBlur:n}=this._adapter.getProps();!0===n&&this._handleAddTags(e),this._adapter.setFocusing(!1),this._adapter.notifyBlur(e)}handleInputFocus(e){this._adapter.setFocusing(!0),this._adapter.notifyFocus(e)}handleClearEnterPress(e){(0,d.default)(e)&&this.handleClearBtn(e)}handleClearBtn(e){let{inputValue:n,tagsArray:r}=this._adapter.getStates();r.length>0&&(this._adapter.setTagsArray([]),this._adapter.notifyTagChange([])),n.length>0&&this._onInputChange("",e),e.stopPropagation()}handleTagClose(e){let{tagsArray:n}=this._adapter.getStates(),r=[...n];r.splice(e,1);let i=n[e];this._onRemove(r,i,e)}handleInputMouseEnter(){this._adapter.setHovering(!0)}handleInputMouseLeave(){this._adapter.setHovering(!1)}handleClick(e){let{disabled:n}=this.getProps();if(n)return;let r=this._adapter.getClickOutsideHandler();!r&&(this._adapter.setActive(!0),this._adapter.registerClickOutsideHandler(e=>this.clickOutsideCallBack()))}clickOutsideCallBack(){this._adapter.unregisterClickOutsideHandler(),this._adapter.setActive(!1)}handleClickPrefixOrSuffix(e){let{disabled:n}=this._adapter.getProps(),{isFocus:r}=this._adapter.getStates();!n&&!r&&this._adapter.toggleFocusing(!0)}handlePreventMouseDown(e){e&&(0,o.default)(e.preventDefault)&&e.preventDefault()}_onRemove(e,n,r){!this._isControlledComponent()&&this._adapter.setTagsArray(e),this._adapter.notifyTagChange(e),this._adapter.notifyTagRemove(n,r)}_onAdd(e,n){!this._isControlledComponent()&&this._adapter.setTagsArray(e),this._adapter.notifyTagChange(e),this._adapter.notifyTagAdd(n)}_onInputChange(e,n){this._adapter.setInputValue(e),this._adapter.notifyInputChange(e,n)}handleSortEnd(e){let{oldIndex:n,newIndex:r}=e,{tagsArray:i}=this.getStates(),o=(0,h.default)(i,n,r);!this._isControlledComponent()&&this._adapter.setTagsArray(o),this._adapter.notifyTagChange(o)}}var p=f},5185:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var i=r.ir(r("15135")),o=r.ir(r("17987")),a=r.ir(r("94228")),s=(e,n)=>{let r=[];if((0,a.default)(n)||(0,i.default)(n))r=e.split(n);else if((0,o.default)(n)){let i=n[0];r=e;for(let e=1;e<n.length;e++)r=r.split(n[e]).join(i);r=r.split(i)}else r.push(e);return r}},95185:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{cssClasses:function(){return a},strings:function(){return s},numbers:function(){return l}});var i=r("12864");let o=`${i.BASE_CLASS_PREFIX}-toast`,a={PREFIX:o,WRAPPER:`${o}-wrapper`,LIST:`${o}-list`},s={types:["warning","success","info","error","default"],themes:["normal","light"],directions:["ltr","rtl"]},l={duration:3}},49486:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var i=r.ir(r("15135")),o=r.ir(r("89967"));class a extends o.default{constructor(e){super(Object.assign(Object.assign({},a.defaultAdapter),e)),this._timer=null,this._id=null}init(){this.startCloseTimer_(),this._id=this._adapter.getProp("id")}destroy(){this.clearCloseTimer_()}startCloseTimer_(){let e=this._adapter.getProp("duration");e&&(0,i.default)(e)&&(this._timer=setTimeout(()=>{this.close()},1e3*e))}close(e){e&&e.stopPropagation(),this._adapter.notifyWrapperToRemove(this._id),this._adapter.notifyClose()}clearCloseTimer_(){this._timer&&(clearTimeout(this._timer),this._timer=null)}restartCloseTimer(){this.clearCloseTimer_(),this.startCloseTimer_()}}},87325:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var i=r.ir(r("89967"));class o extends i.default{constructor(e){super(Object.assign(Object.assign({},o.defaultAdapter),e)),this.handleMouseInSideChange=e=>{this._adapter.handleMouseInSideChange(e)},this.getInputWrapperRect=()=>this._adapter.getInputWrapperRect()}hasToast(e){let n=this._adapter.getState("list");return n.map(e=>{let{id:n}=e;return n}).includes(e)}addToast(e){let n=this._adapter.getState("list");n.push(e),this._adapter.updateToast(n,[],[])}updateToast(e,n){let r=this._adapter.getState("list");r=r.map(r=>r.id===e?Object.assign(Object.assign({},r),n):r);let i=r.filter(n=>n.id===e);this._adapter.updateToast(r,[],i)}removeToast(e){let n=this._adapter.getState("list"),r=[];n=n.filter(n=>n.id!==e||(r.push(n),!1)),this._adapter.updateToast(n,r,[])}destroyAll(){let e=this._adapter.getState("list");e.length>0&&this._adapter.updateToast([],e,[])}}},74168:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{cssClasses:function(){return o},strings:function(){return a},numbers:function(){return s}});var i=r("12864");let o={PREFIX:`${i.BASE_CLASS_PREFIX}-tooltip`},a={POSITION_SET:["top","topLeft","topRight","left","leftTop","leftBottom","right","rightTop","rightBottom","bottom","bottomLeft","bottomRight","leftTopOver","rightTopOver","leftBottomOver","rightBottomOver"],TRIGGER_SET:["hover","focus","click","custom","contextMenu"],STATUS_DISABLED:"disabled",STATUS_LOADING:"loading"},s={ARROW_BOUNDING:{offsetX:0,offsetY:2,width:24,height:7},DEFAULT_Z_INDEX:1060,MOUSE_ENTER_DELAY:50,MOUSE_LEAVE_DELAY:50,SPACING:8,MARGIN:0}},97550:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return c}});var i=r.ir(r("38691")),o=r.ir(r("15478")),a=r.ir(r("89967")),s=r("79297");let l={TOP:/top/i,RIGHT:/right/i,BOTTOM:/bottom/i,LEFT:/left/i},u={left:0,top:0,height:0,width:0,scrollLeft:0,scrollTop:0};class c extends a.default{constructor(e){var n;super(Object.assign({},e)),n=this,this.removePortal=()=>{this._adapter.removePortal()},this.setDisplayNone=(e,n)=>{this._adapter.setDisplayNone(e,n)},this.updateStateIfCursorOnTrigger=e=>{var n,r;if(null===(n=null==e?void 0:e.matches)||void 0===n?void 0:n.call(e,":hover")){let e=this._adapter.getEventName(),n=this.getState("triggerEventSet");null===(r=n[e.mouseEnter])||void 0===r||r.call(n)}},this.onResize=()=>{let e=this.getState("visible");e&&this.calcPosition()},this.delayShow=()=>{let e=this.getProp("mouseEnterDelay");this.clearDelayTimer(),e>0?this._timer=setTimeout(()=>{this.show(),this.clearDelayTimer()},e):this.show()},this.show=()=>{if(this._adapter.getAnimatingState())return;let e=this.getProp("content"),n=this.getProp("trigger"),r=this.getProp("clickTriggerToHide"),{visible:i,displayNone:o}=this.getStates();if(o&&this.setDisplayNone(!1),!i){if(this.clearDelayTimer(),this._adapter.on("portalInserted",()=>{this.calcPosition()}),"hover"===n){let e=()=>{var r;let i=this._adapter.getTriggerDOM();n&&!(null===(r=null==i?void 0:i.matches)||void 0===r?void 0:r.call(i,":hover"))&&this.hide(),this._adapter.off("portalInserted",e)};this._adapter.on("portalInserted",e)}this._adapter.on("positionUpdated",()=>{this._togglePortalVisible(!0)}),this._adapter.insertPortal(e,{left:-9999,top:-9999}),"custom"===n&&this._adapter.registerClickOutsideHandler(()=>{}),("click"===n||r||"contextMenu"===n)&&this._adapter.registerClickOutsideHandler(this.hide),this._bindScrollEvent(),this._bindResizeEvent()}},this.calcPosition=function(e,r,o){let a=!(arguments.length>3)||void 0===arguments[3]||arguments[3];e=((0,i.default)(e)?n._adapter.getTriggerBounding():e)||Object.assign({},u),o=((0,i.default)(o)?n._adapter.getPopupContainerRect():o)||Object.assign({},u),r=((0,i.default)(r)?n._adapter.getWrapperBounding():r)||Object.assign({},u);let s=n.calcPosStyle({triggerRect:e,wrapperRect:r,containerRect:o}),l=n.getProp("position");if(n.getProp("autoAdjustOverflow")){let{position:i,isHeightOverFlow:a,isWidthOverFlow:u}=n.adjustPosIfNeed(l,s,e,r,o);(l!==i||a||u)&&(l=i,s=n.calcPosStyle({triggerRect:e,wrapperRect:r,containerRect:o,position:l,spacing:null,isOverFlow:[a,u]}))}return a&&n._mounted&&n._adapter.setPosition(Object.assign(Object.assign({},s),{position:l})),s},this.delayHide=()=>{let e=this.getProp("mouseLeaveDelay");this.clearDelayTimer(),e>0?this._timer=setTimeout(()=>{this.hide(),this.clearDelayTimer()},e):this.hide()},this.hide=()=>{this.clearDelayTimer(),this._togglePortalVisible(!1),this._adapter.off("portalInserted"),this._adapter.off("positionUpdated")},this.handleContainerKeydown=e=>{let{guardFocus:n,closeOnEsc:r}=this.getProps();switch(e&&e.key){case"Escape":r&&this._handleEscKeyDown(e);break;case"Tab":if(n){let n=this._adapter.getContainer(),r=this._adapter.getFocusableElements(n),i=r.length;i&&(e.shiftKey?this._handleContainerShiftTabKeyDown(r,e):this._handleContainerTabKeyDown(r,e))}}},this._timer=null}init(){let{wrapperId:e}=this.getProps();this._mounted=!0,this._bindEvent(),this._shouldShow(),this._initContainerPosition(),!e&&this._adapter.setId()}destroy(){this._mounted=!1,this.unBindEvent()}_bindEvent(){let e=this.getProp("trigger"),{triggerEventSet:n,portalEventSet:r}=this._generateEvent(e);this._bindTriggerEvent(n),this._bindPortalEvent(r),this._bindResizeEvent()}unBindEvent(){this._adapter.unregisterClickOutsideHandler(),this.unBindResizeEvent(),this.unBindScrollEvent(),clearTimeout(this._timer)}_bindTriggerEvent(e){this._adapter.registerTriggerEvent(e)}_bindPortalEvent(e){this._adapter.registerPortalEvent(e)}_bindResizeEvent(){this._adapter.registerResizeHandler(this.onResize)}unBindResizeEvent(){this._adapter.unregisterResizeHandler(this.onResize)}_adjustPos(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"reverse",i=arguments.length>3?arguments[3]:void 0;switch(r){case"reverse":default:return this._reversePos(e,n);case"expand":return this._expandPos(e,i);case"reduce":return this._reducePos(e)}}_reversePos(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n){if(l.TOP.test(e))return e.replace("top","bottom").replace("Top","Bottom");if(l.BOTTOM.test(e))return e.replace("bottom","top").replace("Bottom","Top")}else if(l.LEFT.test(e))return e.replace("left","right").replace("Left","Right");else if(l.RIGHT.test(e))return e.replace("right","left").replace("Right","Left");return e}_expandPos(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0;return e.concat(n)}_reducePos(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=["Top","Bottom","Left","Right"].find(n=>e.endsWith(n));return n?e.replace(n,""):e}clearDelayTimer(){this._timer&&(clearTimeout(this._timer),this._timer=null)}_generateEvent(e){let n=this._adapter.getEventName(),r={[n.keydown]:e=>{this._handleTriggerKeydown(e)}},i={};switch(e){case"focus":r[n.focus]=()=>{this.delayShow()},r[n.blur]=()=>{this.delayHide()},i=r;break;case"click":r[n.click]=()=>{this.show()},i={};break;case"hover":r[n.mouseEnter]=()=>{this.setCache("isClickToHide",!1),this.delayShow()},r[n.mouseLeave]=()=>{this.delayHide()},r[n.focus]=()=>{let{disableFocusListener:e}=this.getProps();e||this.delayShow()},r[n.blur]=()=>{let{disableFocusListener:e}=this.getProps();e||this.delayHide()},i=Object.assign({},r),this.getProp("clickToHide")&&(i[n.click]=()=>{this.setCache("isClickToHide",!0),this.hide()},i[n.mouseEnter]=()=>{!this.getCache("isClickToHide")&&this.delayShow()});break;case"custom":break;case"contextMenu":r[n.contextMenu]=e=>{e.preventDefault(),this.show()}}return{triggerEventSet:r,portalEventSet:i}}_shouldShow(){let e=this.getProp("visible");e&&this.show()}_togglePortalVisible(e){let n=this.getState("visible"),r=this.getState("isInsert");(n!==e||r!==e)&&this._adapter.togglePortalVisible(e,()=>{e&&this._adapter.setInitialFocus(),this._adapter.notifyVisibleChange(e)})}_roundPixel(e){return"number"==typeof e?Math.round(e):e}calcTransformOrigin(e,n,r,i){if(e&&n&&null!=r&&null!=i){if(this.getProp("transformFromCenter")){if(["topLeft","bottomLeft"].includes(e))return`${this._roundPixel(n.width/2)}px ${-(100*i)}%`;if(["topRight","bottomRight"].includes(e))return`calc(100% - ${this._roundPixel(n.width/2)}px) ${-(100*i)}%`;if(["leftTop","rightTop"].includes(e))return`${-(100*r)}% ${this._roundPixel(n.height/2)}px`;if(["leftBottom","rightBottom"].includes(e))return`${-(100*r)}% calc(100% - ${this._roundPixel(n.height/2)}px)`}return`${-(100*r)}% ${-(100*i)}%`}return null}calcPosStyle(e){var n;let r,a;let{spacing:s,isOverFlow:l}=e,{innerWidth:c}=window,d=((0,i.default)(e.triggerRect)?e.triggerRect:this._adapter.getTriggerBounding())||Object.assign({},u),h=((0,i.default)(e.containerRect)?e.containerRect:this._adapter.getPopupContainerRect())||Object.assign({},u),f=((0,i.default)(e.wrapperRect)?e.wrapperRect:this._adapter.getWrapperBounding())||Object.assign({},u),p=null!=e.position?e.position:this.getProp("position"),g=null!=s?s:this.getProp("spacing"),{arrowPointAtCenter:y,showArrow:m,arrowBounding:b}=this.getProps(),_=m&&y,w=g,E=0;if("number"!=typeof g){let e=p.includes("top")||p.includes("bottom");w=e?g.y:g.x,E=e?g.x:g.y}let x=(0,o.default)(b,"width",24),C=(0,o.default)(b,"width",24),S=(0,o.default)(b,"offsetY",0),O=0,M=0,P=d.left+d.width/2,D=d.top+d.height/2,I=6+x/2,j=6+C/2,N=f.height-h.height,T=f.width-h.width,k=N>0?N:0,A=T>0?T:0,R=l&&l[0],L=l&&l[1],F=P-h.left<h.right-P,z=D-h.top<h.bottom-D,B=f.width>c,V=Math.abs((null==f?void 0:f.width)-(null===(n=this._adapter.getContainer())||void 0===n?void 0:n.clientWidth))>1;switch(V&&(w=w*f.width/this._adapter.getContainer().clientWidth),p){case"top":r=L?F?h.left+f.width/2:h.right-f.width/2+A:P+E,a=R?h.bottom+k:d.top-w,O=-.5,M=-1;break;case"topLeft":r=L?B?h.left:h.right-f.width:_?P-I+E:d.left+E,a=R?h.bottom+k:d.top-w,M=-1;break;case"topRight":r=L?h.right+A:_?P+I+E:d.right+E,a=R?h.bottom+k:d.top-w,M=-1,O=-1;break;case"left":r=L?h.right+A-w+I:d.left-w,a=R?z?h.top+f.height/2:h.bottom-f.height/2+k:D+E,O=-1,M=-.5;break;case"leftTop":r=L?h.right+A-w+I:d.left-w,a=R?h.top:_?D-j+E:d.top+E,O=-1;break;case"leftBottom":r=L?h.right+A-w+I:d.left-w,a=R?h.bottom+k:_?D+j+E:d.bottom+E,O=-1,M=-1;break;case"bottom":r=L?F?h.left+f.width/2:h.right-f.width/2+A:P+E,a=R?h.top+j-w:d.top+d.height+w,O=-.5;break;case"bottomLeft":r=L?B?h.left:h.right-f.width:_?P-I+E:d.left+E,a=R?h.top+j-w:d.top+d.height+w;break;case"bottomRight":r=L?h.right+A:_?P+I+E:d.right+E,a=R?h.top+j-w:d.top+d.height+w,O=-1;break;case"right":r=L?h.left-w+I:d.right+w,a=R?z?h.top+f.height/2:h.bottom-f.height/2+k:D+E,M=-.5;break;case"rightTop":r=L?h.left-w+I:d.right+w,a=R?h.top:_?D-j+E:d.top+E;break;case"rightBottom":r=L?h.left-w+I:d.right+w,a=R?h.bottom+k:_?D+j+E:d.bottom+E,M=-1;break;case"leftTopOver":r=d.left-w,a=d.top-w;break;case"rightTopOver":r=d.right+w,a=d.top-w,O=-1;break;case"leftBottomOver":r=d.left-w,a=d.bottom+w,M=-1;break;case"rightBottomOver":r=d.right+w,a=d.bottom+w,O=-1,M=-1}let $=this.calcTransformOrigin(p,d,O,M),U=this._adapter.containerIsBody();if(r-=h.left,a-=h.top,V&&(r/=f.width/this._adapter.getContainer().clientWidth),V&&(a/=f.height/this._adapter.getContainer().clientHeight),U&&!this._adapter.containerIsRelativeOrAbsolute()){let e=this._adapter.getDocumentElementBounding();r+=h.left-e.left,a+=h.top-e.top}r=U?r:r+h.scrollLeft,a=U?a:a+h.scrollTop;let H=d.height;if(this.getProp("showArrow")&&!y&&H<=(C/2+S)*2){let e=H/2-(S+C/2);(p.includes("Top")||p.includes("Bottom"))&&!p.includes("Over")&&(a=p.includes("Top")?a+e:a-e)}let W={left:this._roundPixel(r),top:this._roundPixel(a)},K="";return null!=O&&(K+=`translateX(${100*O}%) `,Object.defineProperty(W,"translateX",{enumerable:!1,value:O})),null!=M&&(K+=`translateY(${100*M}%) `,Object.defineProperty(W,"translateY",{enumerable:!1,value:M})),null!=$&&(W.transformOrigin=$),K&&(W.transform=K),W}isLR(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.includes("left")||e.includes("right")}isTB(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.includes("top")||e.includes("bottom")}isReverse(e,n,r){return e<r&&n>r}isOverFlow(e,n,r){return e<r&&n<r}isHalfOverFlow(e,n,r){return e<r||n<r}isHalfAllEnough(e,n,r){return e>=r||n>=r}getReverse(e,n,r,i){return e&&i||r}adjustPosIfNeed(e,n,r,i,o){let{innerWidth:a,innerHeight:s}=window,{margin:l}=this.getProps(),u="number"==typeof l?l:l.marginLeft,c="number"==typeof l?l:l.marginTop,d="number"==typeof l?l:l.marginRight,h="number"==typeof l?l:l.marginBottom,f=!1,p=!1,g=this.getProp("spacing"),y=g,m=0;if("number"!=typeof g){let n=e.includes("top")||e.includes("bottom");y=n?g.y:g.x,m=n?g.x:g.y}if(i.width>0&&i.height>0){let n=r.left,l=r.right,g=r.top,b=r.bottom,_=a-n,w=s-g,E=a-l,x=s-b,C=i.width>r.width,S=i.height>r.height,O=g-c<i.height+y&&x-h>i.height+y,M=n-u<i.width+y&&E-d>i.width+y,P=x-h<i.height+y&&g-c>i.height+y,D=E-d<i.width+y&&n-u>i.width+y;w-h<i.height+y&&i.height,b-c<i.height+y&&i.height;let I=w<i.height+m&&b>i.height+m,j=b<i.height+m&&w>i.height+m,N=_<i.width+m&&l>i.width+m,T=l<i.width+m&&_>i.width+m,k=w<i.height+y&&b>i.height+y,A=b<i.height+y&&w>i.height+y,R=_<i.width&&l>i.width,L=l<i.width&&_>i.width,F=g-o.top,z=n-o.left,B=F+r.height,V=z+r.width,$=o.bottom-b,U=o.right-l,H=$+r.height,W=U+r.width,K=this.isReverse(F-c,$-h,i.height+y),G=this.isReverse(z-u,U-d,i.width+y),Y=this.isReverse($-h,F-c,i.height+y),X=this.isReverse(U-d,z-u,i.width+y);this.isReverse(H-h,B-c,i.height+y),this.isReverse(B-c,H-h,i.height+y);let Z=this.isReverse(H,B,i.height+m),Q=this.isReverse(B,H,i.height+m),q=this.isReverse(W,V,i.width+m),J=this.isReverse(V,W,i.width+m),ee=r.height/2,et=r.width/2,en=this.isOverFlow(g-c,x-h,i.height+y),er=this.isOverFlow(n-u,E-d,i.width+y),ei=this.isOverFlow(b-c,w-h,i.height+y),eo=this.isOverFlow(l-u,_-d,i.width+y),ea=this.isHalfOverFlow(b-ee,w-ee,(i.height+m)/2),es=this.isHalfOverFlow(l-et,_-et,(i.width+m)/2),el=this.isHalfAllEnough(b-ee,w-ee,(i.height+m)/2),eu=this.isHalfAllEnough(l-et,_-et,(i.width+m)/2),ec=this.isOverFlow(F-c,$-h,i.height+y),ed=this.isOverFlow(z-u,U-d,i.width+y),eh=this.isOverFlow(B-c,H-h,i.height+y),ef=this.isOverFlow(V-u,W-d,i.width+y),ep=this.isHalfOverFlow(B-ee,H-ee,(i.height+m)/2),eg=this.isHalfOverFlow(V-et,W-et,(i.width+m)/2),ey=this.isHalfAllEnough(B-ee,H-ee,(i.height+m)/2),em=this.isHalfAllEnough(V-et,W-et,(i.width+m)/2),ev=this.getReverse(en,ec,O,K),eb=this.getReverse(er,ed,M,G),e_=this.getReverse(en,ec,P,Y),ew=this.getReverse(er,ed,D,X),eE=this.getReverse(ei,eh,I,Z),ex=this.getReverse(ei,eh,j,Q),eC=this.getReverse(eo,ef,N,q),eS=this.getReverse(eo,ef,T,J),eO=ea&&ep,eM=es&&eg;switch(e){case"top":ev&&(e=this._adjustPos(e,!0)),eM&&(eC||eS)&&(e=this._adjustPos(e,!0,"expand",eC?"Right":"Left"));break;case"topLeft":ev&&(e=this._adjustPos(e,!0)),eC&&C&&(e=this._adjustPos(e)),p&&(eu||em)&&(e=this._adjustPos(e,!0,"reduce"));break;case"topRight":ev&&(e=this._adjustPos(e,!0)),eS&&C&&(e=this._adjustPos(e)),p&&(eu||em)&&(e=this._adjustPos(e,!0,"reduce"));break;case"left":eb&&(e=this._adjustPos(e)),eO&&(eE||ex)&&(e=this._adjustPos(e,!1,"expand",eE?"Bottom":"Top"));break;case"leftTop":eb&&(e=this._adjustPos(e)),eE&&S&&(e=this._adjustPos(e,!0)),f&&(el||ey)&&(e=this._adjustPos(e,!1,"reduce"));break;case"leftBottom":eb&&(e=this._adjustPos(e)),ex&&S&&(e=this._adjustPos(e,!0)),f&&(el||ey)&&(e=this._adjustPos(e,!1,"reduce"));break;case"bottom":e_&&(e=this._adjustPos(e,!0)),eM&&(eC||eS)&&(e=this._adjustPos(e,!0,"expand",eC?"Right":"Left"));break;case"bottomLeft":e_&&(e=this._adjustPos(e,!0)),eC&&C&&(e=this._adjustPos(e)),p&&(eu||em)&&(e=this._adjustPos(e,!0,"reduce"));break;case"bottomRight":e_&&(e=this._adjustPos(e,!0)),eS&&C&&(e=this._adjustPos(e)),p&&(eu||em)&&(e=this._adjustPos(e,!0,"reduce"));break;case"right":ew&&(e=this._adjustPos(e)),eO&&(eE||ex)&&(e=this._adjustPos(e,!1,"expand",eE?"Bottom":"Top"));break;case"rightTop":ew&&(e=this._adjustPos(e)),eE&&S&&(e=this._adjustPos(e,!0)),f&&(el||ey)&&(e=this._adjustPos(e,!1,"reduce"));break;case"rightBottom":ew&&(e=this._adjustPos(e)),ex&&S&&(e=this._adjustPos(e,!0)),f&&(el||ey)&&(e=this._adjustPos(e,!1,"reduce"));break;case"leftTopOver":k&&(e=this._adjustPos(e,!0)),R&&(e=this._adjustPos(e));break;case"leftBottomOver":A&&(e=this._adjustPos(e,!0)),R&&(e=this._adjustPos(e));break;case"rightTopOver":k&&(e=this._adjustPos(e,!0)),L&&(e=this._adjustPos(e));break;case"rightBottomOver":A&&(e=this._adjustPos(e,!0)),L&&(e=this._adjustPos(e))}this.isTB(e)&&(f=en&&ec,p="top"===e||"bottom"===e?es&&eg||l<0||E<0:eo&&ef||l<0||E<0),this.isLR(e)&&(p=er&&ed,f="left"===e||"right"===e?ea&&ep||g<0||w<0:ei&&eh||g<0||w<0)}return{position:e,isHeightOverFlow:f,isWidthOverFlow:p}}_bindScrollEvent(){this._adapter.registerScrollHandler(()=>this.calcPosition())}unBindScrollEvent(){this._adapter.unregisterScrollHandler()}_initContainerPosition(){this._adapter.updateContainerPosition()}_handleTriggerKeydown(e){let{closeOnEsc:n,disableArrowKeyDown:r}=this.getProps(),i=this._adapter.getContainer(),o=this._adapter.getFocusableElements(i),a=o.length;switch(e&&e.key){case"Escape":(0,s.handlePrevent)(e),n&&this._handleEscKeyDown(e);break;case"ArrowUp":!r&&a&&this._handleTriggerArrowUpKeydown(o,e);break;case"ArrowDown":!r&&a&&this._handleTriggerArrowDownKeydown(o,e)}}focusTrigger(){let{trigger:e,returnFocusOnClose:n,preventScroll:r}=this.getProps();if(n&&"custom"!==e){let e=this._adapter.getTriggerNode();e&&"focus"in e&&e.focus({preventScroll:r})}}_handleEscKeyDown(e){let{trigger:n}=this.getProps();"custom"!==n&&(this.focusTrigger(),this.hide()),this._adapter.notifyEscKeydown(e)}_handleContainerTabKeyDown(e,n){let{preventScroll:r}=this.getProps(),i=this._adapter.getActiveElement(),o=e[e.length-1]===i;o&&(e[0].focus({preventScroll:r}),n.preventDefault())}_handleContainerShiftTabKeyDown(e,n){let{preventScroll:r}=this.getProps(),i=this._adapter.getActiveElement(),o=e[0]===i;o&&(e[e.length-1].focus({preventScroll:r}),n.preventDefault())}_handleTriggerArrowDownKeydown(e,n){let{preventScroll:r}=this.getProps();e[0].focus({preventScroll:r}),n.preventDefault()}_handleTriggerArrowUpKeydown(e,n){let{preventScroll:r}=this.getProps();e[e.length-1].focus({preventScroll:r}),n.preventDefault()}}},24097:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"cssClasses",{enumerable:!0,get:function(){return o}});var i=r("12864");let o={PREFIX:`${i.BASE_CLASS_PREFIX}-tree`,PREFIX_OPTION:`${i.BASE_CLASS_PREFIX}-tree-option`}},99067:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{flattenTreeData:function(){return g},traverseDataNodes:function(){return y},convertDataToEntities:function(){return m},findKeysForValues:function(){return b},findDescendantKeys:function(){return _},findChildKeys:function(){return w},findSiblingKeys:function(){return E},findAncestorKeys:function(){return x},calcCheckedKeys:function(){return C},calcExpandedKeys:function(){return S},calcExpandedKeysForValues:function(){return O},calcMotionKeys:function(){return M},filter:function(){return P},normalizeKeyList:function(){return D},getMotionKeys:function(){return I},calcCheckedKeysForChecked:function(){return j},calcCheckedKeysForUnchecked:function(){return N},filterTreeData:function(){return T},getValueOrKey:function(){return k},normalizeValue:function(){return A},updateKeys:function(){return R},calcDisabledKeys:function(){return L}});var i=r.ir(r("51854")),o=r.ir(r("15478")),a=r.ir(r("24578")),s=r.ir(r("38691")),l=r.ir(r("83910")),u=r.ir(r("29449"));r("2874");var c=r.ir(r("81848")),d=r.ir(r("93981")),h=r.ir(r("69974"));function f(e,n){return`${e}-${n}`}function p(e){return!(0,u.default)(e)&&!(0,l.default)(e)}function g(e,n,r){let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=[],c=!!s,d=(0,o.default)(r,"key","key"),h=(0,o.default)(r,"children","children");return(0,l.default)(e)?[]:(!function e(o){let f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return o.map((p,g)=>{var y;let m=(y=f?f.pos:"0",`${y}-${g}`),b=p[d],_={};r&&Object.entries((0,i.default)(r,"children")).forEach(e=>{let[n,r]=e,i=p[r];(0,l.default)(i)||(_[n]=i)});let w=Object.assign(Object.assign(Object.assign({},(0,a.default)(p,["key","label","value","icon","disabled","isLeaf"])),_),{parent:f,pos:m,children:null,data:p,_innerDataTag:!0,isEnd:[...f?f.isEnd:[],g===o.length-1]}),E="boolean"==typeof s;return(!c||!E&&s.has(b))&&u.push(w),n.has(b)&&(!c||!E&&s.has(b))?w.children=e(p[h]||[],w):w.children=[],w})}(e),u)}function y(e,n,r){let i=(0,o.default)(r,"key","key"),a=(0,o.default)(r,"children","children"),s=(r,l,u)=>{var c;let d=r?r[a]:e;let h=r?(c=u.pos,`${c}-${l}`):"0";if(r){let e=(0,o.default)(r,i,null),a={data:Object.assign({},r),ind:l,pos:h,key:null!==e?e:h,parentPos:u.node?u.pos:null,level:Number(u.level)+1};n(a)}d&&d.forEach((e,n)=>{s(e,n,{node:r,pos:h,level:u?Number(u.level)+1:-1})})};s(null)}function m(e,n){let r={},i={},a={},s=(0,o.default)(n,"value","value");return y(e,e=>{let{pos:n,key:l,parentPos:u}=e,c=Object.assign({},e),d=(0,o.default)(c,`data.${s}`,null);null!==d&&(a[d]=l),r[n]=c,i[l]=c,c.parent=r[u],c.parent&&(c.parent.children=c.parent.children||[],c.parent.children.push(c))},n),{posEntities:r,keyEntities:i,valueEntities:a}}function b(e,n){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!p(e))return[];if(!r&&Array.isArray(e)?e=e.length?[e[0]]:[]:!Array.isArray(e)&&(e=[e]),(0,s.default)(n))return e;let i=[];return e.forEach(e=>{e in n?i.push(n[e]):e&&i.push(e)}),i}function _(e,n){let r=!(arguments.length>2)||void 0===arguments[2]||arguments[2],i=[],o=e=>{if(!e)return;let{children:r}=e,a=p(r);a&&r.forEach(e=>{i.push(e.key),o(n[e.key])})};return e.forEach(e=>{r&&i.push(e),o(n[e])}),i}function w(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=[];return e&&e.forEach(e=>{let o=n[e];o&&o.children&&o.children.forEach(e=>{(!r.length||!r.includes(e.key))&&i.push(e.key)})}),i}function E(e,n){let r=!(arguments.length>2)||void 0===arguments[2]||arguments[2],i=[];e.forEach(e=>{n[e]&&n[e].parent&&i.push(n[e].parent.key)});let o=w((0,d.default)(i),n,r?[]:e);return o}function x(e,n){let r=!(arguments.length>2)||void 0===arguments[2]||arguments[2],i=[],o=e=>{e.parent&&(i.push(e.parent.key),o(e.parent))};return e.forEach(e=>{n[e]&&o(n[e]),r&&i.push(e)}),i}function C(e,n){let r=Array.isArray(e)?e:[e],i=_(r,n,!0),o=new Set([...i]),a=new Set([]),l=[],u=function(e,n){let r={};return e.forEach(e=>{if(!n[e])return;let{level:i}=n[e];r[i]?r[i].push(e):r[i]=[e]}),r}(r,n),d=e=>{let{key:r,parent:i,level:s}=e;if(!i||l.includes(r))return;let c=E([r],n);l=[...l,...c];let d=c.every(e=>o.has(e));if(d)o.add(i.key),s-1 in u&&s?u[s-1].push(i.key):u[s-1]=[i.key];else{let e=x([r],n,!1);a=new Set([...a,...e])}};for(;!(0,s.default)(u);){let e=(0,c.default)(Object.keys(u).map(e=>Number(e)));u[e].forEach(e=>d(n[e])),delete u[e]}return{checkedKeys:o,halfCheckedKeys:a}}function S(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,r=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(!Array.isArray(e)&&(e=[e]),r){let r=x(e,n,!0);return new Set(r)}return new Set(e)}function O(e,n,r,i){let o=b(e,i,r);return new Set(x(o,n,!1))}function M(e,n,r){let i="show",o=[...e],a=[...n];if(1!==Math.abs(o.length-a.length))return{motionType:i,motionKeys:[]};let s=[];return o.length>a.length?(i="hide",s=(0,h.default)(o,a)):s=(0,h.default)(a,o),{motionType:1===s.length?i:"show",motionKeys:1===s.length?_(s,r,!1):[]}}function P(e,n,r,i){if(!r)return!0;let o=r,a=n;return"boolean"==typeof r&&(o=(e,n)=>{let r=e.toLowerCase();return n.toString().toLowerCase().includes(r)}),i&&(a=n[i]),o(e,a,n)}function D(e,n){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,o=[],a=new Set(e);return r?e.forEach(e=>{n[e]&&!p(n[e].children)&&o.push(e),!n[e]&&i&&o.push(e)}):e.forEach(e=>{if(!n[e]){i&&o.push(e);return}let{parent:r}=n[e];!(r&&a.has(r.key))&&o.push(e)}),o}function I(e,n,r){let i=[],o=e=>{r[e].children&&r[e].children.forEach(e=>{let{key:r}=e;i.push(r),n.has(r)&&o(r)})};return o(e),i}function j(e,n,r,i){let o=_([e],n,!0),a=n[e];r=new Set([...r,e]);let s=e=>{if(!e.parent)return;let{key:o}=e,a=E([o],n),l=a.every(e=>r.has(e));if(l){let n=e.parent;r.add(n.key),s(n)}else{let e=x([o],n,!1);i=new Set([...i,...e])}};return s(a),{checkedKeys:new Set([...r,...o]),halfCheckedKeys:i}}function N(e,n,r,i){let o=_([e],n,!0),a=n[e];o.forEach(e=>{r.has(e)&&r.delete(e),i.has(e)&&i.delete(e)});let s=e=>{let o=e.parent;if(!o||!r.has(o.key)&&!i.has(o.key))return;let{key:a}=e,l=E([a],n),u=l.some(e=>r.has(e)||i.has(e)),c=x([a],n,!1);u?c.forEach(e=>{r.has(e)&&(r.delete(e),i.add(e))}):(r.has(o.key)&&r.delete(o.key),i.has(o.key)&&i.delete(o.key),s(o))};return a&&s(a),{checkedKeys:r,halfCheckedKeys:i}}function T(e){let{showFilteredOnly:n,keyEntities:r,inputValue:i,treeData:o,filterTreeNode:a,filterProps:s,prevExpandedKeys:l,keyMaps:u}=e,c=[],d=x(c=Object.values(r).filter(e=>P(i,e.data,a,s)).map(e=>e.key),r,!1);if(l.length){let e=l.filter(e=>!!r[e]);d=d.concat(e)}let h=_(c,r,!0),f=new Set([...h,...d]),p=g(o,new Set(d),u,n&&f);return{flattenNodes:p,filteredKeys:new Set(c),filteredExpandedKeys:new Set(d),filteredShownKeys:f}}function k(e,n){let r=(0,o.default)(n,"value","value"),i=(0,o.default)(n,"key","key");return Array.isArray(e)?e.map(e=>(0,o.default)(e,r,e[i])):(0,o.default)(e,r,e[i])}function A(e,n,r){return n&&p(e)?k(e,r):e}function R(e,n){let r=[...e];return r.filter(e=>e in n)}function L(e,n){let r=(0,o.default)(n,"disabled","disabled"),i=Object.keys(e).filter(n=>e[n].data[r]),{checkedKeys:a}=C(i,e);return a}},49795:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{cssClasses:function(){return o},strings:function(){return a}});var i=r("12864");let o={PREFIX:`${i.BASE_CLASS_PREFIX}-tree-select`,PREFIX_TREE:`${i.BASE_CLASS_PREFIX}-tree`,PREFIX_OPTION:`${i.BASE_CLASS_PREFIX}-tree-select-option`},a={SIZE_SET:["small","large","default"],SEARCH_POSITION_DROPDOWN:"dropdown",SEARCH_POSITION_TRIGGER:"trigger",STATUS:i.VALIDATE_STATUS}},28756:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return y}});var i=r.ir(r("69974")),o=r.ir(r("38691")),a=r.ir(r("94228")),s=r.ir(r("83910")),l=r.ir(r("15478")),u=r.ir(r("8250")),c=r.ir(r("15135")),d=r("49795"),h=r.ir(r("89967")),f=r("99067"),p=r.ir(r("31448")),g=r("73075");class y extends h.default{constructor(e){super(Object.assign({},e)),this.handleKeyDown=e=>{if(e.key===g.ESC_KEY){let n=this.getState("isOpen");n&&this.close(e)}},this._registerClickOutsideHandler=()=>{this._adapter.registerClickOutsideHandler(e=>{this.handlerTriggerBlur(e),this.close(e)})},this.clearInputValue=()=>{let{inputValue:e}=this.getStates();e&&this._adapter.updateInputValue("")},this.onClickSingleTriggerSearchItem=e=>{this.focusInput(!0)}}init(){let{searchAutoFocus:e,searchPosition:n,filterTreeNode:r}=this.getProps(),i=n===d.strings.SEARCH_POSITION_TRIGGER&&r,o=e&&i;this._setDropdownWidth();let a=!this._isDisabled(),s=(this.getProp("defaultOpen")||o)&&a;s&&(this.open(),this._registerClickOutsideHandler()),o&&a&&this.handleTriggerFocus(null)}destroy(){this._adapter.unregisterClickOutsideHandler()}_setDropdownWidth(){let e;let{style:n,dropdownMatchSelectWidth:r}=this.getProps();r&&(e=n&&(0,c.default)(n.width)?n.width:n&&(0,a.default)(n.width)&&!n.width.includes("%")?n.width:this._adapter.getTriggerWidth(),this._adapter.setOptionWrapperWidth(e))}_isMultiple(){return this.getProp("multiple")}_isAnimated(){return this.getProp("motionExpand")}_isDisabled(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getProp("disabled")||e.disabled}_isExpandControlled(){return this.getProp("expandedKeys")}_isSelectToClose(){return!this.getProp("expandAction")}_isLoadControlled(){return this.getProp("loadedKeys")}_showFilteredOnly(){let{inputValue:e}=this.getStates(),{showFilteredOnly:n}=this.getProps();return!!e&&n}findDataForValue(e){let{value:n,defaultValue:r,keyMaps:i}=this.getProps(),o=(0,l.default)(i,"value","value"),a=(0,l.default)(i,"key","key"),s=[];return n?s=Array.isArray(n)?n:[n]:r&&(s=Array.isArray(r)?r:[r]),s.find(n=>n[o]===e||n[a]===e)}constructDataForValue(e){let{treeNodeLabelProp:n,keyMaps:r}=this.getProps(),i=(0,l.default)(r,"key","key"),o=(0,l.default)(r,"label",n);return{[i]:e,[o]:e}}getDataForKeyNotInKeyEntities(e){let{onChangeWithObject:n}=this.getProps();return n?this.findDataForValue(e):this.constructDataForValue(e)}getTreeNodeProps(e){let{expandedKeys:n=new Set([]),selectedKeys:r=[],checkedKeys:i=new Set([]),halfCheckedKeys:o=new Set([]),realCheckedKeys:a=new Set([]),keyEntities:s={},filteredKeys:l=new Set([]),inputValue:u="",loadedKeys:c,loadingKeys:d,filteredExpandedKeys:h=new Set([]),disabledKeys:f=new Set([])}=this.getStates(),{treeNodeFilterProp:p,checkRelation:g}=this.getProps(),y=s[e];if(!y)return null;let m=!1,b=!1;"related"===g?(m=i.has(e),b=o.has(e)):"unRelated"===g&&(m=a.has(e),b=!1);let _={eventKey:e,expanded:u?h.has(e):n.has(e),selected:r.includes(e),checked:m,halfChecked:b,pos:String(y?y.pos:""),level:y.level,filtered:l.has(e),keyword:u,treeNodeFilterProp:p,loading:d.has(e)&&!c.has(e),loaded:c.has(e)};return this.getProp("disableStrictly")&&f.has(e)&&(_.disabled=!0),_}handleNodeLoad(e,n,r,i){let{loadData:o}=this.getProps(),{key:a}=r;return!o||e.has(a)||n.has(a)?{}:(o(r).then(()=>{let e=new Set(this.getState("loadedKeys")),n=new Set(this.getState("loadingKeys")),o=e.add(a),s=new Set([...n]);s.delete(a),this._adapter.notifyLoad(o,r),!this._isLoadControlled()&&this._adapter.updateState({loadedKeys:o}),this._adapter.setState({loadingKeys:s}),i()}),{loadingKeys:n.add(a)})}focusInput(e){this._adapter.updateInputFocus(e)}_notifyMultipleChange(e,n){let{keyEntities:r}=this.getStates(),{leafOnly:i,checkRelation:o,keyMaps:a,autoMergeValue:s}=this.getProps(),l=[];"related"===o?l=s?(0,f.normalizeKeyList)(e,r,i,!0):e:"unRelated"===o&&(l=e);let u=l.map(e=>r[e]&&r[e].key===e?r[e].data:this.getDataForKeyNotInKeyEntities(e));if(this.getProp("onChangeWithObject"))this._adapter.notifyChangeWithObject(u,n);else{let e=(0,f.getValueOrKey)(u,a);this._adapter.notifyChange(e,u,n)}}_notifyChange(e,n){let{keyEntities:r}=this.getStates(),{keyMaps:i}=this.getProps();if(this._isMultiple()&&Array.isArray(e))this._notifyMultipleChange(e,n);else{let o=(0,s.default)(e)?e:r[e].data,a=(0,s.default)(e)?e:(0,f.getValueOrKey)(o,i);this.getProp("onChangeWithObject")?this._adapter.notifyChangeWithObject(o,n):this._adapter.notifyChange(a,o,n)}}_notifyFocus(e){this._adapter.notifyFocus(e)}handleTriggerFocus(e){this._adapter.updateIsFocus(!0),this._notifyFocus(e),this._registerClickOutsideHandler()}_notifyBlur(e){this._adapter.notifyBlur(e)}handlerTriggerBlur(e){let n=this.getState("isFocus");n&&(this._adapter.updateIsFocus(!1),this._notifyBlur(e),this._adapter.unregisterClickOutsideHandler())}toggleHoverState(e){this._adapter.toggleHovering(e)}open(){this._adapter.openMenu(),this._setDropdownWidth()}close(e){this._adapter.closeMenu(),this.getProp("motionExpand")&&this._adapter.updateState({motionKeys:new Set([])})}handleClick(e){let n=this._isDisabled(),{isOpen:r,inputValue:i,isFocus:o}=this.getStates(),{searchPosition:a,clickTriggerToHide:s}=this.getProps();if(!n)if(!o&&this.handleTriggerFocus(e),r){if("trigger"===a&&i)return;s&&this.close(e)}else this.open()}handleSelectionEnterPress(e){(0,p.default)(e)&&this.handleClick(e)}handleClear(e){let{searchPosition:n,filterTreeNode:r}=this.getProps(),{inputValue:i,selectedKeys:a}=this.getStates(),s=this._isMultiple(),l=this._isControlledComponent();this._notifyChange(s?[]:void 0,e),!l&&(this._adapter.rePositionDropdown(),this._adapter.updateState({selectedKeys:[],checkedKeys:new Set,halfCheckedKeys:new Set,realCheckedKeys:new Set([])})),r&&n===d.strings.SEARCH_POSITION_TRIGGER&&""!==i&&((0,o.default)(a)?this.handleInputChange(""):this.clearInput()),this._adapter.notifyClear(e)}handleClearEnterPress(e){(0,p.default)(e)&&this.handleClear(e)}removeTag(e){let{disableStrictly:n,checkRelation:r,keyMaps:i}=this.getProps(),{keyEntities:o,disabledKeys:a,realCheckedKeys:s}=this.getStates(),u=o[e]&&o[e].key===e?o[e].data:this.getDataForKeyNotInKeyEntities(e),c=(0,l.default)(i,"disabled","disabled");if(!(u[c]||n&&a.has(e))){if("unRelated"===r){let n=new Set(s);n.delete(e),this._notifyChange([...n],null),!this._isControlledComponent()&&(this._adapter.updateState({realCheckedKeys:n}),this._adapter.rePositionDropdown())}else if("related"===r){let{checkedKeys:n,halfCheckedKeys:r}=this.calcCheckedKeys(e,!1);this._notifyChange([...n],null),!this._isControlledComponent()&&(this._adapter.updateState({checkedKeys:n,halfCheckedKeys:r}),this._adapter.rePositionDropdown())}this._adapter.notifySelect(e,!1,u),this._adapter.rePositionDropdown()}}clearInput(){let{flattenNodes:e,expandedKeys:n,selectedKeys:r,keyEntities:i,treeData:o}=this.getStates(),{keyMaps:a}=this.getProps(),s=new Set(n);this._isExpandControlled();let l=(0,f.findAncestorKeys)(r,i,!1);l.forEach(e=>s.add(e));let u=(0,f.flattenTreeData)(o,s,a);this._adapter.updateState({expandedKeys:s,flattenNodes:u,inputValue:"",motionKeys:new Set([]),filteredKeys:new Set([]),filteredExpandedKeys:new Set(l),filteredShownKeys:new Set([])}),this._adapter.rePositionDropdown()}handleInputChange(e){this._adapter.updateInputValue(e);let{flattenNodes:n,expandedKeys:r,selectedKeys:i,keyEntities:o,treeData:a}=this.getStates(),{showFilteredOnly:s,filterTreeNode:u,treeNodeFilterProp:c,keyMaps:d}=this.getProps(),h="label"!==c?c:(0,l.default)(d,"label","label"),p=new Set(r),g=[],y=[],m=[],b=[],_=new Set([]);if(e){let n=Object.values(o).filter(n=>{let{data:r}=n;return(0,f.filter)(e,r,u,h)});g=n.map(e=>e.data),y=n.map(e=>e.key),m=(0,f.findAncestorKeys)(y,o,!1);let r=(0,f.findDescendantKeys)(y,o,!0);_=new Set([...r,...m]),b=(0,f.flattenTreeData)(a,new Set(m),d,s&&_)}else(m=(0,f.findAncestorKeys)(i,o,!1)).forEach(e=>p.add(e)),b=(0,f.flattenTreeData)(a,p,d);let w=new Set(m);this._adapter.notifySearch(e,Array.from(w),g),this._adapter.updateState({expandedKeys:p,flattenNodes:b,motionKeys:new Set([]),filteredKeys:new Set(y),filteredExpandedKeys:w,filteredShownKeys:_}),this._adapter.rePositionDropdown()}handleNodeSelect(e,n){let r=this._isDisabled(n);!r&&(this._isMultiple()?this.handleMultipleSelect(e,n):this.handleSingleSelect(e,n))}handleSingleSelect(e,n){let r=[...this.getState("selectedKeys")],{clickToHide:i}=this.getProps(),{selected:o,eventKey:a,data:s}=n;this._adapter.notifySelect(a,!0,s),!r.includes(a)&&!o&&(r=[a],this._notifyChange(a,e),!this._isControlledComponent()&&this._adapter.updateState({selectedKeys:r})),i&&(this._isSelectToClose()||!s.children)&&(this.close(e),this.handlerTriggerBlur(e))}calcCheckedKeys(e,n){let{keyEntities:r}=this.getStates(),i=new Set(this.getState("checkedKeys")),o=new Set(this.getState("halfCheckedKeys"));return n?(0,f.calcCheckedKeysForChecked)(e,r,i,o):(0,f.calcCheckedKeysForUnchecked)(e,r,i,o)}handleMultipleSelect(e,n){let{searchPosition:r,disableStrictly:i,checkRelation:o}=this.getProps(),{inputValue:a,realCheckedKeys:s}=this.getStates(),{checked:l,eventKey:u,data:c}=n;if("related"===o){let n=i?this.calcCheckedStatus(!l,u):!l,{checkedKeys:r,halfCheckedKeys:o}=i?this.calcNonDisabledCheckedKeys(u,n):this.calcCheckedKeys(u,n);this._adapter.notifySelect(u,n,c),this._notifyChange([...r],e),!this._isControlledComponent()&&(this._adapter.updateState({checkedKeys:r,halfCheckedKeys:o}),this._adapter.rePositionDropdown())}else if("unRelated"===o){let n;let r=new Set(s);s.has(u)?(r.delete(u),n=!1):(r.add(u),n=!0),this._adapter.notifySelect(u,n,c),this._notifyChange([...r],e),!this._isControlledComponent()&&(this._adapter.updateState({realCheckedKeys:r}),this._adapter.rePositionDropdown())}r===d.strings.SEARCH_POSITION_TRIGGER&&""!==a&&this._adapter.updateState({inputValue:""})}calcNonDisabledCheckedKeys(e,n){let{keyEntities:r,disabledKeys:o}=this.getStates(),a=new Set(this.getState("checkedKeys")),s=(0,f.normalizeKeyList)((0,f.findDescendantKeys)([e],r,!1),r,!0),l=s.some(e=>o.has(e));if(!l)return this.calcCheckedKeys(e,n);let u=s.filter(e=>!o.has(e)),c=n?[...u,...a]:(0,i.default)((0,f.normalizeKeyList)([...a],r,!0,!0),u);return(0,f.calcCheckedKeys)(c,r)}calcCheckedStatus(e,n){if(!e)return e;let{checkedKeys:r,keyEntities:i,disabledKeys:o}=this.getStates(),a=(0,f.normalizeKeyList)((0,f.findDescendantKeys)([n],i,!1),i,!0),s=a.some(e=>o.has(e));if(!s)return e;let l=a.filter(e=>!o.has(e)),u=l.every(e=>r.has(e));return!u}handleNodeExpandInSearch(e,n){let{treeData:r,filteredShownKeys:i,keyEntities:o}=this.getStates(),{keyMaps:a}=this.getProps(),s=this._showFilteredOnly(),l=new Set(this.getState("filteredExpandedKeys")),u="show",{eventKey:c,expanded:d,data:h}=n;if(d?l.has(c)&&(l.delete(c),u="hide"):l.add(c),this._adapter.cacheFlattenNodes("hide"===u&&this._isAnimated()),!this._isExpandControlled()){let e=(0,f.flattenTreeData)(r,l,a,s&&i),n=this._isAnimated()?(0,f.getMotionKeys)(c,l,o):[],d={filteredExpandedKeys:l,flattenNodes:e,motionKeys:new Set(n),motionType:u};this._adapter.updateState(d)}this._adapter.notifyExpand(l,{expanded:!d,node:h})}handleNodeExpand(e,n){let{loadData:r,keyMaps:i}=this.getProps(),{inputValue:o,keyEntities:a}=this.getStates();if(!r&&(!n.children||!n.children.length))return;let s=this._isExpandControlled();if(o){this.handleNodeExpandInSearch(e,n);return}let{treeData:l}=this.getStates(),u=new Set(this.getState("expandedKeys")),c="show",{eventKey:d,expanded:h,data:p}=n;if(h?u.has(d)&&(u.delete(d),c="hide"):u.add(d),this._adapter.cacheFlattenNodes("hide"===c&&this._isAnimated()),!s){let e=(0,f.flattenTreeData)(l,u,i),n=this._isAnimated()?(0,f.getMotionKeys)(d,u,a):[],r={expandedKeys:u,flattenNodes:e,motionKeys:new Set(n),motionType:c};this._adapter.updateState(r)}this._adapter.notifyExpand(u,{expanded:!h,node:p})}getRenderTextInSingle(){let e;let{renderSelectedItem:n,treeNodeLabelProp:r,keyMaps:i}=this.getProps(),{selectedKeys:o,keyEntities:a}=this.getStates(),s=(0,l.default)(i,"label",r),c=(0,u.default)(n)?n:e=>(0,l.default)(e,s,null);if(o.length){let n=o[0];e=a[n]&&a[n].key===n?a[n].data:this.getDataForKeyNotInKeyEntities(n)}let d=e?c(e):null;return d}handleInputTriggerBlur(){this._adapter.updateState({inputTriggerFocus:!1})}handleInputTriggerFocus(){this.clearInput(),this._adapter.updateState({inputTriggerFocus:!0})}setLoadKeys(e,n){this._adapter.updateLoadKeys(e,n)}handlePopoverVisibleChange(e){let{filterTreeNode:n,searchAutoFocus:r,searchPosition:i}=this.getProps();!1===e&&n&&this.clearInputValue(),n&&i===d.strings.SEARCH_POSITION_DROPDOWN&&e&&r&&this.focusInput(!0)}handleAfterClose(){let{filterTreeNode:e}=this.getProps();e&&this.clearInput()}}},90531:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{cssClasses:function(){return o},strings:function(){return a}});var i=r("12864");let o={PREFIX:`${i.BASE_CLASS_PREFIX}-typography`},a={WEIGHT:["light","regular","medium","semibold","bold","default"],TYPE:["primary","secondary","danger","warning","success","tertiary","quaternary"],SIZE:["normal","small","inherit"],SPACING:["normal","extended"],HEADING:[1,2,3,4,5,6],RULE:["text","numbers","bytes-decimal","bytes-binary","percentages","exponential"],TRUNCATE:["ceil","floor","round"]}},45931:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});class i{constructor(e,n,r,i,o){this.ruleMethods={"bytes-decimal":e=>{let n=0;for(;e>=1e3;)e/=1e3,n++;return`${this.truncatePrecision(e)} ${["B","KB","MB","GB","TB","PB","EB","ZB","YB"][n]}`},"bytes-binary":e=>{let n=0;for(;e>=1024;)e/=1024,n++;return`${this.truncatePrecision(e)} ${["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"][n]}`},percentages:e=>`${this.truncatePrecision(100*e)}%`,exponential:e=>{let n=e.toExponential(this.precision+2),r=n.split("e");return`${this.truncatePrecision(Number(r[0]))}e${r[1]}`}},this.truncateMethods={ceil:Math.ceil,floor:Math.floor,round:Math.round},this.isDiyParser=void 0!==o,this.content=e,this.rule=n,this.precision=r,this.truncate=i,this.parser=o}format(){return this.isDiyParser?this.parser(this.content):"text"===this.rule?o(this.content).map(e=>a(e)?this.truncatePrecision(e):e).join(""):"numbers"===this.rule?o(this.content).filter(e=>a(e)).map(e=>this.truncatePrecision(e)).join(","):o(this.content).map(e=>a(e)?this.ruleMethods[this.rule](Number(e)):e).join("")}truncatePrecision(e){let n=this.truncateMethods[this.truncate](Number(e)*Math.pow(10,this.precision))/Math.pow(10,this.precision),r=n.toString().split(".");if(1===r.length)return n.toFixed(this.precision);let i=r[1].length;return i<this.precision?`${r[0]}.${r[1]}${"0".repeat(this.precision-i)}`:n.toString()}}function o(e){return e.match(/(-?[0-9]*\.?[0-9]+([eE]-?[0-9]+)?)|([^-\d\.]+)/g)||[]}function a(e){return!(isNaN(Number(e))||""===e.replace(/\s+/g,""))}},99270:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var i=r.ir(r("29807"));class o{constructor(){this._eventMap=new Map}on(e,n){return e&&"function"==typeof n&&(this._eventMap.has(e)||this._eventMap.set(e,[]),this._eventMap.get(e).push(n)),this}once(e,n){var r=this;if(e&&"function"==typeof n){let i=function(){n(...arguments),r.off(e,i)};this.on(e,i)}}off(e,n){if(e){if("function"==typeof n){let r=this._eventMap.get(e);if(Array.isArray(r)&&r.length){let e=-1;for(;(e=r.findIndex(e=>e===n))>-1;)r.splice(e,1)}}else(0,i.default)(n)&&this._eventMap.delete(e)}return this}emit(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(!this._eventMap.has(e))return!1;let o=[...this._eventMap.get(e)];return o.forEach(e=>e(...r)),!0}}},30595:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var i=r.ir(r("63922")),o=r("69188");class a{constructor(e,n){var r;this.addFocusRedirectListener=e=>(this.focusRedirectListenerList.push(e),()=>this.removeFocusRedirectListener(e)),this.removeFocusRedirectListener=e=>{this.focusRedirectListenerList=(0,i.default)(this.focusRedirectListenerList,e)},this.destroy=()=>{var e;null===(e=this.container)||void 0===e||e.removeEventListener("keydown",this.onKeyPress)},this.shouldFocusRedirect=e=>{if(!this.enable)return!1;for(let n of this.focusRedirectListenerList){let r=n(e);if(!r)return!1}return!0},this.focusElement=(e,n)=>{let{preventScroll:r}=this.options;null==e||e.focus({preventScroll:r}),n.preventDefault()},this.onKeyPress=e=>{if(e&&"Tab"===e.key){let n=a.getFocusableElements(this.container),r=n.length;r&&(e.shiftKey?this.handleContainerShiftTabKeyDown(n,e):this.handleContainerTabKeyDown(n,e))}},this.handleContainerTabKeyDown=(e,n)=>{let r=a.getActiveElement(),i=e[e.length-1]===r,o=e[0];i&&this.shouldFocusRedirect(o)&&this.focusElement(o,n)},this.handleContainerShiftTabKeyDown=(e,n)=>{let r=a.getActiveElement(),i=e[0]===r,o=e[e.length-1];i&&this.shouldFocusRedirect(o)&&this.focusElement(o,n)},Object.freeze(n),this.container=e,this.options=n,this.enable=null===(r=null==n?void 0:n.enable)||void 0===r||r,this.focusRedirectListenerList=(null==n?void 0:n.onFocusRedirectListener)?Array.isArray(n.onFocusRedirectListener)?[...n.onFocusRedirectListener]:[n.onFocusRedirectListener]:[],this.container.addEventListener("keydown",this.onKeyPress)}get enable(){return this._enable}set enable(e){this._enable=e}static getFocusableElements(e){if(!(0,o.isHTMLElement)(e))return[];let n="input:not([disabled]):not([tabindex='-1']),textarea:not([disabled]):not([tabindex='-1']),button:not([disabled]):not([tabindex='-1']),a[href]:not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']),area[href]:not([tabindex='-1']),iframe:not([tabindex='-1']),object:not([tabindex='-1']),*[tabindex]:not([tabindex='-1']),*[contenteditable]:not([tabindex='-1'])";return Array.from(e.querySelectorAll(n))}static getActiveElement(){return document?document.activeElement:null}}var s=a},79297:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{handlePrevent:function(){return o},isPrintableCharacter:function(){return a},setFocusToItem:function(){return s},setFocusToFirstItem:function(){return l},setFocusToLastItem:function(){return u},setFocusToPreviousMenuItem:function(){return c},setFocusToNextMenuitem:function(){return d},findIndexByCharacter:function(){return h},getAncestorNodeByRole:function(){return f},getMenuButton:function(){return p}});var i=r.ir(r("15478"));function o(e){e.stopPropagation(),e.preventDefault()}function a(e){return 1===e.length&&e.match(/\S/)}function s(e,n){for(let r=0;r<e.length;r++)e[r]===n?(e[r].tabIndex=0,e[r].focus()):e[r].tabIndex=-1}function l(e){e.length>0&&s(e,e[0])}function u(e){e.length>0&&s(e,e[e.length-1])}function c(e,n){let r,i;e.length>0&&(n===e[0]?r=e[e.length-1]:(i=e.indexOf(n),r=e[i-1]),s(e,r))}function d(e,n){let r,i;e.length>0&&(n===e[e.length-1]?r=e[0]:(i=e.indexOf(n),r=e[i+1]),s(e,r))}function h(e,n,r,i){let o,a;return e&&r&&i&&!(i.length>1)?(i=i.toLowerCase(),(o=e.indexOf(n)+1)>=e.length&&(o=0),-1===(a=r.indexOf(i,o))&&(a=r.indexOf(i,0)),a>=0?a:-1):-1}function f(e,n){if(!e)return null;for(;e.parentElement&&(0,i.default)(e.parentElement,"attributes.role.value","")!==n;)e=e.parentElement;return e.parentElement}function p(e,n){for(let r=0;r<e.length;r++){let i=e[r].attributes["data-popupid"];if(i&&i.value===n)return e[r]}return null}},5210:function(e,n,r){"use strict";function i(e,n,r){let i=e.slice();return i.splice(r<0?i.length+r:r,0,i.splice(n,1)[0]),i}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}})},69188:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{convertDOMRectToObject:function(){return o},isHTMLElement:function(){return i.default}});var i=r.ir(r("80323"));function o(e){if(e&&"object"==typeof e)return"function"==typeof e.toJSON?e.toJSON():["left","top","right","bottom","width","height"].reduce((n,r)=>(n[r]=e[r],n),{})}},11493:function(e,n,r){"use strict";function i(){}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"noop",{enumerable:!0,get:function(){return i}})},17421:function(e,n,r){"use strict";function i(e){return Object.keys(e).reduce((n,r)=>("data-"===r.substr(0,5)&&(n[r]=e[r]),n),{})}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}})},80323:function(e,n,r){"use strict";function i(e){try{return e instanceof HTMLElement}catch(n){return"object"==typeof e&&1===e.nodeType&&"object"==typeof e.style&&"object"==typeof e.ownerDocument}}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}})},31448:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var i=r.ir(r("15478")),o=r("73075"),a=function(e){return(0,i.default)(e,"key")===o.ENTER_KEY}},29807:function(e,n,r){"use strict";function i(e){return null==e}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}})},10701:function(e,n,r){"use strict";function i(e){return null!==e&&"object"==typeof e}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}})},54439:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var i=r.ir(r("10701"));function o(e){return(0,i.default)(e)&&"function"==typeof e.then}},73075:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{ENTER_KEY:function(){return i},ESC_KEY:function(){return o},default:function(){return a}});let i="Enter",o="Escape";var a={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229}},59998:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var i=r.ir(r("15478")),o=function(e){if("development"===(0,i.default)(process,"env.NODE_ENV")){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];console.log(e,...r)}}},78590:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});function i(e){return`${e}-${new Date().getTime()}-${Math.random()}`}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{prefix:n="",length:r=7}=e,i="0123456789abcdefghijklmnopqrstuvwxyz",o=i.length,a="";for(let e=0;e<r;e++){let e=Math.floor(Math.random()*o);a+=i.charAt(e)}return n?`${n}-${a}`:a}!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{default:function(){return i},getUuid:function(){return i},getUuidShort:function(){return o}})},66177:function(e,n,r){"use strict";function i(e,n){e&&console.warn(`Warning: ${n}`)}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}})},83636:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"convertIcon",{enumerable:!0,get:function(){return u}});var i=r.ir(r("56144")),o=r("7329"),a=r.ir(r("37894")),s=function(e,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>n.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)0>n.indexOf(i[o])&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(r[i[o]]=e[i[o]]);return r};let l=i.default.forwardRef((e,n)=>{let{svg:r,spin:l=!1,rotate:u,style:c,className:d,prefixCls:h=o.BASE_CLASS_PREFIX,type:f,size:p="default"}=e,g=s(e,["svg","spin","rotate","style","className","prefixCls","type","size"]),y=(0,a.default)(`${h}-icon`,{[`${h}-icon-extra-small`]:"extra-small"===p,[`${h}-icon-small`]:"small"===p,[`${h}-icon-default`]:"default"===p,[`${h}-icon-large`]:"large"===p,[`${h}-icon-extra-large`]:"extra-large"===p,[`${h}-icon-spinning`]:!0===l,[`${h}-icon-${f}`]:!!f},d),m={};return Number.isSafeInteger(u)&&(m.transform=`rotate(${u}deg)`),Object.assign(m,c),i.default.createElement("span",Object.assign({role:"img",ref:n,"aria-label":f,className:y,style:m},g),r)});l.elementType="Icon";let u=(e,n)=>{let r=i.default.forwardRef((r,o)=>i.default.createElement(l,Object.assign({svg:i.default.createElement(e),type:n,ref:o},r)));return r.elementType="Icon",r}},7329:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"BASE_CLASS_PREFIX",{enumerable:!0,get:function(){return i}});let i="semi"},89696:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var i=r.ir(r("56144")),o=r("83636");let a=(0,o.convertIcon)(function(e){return i.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23 12a11 11 0 1 1-22 0 11 11 0 0 1 22 0Zm-9.5 5.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0ZM12 5a1.9 1.9 0 0 0-1.89 2l.3 5.5a1.59 1.59 0 0 0 3.17 0l.3-5.5c.07-1.09-.8-2-1.88-2Z",fill:"currentColor"}))},"alert_circle");var s=a},12299:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var i=r.ir(r("56144")),o=r("83636");let a=(0,o.convertIcon)(function(e){return i.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m10.23 2.4-8.7 16.67A2 2 0 0 0 3.3 22h17.4a2 2 0 0 0 1.77-2.93L13.77 2.4a2 2 0 0 0-3.54 0ZM13.14 14a1.15 1.15 0 0 1-2.28 0l-.58-4.03a1.73 1.73 0 1 1 3.44 0l-.58 4.03Zm.36 4.49a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z",fill:"currentColor"}))},"alert_triangle");var s=a},44363:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var i=r.ir(r("56144")),o=r("83636");let a=(0,o.convertIcon)(function(e){return i.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),i.createElement("path",{d:"M5 12.5c0-.83.67-1.5 1.5-1.5h11a1.5 1.5 0 0 1 0 3h-11A1.5 1.5 0 0 1 5 12.5Z",fill:"currentColor"}))},"checkbox_indeterminate");var s=a},45778:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var i=r.ir(r("56144")),o=r("83636");let a=(0,o.convertIcon)(function(e){return i.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.41 7.3c.66.51.78 1.45.28 2.11l-6.5 8.5a1.5 1.5 0 0 1-2.37.01l-3.5-4.5a1.5 1.5 0 1 1 2.36-1.84L10 14.54l5.32-6.95a1.5 1.5 0 0 1 2.1-.28Z",fill:"currentColor"}))},"checkbox_tick");var s=a},9441:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var i=r.ir(r("56144")),o=r("83636");let a=(0,o.convertIcon)(function(e){return i.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.08 7.6a1.5 1.5 0 0 1 2.12 0l5.66 5.65 5.66-5.65a1.5 1.5 0 1 1 2.12 2.12l-6.72 6.72a1.5 1.5 0 0 1-2.12 0L4.08 9.72a1.5 1.5 0 0 1 0-2.12Z",fill:"currentColor"}))},"chevron_down");var s=a},5652:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var i=r.ir(r("56144")),o=r("83636");let a=(0,o.convertIcon)(function(e){return i.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23a11 11 0 1 0 0-22 11 11 0 0 0 0 22Zm5.04-6.14a1.5 1.5 0 0 1-2.13.04l-2.87-2.78L9.26 17A1.5 1.5 0 0 1 7.1 14.9l2.78-2.87L7 9.26A1.5 1.5 0 1 1 9.1 7.1l2.87 2.78L14.74 7A1.5 1.5 0 0 1 16.9 9.1l-2.78 2.87L17 14.74c.6.58.61 1.53.04 2.12Z",fill:"currentColor"}))},"clear");var s=a},99577:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var i=r.ir(r("56144")),o=r("83636");let a=(0,o.convertIcon)(function(e){return i.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),i.createElement("path",{d:"M17.66 19.78a1.5 1.5 0 0 0 2.12-2.12L14.12 12l5.66-5.66a1.5 1.5 0 0 0-2.12-2.12L12 9.88 6.34 4.22a1.5 1.5 0 1 0-2.12 2.12L9.88 12l-5.66 5.66a1.5 1.5 0 0 0 2.12 2.12L12 14.12l5.66 5.66Z",fill:"currentColor"}))},"close");var s=a},40554:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var i=r.ir(r("56144")),o=r("83636");let a=(0,o.convertIcon)(function(e){return i.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.49 4.19a1.5 1.5 0 0 0-2.98-.38l-2 16a1.5 1.5 0 1 0 2.98.38l2-16ZM8.06 5.94a1.5 1.5 0 0 1 0 2.12L4.12 12l3.94 3.94a1.5 1.5 0 1 1-2.12 2.12l-5-5a1.5 1.5 0 0 1 0-2.12l5-5a1.5 1.5 0 0 1 2.12 0Zm7.88 0a1.5 1.5 0 0 1 2.12 0l5 5a1.5 1.5 0 0 1 0 2.12l-5 5a1.5 1.5 0 0 1-2.12-2.12L19.88 12l-3.94-3.94a1.5 1.5 0 0 1 0-2.12Z",fill:"currentColor"}))},"code");var s=a},96087:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var i=r.ir(r("56144")),o=r("83636");let a=(0,o.convertIcon)(function(e){return i.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),i.createElement("path",{d:"M7 4c0-1.1.9-2 2-2h11a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2h-1V8c0-2-1-3-3-3H7V4Z",fill:"currentColor"}),i.createElement("path",{d:"M5 7a2 2 0 0 0-2 2v10c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2H5Z",fill:"currentColor"}))},"copy");var s=a},70535:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var i=r.ir(r("56144")),o=r("83636");let a=(0,o.convertIcon)(function(e){return i.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23 12a11 11 0 1 1-22 0 11 11 0 0 1 22 0Zm-11 9a9 9 0 1 0 0-18 9 9 0 0 0 0 18ZM8.11 8.11a1 1 0 0 1 1.42 0L12 10.6l2.47-2.48a1 1 0 1 1 1.42 1.42L13.4 12l2.48 2.47a1 1 0 0 1-1.42 1.42L12 13.4 9.53 15.9a1 1 0 0 1-1.42-1.42L10.6 12 8.1 9.53a1 1 0 0 1 0-1.42Z",fill:"currentColor"}))},"cross_circle_stroked");var s=a},47690:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var i=r.ir(r("56144")),o=r("83636");let a=(0,o.convertIcon)(function(e){return i.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 5V4h4v1h-4ZM8 5V3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2h4a1 1 0 1 1 0 2h-1v14a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V7H4a1 1 0 0 1 0-2h4Zm7 2H7v13h10V7h-2ZM9 9.5c0-.28.22-.5.5-.5h1c.28 0 .5.22.5.5v7a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-7Zm4 0c0-.28.22-.5.5-.5h1c.28 0 .5.22.5.5v7a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-7Z",fill:"currentColor"}))},"delete_stroked");var s=a},65616:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var i=r.ir(r("56144")),o=r("83636");let a=(0,o.convertIcon)(function(e){return i.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),i.createElement("path",{d:"M10 2a1.5 1.5 0 0 1 0 3H7.12l3.94 3.94a1.5 1.5 0 0 1-2.12 2.12L5 7.12V10a1.5 1.5 0 0 1-3 0V3.5C2 2.67 2.67 2 3.5 2H10Z",fill:"currentColor"}),i.createElement("path",{d:"M19 14a1.5 1.5 0 0 1 3 0v6.5c0 .83-.67 1.5-1.5 1.5H14a1.5 1.5 0 0 1 0-3h2.88l-3.94-3.94a1.5 1.5 0 0 1 2.12-2.12L19 16.88V14Z",fill:"currentColor"}))},"expand");var s=a},11598:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var i=r.ir(r("56144")),o=r("83636");let a=(0,o.convertIcon)(function(e){return i.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.7 3.7a1 1 0 0 0-1.4-1.4L17.3 5.26A11.59 11.59 0 0 0 12 4C5 4 1 10 1 12c0 1.18 1.38 3.73 3.94 5.64L2.3 20.3a1 1 0 1 0 1.42 1.42l18-18ZM7.84 14.77l1.46-1.47a3 3 0 0 1 4-4l1.47-1.46a5 5 0 0 0-6.93 6.93Z",fill:"currentColor"}),i.createElement("path",{d:"M12 20c-1.22 0-2.35-.18-3.38-.5l2.57-2.57a5 5 0 0 0 5.75-5.75l3.56-3.56C22.13 9.27 23 11.07 23 12c0 2-4 8-11 8Z",fill:"currentColor"}))},"eye_closed_solid");var s=a},29145:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var i=r.ir(r("56144")),o=r("83636");let a=(0,o.convertIcon)(function(e){return i.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4C5 4 1 10 1 12s4 8 11 8 11-6 11-8-4-8-11-8Zm5 8a5 5 0 1 1-10 0 5 5 0 0 1 10 0Zm-5 3a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z",fill:"currentColor"}))},"eye_opened");var s=a},73885:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var i=r.ir(r("56144")),o=r("83636");let a=(0,o.convertIcon)(function(e){return i.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2a1 1 0 0 0-1-1H6a2 2 0 0 0-2 2v18c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V10a1 1 0 0 0-1-1h-5a2 2 0 0 1-2-2V2ZM7 8a1 1 0 0 1 1-1h1a1 1 0 0 1 0 2H8a1 1 0 0 1-1-1Zm0 5a1 1 0 0 1 1-1h8a1 1 0 1 1 0 2H8a1 1 0 0 1-1-1Zm1 4a1 1 0 1 0 0 2h8a1 1 0 1 0 0-2H8Zm11.07-9.5H14.5a1 1 0 0 1-1-1V1.93a.8.8 0 0 1 1.37-.56l4.76 4.76a.8.8 0 0 1-.56 1.37Z",fill:"currentColor"}))},"file");var s=a},86528:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var i=r.ir(r("56144")),o=r("83636");let a=(0,o.convertIcon)(function(e){return i.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),i.createElement("path",{d:"M5 2a3 3 0 0 0-3 3v3h20c0-2-1-4-3-4h-6.45a3 3 0 0 1-1.87-.66l-1.13-.9A2 2 0 0 0 8.3 2H5Z",fill:"currentColor"}),i.createElement("path",{d:"M22 10H2v9a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-9Z",fill:"currentColor"}))},"folder");var s=a},28259:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var i=r.ir(r("56144")),o=r("83636");let a=(0,o.convertIcon)(function(e){return i.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 5a3 3 0 0 1 3-3h3.3a2 2 0 0 1 1.25.44l1.13.9a3 3 0 0 0 1.87.66H18c2 0 3 2 3 4H7.53A2 2 0 0 0 5.6 9.48L2.57 20.76C2.21 20.26 2 19.66 2 19V5Zm20.17 5H9.5a2 2 0 0 0-1.92 1.44l-2.7 9.28A1 1 0 0 0 5.82 22H18.5a2 2 0 0 0 1.92-1.44l2.7-9.28a1 1 0 0 0-.95-1.28Z",fill:"currentColor"}))},"folder_open");var s=a},79924:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var i=r.ir(r("56144")),o=r("83636");let a=(0,o.convertIcon)(function(e){return i.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),i.createElement("path",{d:"M9 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",fill:"currentColor"}),i.createElement("path",{d:"M9 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",fill:"currentColor"}),i.createElement("path",{d:"M11 19a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z",fill:"currentColor"}),i.createElement("path",{d:"M15 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",fill:"currentColor"}),i.createElement("path",{d:"M17 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z",fill:"currentColor"}),i.createElement("path",{d:"M15 21a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",fill:"currentColor"}))},"handle");var s=a},30967:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var i=r.ir(r("56144")),o=r("83636");let a=(0,o.convertIcon)(function(e){return i.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23a11 11 0 1 0 0-22 11 11 0 0 0 0 22Zm-.17-8.4c-.86 0-1.3-.53-1.3-1.23 0-1.05.53-1.72 1.74-2.64l.06-.05c.83-.62 1.4-1.06 1.4-1.85 0-.9-.83-1.4-1.76-1.4-.76 0-1.34.28-1.8.87-.33.34-.6.53-1.05.53C8.38 8.83 8 8.3 8 7.7c0-.6.34-1.22.88-1.68A5.15 5.15 0 0 1 12.28 5c2.71 0 4.62 1.34 4.62 3.64 0 1.68-1 2.5-2.2 3.31-.8.59-1.17.93-1.48 1.62-.33.6-.58 1.04-1.4 1.04Zm-.02 4.17c-.94 0-1.71-.6-1.71-1.54 0-.94.77-1.55 1.7-1.55.95 0 1.7.6 1.7 1.55 0 .93-.75 1.54-1.7 1.54Z",fill:"currentColor"}))},"help_circle");var s=a},82869:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var i=r.ir(r("56144")),o=r("83636");let a=(0,o.convertIcon)(function(e){return i.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23a11 11 0 1 0 0-22 11 11 0 0 0 0 22Zm2-16a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm-5 3.75c0-.41.34-.75.75-.75h2.75a1 1 0 0 1 1 1v5.5h.75a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5h.75v-5h-.75a.75.75 0 0 1-.75-.75Z",fill:"currentColor"}))},"info_circle");var s=a},33683:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var i=r.ir(r("56144")),o=r("83636");let a=(0,o.convertIcon)(function(e){return i.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2a6.5 6.5 0 0 0-6.5 6.5V10H5a2 2 0 0 0-2 2v8c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2h-.5V8.5A6.5 6.5 0 0 0 12 2Zm3.5 8V8.5a3.5 3.5 0 1 0-7 0V10h7Z",fill:"currentColor"}))},"lock");var s=a},51763:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var i=r.ir(r("56144")),o=r("83636");let a=(0,o.convertIcon)(function(e){return i.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),i.createElement("path",{d:"M7 12a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0Z",fill:"currentColor"}),i.createElement("path",{d:"M14.5 12a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0Z",fill:"currentColor"}),i.createElement("path",{d:"M19.5 14.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z",fill:"currentColor"}))},"more");var s=a},821:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var i=r.ir(r("56144")),o=r("83636");let a=(0,o.convertIcon)(function(e){return i.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),i.createElement("path",{d:"M20.5 13.5a1.5 1.5 0 0 0 0-3h-7v-7a1.5 1.5 0 0 0-3 0v7h-7a1.5 1.5 0 0 0 0 3h7v7a1.5 1.5 0 0 0 3 0v-7h7Z",fill:"currentColor"}))},"plus");var s=a},14772:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var i=r.ir(r("56144")),o=r("83636");let a=(0,o.convertIcon)(function(e){return i.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.44 2.44a1.5 1.5 0 0 0 0 2.12L16.88 7H9.25C5.16 7 2 10.58 2 14.5S5.16 22 9.25 22h3.25a1.5 1.5 0 0 0 0-3H9.25C6.98 19 5 16.93 5 14.5S6.98 10 9.25 10h7.63l-2.44 2.44a1.5 1.5 0 0 0 2.12 2.12l5-5a1.5 1.5 0 0 0 0-2.12l-5-5a1.5 1.5 0 0 0-2.12 0Z",fill:"currentColor"}))},"redo");var s=a},35024:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var i=r.ir(r("56144")),o=r("83636");let a=(0,o.convertIcon)(function(e){return i.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.5 2a8.5 8.5 0 1 0 4.86 15.48l4.08 4.08a1.5 1.5 0 1 0 2.12-2.12l-4.08-4.08A8.5 8.5 0 0 0 10.5 2ZM5 10.5a5.5 5.5 0 1 1 11 0 5.5 5.5 0 0 1-11 0Z",fill:"currentColor"}))},"search");var s=a},46629:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var i=r.ir(r("56144")),o=r("83636");let a=(0,o.convertIcon)(function(e){return i.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),i.createElement("path",{d:"M2.44 2.44a1.5 1.5 0 0 0 0 2.12L6.88 9H4a1.5 1.5 0 0 0 0 3h6.5a1.5 1.5 0 0 0 1.5-1.5V4a1.5 1.5 0 0 0-3 0v2.88L4.56 2.44a1.5 1.5 0 0 0-2.12 0Z",fill:"currentColor"}),i.createElement("path",{d:"M20 12a1.5 1.5 0 0 1 0 3h-2.88l4.44 4.44a1.5 1.5 0 1 1-2.12 2.12L15 17.12V20a1.5 1.5 0 1 1-3 0v-6.5a1.5 1.5 0 0 1 1.5-1.5H20Z",fill:"currentColor"}))},"shrink");var s=a},59185:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var i=r.ir(r("56144")),o=r("83636");let a=(0,o.convertIcon)(function(e){return i.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),i.createElement("path",{d:"M6.95 7.72h10.13c.4 0 .64.45.42.78l-5.07 7.6a.5.5 0 0 1-.83 0L6.54 8.5a.5.5 0 0 1 .41-.78Z",fill:"currentColor"}))},"small_triangle_down");var s=a},58482:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var i=r.ir(r("56144")),o=r("83636");let a=(0,o.convertIcon)(function(e){return i.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),i.createElement("path",{d:"M16.32 6.96v10.13a.5.5 0 0 1-.78.41l-7.6-5.06a.5.5 0 0 1 0-.83l7.6-5.07a.5.5 0 0 1 .78.42Z",fill:"currentColor"}))},"small_triangle_left");var s=a},19222:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var i=r.ir(r("56144")),o=r("83636");let a=(0,o.convertIcon)(function(e){return i.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 5a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v14a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V5Zm10 11a1 1 0 0 1 1-1h5a1 1 0 1 1 0 2h-5a1 1 0 0 1-1-1ZM7.7 6.3a1 1 0 0 0-1.4 1.4l3.36 3.37-3.44 4.3a1 1 0 0 0 1.56 1.25l4-5a1 1 0 0 0-.07-1.33l-4-4Z",fill:"currentColor"}))},"terminal");var s=a},92631:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var i=r.ir(r("56144")),o=r("83636");let a=(0,o.convertIcon)(function(e){return i.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.35 4.27c.68.47.86 1.4.38 2.08l-10 14.5a1.5 1.5 0 0 1-2.33.17l-6.5-7a1.5 1.5 0 0 1 2.2-2.04l5.23 5.63 8.94-12.96a1.5 1.5 0 0 1 2.08-.38Z",fill:"currentColor"}))},"tick");var s=a},28741:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var i=r.ir(r("56144")),o=r("83636");let a=(0,o.convertIcon)(function(e){return i.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23a11 11 0 1 0 0-22 11 11 0 0 0 0 22Zm5.88-13.18-6.2 7.6a1.5 1.5 0 0 1-2.37 0l-3.5-4a1.5 1.5 0 1 1 2.37-1.84l2.3 2.46L15.5 8a1.5 1.5 0 1 1 2.38 1.82Z",fill:"currentColor"}))},"tick_circle");var s=a},22315:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var i=r.ir(r("56144")),o=r("83636");let a=(0,o.convertIcon)(function(e){return i.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),i.createElement("path",{d:"m20.56 9.66-7.8 8.97a1 1 0 0 1-1.51 0L3.44 9.66A1 1 0 0 1 4.19 8h15.62a1 1 0 0 1 .75 1.66Z",fill:"currentColor"}))},"tree_triangle_down");var s=a},65493:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var i=r.ir(r("56144")),o=r("83636");let a=(0,o.convertIcon)(function(e){return i.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.56 2.44a1.5 1.5 0 0 1 0 2.12L7.12 7h7.63C18.84 7 22 10.58 22 14.5S18.84 22 14.75 22H11.5a1.5 1.5 0 0 1 0-3h3.25c2.27 0 4.25-2.07 4.25-4.5S17.02 10 14.75 10H7.12l2.44 2.44a1.5 1.5 0 0 1-2.12 2.12l-5-5a1.5 1.5 0 0 1 0-2.12l5-5a1.5 1.5 0 0 1 2.12 0Z",fill:"currentColor"}))},"undo");var s=a},40183:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var i=r.ir(r("56144")),o=r("83636");let a=(0,o.convertIcon)(function(e){return i.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),i.createElement("path",{d:"M5.5 7.5A6.5 6.5 0 0 1 18.48 7h-3.02a3.5 3.5 0 0 0-6.96.5V10H19a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h.5V7.5Z",fill:"currentColor"}))},"unlock");var s=a},96790:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{IconAlertCircle:function(){return i.default},IconAlertTriangle:function(){return o.default},IconCheckboxIndeterminate:function(){return a.default},IconCheckboxTick:function(){return s.default},IconChevronDown:function(){return l.default},IconClear:function(){return u.default},IconClose:function(){return c.default},IconCode:function(){return d.default},IconCopy:function(){return h.default},IconCrossCircleStroked:function(){return f.default},IconDeleteStroked:function(){return p.default},IconExpand:function(){return g.default},IconEyeClosedSolid:function(){return y.default},IconEyeOpened:function(){return m.default},IconFile:function(){return b.default},IconFolder:function(){return _.default},IconFolderOpen:function(){return w.default},IconHandle:function(){return E.default},IconHelpCircle:function(){return x.default},IconInfoCircle:function(){return C.default},IconLock:function(){return S.default},IconMore:function(){return O.default},IconPlus:function(){return M.default},IconRedo:function(){return P.default},IconSearch:function(){return D.default},IconShrink:function(){return I.default},IconSmallTriangleDown:function(){return j.default},IconSmallTriangleLeft:function(){return N.default},IconTerminal:function(){return T.default},IconTick:function(){return k.default},IconTickCircle:function(){return A.default},IconTreeTriangleDown:function(){return R.default},IconUndo:function(){return L.default},IconUnlock:function(){return F.default}});var i=r.ir(r("89696")),o=r.ir(r("12299")),a=r.ir(r("44363")),s=r.ir(r("45778")),l=r.ir(r("9441")),u=r.ir(r("5652")),c=r.ir(r("99577")),d=r.ir(r("40554")),h=r.ir(r("96087")),f=r.ir(r("70535")),p=r.ir(r("47690")),g=r.ir(r("65616")),y=r.ir(r("11598")),m=r.ir(r("29145")),b=r.ir(r("73885")),_=r.ir(r("86528")),w=r.ir(r("28259")),E=r.ir(r("79924")),x=r.ir(r("30967")),C=r.ir(r("82869")),S=r.ir(r("33683")),O=r.ir(r("51763")),M=r.ir(r("821")),P=r.ir(r("14772")),D=r.ir(r("35024")),I=r.ir(r("46629")),j=r.ir(r("59185")),N=r.ir(r("58482")),T=r.ir(r("19222")),k=r.ir(r("92631")),A=r.ir(r("28741")),R=r.ir(r("22315")),L=r.ir(r("65493")),F=r.ir(r("40183"))},73543:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),r.es(r("83636"),n),r.es(r("96790"),n)},65338:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return l}});var i=r("56144"),o=r.ir(r("59998")),a=r.ir(r("17421"));let{hasOwnProperty:s}=Object.prototype;class l extends i.Component{constructor(e){super(e),this.isControlled=e=>!!(e&&this.props&&"object"==typeof this.props&&s.call(this.props,e)),this.setStateAsync=e=>new Promise(n=>{this.setState(e,n)}),this.cache={},this.foundation=null}componentDidMount(){this.foundation&&"function"==typeof this.foundation.init&&this.foundation.init()}componentWillUnmount(){this.foundation&&"function"==typeof this.foundation.destroy&&this.foundation.destroy(),this.cache={}}get adapter(){return{getContext:e=>{if(this.context&&e)return this.context[e]},getContexts:()=>this.context,getProp:e=>this.props[e],getProps:()=>this.props,getState:e=>this.state[e],getStates:()=>this.state,setState:(e,n)=>this.setState(Object.assign({},e),n),getCache:e=>e&&this.cache[e],getCaches:()=>this.cache,setCache:(e,n)=>e&&(this.cache[e]=n),stopPropagation:e=>{try{e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation()}catch(e){}},persistEvent:e=>{e&&e.persist&&"function"==typeof e.persist&&e.persist()}}}log(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(0,o.default)(e,...r)}getDataAttr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return(0,a.default)(e)}}l.propTypes={},l.defaultProps={}},69632:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"isHTMLElement",{enumerable:!0,get:function(){return i.isHTMLElement}}),r("56144");var i=r("69188")},28280:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var i=r.ir(r("3409")),o=r.ir(r("56144"));class a extends o.default.Component{constructor(e){super(e),this.handleAnimationStart=()=>{var e,n;null===(n=(e=this.props).onAnimationStart)||void 0===n||n.call(e)},this.handleAnimationEnd=()=>{this.setState({currentClassName:this.props.endClassName,extraStyle:{animationFillMode:this.props.fillMode},isAnimating:!1},()=>{var e,n;null===(n=(e=this.props).onAnimationEnd)||void 0===n||n.call(e,!1)})},this.state={currentClassName:this.props.startClassName,extraStyle:{animationFillMode:this.props.fillMode},isAnimating:!0}}componentDidMount(){var e,n,r,i;null===(n=(e=this.props).onAnimationStart)||void 0===n||n.call(e),!this.props.motion&&(null===(i=(r=this.props).onAnimationEnd)||void 0===i||i.call(r,!1),this.setState({isAnimating:!1}))}componentDidUpdate(e,n,r){let o=Object.keys(this.props).filter(n=>!(0,i.default)(this.props[n],e[n]));o.includes("animationState"),(o.includes("startClassName")||o.includes("replayKey")||o.includes("motion"))&&this.setState({currentClassName:this.props.startClassName,extraStyle:{animationFillMode:this.props.fillMode},isAnimating:!0},()=>{var e,n,r,i;null===(n=(e=this.props).onAnimationStart)||void 0===n||n.call(e),!this.props.motion&&(null===(i=(r=this.props).onAnimationEnd)||void 0===i||i.call(r,this.state.isAnimating),this.setState({isAnimating:!1}))})}render(){var e;return this.props.motion?this.props.children({animationClassName:null!==(e=this.state.currentClassName)&&void 0!==e?e:"",animationStyle:this.state.extraStyle,animationEventsNeedBind:{onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},isAnimating:this.state.isAnimating}):this.props.children({animationClassName:"",animationStyle:{},animationEventsNeedBind:{},isAnimating:this.state.isAnimating})}}a.defaultProps={motion:!0,replayKey:""};var s=a},57974:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return h}});var i=r("56144"),o=r("48362"),a=r("12864"),s=r.ir(r("40472")),l=r.ir(r("37894")),u=r.ir(r("12837"));let c=()=>document.body;class d extends i.PureComponent{constructor(e,n){var r;super(e),r=this,this.initContainer=function(e){var n,i;let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{let i;if(!r.el||!(null===(n=r.state)||void 0===n?void 0:n.container)||!Array.from(r.state.container.childNodes).includes(r.el)){r.el=document.createElement("div");let n=r.props.getPopupContainer||e.getPopupContainer||c,o=n();return o.appendChild(r.el),r.addStyle(r.props.style),r.addClass(r.props.prefixCls,e,r.props.className),i=o}}catch(e){if(!o)throw e}return null===(i=r.state)||void 0===i?void 0:i.container},this.addStyle=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r.el)for(let n of Object.keys(e))r.el.style[n]=e[n]},this.addClass=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.context,{direction:i}=n;for(var o=arguments.length,a=Array(o>2?o-2:0),s=2;s<o;s++)a[s-2]=arguments[s];let u=(0,l.default)(e,...a,{[`${e}-rtl`]:"rtl"===i});r.el&&(r.el.className=u)},this.state={container:this.initContainer(n,!0)}}componentDidMount(){let e=this.initContainer(this.context);e!==this.state.container&&this.setState({container:e})}componentDidUpdate(e){let{didUpdate:n}=this.props;n&&n(e)}componentWillUnmount(){let{container:e}=this.state;e&&e.removeChild(this.el)}render(){let{state:e,props:n}=this;return e.container?(0,o.createPortal)(n.children,this.el):null}}d.contextType=u.default,d.defaultProps={prefixCls:`${a.BASE_CLASS_PREFIX}-portal`},d.propTypes={children:s.default.node,prefixCls:s.default.string,getPopupContainer:s.default.func,className:s.default.string,didUpdate:s.default.func};var h=d},6881:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{Sortable:function(){return f},SortableItem:function(){return p}});var i=r.ir(r("29449")),o=r.ir(r("56144")),a=r("48362"),s=r("37866"),l=r.ir(r("37894")),u=r("76784"),c=r("15414");function d(e){return o.default.createElement("div",Object.assign({style:{overflow:"auto"}},e))}let h={coordinateGetter:c.sortableKeyboardCoordinates};function f(e){let{items:n,onSortEnd:r,adjustScale:i,renderItem:s,transition:l,collisionDetection:f=u.closestCenter,strategy:g=c.rectSortingStrategy,useDragOverlay:y=!0,dragOverlayCls:m,container:b=d,prefix:_="semi-sortable"}=e,[w,E]=(0,o.useState)(null),x=(0,u.useSensors)((0,u.useSensor)(u.MouseSensor),(0,u.useSensor)(u.TouchSensor),(0,u.useSensor)(u.KeyboardSensor,h)),C=(0,o.useCallback)(e=>n.indexOf(e),[n]),S=(0,o.useMemo)(()=>w?C(w):-1,[C,w]),O=(0,o.useCallback)(e=>{let{active:n}=e;n&&E(n.id)},[]),M=(0,o.useCallback)(e=>{let{over:n}=e;if(E(null),n){let e=C(n.id);S!==e&&r({oldIndex:S,newIndex:e})}},[S,C,r]),P=(0,o.useCallback)(()=>{E(null)},[]);return o.default.createElement(u.DndContext,{sensors:x,collisionDetection:f,onDragStart:O,onDragEnd:M,onDragCancel:P,autoScroll:{order:u.TraversalOrder.ReversedTreeOrder}},o.default.createElement(c.SortableContext,{items:n,strategy:g},o.default.createElement(b,null,n.map((e,n)=>o.default.createElement(p,{key:e,id:e,index:n,renderItem:s,useDragOverlay:y,prefix:_,transition:l})))),y?(0,a.createPortal)(o.default.createElement(u.DragOverlay,{adjustScale:i,style:{zIndex:void 0},className:m},w?s({id:w,sortableHandle:e=>e}):null),document.body):null)}function p(e){let{animateLayoutChanges:n,id:r,renderItem:a,prefix:u,transition:d}=e,{listeners:h,setNodeRef:f,transform:p,transition:g,active:y,isOver:m,attributes:b}=(0,c.useSortable)({id:r,animateLayoutChanges:n,transition:d}),_=(0,o.useCallback)(e=>()=>o.default.createElement("span",Object.assign({},h,{style:{lineHeight:0},onMouseDown:e=>{h.onMouseDown(e),e.preventDefault(),e.stopPropagation()}}),o.default.createElement(e,null)),[h]),w=(0,l.default)(`${u}-sortable-item`,{[`${u}-sortable-item-over`]:m,[`${u}-sortable-item-active`]:(null==y?void 0:y.id)===r}),E=(0,o.useMemo)(()=>(0,i.default)(d)?void 0:{transform:s.CSS.Transform.toString(Object.assign(Object.assign({},p),{scaleX:1,scaleY:1})),transition:g},[d,p,g]);return o.default.createElement("div",Object.assign({ref:f,style:E,className:w},b),a({id:r,sortableHandle:_}))}},84204:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{stopPropagation:function(){return u},isSemiIcon:function(){return c},getActiveElement:function(){return d},getFocusableElements:function(){return h},runAfterTicks:function(){return function e(n,r){return l(this,void 0,void 0,function*(){if(0===r){yield n();return}yield new Promise(i=>{setTimeout(()=>l(this,void 0,void 0,function*(){yield e(n,r-1),i()}),0)})})}},getScrollbarWidth:function(){return f},getDefaultPropsFromGlobalConfig:function(){return p}});var i=r.ir(r("15478"));r("80334"),r("77965");var o=r.ir(r("56144")),a=r("69188"),s=r.ir(r("89897")),l=function(e,n,r,i){return new(r||(r=Promise))(function(o,a){function s(e){try{u(i.next(e))}catch(e){a(e)}}function l(e){try{u(i.throw(e))}catch(e){a(e)}}function u(e){var n;e.done?o(e.value):((n=e.value)instanceof r?n:new r(function(e){e(n)})).then(s,l)}u((i=i.apply(e,n||[])).next())})};function u(e,n){e&&"function"==typeof e.stopPropagation&&e.stopPropagation(),!n&&e.nativeEvent&&"function"==typeof e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()}let c=e=>o.default.isValidElement(e)&&"Icon"===(0,i.default)(e.type,"elementType");function d(){return document?document.activeElement:null}function h(e){if(!(0,a.isHTMLElement)(e))return[];let n="input:not([disabled]):not([tabindex='-1']),textarea:not([disabled]):not([tabindex='-1']),button:not([disabled]):not([tabindex='-1']),a[href]:not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']),area[href]:not([tabindex='-1']),iframe:not([tabindex='-1']),object:not([tabindex='-1']),*[tabindex]:not([tabindex='-1']),*[contenteditable]:not([tabindex='-1'])",r=Array.from(e.querySelectorAll(n));return r}function f(){return globalThis&&"[object Window]"===Object.prototype.toString.call(globalThis)?window.innerWidth-document.documentElement.clientWidth:0}function p(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=()=>{var n,r;return(null===(r=null===(n=null===s.default||void 0===s.default?void 0:s.default.config)||void 0===n?void 0:n.overrideDefaultProps)||void 0===r?void 0:r[e])||{}};return new Proxy(Object.assign({},n),{get(e,n,i){let o=r();return n in o?o[n]:Reflect.get(e,n,i)},set:(e,n,r,i)=>Reflect.set(e,n,r,i),ownKeys(){let e=r();return Array.from(new Set([...Reflect.ownKeys(n),...Object.keys(e)]))},getOwnPropertyDescriptor(e,n){let i=r();return n in i?Reflect.getOwnPropertyDescriptor(i,n):Reflect.getOwnPropertyDescriptor(e,n)}})}},89897:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var i=new class e{constructor(){this.config={}}}},72486:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var i=r("78590"),o=r.ir(r("56144")),a=e=>{let{gradientStart:n,gradientEnd:r}=e,a=(0,i.getUuidShort)();return o.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"51",height:"52",viewBox:"0 0 51 52",fill:"none"},o.default.createElement("g",{filter:"url(#filter0_d_6_2)"},o.default.createElement("path",{d:"M40.4918 46.5592C44.6795 43.176 46.261 34.1333 47.5301 25.6141C49.5854 11.8168 39.6662 1 25.8097 1C11.2857 1 3 11.4279 3 25.3518C3 33.7866 6.29361 43.8947 10.4602 46.5592C12.5868 47.9192 12.5868 47.9051 25.8097 47.9192C38.3651 47.9282 38.5352 48.14 40.4918 46.5592Z",fill:`url(#${a})`})),o.default.createElement("defs",null,o.default.createElement("filter",{id:"filter0_d_6_2",x:"0.789215",y:"0.447304",width:"49.2216",height:"51.3549",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},o.default.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),o.default.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),o.default.createElement("feOffset",{dy:"1.65809"}),o.default.createElement("feGaussianBlur",{stdDeviation:"1.10539"}),o.default.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0"}),o.default.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_6_2"}),o.default.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_6_2",result:"shape"})),o.default.createElement("linearGradient",{id:a,x1:"17.671",y1:"31.7392",x2:"17.671",y2:"47.9333",gradientUnits:"userSpaceOnUse"},o.default.createElement("stop",{stopColor:n}),o.default.createElement("stop",{offset:"1",stopColor:r}))))}},58374:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return _}});var i=r.ir(r("56144")),o=r.ir(r("37894")),a=r.ir(r("40472")),s=r("1385"),l=r.ir(r("10279")),u=r("11493"),c=r.ir(r("65338")),d=r("79297"),h=r("84204"),f=r.ir(r("72486")),p=function(e,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>n.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)0>n.indexOf(i[o])&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(r[i[o]]=e[i[o]]);return r};let g=s.strings.SIZE,y=s.strings.SHAPE,m=s.strings.COLOR,b=s.cssClasses.PREFIX;class _ extends c.default{constructor(e){super(e),this.handleFocusVisible=e=>{this.foundation.handleFocusVisible(e)},this.handleBlur=e=>{this.foundation.handleBlur()},this.getContent=()=>{let{children:e,onClick:n,imgAttr:r,src:a,srcSet:s,alt:l}=this.props,{isImgExist:c}=this.state,d=e,h=n!==u.noop,f=a&&c,p={tabIndex:0,onKeyDown:this.handleKeyDown,onFocus:this.handleFocusVisible,onBlur:this.handleBlur};if(f){let e=h?`clickable Avatar: ${l}`:l,n=Object.assign(Object.assign({src:a,srcSet:s,onError:this.handleError},r),{className:(0,o.default)({[`${b}-no-focus-visible`]:h})}),u=h?Object.assign(Object.assign({},n),p):n;d=i.default.createElement("img",Object.assign({alt:e},u))}else if("string"==typeof e){let n=null!=l?l:e,r=h?`clickable Avatar: ${n}`:n,a={role:"img","aria-label":r,className:(0,o.default)(`${b}-label`,{[`${b}-no-focus-visible`]:h})},s=h?Object.assign(Object.assign({},a),p):a,u={transform:`scale(${this.state.scale})`};d=i.default.createElement("span",{className:`${b}-content`,style:u},i.default.createElement("span",Object.assign({},s,{"x-semi-prop":"children"}),e))}return d},this.renderBottomSlot=()=>{var e,n;if(!this.props.bottomSlot)return null;if(this.props.bottomSlot.render)return this.props.bottomSlot.render();let r=null!==(e=this.props.bottomSlot.render)&&void 0!==e?e:()=>{var e;let n={};return this.props.bottomSlot.bgColor&&(n.backgroundColor=this.props.bottomSlot.bgColor),this.props.bottomSlot.textColor&&(n.color=this.props.bottomSlot.textColor),i.default.createElement("span",{style:n,className:(0,o.default)(`${b}-bottom_slot-shape_${this.props.bottomSlot.shape}`,`${b}-bottom_slot-shape_${this.props.bottomSlot.shape}-${this.props.size}`,null!==(e=this.props.bottomSlot.className)&&void 0!==e?e:"")},this.props.bottomSlot.text)};return i.default.createElement("div",{className:(0,o.default)([`${b}-bottom_slot`]),style:null!==(n=this.props.bottomSlot.style)&&void 0!==n?n:{}},r())},this.renderTopSlot=()=>{var e,n,r,a;if(!this.props.topSlot)return null;if(this.props.topSlot.render)return this.props.topSlot.render();let s={};return this.props.topSlot.textColor&&(s.color=this.props.topSlot.textColor),i.default.createElement("div",{style:null!==(e=this.props.topSlot.style)&&void 0!==e?e:{},className:(0,o.default)([`${b}-top_slot-wrapper`,null!==(n=this.props.topSlot.className)&&void 0!==n?n:"",{[`${b}-animated`]:this.props.contentMotion}])},i.default.createElement("div",{className:(0,o.default)([`${b}-top_slot-bg`,`${b}-top_slot-bg-${this.props.size}`])},i.default.createElement("div",{className:(0,o.default)([`${b}-top_slot-bg-svg`,`${b}-top_slot-bg-svg-${this.props.size}`])},i.default.createElement(f.default,{gradientStart:null!==(r=this.props.topSlot.gradientStart)&&void 0!==r?r:"var(--semi-color-primary)",gradientEnd:null!==(a=this.props.topSlot.gradientEnd)&&void 0!==a?a:"var(--semi-color-primary)"}))),i.default.createElement("div",{className:(0,o.default)([`${b}-top_slot`])},i.default.createElement("div",{style:s,className:(0,o.default)([`${b}-top_slot-content`,`${b}-top_slot-content-${this.props.size}`])},this.props.topSlot.text)))},this.state={isImgExist:!0,hoverContent:"",focusVisible:!1,scale:1},this.onEnter=this.onEnter.bind(this),this.onLeave=this.onLeave.bind(this),this.handleError=this.handleError.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.getContent=this.getContent.bind(this),this.avatarRef=i.default.createRef()}get adapter(){return Object.assign(Object.assign({},super.adapter),{notifyImgState:e=>{this.setState({isImgExist:e})},notifyEnter:e=>{let{hoverMask:n}=this.props;this.setState({hoverContent:n},()=>{let{onMouseEnter:n}=this.props;n&&n(e)})},notifyLeave:e=>{this.setState({hoverContent:""},()=>{let{onMouseLeave:n}=this.props;n&&n(e)})},setFocusVisible:e=>{this.setState({focusVisible:e})},setScale:e=>{this.setState({scale:e})},getAvatarNode:()=>{var e;return null===(e=this.avatarRef)||void 0===e?void 0:e.current}})}componentDidMount(){this.foundation=new l.default(this.adapter),this.foundation.init()}componentDidUpdate(e){if(this.props.src&&this.props.src!==e.src){let e=new Image(0,0);e.src=this.props.src,e.onload=()=>{this.setState({isImgExist:!0})},e.onerror=()=>{this.setState({isImgExist:!1})},e.onabort=()=>{this.setState({isImgExist:!1})}}"string"==typeof this.props.children&&this.props.children!==e.children&&this.foundation.changeScale()}componentWillUnmount(){this.foundation.destroy()}onEnter(e){this.foundation.handleEnter(e)}onLeave(e){this.foundation.handleLeave(e)}handleError(){this.foundation.handleImgLoadError()}handleKeyDown(e){let{onClick:n}=this.props;switch(e.key){case"Enter":n(e),(0,d.handlePrevent)(e);break;case"Escape":e.target.blur()}}render(){var e;let n=this.props,{shape:r,children:a,size:l,color:u,className:c,hoverMask:d,onClick:h,imgAttr:f,src:g,srcSet:y,style:m,alt:_,gap:w,bottomSlot:E,topSlot:x,border:C,contentMotion:S}=n,O=p(n,["shape","children","size","color","className","hoverMask","onClick","imgAttr","src","srcSet","style","alt","gap","bottomSlot","topSlot","border","contentMotion"]),{isImgExist:M,hoverContent:P,focusVisible:D}=this.state,I={};!s.strings.SIZE.includes(l)&&(I={width:l,height:l}),I=Object.assign(Object.assign({},I),m);let j=E||x||C,N={onClick:h,onMouseEnter:this.onEnter,onMouseLeave:this.onLeave},T=g&&M,k=(0,o.default)(b,{[`${b}-${r}`]:r,[`${b}-${l}`]:l,[`${b}-${u}`]:u&&!T,[`${b}-img`]:T,[`${b}-focus`]:D,[`${b}-animated`]:S},c),A=P?i.default.createElement("div",{className:`${b}-hover`,"x-semi-prop":"hoverContent"},P):null,R=i.default.createElement("span",Object.assign({},O,{style:j?{}:I,className:k},j?{}:N,{role:"listitem",ref:this.avatarRef}),this.getContent(),A);if(C){let n={};"object"==typeof C&&(null==C?void 0:C.color)&&(n.borderColor=null==C?void 0:C.color),R=i.default.createElement("div",{style:Object.assign({position:"relative"},I)},R,i.default.createElement("span",{style:n,className:(0,o.default)([`${b}-additionalBorder`,`${b}-additionalBorder-${l}`,{[`${b}-${r}`]:r}])}),"object"==typeof this.props.border&&this.props.border.motion&&i.default.createElement("span",{style:n,className:(0,o.default)([`${b}-additionalBorder`,`${b}-additionalBorder-${l}`,{[`${b}-${r}`]:r,[`${b}-additionalBorder-animated`]:"object"==typeof this.props.border&&(null===(e=this.props.border)||void 0===e?void 0:e.motion)}])}))}return j?i.default.createElement("span",Object.assign({className:(0,o.default)([`${b}-wrapper`]),style:I},N),R,x&&["extra-small","small","default","medium","large","extra-large"].includes(l)&&"circle"===r&&this.renderTopSlot(),E&&["extra-small","small","default","medium","large","extra-large"].includes(l)&&this.renderBottomSlot()):R}}_.__SemiComponentName__="Avatar",_.defaultProps=(0,h.getDefaultPropsFromGlobalConfig)(_.__SemiComponentName__,{size:"medium",color:"grey",shape:"circle",gap:3,onClick:u.noop,onMouseEnter:u.noop,onMouseLeave:u.noop}),_.propTypes={children:a.default.node,color:a.default.oneOf(m),shape:a.default.oneOf(y),size:a.default.oneOf(g),hoverMask:a.default.node,className:a.default.string,style:a.default.object,gap:a.default.number,imgAttr:a.default.object,src:a.default.string,srcSet:a.default.string,alt:a.default.string,onError:a.default.func,onClick:a.default.func,onMouseEnter:a.default.func,onMouseLeave:a.default.func,bottomSlot:a.default.shape({render:a.default.func,shape:a.default.oneOf(["circle","square"]),text:a.default.node,bgColor:a.default.string,textColor:a.default.string,className:a.default.string,style:a.default.object}),topSlot:a.default.shape({render:a.default.func,gradientStart:a.default.string,gradientEnd:a.default.string,text:a.default.node,textColor:a.default.string,className:a.default.string,style:a.default.object}),border:a.default.oneOfType([a.default.shape({color:a.default.string,motion:a.default.bool}),a.default.bool]),contentMotion:a.default.bool},_.elementType="Avatar"},32632:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return p}});var i=r.ir(r("82203")),o=r.ir(r("94228")),a=r.ir(r("15135")),s=r.ir(r("56144")),l=r.ir(r("37894")),u=r.ir(r("40472")),c=r.ir(r("12837")),d=r("35794"),h=function(e,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>n.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)0>n.indexOf(i[o])&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(r[i[o]]=e[i[o]]);return r};let f=d.cssClasses.PREFIX;class p extends s.PureComponent{render(){let e;let{direction:n}=this.context,r=this.props,{count:i,dot:u,type:c,countClassName:d,countStyle:p,theme:g,position:y="rtl"===n?"leftTop":"rightTop",overflowCount:m,style:b,children:_,className:w}=r,E=h(r,["count","dot","type","countClassName","countStyle","theme","position","overflowCount","style","children","className"]),x=i&&!((0,a.default)(i)||(0,o.default)(i)),C=null!=i,S=(0,l.default)(d,{[`${f}-${c}`]:!x,[`${f}-${g}`]:!x,[`${f}-${y}`]:!!y&&!!_,[`${f}-block`]:!_,[`${f}-dot`]:u,[`${f}-count`]:!u&&!x&&C,[`${f}-custom`]:x});return e=(0,a.default)(i)?m&&m<i?`${m}+`:`${i}`:i,s.default.createElement("span",Object.assign({className:(0,l.default)(f,w)},E),_,s.default.createElement("span",{className:S,style:b||p,"x-semi-prop":"count"},u?null:e))}}p.contextType=c.default,p.propTypes={count:u.default.node,dot:u.default.bool,type:u.default.oneOf(d.strings.TYPE_SET),theme:u.default.oneOf(d.strings.THEME_SET),position:u.default.oneOf(d.strings.POS_SET),overflowCount:u.default.number,style:u.default.object,className:u.default.string,children:u.default.node,onClick:u.default.func,onMouseEnter:u.default.func,onMouseLeave:u.default.func,countClassName:u.default.string,countStyle:u.default.object},p.defaultProps={dot:!1,type:"primary",theme:"solid",className:"",onClick:()=>i.default,onMouseEnter:()=>i.default,onMouseLeave:()=>i.default}},71480:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return p}});var i=r.ir(r("51854")),o=r.ir(r("56144")),a=r.ir(r("37894")),s=r.ir(r("40472")),l=r("21723"),u=r("11493"),c=function(e,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>n.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)0>n.indexOf(i[o])&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(r[i[o]]=e[i[o]]);return r};let d=l.strings.sizes,{htmlTypes:h,btnTypes:f}=l.strings;class p extends o.PureComponent{render(){let e=this.props,{children:n,block:r,htmlType:s,loading:l,circle:u,className:d,style:h,disabled:f,size:p,theme:g,type:y,prefixCls:m,iconPosition:b}=e,_=c(e,["children","block","htmlType","loading","circle","className","style","disabled","size","theme","type","prefixCls","iconPosition"]),w=Object.assign(Object.assign({disabled:f},(0,i.default)(_,["x-semi-children-alias"])),{className:(0,a.default)(m,{[`${m}-${y}`]:!f&&y,[`${m}-disabled`]:f,[`${m}-size-large`]:"large"===p,[`${m}-size-small`]:"small"===p,[`${m}-light`]:"light"===g,[`${m}-block`]:r,[`${m}-circle`]:u,[`${m}-borderless`]:"borderless"===g,[`${m}-outline`]:"outline"===g,[`${m}-${y}-disabled`]:f&&y},d),type:s,"aria-disabled":f}),E={};return!(d&&d.includes("-with-icon"))&&(E["x-semi-prop"]=this.props["x-semi-children-alias"]||"children"),o.default.createElement("button",Object.assign({},w,{onClick:this.props.onClick,onMouseDown:this.props.onMouseDown,style:h}),o.default.createElement("span",Object.assign({className:(0,a.default)(`${m}-content`,this.props.contentClassName),onClick:e=>f&&e.stopPropagation()},E),n))}}p.defaultProps={disabled:!1,size:"default",type:"primary",theme:"light",block:!1,htmlType:"button",onMouseDown:u.noop,onClick:u.noop,onMouseEnter:u.noop,onMouseLeave:u.noop,prefixCls:l.cssClasses.PREFIX},p.propTypes={children:s.default.node,disabled:s.default.bool,prefixCls:s.default.string,style:s.default.object,size:s.default.oneOf(d),type:s.default.oneOf(f),block:s.default.bool,onClick:s.default.func,onMouseDown:s.default.func,circle:s.default.bool,loading:s.default.bool,htmlType:s.default.oneOf(h),theme:s.default.oneOf(l.strings.themes),className:s.default.string,onMouseEnter:s.default.func,onMouseLeave:s.default.func,"aria-label":s.default.string,contentClassName:s.default.string}},23624:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return f}});var i=r.ir(r("15478")),o=r.ir(r("56144")),a=r.ir(r("65338")),s=r.ir(r("40472")),l=r.ir(r("37894")),u=r("21723"),c=function(e,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>n.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)0>n.indexOf(i[o])&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(r[i[o]]=e[i[o]]);return r};let d=u.cssClasses.PREFIX,h=u.strings.sizes;class f extends a.default{getInnerWithLine(e){let n=[];return e.length>1?(e.slice(0,-1).forEach((e,r)=>{let a="Button"===(0,i.default)(e,"type.elementType"),s=(0,i.default)(e,"props"),{type:u,theme:c,disabled:h}=null!=s?s:{};if(a&&"outline"!==c){let i=(0,l.default)(`${d}-group-line`,`${d}-group-line-${null!=c?c:"light"}`,`${d}-group-line-${null!=u?u:"primary"}`,{[`${d}-group-line-disabled`]:h});n.push(e,o.default.createElement("span",{className:i,key:`line-${r}`}))}else n.push(e)}),n.push(e.slice(-1)),n):e}render(){let e;let n=this.props,{children:r,disabled:i,size:a,type:s,className:u,style:h,"aria-label":f}=n,p=c(n,["children","disabled","size","type","className","style","aria-label"]),g=[],y=(0,l.default)(`${d}-group`,u);return r&&(e=(Array.isArray(r)?r:[r]).map((e,n)=>{var r;return(0,o.isValidElement)(e)?(0,o.cloneElement)(e,Object.assign(Object.assign(Object.assign({disabled:i,size:a,type:s},e.props),p),{key:null!==(r=e.key)&&void 0!==r?r:n})):e}),g=this.getInnerWithLine(e)),o.default.createElement("div",{className:y,style:h,role:"group","aria-label":f},g)}}f.propTypes={children:s.default.node,disabled:s.default.bool,type:s.default.string,size:s.default.oneOf(h),theme:s.default.oneOf(u.strings.themes),"aria-label":s.default.string},f.defaultProps={size:"default"}},5081:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return u}});var i=r.ir(r("56144")),o=r.ir(r("71480")),a=r.ir(r("7659")),s=r("84204");class l extends i.default.PureComponent{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(e)}render(){let e=Object.assign({},this.props),n=!!e.icon,r=!!e.loading,s=!!e.disabled;return n||r&&!s?i.default.createElement(a.default,Object.assign({},e)):i.default.createElement(o.default,Object.assign({},e))}}l.__SemiComponentName__="Button",l.propTypes=Object.assign(Object.assign({},o.default.propTypes),a.default.propTypes),l.defaultProps=(0,s.getDefaultPropsFromGlobalConfig)(l.__SemiComponentName__),l.elementType="Button";var u=l},35993:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return m}});var i=r.ir(r("82203")),o=r.ir(r("69983")),a=r.ir(r("83910")),s=r.ir(r("56144")),l=r.ir(r("40472")),u=r.ir(r("37894")),c=r("90277"),d=r.ir(r("94576")),h=r.ir(r("50099")),f=r.ir(r("65338")),p=r("95599"),g=r("78590");class y extends f.default{get adapter(){return Object.assign(Object.assign({},super.adapter),{setNativeControlChecked:e=>{this.setState({checked:e})},notifyChange:e=>{let{onChange:n}=this.props;n&&n(e)},generateEvent:(e,n)=>{let{props:r}=this,i={target:Object.assign(Object.assign({},r),{checked:e}),stopPropagation:()=>{n.stopPropagation()},preventDefault:()=>{n.preventDefault()},nativeEvent:{stopImmediatePropagation:()=>{n.nativeEvent&&"function"==typeof n.nativeEvent.stopImmediatePropagation&&n.nativeEvent.stopImmediatePropagation()}}};return i},getIsInGroup:()=>this.isInGroup(),getGroupValue:()=>this.context&&this.context.checkboxGroup.value||[],notifyGroupChange:e=>{this.context.checkboxGroup.onChange(e)},getGroupDisabled:()=>this.context&&this.context.checkboxGroup.disabled,setAddonId:()=>{this.setState({addonId:(0,g.getUuidShort)({prefix:"addon"})})},setExtraId:()=>{this.setState({extraId:(0,g.getUuidShort)({prefix:"extra"})})},setFocusVisible:e=>{this.setState({focusVisible:e})},focusCheckboxEntity:()=>{this.focus()}})}constructor(e){super(e),this.handleChange=e=>this.foundation.handleChange(e),this.handleEnterPress=e=>this.foundation.handleEnterPress(e),this.handleFocusVisible=e=>{this.foundation.handleFocusVisible(e)},this.handleBlur=e=>{this.foundation.handleBlur()};this.state={checked:e.checked||e.defaultChecked||!1,addonId:e.addonId,extraId:e.extraId,focusVisible:!1},this.checkboxEntity=null,this.foundation=new d.default(this.adapter)}componentDidUpdate(e){this.props.checked!==e.checked&&((0,a.default)(this.props.checked)?this.foundation.setChecked(!1):(0,o.default)(this.props.checked)&&this.foundation.setChecked(this.props.checked))}isInGroup(){return!!(this.context&&this.context.checkboxGroup&&"value"in this.props)}focus(){this.checkboxEntity&&this.checkboxEntity.focus()}blur(){this.checkboxEntity&&this.checkboxEntity.blur()}render(){let{disabled:e,style:n,prefixCls:r,className:i,indeterminate:o,children:a,onMouseEnter:l,onMouseLeave:d,extra:f,value:p,role:g,tabIndex:y,id:m,type:b}=this.props,{checked:_,addonId:w,extraId:E,focusVisible:x}=this.state,C={checked:_,disabled:e},S=this.isInGroup();if(S){if(this.context.checkboxGroup.value){let e=(this.context.checkboxGroup.value||[]).includes(p);C.checked=e}this.context.checkboxGroup.disabled&&(C.disabled=this.context.checkboxGroup.disabled||this.props.disabled);let{isCardType:e,isPureCardType:n}=this.context.checkboxGroup;C.isCardType=e,C.isPureCardType=n,C.name=this.context.checkboxGroup.name}else C.isPureCardType=b===c.strings.TYPE_PURECARD,C.isCardType=b===c.strings.TYPE_CARD||C.isPureCardType;let O=r||c.checkboxClasses.PREFIX,M=C.isCardType||C.isPureCardType,P=(0,u.default)(O,{[`${O}-disabled`]:C.disabled,[`${O}-indeterminate`]:o,[`${O}-checked`]:C.checked,[`${O}-unChecked`]:!C.checked,[`${O}-cardType`]:C.isCardType,[`${O}-cardType_disabled`]:C.disabled&&C.isCardType,[`${O}-cardType_enable`]:!(C.disabled&&C.isCardType),[`${O}-cardType_checked`]:C.isCardType&&C.checked&&!C.disabled,[`${O}-cardType_checked_disabled`]:C.isCardType&&C.checked&&C.disabled,[i]:!!i,[`${O}-focus`]:x&&M}),D=(0,u.default)(`${O}-extra`,{[`${O}-cardType_extra_noChildren`]:C.isCardType&&!a});S&&this.context.checkboxGroup.name;let I=this.props["x-semi-children-alias"]||"children";return s.default.createElement("span",Object.assign({role:g,tabIndex:y,style:n,className:P,id:m,onMouseEnter:l,onMouseLeave:d,onClick:this.handleChange,onKeyPress:this.handleEnterPress,"aria-labelledby":this.props["aria-labelledby"]},this.getDataAttr(this.props)),s.default.createElement(h.default,Object.assign({},this.props,C,{addonId:a&&w,extraId:f&&E,isPureCardType:C.isPureCardType,ref:e=>{this.checkboxEntity=e},focusInner:x&&!M,onInputFocus:this.handleFocusVisible,onInputBlur:this.handleBlur})),a||f?s.default.createElement("div",{className:`${O}-content`},a?s.default.createElement("span",{id:w,className:`${O}-addon`,"x-semi-prop":I},a):null,f?s.default.createElement("div",{id:E,className:D,"x-semi-prop":"extra"},f):null):null)}}y.contextType=p.Context,y.propTypes={"aria-describedby":l.default.string,"aria-errormessage":l.default.string,"aria-invalid":l.default.bool,"aria-labelledby":l.default.string,"aria-required":l.default.bool,checked:l.default.bool,defaultChecked:l.default.bool,disabled:l.default.bool,indeterminate:l.default.bool,onChange:l.default.func,value:l.default.any,style:l.default.object,className:l.default.string,prefixCls:l.default.string,onMouseEnter:l.default.func,onMouseLeave:l.default.func,extra:l.default.node,index:l.default.number,"aria-label":l.default.string,tabIndex:l.default.number,preventScroll:l.default.bool,type:l.default.string},y.defaultProps={defaultChecked:!1,indeterminate:!1,onChange:i.default,onMouseEnter:i.default,onMouseLeave:i.default,type:"default"},y.elementType="Checkbox";var m=y},14432:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return p}});var i=r.ir(r("3409")),o=r.ir(r("56144")),a=r.ir(r("40472")),s=r.ir(r("37894")),l=r("90277"),u=r.ir(r("82972")),c=r.ir(r("65338")),d=r("95599"),h=r.ir(r("35993"));class f extends c.default{get adapter(){return Object.assign(Object.assign({},super.adapter),{updateGroupValue:e=>{this.setState({value:e})},notifyChange:e=>{this.props.onChange&&this.props.onChange(e)}})}constructor(e){super(e),this.state={value:e.value||e.defaultValue},this.foundation=new u.default(this.adapter),this.onChange=this.onChange.bind(this)}componentDidMount(){this.foundation.init()}componentDidUpdate(e){!(0,i.default)(e.value,this.props.value)&&this.foundation.handlePropValueChange(this.props.value)}componentWillUnmount(){this.foundation.destroy()}onChange(e){this.foundation.handleChange(e)}render(){let e;let{children:n,options:r,prefixCls:i,direction:a,className:u,id:c,style:f,type:p,disabled:g}=this.props,y=p===l.strings.TYPE_PURECARD,m=p===l.strings.TYPE_CARD||y,b=i||l.checkboxGroupClasses.PREFIX,_=(0,s.default)({[b]:!0,[`${b}-wrapper`]:!0,[`${b}-${a}`]:a,[`${b}-${a}-cardType`]:a&&m,[`${b}-${a}-pureCardType`]:a&&y},u),w=this.state.value.slice();return r?e=(r||[]).map((e,n)=>"string"==typeof e?o.default.createElement(h.default,{role:"listitem",key:n,disabled:this.props.disabled,value:e,prefixCls:i},e):o.default.createElement(h.default,{role:"listitem",key:n,disabled:e.disabled||this.props.disabled,value:e.value,prefixCls:i,extra:e.extra,className:e.className,style:e.style,onChange:e.onChange},e.label)):n&&(e=o.default.Children.toArray(n).map((e,n)=>o.default.cloneElement(e,{key:n,role:"listitem"}))),o.default.createElement("div",Object.assign({id:c,role:"list","aria-label":this.props["aria-label"],className:_,style:f,"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"]},this.getDataAttr(this.props)),o.default.createElement(d.Context.Provider,{value:{checkboxGroup:{onChange:this.onChange,value:w,disabled:this.props.disabled,name:this.foundation.getFormatName(),isCardType:m,isPureCardType:y}}},e))}}f.propTypes={"aria-describedby":a.default.string,"aria-errormessage":a.default.string,"aria-invalid":a.default.bool,"aria-labelledby":a.default.string,"aria-required":a.default.bool,defaultValue:a.default.array,disabled:a.default.bool,name:a.default.string,options:a.default.array,value:a.default.array,onChange:a.default.func,children:a.default.node,prefixCls:a.default.string,direction:a.default.oneOf(l.strings.DIRECTION_SET),className:a.default.string,type:a.default.oneOf([l.strings.TYPE_DEFAULT,l.strings.TYPE_CARD,l.strings.TYPE_PURECARD]),style:a.default.object},f.defaultProps={disabled:!1,onChange:()=>{},type:l.strings.TYPE_DEFAULT,defaultValue:[],direction:l.strings.DEFAULT_DIRECTION};var p=f},50099:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return h}});var i=r.ir(r("82203")),o=r.ir(r("56144")),a=r.ir(r("37894")),s=r.ir(r("40472")),l=r("90277"),u=r("95599"),c=r("73543");class d extends o.PureComponent{blur(){this.inputEntity.blur()}focus(){let{preventScroll:e}=this.props;this.inputEntity.focus({preventScroll:e})}render(){let{indeterminate:e,checked:n,disabled:r,prefixCls:s,name:u,isPureCardType:d,addonId:h,extraId:f,focusInner:p,onInputFocus:g,onInputBlur:y}=this.props,m=s||l.checkboxClasses.PREFIX,b=(0,a.default)({[`${m}-inner`]:!0,[`${m}-inner-checked`]:!!n,[`${m}-inner-pureCardType`]:d},l.checkboxClasses.WRAPPER),_=(0,a.default)({[`${m}-inner-display`]:!0,[`${m}-focus`]:p,[`${m}-focus-border`]:p&&!n}),w=n?o.default.createElement(c.IconCheckboxTick,null):e?o.default.createElement(c.IconCheckboxIndeterminate,null):null,E={type:"checkbox","aria-label":this.props["aria-label"],"aria-disabled":r,"aria-checked":n,"aria-labelledby":h,"aria-describedby":f||this.props["aria-describedby"],"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-required":this.props["aria-required"],className:l.checkboxClasses.INPUT,onChange:i.default,checked:n,disabled:r,onFocus:g,onBlur:y};return u&&(E.name=u),o.default.createElement("span",{className:b},o.default.createElement("input",Object.assign({},E,{ref:e=>{this.inputEntity=e}})),o.default.createElement("span",{className:_},w))}}d.contextType=u.Context,d.propTypes={"aria-describedby":s.default.string,"aria-errormessage":s.default.string,"aria-invalid":s.default.bool,"aria-labelledby":s.default.string,"aria-required":s.default.bool,checked:s.default.bool,disabled:s.default.bool,onChange:s.default.func,children:s.default.node,grouped:s.default.bool,value:s.default.any,isPureCardType:s.default.bool,addonId:s.default.string,extraId:s.default.string,focusInner:s.default.bool,onInputFocus:s.default.func,onInputBlur:s.default.func,preventScroll:s.default.bool},d.defaultProps={onChange:i.default};var h=d},95599:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Context",{enumerable:!0,get:function(){return o}});var i=r.ir(r("56144"));let o=i.default.createContext({})},83591:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Checkbox",{enumerable:!0,get:function(){return i.default}});var i=r.ir(r("35993")),o=r.ir(r("14432"));class a extends i.default{}a.Group=o.default},42879:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return p}});var i=r.ir(r("24578")),o=r.ir(r("3409")),a=r.ir(r("56144")),s=r.ir(r("66240")),l=r.ir(r("65338")),u=r.ir(r("40472")),c=r.ir(r("37894")),d=r("6117"),h=r("84204");class f extends l.default{constructor(e){super(e),this.domRef=a.default.createRef(),this.hasBeenRendered=!1,this.handleResize=e=>{let n=e[0];if(n){let e=f.getEntryInfo(n);this.foundation.updateDOMHeight(e.height),this.foundation.updateDOMInRenderTree(e.isShown)}},this.isChildrenInRenderTree=()=>!!this.domRef.current&&this.domRef.current.offsetHeight>0,this.state={domInRenderTree:!1,domHeight:0,visible:this.props.isOpen,isTransitioning:!1},this.foundation=new s.default(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{setDOMInRenderTree:e=>{this.state.domInRenderTree!==e&&this.setState({domInRenderTree:e})},setDOMHeight:e=>{this.state.domHeight!==e&&this.setState({domHeight:e})},setVisible:e=>{this.state.visible!==e&&this.setState({visible:e})},setIsTransitioning:e=>{this.state.isTransitioning!==e&&this.setState({isTransitioning:e})}})}componentDidMount(){super.componentDidMount(),this.resizeObserver=new ResizeObserver(this.handleResize),this.resizeObserver.observe(this.domRef.current);let e=this.isChildrenInRenderTree();this.foundation.updateDOMInRenderTree(e),e&&this.foundation.updateDOMHeight(this.domRef.current.scrollHeight)}componentDidUpdate(e,n,r){let a=Object.keys((0,i.default)(this.props,["reCalcKey","isOpen"])).filter(n=>!(0,o.default)(this.props[n],e[n])),s=Object.keys((0,i.default)(this.state,["domInRenderTree"])).filter(e=>!(0,o.default)(this.state[e],n[e]));a.includes("reCalcKey")&&this.foundation.updateDOMHeight(this.domRef.current.scrollHeight),s.includes("domInRenderTree")&&this.state.domInRenderTree&&this.foundation.updateDOMHeight(this.domRef.current.scrollHeight),a.includes("isOpen")&&(this.props.isOpen||!this.props.motion)&&this.foundation.updateVisible(this.props.isOpen),this.props.motion&&e.isOpen!==this.props.isOpen&&this.foundation.updateIsTransitioning(!0)}componentWillUnmount(){super.componentWillUnmount(),this.resizeObserver.disconnect()}render(){let e=Object.assign({overflow:"hidden",height:this.props.isOpen?this.state.domHeight:this.props.collapseHeight,opacity:this.props.isOpen||!this.props.fade||0!==this.props.collapseHeight?1:0,transitionDuration:`${this.props.motion&&this.state.isTransitioning?this.props.duration:0}ms`},this.props.style),n=(0,c.default)(`${d.cssClasses.PREFIX}-wrapper`,{[`${d.cssClasses.PREFIX}-transition`]:this.props.motion&&this.state.isTransitioning},this.props.className),r=this.props.keepDOM&&(!this.props.lazyRender||this.hasBeenRendered)||0!==this.props.collapseHeight||this.state.visible||this.props.isOpen;return r&&!this.hasBeenRendered&&(this.hasBeenRendered=!0),a.default.createElement("div",Object.assign({className:n,style:e,onTransitionEnd:()=>{var e,n;!this.props.isOpen&&this.foundation.updateVisible(!1),this.foundation.updateIsTransitioning(!1),null===(n=(e=this.props).onMotionEnd)||void 0===n||n.call(e)}},this.getDataAttr(this.props)),a.default.createElement("div",{"x-semi-prop":"children",ref:this.domRef,style:{overflow:"hidden"},id:this.props.id},r&&this.props.children))}}f.__SemiComponentName__="Collapsible",f.defaultProps=(0,h.getDefaultPropsFromGlobalConfig)(f.__SemiComponentName__,{isOpen:!1,duration:250,motion:!0,keepDOM:!1,lazyRender:!1,collapseHeight:0,fade:!1}),f.getEntryInfo=e=>{let n;n=e.borderBoxSize?!(0===e.borderBoxSize[0].blockSize&&0===e.borderBoxSize[0].inlineSize):!(0===e.contentRect.height&&0===e.contentRect.width);let r=0;if(e.borderBoxSize)r=Math.ceil(e.borderBoxSize[0].blockSize);else{let n=e.target;r=n.clientHeight}return{isShown:n,height:r}},f.propTypes={motion:u.default.bool,children:u.default.node,isOpen:u.default.bool,duration:u.default.number,keepDOM:u.default.bool,collapseHeight:u.default.number,style:u.default.object,className:u.default.string,reCalcKey:u.default.oneOfType([u.default.string,u.default.number])};var p=f},12837:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var i=r.ir(r("56144"));let o=i.default.createContext({});var a=o},42427:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return c}});var i=r.ir(r("56144")),o=r.ir(r("40472")),a=r("12864"),s=r.ir(r("33450")),l=r.ir(r("12837")),u=function(e,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>n.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)0>n.indexOf(i[o])&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(r[i[o]]=e[i[o]]);return r};l.default.Consumer;class c extends i.default.Component{constructor(e){super(e)}renderChildren(){let{direction:e,children:n}=this.props;return"rtl"===e?i.default.createElement("div",{className:`${a.BASE_CLASS_PREFIX}-rtl`},n):n}render(){let e=this.props,{children:n,direction:r}=e,o=u(e,["children","direction"]);return i.default.createElement(l.default.Provider,{value:Object.assign({direction:r},o)},this.renderChildren())}}c.propTypes={locale:o.default.object,timeZone:o.default.oneOfType([o.default.string,o.default.number]),getPopupContainer:o.default.func,direction:o.default.oneOf(["ltr","rtl"])},c.defaultProps={locale:s.default,direction:"ltr"}},9755:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return u}});var i=r.ir(r("56144")),o=r.ir(r("37894")),a=r("62200"),s=function(e,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>n.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)0>n.indexOf(i[o])&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(r[i[o]]=e[i[o]]);return r};let l=a.cssClasses.PREFIX;var u=e=>{let{layout:n="horizontal",dashed:r,align:a="center",className:u,margin:c,style:d,children:h}=e,f=s(e,["layout","dashed","align","className","margin","style","children"]),p=(0,o.default)(`${l}-divider`,u,{[`${l}-divider-horizontal`]:"horizontal"===n,[`${l}-divider-vertical`]:"vertical"===n,[`${l}-divider-dashed`]:!!r,[`${l}-divider-with-text`]:h&&"horizontal"===n,[`${l}-divider-with-text-${a}`]:h&&"horizontal"===n}),g={};return void 0!==c&&("vertical"===n?g={marginLeft:c,marginRight:c}:"horizontal"===n&&(g={marginTop:c,marginBottom:c})),i.default.createElement("div",Object.assign({},f,{className:p,style:Object.assign(Object.assign({},g),d)}),h&&"horizontal"===n?"string"==typeof h?i.default.createElement("span",{className:`${l}-divider_inner-text`,"x-semi-prop":"children"},h):h:null)}},8760:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var i=r.ir(r("56144"));let o=i.default.createContext({level:0});var a=o},15966:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return c}});var i=r.ir(r("56144")),o=r.ir(r("37894")),a=r.ir(r("40472")),s=r("23425");let l=s.cssClasses.PREFIX,u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{style:n,className:r}=e;return i.default.createElement("div",{className:(0,o.default)(`${l}-divider`,r),style:n})};u.propTypes={style:a.default.object,className:a.default.string};var c=u},69458:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return p}});var i=r.ir(r("82203")),o=r.ir(r("56144")),a=r.ir(r("37894")),s=r.ir(r("40472")),l=r("23425"),u=r.ir(r("8760")),c=r.ir(r("65338")),d=r("73543");let h=l.cssClasses.PREFIX;class f extends c.default{render(){let{children:e,disabled:n,className:r,forwardRef:i,style:s,type:l,active:u,icon:c,onKeyDown:f,showTick:p,hover:g}=this.props,{showTick:y}=this.context,m=null!=y?y:p,b=(0,a.default)(r,{[`${h}-item`]:!0,[`${h}-item-disabled`]:n,[`${h}-item-hover`]:g,[`${h}-item-withTick`]:m,[`${h}-item-${l}`]:l,[`${h}-item-active`]:u}),_={};!n&&["onClick","onMouseEnter","onMouseLeave","onContextMenu"].forEach(e=>{let n=1!==this.context.level;n&&"onClick"===e?_.onMouseDown=n=>{var r,i;0===n.button&&(null===(i=(r=this.props)[e])||void 0===i||i.call(r,n))}:_[e]=this.props[e]});let w=null;switch(!0){case m&&u:w=o.default.createElement(d.IconTick,null);break;case m&&!u:w=o.default.createElement(d.IconTick,{style:{color:"transparent"}});break;default:w=null}let E=null;return c&&(E=o.default.createElement("div",{className:`${h}-item-icon`},c)),o.default.createElement("li",Object.assign({role:"menuitem",tabIndex:-1,"aria-disabled":n},_,{onKeyDown:f,ref:e=>i(e),className:b,style:s},this.getDataAttr(this.props)),w,E,e)}}f.propTypes={children:s.default.oneOfType([s.default.string,s.default.node]),name:s.default.string,disabled:s.default.bool,selected:s.default.bool,onClick:s.default.func,onMouseEnter:s.default.func,onMouseLeave:s.default.func,onContextMenu:s.default.func,className:s.default.string,style:s.default.object,forwardRef:s.default.func,type:s.default.oneOf(l.strings.ITEM_TYPE),active:s.default.bool,icon:s.default.node},f.contextType=u.default,f.defaultProps={disabled:!1,divided:!1,selected:!1,onMouseEnter:i.default,onMouseLeave:i.default,forwardRef:i.default},f.elementType="Dropdown.Item";var p=f},864:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return p}});var i=r.ir(r("56144")),o=r.ir(r("40472")),a=r.ir(r("37894")),s=r("23425"),l=r.ir(r("72864")),u=r.ir(r("8760")),c=r.ir(r("65338")),d=function(e,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>n.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)0>n.indexOf(i[o])&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(r[i[o]]=e[i[o]]);return r};let h=s.cssClasses.PREFIX;class f extends c.default{constructor(e){super(e),this.foundation=new l.default(this.adapter)}get adapter(){return Object.assign({},super.adapter)}render(){let e=this.props,{children:n,className:r,style:o}=e,s=d(e,["children","className","style"]);return i.default.createElement("ul",Object.assign({role:"menu","aria-orientation":"vertical"},s,{className:(0,a.default)(`${h}-menu`,r),style:o,onKeyDown:e=>this.foundation.onMenuKeydown(e)}),n)}}f.propTypes={children:o.default.node,className:o.default.string,style:o.default.object},f.contextType=u.default;var p=f},10984:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return d}});var i=r.ir(r("56144")),o=r.ir(r("40472")),a=r("23425"),s=r.ir(r("37894")),l=r.ir(r("8760"));let u=a.cssClasses.PREFIX;class c extends i.PureComponent{render(){let{className:e,style:n,children:r}=this.props,{showTick:o}=this.context,a=(0,s.default)({[`${u}-title`]:!0,[`${u}-title-withTick`]:o},e);return i.default.createElement("div",{className:a,style:n},r)}}c.propTypes={children:o.default.node,className:o.default.string,style:o.default.object},c.contextType=l.default;var d=c},37985:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return S}});var i=r.ir(r("15478")),o=r.ir(r("82203")),a=r.ir(r("56144")),s=r.ir(r("37894")),l=r.ir(r("40472")),u=r("23425"),c=r.ir(r("65338")),d=r.ir(r("9838")),h=r("74168"),f=r.ir(r("97823")),p=r.ir(r("864")),g=r.ir(r("69458")),y=r.ir(r("15966")),m=r.ir(r("10984")),b=r.ir(r("8760")),_=r("84204"),w=function(e,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>n.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)0>n.indexOf(i[o])&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(r[i[o]]=e[i[o]]);return r};let E=u.strings.POSITION_SET,x=u.strings.TRIGGER_SET;class C extends c.default{constructor(e){super(e),this.handleVisibleChange=e=>this.foundation.handleVisibleChange(e),this.state={popVisible:e.visible},this.foundation=new f.default(this.adapter),this.tooltipRef=a.default.createRef()}get adapter(){return Object.assign(Object.assign({},super.adapter),{setPopVisible:e=>this.setState({popVisible:e}),notifyVisibleChange:e=>{var n,r;return null===(r=(n=this.props).onVisibleChange)||void 0===r?void 0:r.call(n,e)},getPopupId:()=>this.tooltipRef.current.getPopupId()})}renderContent(){let{render:e,menu:n,contentClassName:r,style:i,showTick:o,prefixCls:l,trigger:u}=this.props,c=(0,s.default)(l,r),{level:d=0}=this.context,h=null;return a.default.isValidElement(e)?h=e:Array.isArray(n)&&(h=this.renderMenu()),a.default.createElement(b.default.Provider,{value:{showTick:o,level:d+1,trigger:u}},a.default.createElement("div",{className:c,style:i},a.default.createElement("div",{className:`${l}-content`,"x-semi-prop":"render"},h)))}renderMenu(){let{menu:e}=this.props,n=e.map((e,n)=>{switch(e.node){case"title":{let{name:r,node:i}=e,o=w(e,["name","node"]);return a.default.createElement(C.Title,Object.assign({},o,{key:i+r+n}),r)}case"item":{let{node:r,name:i}=e,o=w(e,["node","name"]);return a.default.createElement(C.Item,Object.assign({},o,{key:r+i+n}),i)}case"divider":return a.default.createElement(C.Divider,{key:e.node+n});default:return null}});return a.default.createElement(C.Menu,null,n)}renderPopCard(){let{render:e,contentClassName:n,style:r,showTick:i,prefixCls:o}=this.props,l=(0,s.default)(o,n),{level:u=0}=this.context;return a.default.createElement(b.default.Provider,{value:{showTick:i,level:u+1}},a.default.createElement("div",{className:l,style:r},a.default.createElement("div",{className:`${o}-content`},e)))}render(){let e=this.props,{children:n,position:r,trigger:o,onVisibleChange:l,zIndex:c,className:h,motion:f,margin:p,style:g,prefixCls:y}=e,m=w(e,["children","position","trigger","onVisibleChange","zIndex","className","motion","margin","style","prefixCls"]),{spacing:b}=this.props,{level:_}=this.context,{popVisible:E}=this.state,x=this.renderContent();return _>0?b="number"==typeof b?b:u.numbers.NESTED_SPACING:null==b&&(b=u.numbers.SPACING),a.default.createElement(d.default,Object.assign({zIndex:c,motion:f,margin:p,content:x,className:h,prefixCls:y,spacing:b,position:r,trigger:o,onVisibleChange:this.handleVisibleChange,showArrow:!1,returnFocusOnClose:!0,ref:this.tooltipRef},m),a.default.isValidElement(n)?a.default.cloneElement(n,{className:(0,s.default)((0,i.default)(n,"props.className"),{[`${y}-showing`]:E}),"aria-haspopup":!0,"aria-expanded":E,onKeyDown:e=>{this.foundation.handleKeyDown(e);let r=(0,i.default)(n,"props.onKeyDown");r&&r(e)}}):n)}}C.Menu=p.default,C.Item=g.default,C.Divider=y.default,C.Title=m.default,C.contextType=b.default,C.propTypes={children:l.default.node,contentClassName:l.default.oneOfType([l.default.string,l.default.array]),className:l.default.string,getPopupContainer:l.default.func,margin:l.default.oneOfType([l.default.number,l.default.object]),mouseEnterDelay:l.default.number,mouseLeaveDelay:l.default.number,menu:l.default.array,motion:l.default.oneOfType([l.default.bool,l.default.func,l.default.object]),onVisibleChange:l.default.func,prefixCls:l.default.string,position:l.default.oneOf(E),rePosKey:l.default.oneOfType([l.default.string,l.default.number]),render:l.default.node,spacing:l.default.oneOfType([l.default.number,l.default.object]),showTick:l.default.bool,style:l.default.object,trigger:l.default.oneOf(x),visible:l.default.bool,zIndex:l.default.number},C.__SemiComponentName__="Dropdown",C.defaultProps=(0,_.getDefaultPropsFromGlobalConfig)(C.__SemiComponentName__,{onVisibleChange:o.default,prefixCls:u.cssClasses.PREFIX,zIndex:h.numbers.DEFAULT_Z_INDEX,motion:!0,trigger:"hover",position:"bottom",mouseLeaveDelay:u.strings.DEFAULT_LEAVE_DELAY,showTick:!1,closeOnEsc:!0,onEscKeyDown:o.default});var S=C},24616:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return c}});var i=r.ir(r("56144")),o=r.ir(r("37894")),a=r.ir(r("40472")),s=r("70042"),l=r.ir(r("80675"));let u=s.cssClasses.PREFIX;class c extends i.PureComponent{render(){let{children:e,required:n,text:r,disabled:a,name:s,width:c,align:d,style:h,className:f,extra:p,id:g,optional:y}=this.props,m=(0,o.default)(f,{[`${u}-field-label`]:!0,[`${u}-field-label-left`]:"left"===d,[`${u}-field-label-right`]:"right"===d,[`${u}-field-label-required`]:n,[`${u}-field-label-disabled`]:a,[`${u}-field-label-with-extra`]:p}),b=h||{};c&&(b.width=c);let _=i.default.createElement(l.default,{componentName:"Form"},e=>i.default.createElement("span",{className:`${u}-field-label-optional-text`},e.optional)),w=i.default.createElement("div",{className:`${u}-field-label-text`,"x-semi-prop":"label"},void 0!==r?r:e,y?_:null),E=i.default.createElement(i.default.Fragment,null,w,i.default.createElement("div",{className:`${u}-field-label-extra`},p));return i.default.createElement("label",{className:m,htmlFor:s,style:b,id:g},p?E:w)}}c.defaultProps={required:!1,name:"",align:"left",className:"",optional:!1},c.propTypes={id:a.default.string,children:a.default.node,required:a.default.bool,text:a.default.node,disabled:a.default.bool,name:a.default.string,align:a.default.string,width:a.default.oneOfType([a.default.number,a.default.string]),style:a.default.object,className:a.default.string,extra:a.default.node,optional:a.default.bool}},42242:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return d}});var i=r.ir(r("56144")),o=r.ir(r("37894")),a=r.ir(r("40472")),s=r("16876"),l=r.ir(r("19147"));let u=s.cssClasses.PREFIX;class c extends i.PureComponent{constructor(){super(...arguments),this.getHighLightTextHTML=e=>{let{sourceString:n="",searchWords:r=[],option:o={autoEscape:!0,caseSensitive:!1}}=e,a=new l.default().findAll(Object.assign({sourceString:n,searchWords:r},o)),s=o.highlightTag||"mark",u=o.highlightClassName||"",c=o.highlightStyle||{};return a.map((e,r)=>{let{end:o,start:a,highlight:l,style:d,className:h}=e,f=n.substr(a,o-a);return l?i.default.createElement(s,{style:Object.assign(Object.assign({},c),d),className:`${u} ${h||""}`.trim(),key:f+r},f):f})}}render(){let{searchWords:e,sourceString:n,component:r,highlightClassName:i,highlightStyle:a,caseSensitive:s,autoEscape:l}=this.props,c=(0,o.default)({[`${u}-tag`]:!0},i);return this.getHighLightTextHTML({sourceString:n,searchWords:e,option:{highlightTag:r,highlightClassName:c,highlightStyle:a,caseSensitive:s,autoEscape:l}})}}c.propTypes={style:a.default.object,className:a.default.string,autoEscape:a.default.bool,caseSensitive:a.default.bool,sourceString:a.default.string,searchWords:a.default.arrayOf(a.default.string),highlightStyle:a.default.object,highlightClassName:a.default.string,component:a.default.string},c.defaultProps={component:"mark",autoEscape:!0,caseSensitive:!1,sourceString:""};var d=c},7659:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return g}});var i=r.ir(r("82203")),o=r.ir(r("56144")),a=r.ir(r("37894")),s=r.ir(r("40472")),l=r("21723"),u=r("49696"),c=r.ir(r("71480")),d=r.ir(r("73797")),h=function(e,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>n.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)0>n.indexOf(i[o])&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(r[i[o]]=e[i[o]]);return r};let f=u.strings.SIZE;class p extends o.PureComponent{render(){let e=this.props,{children:n,iconPosition:r,iconSize:i,iconStyle:s,style:l,icon:u,noHorizontalPadding:f,theme:p,className:g,prefixCls:y,loading:m}=e,b=h(e,["children","iconPosition","iconSize","iconStyle","style","icon","noHorizontalPadding","theme","className","prefixCls","loading"]),_=Object.assign({},l);Array.isArray(f)?(f.includes("left")&&(_.paddingLeft=0),f.includes("right")&&(_.paddingRight=0)):!0===f?(_.paddingLeft=0,_.paddingRight=0):"string"==typeof f&&("left"===f&&(_.paddingLeft=0),"right"===f&&(_.paddingRight=0));let w=null,E=null;m&&!b.disabled?E=o.default.createElement(d.default,null):o.default.isValidElement(u)&&(E=u);let x=(0,a.default)({[`${y}-content-left`]:"right"===r,[`${y}-content-right`]:"left"===r}),C=this.props["x-semi-children-alias"]||"children",S=null!=n?o.default.createElement("span",{className:x,"x-semi-prop":C},n):null;w="left"===r?o.default.createElement(o.default.Fragment,null,E,S):o.default.createElement(o.default.Fragment,null,S,E);let O=(0,a.default)(g,`${y}-with-icon`,{[`${y}-with-icon-only`]:null==S||""===S,[`${y}-loading`]:m});return o.default.createElement(c.default,Object.assign({},b,{className:O,theme:p,style:_}),w)}}p.defaultProps={iconPosition:l.strings.DEFAULT_ICON_POSITION,prefixCls:l.cssClasses.PREFIX,loading:!1,noHorizontalPadding:!1,onMouseEnter:i.default,onMouseLeave:i.default},p.elementType="IconButton",p.propTypes={iconStyle:s.default.object,style:s.default.object,loading:s.default.bool,prefixCls:s.default.string,icon:s.default.oneOfType([s.default.object,s.default.string,s.default.node]),iconSize:s.default.oneOf(f),noHorizontalPadding:s.default.oneOfType([s.default.bool,s.default.string,s.default.array]),children:s.default.node,theme:s.default.string,iconPosition:s.default.oneOf(l.strings.iconPositions),className:s.default.string,onMouseEnter:s.default.func,onMouseLeave:s.default.func};var g=p},23103:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{Badge:function(){return i.default},Button:function(){return o.default},ButtonGroup:function(){return a.default},ConfigProvider:function(){return s.default},Divider:function(){return l.default},Modal:function(){return u.default},Dropdown:function(){return c.default},IconButton:function(){return d.default},Input:function(){return h.default},TextArea:function(){return f.default},Popover:function(){return p.default},Select:function(){return g.default},Skeleton:function(){return y.default},Tag:function(){return m.default},Toast:function(){return b.default},Tooltip:function(){return _.default},TreeSelect:function(){return w.default},Typography:function(){return E.default}});var i=r.ir(r("32632")),o=r.ir(r("5081")),a=r.ir(r("23624")),s=r.ir(r("42427")),l=r.ir(r("9755")),u=r.ir(r("26363")),c=r.ir(r("37985")),d=r.ir(r("7659")),h=r.ir(r("38911")),f=r.ir(r("91312")),p=r.ir(r("7704")),g=r.ir(r("77744")),y=r.ir(r("3454")),m=r.ir(r("56441")),b=r.ir(r("94646")),_=r.ir(r("9838")),w=r.ir(r("72606")),E=r.ir(r("33758"))},38911:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{default:function(){return C},Input:function(){return E}});var i=r.ir(r("83910")),o=r.ir(r("8250")),a=r.ir(r("82203")),s=r.ir(r("94228")),l=r.ir(r("56144")),u=r.ir(r("37894")),c=r.ir(r("40472")),d=r.ir(r("70060")),h=r("89420"),f=r("84204"),p=r.ir(r("65338")),g=r("73543"),y=function(e,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>n.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)0>n.indexOf(i[o])&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(r[i[o]]=e[i[o]]);return r};let m=h.cssClasses.PREFIX,b=h.strings.SIZE,_=h.strings.STATUS,w=h.strings.MODE;class E extends p.default{constructor(e){super(e),this.handleClear=e=>{this.foundation.handleClear(e)},this.handleClick=e=>{this.foundation.handleClick(e)},this.handleMouseOver=e=>{this.setState({isHovering:!0})},this.handleMouseLeave=e=>{this.setState({isHovering:!1})},this.handleModeChange=e=>{this.foundation.handleModeChange(e)},this.handleClickEye=e=>{this.foundation.handleClickEye(e)},this.handleMouseDown=e=>{this.foundation.handleMouseDown(e)},this.handleMouseUp=e=>{this.foundation.handleMouseUp(e)},this.handleModeEnterPress=e=>{this.foundation.handleModeEnterPress(e)},this.handleClickPrefixOrSuffix=e=>{this.foundation.handleClickPrefixOrSuffix(e)},this.handlePreventMouseDown=e=>{this.foundation.handlePreventMouseDown(e)};let n="value"in e?e.value:e.defaultValue;this.state={value:n,cachedValue:e.value,disabled:!1,props:{},isFocus:!1,isHovering:!1,eyeClosed:"password"===e.mode,minLength:e.minLength},this.inputRef=l.default.createRef(),this.prefixRef=l.default.createRef(),this.suffixRef=l.default.createRef(),this.foundation=new d.default(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{setValue:e=>this.setState({value:e}),setEyeClosed:e=>this.setState({eyeClosed:e}),toggleFocusing:e=>{this.setState({isFocus:e})},focusInput:()=>{let{preventScroll:e}=this.props,n=this.inputRef&&this.inputRef.current;n&&n.focus({preventScroll:e})},toggleHovering:e=>this.setState({isHovering:e}),getIfFocusing:()=>this.state.isFocus,notifyChange:(e,n)=>this.props.onChange(e,n),notifyBlur:(e,n)=>this.props.onBlur(n),notifyFocus:(e,n)=>this.props.onFocus(n),notifyInput:e=>this.props.onInput(e),notifyKeyPress:e=>this.props.onKeyPress(e),notifyKeyDown:e=>this.props.onKeyDown(e),notifyKeyUp:e=>this.props.onKeyUp(e),notifyEnterPress:e=>this.props.onEnterPress(e),notifyClear:e=>this.props.onClear(e),setMinLength:e=>this.setState({minLength:e}),isEventTarget:e=>e&&e.target===e.currentTarget})}static getDerivedStateFromProps(e,n){let r={};return e.value!==n.cachedValue&&(r.value=e.value,r.cachedValue=e.value),r}componentDidUpdate(e){let{mode:n}=this.props;e.mode!==n&&this.handleModeChange(n)}componentDidMount(){let{disabled:e,autoFocus:n,preventScroll:r}=this.props;!e&&(n||this.props.autofocus)&&this.inputRef.current.focus({preventScroll:r})}renderPrepend(){let{addonBefore:e}=this.props;if(e){let n=(0,u.default)({[`${m}-prepend`]:!0,[`${m}-prepend-text`]:e&&(0,s.default)(e),[`${m}-prepend-icon`]:(0,f.isSemiIcon)(e)});return l.default.createElement("div",{className:n,"x-semi-prop":"addonBefore"},e)}return null}renderAppend(){let{addonAfter:e}=this.props;if(e){let n=(0,u.default)({[`${m}-append`]:!0,[`${m}-append-text`]:e&&(0,s.default)(e),[`${m}-append-icon`]:(0,f.isSemiIcon)(e)});return l.default.createElement("div",{className:n,"x-semi-prop":"addonAfter"},e)}return null}renderClearBtn(){let e=(0,u.default)(`${m}-clearbtn`),{clearIcon:n}=this.props,r=this.foundation.isAllowClear();return r?l.default.createElement("div",{className:e,onMouseDown:this.handleClear},n||l.default.createElement(g.IconClear,null)):null}renderModeBtn(){let{eyeClosed:e}=this.state,{mode:n,disabled:r}=this.props,i=(0,u.default)(`${m}-modebtn`),o=e?l.default.createElement(g.IconEyeClosedSolid,null):l.default.createElement(g.IconEyeOpened,null);return"password"!==n||r?null:l.default.createElement("div",{role:"button",tabIndex:0,"aria-label":e?"Show password":"Hidden password",className:i,onClick:this.handleClickEye,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onKeyPress:this.handleModeEnterPress},o)}renderPrefix(){let{prefix:e,insetLabel:n,insetLabelId:r}=this.props,i=e||n;if(!i)return null;let o=(0,u.default)({[`${m}-prefix`]:!0,[`${m}-inset-label`]:n,[`${m}-prefix-text`]:i&&(0,s.default)(i),[`${m}-prefix-icon`]:(0,f.isSemiIcon)(i)});return l.default.createElement("div",{className:o,onMouseDown:this.handlePreventMouseDown,onClick:this.handleClickPrefixOrSuffix,id:r,"x-semi-prop":"prefix,insetLabel"},i)}renderSuffix(e){let{suffix:n,hideSuffix:r}=this.props;if(!n)return null;let i=(0,u.default)({[`${m}-suffix`]:!0,[`${m}-suffix-text`]:n&&(0,s.default)(n),[`${m}-suffix-icon`]:(0,f.isSemiIcon)(n),[`${m}-suffix-hidden`]:e&&!!r});return l.default.createElement("div",{className:i,onMouseDown:this.handlePreventMouseDown,onClick:this.handleClickPrefixOrSuffix,"x-semi-prop":"suffix"},n)}getInputRef(){let{forwardRef:e}=this.props;if(!(0,i.default)(e)){if("function"==typeof e)return n=>{e(n),this.inputRef={current:n}};if("[object Object]"===Object.prototype.toString.call(e))return this.inputRef=e,e}return this.inputRef}render(){let e=this.props,{addonAfter:n,addonBefore:r,autoFocus:i,clearIcon:a,className:s,disabled:c,defaultValue:d,placeholder:h,prefix:p,mode:g,insetLabel:b,insetLabelId:_,validateStatus:w,type:E,readonly:x,size:C,suffix:S,style:O,showClear:M,onEnterPress:P,onClear:D,hideSuffix:I,inputStyle:j,forwardRef:N,maxLength:T,getValueLength:k,preventScroll:A,borderless:R,showClearIgnoreDisabled:L,onlyBorder:F}=e,z=y(e,["addonAfter","addonBefore","autoFocus","clearIcon","className","disabled","defaultValue","placeholder","prefix","mode","insetLabel","insetLabelId","validateStatus","type","readonly","size","suffix","style","showClear","onEnterPress","onClear","hideSuffix","inputStyle","forwardRef","maxLength","getValueLength","preventScroll","borderless","showClearIgnoreDisabled","onlyBorder"]),{value:B,isFocus:V,minLength:$}=this.state,U=this.foundation.isAllowClear(),H=(0,f.isSemiIcon)(S),W=this.getInputRef(),K=`${m}-wrapper`,G=(0,u.default)(K,s,{[`${m}-wrapper__with-prefix`]:p||b,[`${m}-wrapper__with-suffix`]:S,[`${m}-wrapper__with-suffix-hidden`]:U&&!!I,[`${m}-wrapper__with-suffix-icon`]:H,[`${m}-wrapper__with-append`]:r,[`${m}-wrapper__with-prepend`]:n,[`${m}-wrapper__with-append-only`]:r&&!n,[`${m}-wrapper__with-prepend-only`]:!r&&n,[`${K}-readonly`]:x,[`${K}-disabled`]:c,[`${K}-warning`]:"warning"===w,[`${K}-error`]:"error"===w,[`${K}-focus`]:V,[`${K}-clearable`]:M,[`${K}-modebtn`]:"password"===g,[`${K}-hidden`]:"hidden"===E,[`${K}-${C}`]:C,[`${m}-borderless`]:R,[`${m}-only_border`]:null!=F}),Y=(0,u.default)(m,{[`${m}-${C}`]:C,[`${m}-disabled`]:c,[`${m}-sibling-clearbtn`]:this.foundation.isAllowClear(),[`${m}-sibling-modebtn`]:"password"===g}),X=Object.assign(Object.assign({},z),{style:j,className:Y,disabled:c,readOnly:x,type:this.foundation.handleInputType(E),placeholder:h,onInput:e=>this.foundation.handleInput(e),onChange:e=>this.foundation.handleChange(e.target.value,e),onFocus:e=>this.foundation.handleFocus(e),onBlur:e=>this.foundation.handleBlur(e),onKeyUp:e=>this.foundation.handleKeyUp(e),onKeyDown:e=>this.foundation.handleKeyDown(e),onKeyPress:e=>this.foundation.handleKeyPress(e),value:null==B?"":B});!(0,o.default)(k)&&(X.maxLength=T),$&&(X.minLength=$),"error"===w&&(X["aria-invalid"]="true");let Z=Object.assign({},O);return void 0!==F&&(Z=Object.assign({borderWidth:F},O)),l.default.createElement("div",{className:G,style:Z,onMouseEnter:e=>this.handleMouseOver(e),onMouseLeave:e=>this.handleMouseLeave(e),onClick:e=>this.handleClick(e)},this.renderPrepend(),this.renderPrefix(),l.default.createElement("input",Object.assign({},X,{ref:W})),this.renderClearBtn(),this.renderSuffix(U),this.renderModeBtn(),this.renderAppend())}}E.propTypes={"aria-label":c.default.string,"aria-labelledby":c.default.string,"aria-invalid":c.default.bool,"aria-errormessage":c.default.string,"aria-describedby":c.default.string,"aria-required":c.default.bool,addonBefore:c.default.node,addonAfter:c.default.node,clearIcon:c.default.node,prefix:c.default.node,suffix:c.default.node,mode:c.default.oneOf(w),value:c.default.any,defaultValue:c.default.any,disabled:c.default.bool,readonly:c.default.bool,autoFocus:c.default.bool,type:c.default.string,showClear:c.default.bool,hideSuffix:c.default.bool,placeholder:c.default.any,size:c.default.oneOf(b),className:c.default.string,style:c.default.object,validateStatus:c.default.oneOf(_),onClear:c.default.func,onChange:c.default.func,onBlur:c.default.func,onFocus:c.default.func,onInput:c.default.func,onKeyDown:c.default.func,onKeyUp:c.default.func,onKeyPress:c.default.func,onEnterPress:c.default.func,insetLabel:c.default.node,insetLabelId:c.default.string,inputStyle:c.default.object,getValueLength:c.default.func,preventScroll:c.default.bool,borderless:c.default.bool},E.defaultProps={addonBefore:"",addonAfter:"",prefix:"",suffix:"",readonly:!1,type:"text",showClear:!1,hideSuffix:!1,placeholder:"",size:"default",className:"",onClear:a.default,onChange:a.default,onBlur:a.default,onFocus:a.default,onInput:a.default,onKeyDown:a.default,onKeyUp:a.default,onKeyPress:a.default,onEnterPress:a.default,validateStatus:"default",borderless:!1};let x=l.default.forwardRef((e,n)=>l.default.createElement(E,Object.assign({},e,{forwardRef:n})));var C=x},91312:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return x}});var i=r.ir(r("17247")),o=r.ir(r("2874")),a=r.ir(r("83910")),s=r.ir(r("8250")),l=r.ir(r("51854")),u=r.ir(r("82203")),c=r.ir(r("56144")),d=r.ir(r("37894")),h=r.ir(r("40472")),f=r.ir(r("54434")),p=r("89420"),g=r.ir(r("65338")),y=r("73543"),m=r.ir(r("72942")),b=function(e,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>n.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)0>n.indexOf(i[o])&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(r[i[o]]=e[i[o]]);return r};let _=p.cssClasses.PREFIX;class w extends g.default{constructor(e){super(e),this.handleClear=e=>{this.foundation.handleClear(e)},this.setRef=e=>{this.libRef.current=e;let{forwardRef:n}=this.props;"function"==typeof n?n(e):n&&"object"==typeof n&&(n.current=e)};let n="value"in e?e.value:e.defaultValue;this.state={value:n,isFocus:!1,isHover:!1,height:0,minLength:e.minLength,cachedValue:e.value},this.focusing=!1,this.foundation=new f.default(this.adapter),this.libRef=c.default.createRef(),this.throttledResizeTextarea=(0,i.default)(this.foundation.resizeTextarea,10)}get adapter(){return Object.assign(Object.assign({},super.adapter),{setValue:e=>this.setState({value:e},()=>{this.props.autosize&&this.foundation.resizeTextarea()}),getRef:()=>this.libRef.current,toggleFocusing:e=>this.setState({isFocus:e}),toggleHovering:e=>this.setState({isHover:e}),notifyChange:(e,n)=>{this.props.onChange(e,n)},notifyClear:e=>this.props.onClear(e),notifyBlur:(e,n)=>this.props.onBlur(n),notifyFocus:(e,n)=>this.props.onFocus(n),notifyKeyDown:e=>{this.props.onKeyDown(e)},notifyHeightUpdate:e=>{this.setState({height:e}),this.props.onResize({height:e})},notifyPressEnter:e=>{this.props.onEnterPress&&this.props.onEnterPress(e)},setMinLength:e=>this.setState({minLength:e})})}static getDerivedStateFromProps(e,n){let r={};return e.value!==n.cachedValue&&(r.value=e.value,r.cachedValue=e.value),r}componentWillUnmount(){var e,n;this.throttledResizeTextarea&&(null===(n=null===(e=this.throttledResizeTextarea)||void 0===e?void 0:e.cancel)||void 0===n||n.call(e),this.throttledResizeTextarea=null)}componentDidUpdate(e,n){(this.props.value!==e.value||this.props.placeholder!==e.placeholder)&&this.props.autosize&&this.foundation.resizeTextarea()}renderClearBtn(){let{showClear:e}=this.props,n=this.foundation.isAllowClear(),r=(0,d.default)(`${_}-clearbtn`,{[`${_}-clearbtn-hidden`]:!n});return e?c.default.createElement("div",{className:r,onClick:this.handleClear},c.default.createElement(y.IconClear,null)):null}renderCounter(){let e,n,r,i;let{showCounter:o,maxCount:a,getValueLength:l}=this.props;if(o||a){let{value:o}=this.state;n=o?(0,s.default)(l)?l(o):o.length:0,r=a||null,i=(0,d.default)(`${_}-textarea-counter`,{[`${_}-textarea-counter-exceed`]:n>r}),e=c.default.createElement("div",{className:i},n,r?"/":null,r)}else e=null;return e}render(){let e=this.props,{autosize:n,placeholder:r,onEnterPress:i,onResize:u,disabled:h,readonly:f,className:p,showCounter:g,validateStatus:y,maxCount:w,defaultValue:E,style:x,forwardRef:C,getValueLength:S,maxLength:O,minLength:M,showClear:P,borderless:D,autoFocus:I}=e,j=b(e,["autosize","placeholder","onEnterPress","onResize","disabled","readonly","className","showCounter","validateStatus","maxCount","defaultValue","style","forwardRef","getValueLength","maxLength","minLength","showClear","borderless","autoFocus"]),{isFocus:N,value:T,minLength:k}=this.state,A=(0,d.default)(p,`${_}-textarea-wrapper`,{[`${_}-textarea-borderless`]:D,[`${_}-textarea-wrapper-disabled`]:h,[`${_}-textarea-wrapper-readonly`]:f,[`${_}-textarea-wrapper-${y}`]:!!y,[`${_}-textarea-wrapper-focus`]:N}),R=(0,d.default)(`${_}-textarea`,{[`${_}-textarea-disabled`]:h,[`${_}-textarea-readonly`]:f,[`${_}-textarea-autosize`]:(0,o.default)(n)?(0,a.default)(null==n?void 0:n.maxRows):n,[`${_}-textarea-showClear`]:P}),L=Object.assign(Object.assign({},(0,l.default)(j,"insetLabel","insetLabelId","getValueLength","onClear","showClear","disabledEnterStartNewLine")),{autoFocus:I||this.props.autofocus,className:R,disabled:h,readOnly:f,placeholder:r||null,onChange:e=>this.foundation.handleChange(e.target.value,e),onFocus:e=>this.foundation.handleFocus(e),onBlur:e=>this.foundation.handleBlur(e.nativeEvent),onKeyDown:e=>this.foundation.handleKeyDown(e),value:null==T?"":T});return!(0,s.default)(S)&&(L.maxLength=O),k&&(L.minLength=k),c.default.createElement("div",{className:A,style:x,onMouseEnter:e=>this.foundation.handleMouseEnter(e),onMouseLeave:e=>this.foundation.handleMouseLeave(e)},n?c.default.createElement(m.default,{onResize:this.throttledResizeTextarea},c.default.createElement("textarea",Object.assign({},L,{ref:this.setRef}))):c.default.createElement("textarea",Object.assign({},L,{ref:this.setRef})),this.renderClearBtn(),this.renderCounter())}}w.propTypes={autosize:h.default.oneOfType([h.default.bool,h.default.object]),borderless:h.default.bool,placeholder:h.default.string,value:h.default.string,rows:h.default.number,cols:h.default.number,maxCount:h.default.number,onEnterPress:h.default.func,validateStatus:h.default.string,className:h.default.string,style:h.default.object,showClear:h.default.bool,onClear:h.default.func,onResize:h.default.func,getValueLength:h.default.func,disabledEnterStartNewLine:h.default.bool},w.defaultProps={autosize:!1,borderless:!1,rows:4,cols:20,showCounter:!1,showClear:!1,onEnterPress:u.default,onChange:u.default,onBlur:u.default,onFocus:u.default,onKeyDown:u.default,onResize:u.default,onClear:u.default};let E=c.default.forwardRef((e,n)=>c.default.createElement(w,Object.assign({},e,{forwardRef:n})));var x=E},23052:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var i=r.ir(r("56144"));let o=i.default.createContext(null);var a=o},80675:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return c}});var i=r.ir(r("15478")),o=r.ir(r("56144")),a=r.ir(r("40472")),s=r.ir(r("23052")),l=r.ir(r("12837")),u=r.ir(r("33450"));class c extends o.Component{renderChildren(e,n){let{componentName:r}=this.props,o=e;!(null==e?void 0:e.code)&&(o=u.default);let a=(0,i.default)(u.default,"dateFnsLocale"),s=(0,i.default)(o,"dateFnsLocale",a);return n(o[r],o.code,s)}render(){let{children:e}=this.props;return o.default.createElement(l.default.Consumer,null,n=>{let{locale:r}=n;return o.default.createElement(s.default.Consumer,null,n=>this.renderChildren(r||n,e))})}}c.propTypes={componentName:a.default.string.isRequired,children:a.default.any},c.defaultProps={componentName:""}},33450:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var i=r("95829");let o={code:"zh-CN",dateFnsLocale:i.zhCN,Pagination:{pageSize:"每页条数：${pageSize}",total:"总页数：${total}",jumpTo:"跳至",page:"页"},Modal:{confirm:"确定",cancel:"取消"},Tabs:{more:"更多"},TimePicker:{placeholder:{time:"请选择时间",timeRange:"请选择时间范围"},begin:"开始时间",end:"结束时间",hour:"时",minute:"分",second:"秒",AM:"上午",PM:"下午"},DatePicker:{placeholder:{date:"请选择日期",dateTime:"请选择日期及时间",dateRange:["开始日期","结束日期"],dateTimeRange:["开始日期","结束日期"],monthRange:["开始月份","结束月份"]},presets:"快捷选择",footer:{confirm:"确定",cancel:"取消"},selectDate:"返回选择日期",selectTime:"选择时间",year:"年",month:"月",day:"日",monthText:"${year}年 ${month}",months:{1:"1月",2:"2月",3:"3月",4:"4月",5:"5月",6:"6月",7:"7月",8:"8月",9:"9月",10:"10月",11:"11月",12:"12月"},fullMonths:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12"},weeks:{Mon:"一",Tue:"二",Wed:"三",Thu:"四",Fri:"五",Sat:"六",Sun:"日"},localeFormatToken:{FORMAT_SWITCH_DATE:"yyyy-MM-dd"}},Navigation:{collapseText:"收起侧边栏",expandText:"展开侧边栏"},Popconfirm:{confirm:"确定",cancel:"取消"},Table:{emptyText:"暂无数据",pageText:"显示第 ${currentStart} 条-第 ${currentEnd} 条，共 ${total} 条",descend:"点击降序",ascend:"点击升序",cancelSort:"取消排序"},Select:{emptyText:"暂无数据",createText:"创建"},Cascader:{emptyText:"暂无数据"},Tree:{emptyText:"暂无数据",searchPlaceholder:"搜索"},List:{emptyText:"暂无数据"},Calendar:{allDay:"全天",AM:"上午${time}时",PM:"下午${time}时",datestring:"日",remaining:"还有${remained}项"},Upload:{mainText:"点击上传文件或拖拽文件到这里",illegalTips:"不支持此类型文件",legalTips:"松手开始上传",retry:"重试",replace:"替换文件",clear:"清空",selectedFiles:"已选择文件",illegalSize:"文件尺寸不合法",fail:"上传失败"},TreeSelect:{searchPlaceholder:"搜索"},Typography:{copy:"复制",copied:"复制成功",expand:"展开",collapse:"收起"},Transfer:{emptyLeft:"暂无数据",emptySearch:"无搜索结果",emptyRight:"暂无内容，可从左侧勾选",placeholder:"搜索",clear:"清空",selectAll:"全选",clearSelectAll:"取消全选",total:"总个数：${total}",selected:"已选个数：${total}"},Form:{optional:"（可选）"},Image:{preview:"预览",loading:"加载中",loadError:"加载失败",prevTip:"上一张",nextTip:"下一张",zoomInTip:"放大",zoomOutTip:"缩小",rotateTip:"旋转",downloadTip:"下载",adaptiveTip:"适应页面",originTip:"原始尺寸"},Chat:{deleteConfirm:"确认删除该会话吗？",clearContext:"上下文已清除",copySuccess:"复制成功",stop:"停止",copy:"复制",copied:"复制成功",dropAreaText:"将文件放到这里"}};var a=o},89357:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return c}});var i=r.ir(r("56144")),o=r.ir(r("37894")),a=r("40747"),s=r.ir(r("43712")),l=r("84204"),u=function(e,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>n.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)0>n.indexOf(i[o])&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(r[i[o]]=e[i[o]]);return r},c=e=>{let[n,r]=(0,i.useState)(!0),[c,d]=(0,i.useState)(),[h,f]=(0,i.useState)(),{direction:p}=e,{title:g,content:y,icon:m,type:b,onCancel:_,onOk:w,className:E}=e,x=u(e,["title","content","icon","type","onCancel","onOk","className"]),C=(0,i.useCallback)(e=>{let n=w&&w(e);n&&n.then?(d(!0),n.then(function(){r(!1),d(!1)},e=>{d(!1)})):r(!1)},[w]),S=(0,i.useCallback)(e=>{let n=_&&_(e);n&&n.then?(f(!0),n.then(function(){r(!1),f(!1)},e=>{f(!1)})):r(!1)},[_]),O=`${a.cssClasses.DIALOG}-confirm`,M=(0,o.default)(E,O,{[`${O}-rtl`]:"rtl"===p}),P=(0,o.default)(`${a.cssClasses.DIALOG}-${b}`),D=(0,l.isSemiIcon)(m)?i.default.cloneElement(m,{className:`${O}-icon ${P}-icon`,size:"extra-large"}):m,I=null==g?null:i.default.createElement("span",{className:`${O}-title-text`},g),j=(0,o.default)(`${O}-content`,{[`${O}-content-withIcon`]:e.icon});return i.default.createElement(s.default,Object.assign({className:M,title:I,confirmLoading:c,cancelLoading:h,onOk:C,onCancel:S,icon:D,visible:n},x),i.default.createElement("div",{className:j,"x-semi-prop":"content"},y))}},43712:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{destroyFns:function(){return w},default:function(){return x}});var i=r.ir(r("82203")),o=r("40747"),a=r.ir(r("86274")),s=r.ir(r("37894")),l=r.ir(r("40472")),u=r.ir(r("56144")),c=r.ir(r("65338")),d=r.ir(r("28280")),h=r.ir(r("57974")),f=r("84204"),p=r.ir(r("5081")),g=r.ir(r("80675")),y=r.ir(r("15295")),m=r.ir(r("68268")),b=r.ir(r("42073")),_=function(e,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>n.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)0>n.indexOf(i[o])&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(r[i[o]]=e[i[o]]);return r};let w=[];class E extends c.default{constructor(e){super(e),this.bodyOverflow=null,this.handleCancel=e=>{this.foundation.handleCancel(e)},this.handleOk=e=>{this.foundation.handleOk(e)},this.updateState=()=>{let{visible:e}=this.props;this.foundation.toggleDisplayNone(!e)},this.renderFooter=()=>{let{okText:e,okType:n,cancelText:r,confirmLoading:i,cancelLoading:a,hasCancel:l,footerFill:c}=this.props,d=e=>{var n;return l?u.default.createElement(p.default,Object.assign({"aria-label":"cancel",onClick:this.handleCancel,loading:void 0===a?"pending"===this.state.onCancelReturnPromiseStatus:a,type:"tertiary",block:c,autoFocus:!0},this.props.cancelButtonProps,{style:Object.assign(Object.assign({},c?{marginLeft:"unset"}:{}),null===(n=this.props.cancelButtonProps)||void 0===n?void 0:n.style),"x-semi-children-alias":"cancelText"}),r||e.cancel):null};return u.default.createElement(g.default,{componentName:"Modal"},(r,a)=>u.default.createElement("div",{className:(0,s.default)({[`${o.cssClasses.DIALOG}-footerfill`]:c})},d(r),u.default.createElement(p.default,Object.assign({"aria-label":"confirm",type:n,theme:"solid",block:c,loading:void 0===i?"pending"===this.state.onOKReturnPromiseStatus:i,onClick:this.handleOk},this.props.okButtonProps,{"x-semi-children-alias":"okText"}),e||r.confirm)))},this.renderDialog=()=>{var e;let n=this.props,{footer:r,className:i,motion:a,maskStyle:l,keepDOM:c,style:f,zIndex:p,getPopupContainer:g,visible:m,modalContentClass:b}=n,w=_(n,["footer","className","motion","maskStyle","keepDOM","style","zIndex","getPopupContainer","visible","modalContentClass"]),E="footer"in this.props?r:this.renderFooter(),x={zIndex:p};g&&g()!==(null===(e=null==globalThis?void 0:globalThis.document)||void 0===e?void 0:e.body)&&(x={zIndex:p,position:"static"});let C=(0,s.default)(i,{[`${o.cssClasses.DIALOG}-displayNone`]:c&&this.state.displayNone}),S=this.props.visible||this.props.keepDOM&&(!this.props.lazyRender||this._haveRendered)||this.props.motion&&!this.state.displayNone;return S&&(this._haveRendered=!0),u.default.createElement(d.default,{motion:this.props.motion,animationState:m?"enter":"leave",startClassName:m?`${o.cssClasses.DIALOG}-content-animate-show`:`${o.cssClasses.DIALOG}-content-animate-hide`,onAnimationEnd:()=>{this.updateState()}},e=>{let{animationClassName:n,animationEventsNeedBind:r}=e;return u.default.createElement(d.default,{motion:this.props.motion,animationState:m?"enter":"leave",startClassName:m?`${o.cssClasses.DIALOG}-mask-animate-show`:`${o.cssClasses.DIALOG}-mask-animate-hide`,onAnimationEnd:()=>{this.updateState()}},e=>{let{animationClassName:i,animationEventsNeedBind:o}=e;return S?u.default.createElement(h.default,{style:x,getPopupContainer:g}," ",u.default.createElement(y.default,Object.assign({},w,{contentExtraProps:r,maskExtraProps:o,isFullScreen:this.state.isFullScreen,contentClassName:`${n} ${b}`,maskClassName:i,className:C,getPopupContainer:g,maskStyle:l,style:f,ref:this.modalRef,footer:E,onClose:this.handleCancel}))):u.default.createElement(u.default.Fragment,null)})})},this.state={displayNone:!e.visible,isFullScreen:e.fullScreen},this.foundation=new a.default(this.adapter),this.modalRef=u.default.createRef(),this.scrollBarWidth=0,this.originBodyWidth="100%"}get adapter(){return Object.assign(Object.assign({},super.adapter),{getProps:()=>this.props,disabledBodyScroll:()=>{var e;let{getPopupContainer:n}=this.props;this.bodyOverflow=document.body.style.overflow||"",(!n||n()===(null===(e=null==globalThis?void 0:globalThis.document)||void 0===e?void 0:e.body))&&"hidden"!==this.bodyOverflow&&(document.body.style.overflow="hidden",document.body.style.width=`calc(${this.originBodyWidth||"100%"} - ${this.scrollBarWidth}px)`)},enabledBodyScroll:()=>{var e;let{getPopupContainer:n}=this.props;(!n||n()===(null===(e=null==globalThis?void 0:globalThis.document)||void 0===e?void 0:e.body))&&null!==this.bodyOverflow&&"hidden"!==this.bodyOverflow&&(document.body.style.overflow=this.bodyOverflow,document.body.style.width=this.originBodyWidth)},notifyCancel:e=>this.props.onCancel(e),notifyOk:e=>this.props.onOk(e),notifyClose:()=>{this.props.afterClose()},toggleDisplayNone:(e,n)=>{e!==this.state.displayNone&&this.setState({displayNone:e},n||i.default)},notifyFullScreen:e=>{e!==this.state.isFullScreen&&this.setState({isFullScreen:e})}})}static getDerivedStateFromProps(e,n){let r={};return e.fullScreen!==n.isFullScreen&&(r.isFullScreen=e.fullScreen),e.visible&&n.displayNone&&(r.displayNone=!1),r}componentDidMount(){this.scrollBarWidth=(0,f.getScrollbarWidth)(),this.originBodyWidth=document.body.style.width,this.props.visible&&this.foundation.beforeShow()}componentDidUpdate(e,n,r){!e.visible&&this.props.visible&&this.foundation.beforeShow(),!n.displayNone&&this.state.displayNone&&this.foundation.afterHide()}componentWillUnmount(){this.props.visible?this.foundation.destroy():this.foundation.enabledBodyScroll()}render(){let{visible:e,keepDOM:n,lazyRender:r}=this.props;return this.renderDialog()}}E.propTypes={mask:l.default.bool,closable:l.default.bool,centered:l.default.bool,visible:l.default.bool,width:l.default.oneOfType([l.default.string,l.default.number]),height:l.default.oneOfType([l.default.string,l.default.number]),confirmLoading:l.default.bool,cancelLoading:l.default.bool,okText:l.default.string,okType:l.default.string,cancelText:l.default.string,maskClosable:l.default.bool,onCancel:l.default.func,onOk:l.default.func,afterClose:l.default.func,okButtonProps:l.default.object,cancelButtonProps:l.default.object,style:l.default.object,className:l.default.string,maskStyle:l.default.object,bodyStyle:l.default.object,zIndex:l.default.number,title:l.default.node,icon:l.default.node,header:l.default.node,footer:l.default.node,hasCancel:l.default.bool,motion:l.default.bool,children:l.default.node,getPopupContainer:l.default.func,getContainerContext:l.default.func,maskFixed:l.default.bool,closeIcon:l.default.node,closeOnEsc:l.default.bool,size:l.default.oneOf(o.strings.SIZE),keepDOM:l.default.bool,lazyRender:l.default.bool,direction:l.default.oneOf(o.strings.directions),fullScreen:l.default.bool,footerFill:l.default.bool},E.__SemiComponentName__="Modal",E.defaultProps=(0,f.getDefaultPropsFromGlobalConfig)(E.__SemiComponentName__,{zIndex:1e3,motion:!0,mask:!0,centered:!1,closable:!0,visible:!1,okType:"primary",maskClosable:!0,hasCancel:!0,onCancel:i.default,onOk:i.default,afterClose:i.default,maskFixed:!1,closeOnEsc:!0,size:"small",keepDOM:!1,lazyRender:!0,fullScreen:!1}),E.useModal=b.default,E.info=function(e){return(0,m.default)((0,m.withInfo)(e))},E.success=function(e){return(0,m.default)((0,m.withSuccess)(e))},E.error=function(e){return(0,m.default)((0,m.withError)(e))},E.warning=function(e){return(0,m.default)((0,m.withWarning)(e))},E.confirm=function(e){return(0,m.default)((0,m.withConfirm)(e))},E.destroyAll=function(){for(let e=0,n=w.length;e<n;e++){let n=w[e];n&&n()}w=[]};var x=E},15295:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return w}});var i=r.ir(r("82203")),o=r.ir(r("8250")),a=r.ir(r("15478")),s=r.ir(r("56144")),l=r.ir(r("40472")),u=r.ir(r("37894")),c=r("40747"),d=r.ir(r("12837")),h=r.ir(r("7659")),f=r.ir(r("33758")),p=r.ir(r("65338")),g=r.ir(r("77002")),y=r("73543"),m=r.ir(r("30595")),b=function(e,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>n.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)0>n.indexOf(i[o])&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(r[i[o]]=e[i[o]]);return r};let _=0;class w extends p.default{constructor(e){super(e),this.onKeyDown=e=>{this.foundation.handleKeyDown(e)},this.onDialogMouseDown=()=>{this.foundation.handleDialogMouseDown()},this.onMaskMouseUp=()=>{this.foundation.handleMaskMouseUp()},this.onMaskClick=e=>{this.foundation.handleMaskClick(e)},this.close=e=>{this.foundation.close(e)},this.getMaskElement=()=>{let e=b(this.props,[]),{mask:n,maskClassName:r}=e;if(n){let n=(0,u.default)(`${c.cssClasses.DIALOG}-mask`,{});return s.default.createElement("div",Object.assign({key:"mask"},this.props.maskExtraProps,{className:(0,u.default)(n,r),style:e.maskStyle}))}return null},this.renderCloseBtn=()=>{let e;let{closable:n,closeIcon:r}=this.props;if(n){let n=r||s.default.createElement(y.IconClose,{"x-semi-prop":"closeIcon"});e=s.default.createElement(h.default,{"aria-label":"close",className:`${c.cssClasses.DIALOG}-close`,key:"close-btn",onClick:this.close,type:"tertiary",icon:n,theme:"borderless",size:"small"})}return e},this.renderIcon=()=>{let{icon:e}=this.props;return e?s.default.createElement("span",{className:`${c.cssClasses.DIALOG}-icon-wrapper`,"x-semi-prop":"icon"},e):null},this.renderHeader=()=>{if("header"in this.props)return this.props.header;let{title:e}=this.props,n=this.renderCloseBtn(),r=this.renderIcon();return null==e?null:s.default.createElement("div",{className:`${c.cssClasses.DIALOG}-header`},r,s.default.createElement(f.default.Title,{heading:5,className:`${c.cssClasses.DIALOG}-title`,id:`${c.cssClasses.DIALOG}-title`,"x-semi-prop":"title"},e),n)},this.renderBody=()=>{let{bodyStyle:e,children:n,title:r}=this.props,i=(0,u.default)(`${c.cssClasses.DIALOG}-body`,{[`${c.cssClasses.DIALOG}-withIcon`]:this.props.icon}),o=this.renderCloseBtn(),a=this.renderIcon(),l=null!=r||"header"in this.props;return l?s.default.createElement("div",{className:i,id:`${c.cssClasses.DIALOG}-body`,style:e,"x-semi-prop":"children"},n):s.default.createElement("div",{className:`${c.cssClasses.DIALOG}-body-wrapper`},a,s.default.createElement("div",{className:i,style:e,"x-semi-prop":"children"},n),o)},this.getDialogElement=()=>{let e=b(this.props,[]),n={},r=(0,u.default)(`${c.cssClasses.DIALOG}`,{[`${c.cssClasses.DIALOG}-centered`]:e.centered,[`${c.cssClasses.DIALOG}-${e.size}`]:e.size});e.width&&(n.width=e.width),e.height&&(n.height=e.height),e.isFullScreen&&(n.width="100%",n.height="100%",n.margin="unset");let i=this.renderBody(),o=this.renderHeader(),a=e.footer?s.default.createElement("div",{className:`${c.cssClasses.DIALOG}-footer`,"x-semi-prop":"footer"},e.footer):null,l=s.default.createElement("div",{key:"dialog-element",className:r,onMouseDown:this.onDialogMouseDown,style:Object.assign(Object.assign({},e.style),n),id:this.dialogId},s.default.createElement("div",{role:"dialog",ref:this.modalDialogRef,"aria-modal":"true","aria-labelledby":`${c.cssClasses.DIALOG}-title`,"aria-describedby":`${c.cssClasses.DIALOG}-body`,onAnimationEnd:e.onAnimationEnd,className:(0,u.default)([`${c.cssClasses.DIALOG}-content`,e.contentClassName,{[`${c.cssClasses.DIALOG}-content-fullScreen`]:e.isFullScreen}])},o,i,a));return l},this.state={dialogMouseDown:!1,prevFocusElement:m.default.getActiveElement()},this.foundation=new g.default(this.adapter),this.dialogId=`dialog-${_++}`,this.modalDialogRef=s.default.createRef()}get adapter(){return Object.assign(Object.assign({},super.adapter),{notifyClose:e=>{this.props.onClose(e)},notifyDialogMouseDown:()=>{this.setState({dialogMouseDown:!0})},notifyDialogMouseUp:()=>{this.state.dialogMouseDown&&(this.timeoutId=setTimeout(()=>{this.setState({dialogMouseDown:!1})},0))},addKeyDownEventListener:()=>{this.props.closeOnEsc&&document.addEventListener("keydown",this.foundation.handleKeyDown)},removeKeyDownEventListener:()=>{this.props.closeOnEsc&&document.removeEventListener("keydown",this.foundation.handleKeyDown)},getMouseState:()=>this.state.dialogMouseDown,modalDialogFocus:()=>{var e,n,r;let i;let{preventScroll:o}=this.props;if(this.modalDialogRef){let n=m.default.getActiveElement();i=this.modalDialogRef.current.contains(n),null===(e=this.focusTrapHandle)||void 0===e||e.destroy(),this.focusTrapHandle=new m.default(this.modalDialogRef.current,{preventScroll:o})}!i&&(null===(r=null===(n=this.modalDialogRef)||void 0===n?void 0:n.current)||void 0===r||r.focus({preventScroll:o}))},modalDialogBlur:()=>{var e,n;null===(e=this.modalDialogRef)||void 0===e||e.current.blur(),null===(n=this.focusTrapHandle)||void 0===n||n.destroy()},prevFocusElementReFocus:()=>{let{prevFocusElement:e}=this.state,{preventScroll:n}=this.props,r=(0,a.default)(e,"focus");(0,o.default)(r)&&e.focus({preventScroll:n})}})}componentDidMount(){var e;this.foundation.handleKeyDownEventListenerMount(),this.foundation.modalDialogFocus();let n=m.default.getFocusableElements(this.modalDialogRef.current);!this.modalDialogRef.current.contains(document.activeElement)&&(null===(e=n[0])||void 0===e||e.focus())}componentWillUnmount(){clearTimeout(this.timeoutId),this.foundation.destroy()}render(){var e;let n=this.props,{maskClosable:r,className:i,getPopupContainer:o,maskFixed:a,getContainerContext:l}=n,d=b(n,["maskClosable","className","getPopupContainer","maskFixed","getContainerContext"]),{direction:h}=this.context,f=(0,u.default)(i,{[`${c.cssClasses.DIALOG}-popup`]:o&&o()!==(null===(e=null==globalThis?void 0:globalThis.document)||void 0===e?void 0:e.body)&&!a,[`${c.cssClasses.DIALOG}-fixed`]:a,[`${c.cssClasses.DIALOG}-rtl`]:"rtl"===h}),p=l(),g=this.getDataAttr(d),y=s.default.createElement("div",Object.assign({className:f},g),this.getMaskElement(),s.default.createElement("div",Object.assign({role:"none",className:(0,u.default)({[`${c.cssClasses.DIALOG}-wrap`]:!0,[`${c.cssClasses.DIALOG}-wrap-center`]:this.props.centered}),onClick:r?this.onMaskClick:null,onMouseUp:r?this.onMaskMouseUp:null},this.props.contentExtraProps),this.getDialogElement()));return p&&p.Provider?s.default.createElement(p.Provider,{value:p.value},y):y}}w.contextType=d.default,w.propTypes={close:l.default.func,getContainerContext:l.default.func,contentClassName:l.default.string,maskClassName:l.default.string,onAnimationEnd:l.default.func,preventScroll:l.default.bool},w.defaultProps={close:i.default,getContainerContext:i.default,contentClassName:"",maskClassName:""}},68268:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{default:function(){return c},withInfo:function(){return d},withSuccess:function(){return h},withWarning:function(){return f},withError:function(){return p},withConfirm:function(){return g}});var i=r.ir(r("51854")),o=r.ir(r("56144")),a=r.ir(r("48362")),s=r("43712"),l=r.ir(r("89357")),u=r("73543");function c(e){let n=document.createElement("div");document.body.appendChild(n);let r=Object.assign({},e),i=()=>{let e=a.default.unmountComponentAtNode(n);e&&n.parentNode&&n.parentNode.removeChild(n);for(let e=0;e<s.destroyFns.length;e++){let n=s.destroyFns[e];if(n===c){s.destroyFns.splice(e,1);break}}};function u(r){let{afterClose:s}=r;a.default.render(o.default.createElement(l.default,Object.assign({},r,{afterClose:function(){null==s||s(...arguments),i()},motion:e.motion})),n)}function c(){u(r=Object.assign(Object.assign({},r),{visible:!1}))}return u(r),s.destroyFns.push(c),{destroy:c,update:function(e){u(r=Object.assign(Object.assign({},r),e))}}}function d(e){return Object.assign({type:"info",icon:o.default.createElement(u.IconInfoCircle,null)},e)}function h(e){return Object.assign({type:"success",icon:o.default.createElement(u.IconTickCircle,null)},e)}function f(e){return Object.assign({type:"warning",icon:o.default.createElement(u.IconAlertTriangle,null)},e)}function p(e){return Object.assign({type:"error",icon:o.default.createElement(u.IconAlertCircle,null),okButtonProps:Object.assign({type:"danger"},e.okButtonProps)},(0,i.default)(e,["okButtonProps"]))}function g(e){return Object.assign({type:"confirm",icon:o.default.createElement(u.IconHelpCircle,null)},e)}},26363:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var i=r.ir(r("43712")).default},94897:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var i=r.ir(r("56144")),o=r.ir(r("89357")),a=function(e,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>n.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)0>n.indexOf(i[o])&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(r[i[o]]=e[i[o]]);return r},s=i.default.forwardRef((e,n)=>{var{afterClose:r,config:s}=e;a(e,["afterClose","config"]);let[l,u]=i.default.useState(s);return i.default.useImperativeHandle(n,()=>({destroy:()=>{u(e=>Object.assign(Object.assign({},e),{visible:!1}))},update:e=>{u(n=>Object.assign(Object.assign({},n),e))}})),i.default.createElement(o.default,Object.assign({},l,{afterClose:()=>{var e;null===(e=null==s?void 0:s.afterClose)||void 0===e||e.call(s),r()}}))})},42073:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return l}});var i=r.ir(r("56144")),o=r.ir(r("94897")),a=r("68268");let s=0;function l(){let[e,n]=function(){let[e,n]=i.default.useState([]);return[e,function(e){return n(n=>[...n,e]),()=>{n(n=>n.filter(n=>n!==e))}}]}();function r(e){return function(r){let a;s+=1;let l=i.default.createRef(),u=i.default.createElement(o.default,{key:`semi-modal-${s}`,config:e(r),ref:l,afterClose:()=>{a()}});return a=n(u),{destroy:()=>{l.current&&l.current.destroy()},update:e=>{l.current&&l.current.update(e)}}}}return[{info:r(a.withInfo),success:r(a.withSuccess),error:r(a.withError),warning:r(a.withWarning),confirm:r(a.withConfirm)},i.default.createElement(i.default.Fragment,null,e)]}},5859:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return x}});var i=r.ir(r("15478")),o=r.ir(r("8250")),a=r.ir(r("3409")),s=r.ir(r("56144")),l=r.ir(r("37894")),u=r.ir(r("65338")),c=r.ir(r("40472")),d=r("87686"),h=r.ir(r("72942")),f=r.ir(r("17780")),p=r.ir(r("46731")),g=r("84204"),y=r.ir(r("93839"));let m=d.cssClasses.PREFIX,b=d.strings.BOUNDARY_MAP,_=d.strings.OVERFLOW_DIR,w=d.strings.MODE_MAP;class E extends u.default{constructor(e){var n;super(e),n=this,this.scroller=null,this.spacer=null,this.isScrollMode=()=>{let{renderMode:e}=this.props;return e===w.SCROLL},this.resize=function(){var e;let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=null===(e=r[0])||void 0===e?void 0:e.target.clientWidth;n.setState({containerWidth:i,overflowStatus:"calculating"})},this.reintersect=e=>{this.foundation.handleIntersect(e)},this.mergeRef=(e,n,r)=>{this.itemRefs[r]=n,"function"==typeof e?e(n):"object"==typeof e&&e&&"current"in e&&(e.current=n)},this.renderOverflow=()=>{let e=this.foundation.getOverflowItem();return this.props.overflowRenderer(e)},this.getItemKey=(e,n)=>{let{itemKey:r}=this.props;return(0,o.default)(r)?r(e):(0,i.default)(e,r||"key",n)},this.renderItemList=()=>{let{className:e,wrapperClassName:n,wrapperStyle:r,style:i,visibleItemRenderer:o,renderMode:a,collapseFrom:u}=this.props,{visible:c,overflowStatus:d}=this.state,f=this.renderOverflow();if(!this.isScrollMode()&&(Array.isArray(f)&&(f=s.default.createElement(s.default.Fragment,null,f)),s.default.isValidElement(f))){let e=s.default.cloneElement(f);f=s.default.createElement(h.default,{onResize:e=>{let[n]=e;this.setState({overflowWidth:n.target.clientWidth,overflowStatus:"calculating"})}},s.default.createElement("div",{className:`${m}-overflow`},e))}let p=a===w.SCROLL?(()=>{let e=[s.default.createElement("div",{className:(0,l.default)(n,`${m}-scroll-wrapper`),ref:e=>{this.scroller=e},style:Object.assign({},r),key:`${m}-scroll-wrapper`},c.map(o).map(e=>{let{forwardRef:n,key:r}=e;return s.default.cloneElement(e,{ref:e=>this.mergeRef(n,e,r),"data-scrollkey":`${r}`,key:r})}))];return"both"===this.props.overflowRenderDirection?(e.unshift(f[0]),e.push(f[1])):"start"===this.props.overflowRenderDirection?(e.unshift(f[1]),e.unshift(f[0])):(e.push(f[0]),e.push(f[1])),e})():[u===b.START?f:null,c.map((e,n)=>{let{key:r}=e,i=o(e,n),a=s.default.cloneElement(i);return s.default.createElement(h.default,{key:null!=r?r:n,onResize:r=>{let[i]=r;return this.onItemResize(i,e,n)}},s.default.createElement("div",{key:null!=r?r:n,className:`${m}-item`},a))}),u===b.END?f:null],g=s.default.createElement("div",{className:(0,l.default)(`${m}`,e),style:Object.assign(Object.assign({},i),a===w.COLLAPSE?{maxWidth:"100%",visibility:"calculating"===d?"hidden":"visible"}:null)},...p);return g},this.onItemResize=(e,n,r)=>{let i=this.getItemKey(n,r),o=this.itemSizeMap.get(i);o?o!==e.target.clientWidth&&(this.itemSizeMap.set(i,e.target.clientWidth),this.setState({overflowStatus:"calculating"})):this.itemSizeMap.set(i,e.target.clientWidth);let{maxCount:a}=this.state;this.itemSizeMap.size===a&&this.setState({overflowStatus:"calculating"})},this.state={direction:_.GROW,lastOverflowCount:0,overflow:[],visible:[],containerWidth:0,visibleState:new Map,itemSizeMap:new Map,overflowStatus:"calculating",pivot:-1,overflowWidth:0,maxCount:0},this.foundation=new p.default(this.adapter),this.previousWidths=new Map,this.itemRefs={},this.itemSizeMap=new Map}static getDerivedStateFromProps(e,n){let{prevProps:r}=n,i={};i.prevProps=e;let o=n=>!r&&n in e||r&&!(0,a.default)(r[n],e[n]);if(o("items")||o("style")){if(i.direction=_.GROW,i.lastOverflowCount=0,i.maxCount=0,e.renderMode===w.SCROLL)i.visible=e.items,i.overflow=[];else{let r=e.items.length;0!==Math.floor(n.containerWidth/d.numbers.MINIMUM_HTML_ELEMENT_WIDTH)&&(r=Math.min(r,Math.floor(n.containerWidth/d.numbers.MINIMUM_HTML_ELEMENT_WIDTH)));let o=e.collapseFrom===b.START,a=o?(0,y.default)(e.items).reverse().slice(0,r):e.items.slice(0,r),s=o?(0,y.default)(e.items).reverse().slice(r):e.items.slice(r);i.visible=a,i.overflow=s,i.maxCount=r}i.pivot=-1,i.overflowStatus="calculating"}return i}get adapter(){return Object.assign(Object.assign({},super.adapter),{updateVisibleState:e=>{this.setState({visibleState:e},()=>{var n,r;null===(r=(n=this.props).onVisibleStateChange)||void 0===r||r.call(n,e)})},updateStates:e=>{this.setState(Object.assign({},e))},notifyIntersect:e=>{this.props.onIntersect&&this.props.onIntersect(e)},getItemSizeMap:()=>this.itemSizeMap})}componentDidUpdate(e,n){let r=e.items.map(e=>e.key),i=this.props.items.map(e=>e.key);!(0,a.default)(r,i)&&(this.itemRefs={},this.setState({visibleState:new Map}));let{overflow:o,containerWidth:s,visible:l,overflowStatus:u}=this.state;!this.isScrollMode()&&"calculating"===u&&this.foundation.handleCollapseOverflow()}render(){let e=this.renderItemList(),{renderMode:n}=this.props;return n===w.SCROLL?s.default.createElement(f.default,{onIntersect:this.reintersect,root:this.scroller,threshold:this.props.threshold,items:this.itemRefs},e):s.default.createElement(h.default,{onResize:this.resize},e)}}E.__SemiComponentName__="OverflowList",E.defaultProps=(0,g.getDefaultPropsFromGlobalConfig)(E.__SemiComponentName__,{collapseFrom:"end",minVisibleItems:0,overflowRenderer:()=>null,renderMode:"collapse",threshold:.75,visibleItemRenderer:()=>null,onOverflow:()=>null,overflowRenderDirection:"both"}),E.propTypes={className:c.default.string,collapseFrom:c.default.oneOf(d.strings.BOUNDARY_SET),direction:c.default.oneOf(d.strings.POSITION_SET),items:c.default.array,minVisibleItems:c.default.number,onIntersect:c.default.func,onOverflow:c.default.func,overflowRenderer:c.default.func,renderMode:c.default.oneOf(d.strings.MODE_SET),style:c.default.object,threshold:c.default.number,visibleItemRenderer:c.default.func,wrapperClassName:c.default.string,wrapperStyle:c.default.object,collapseMask:c.default.object,overflowRenderDirection:c.default.string};var x=E},17780:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return u}});var i=r.ir(r("38691")),o=r.ir(r("3409")),a=r.ir(r("56144")),s=r.ir(r("40472")),l=r("69632");class u extends a.default.PureComponent{componentDidMount(){let{items:e}=this.props;this.cachedKeys=Object.keys(e);let{root:n,threshold:r,rootMargin:i,option:o,onIntersect:a}=this.props;this.observer=new IntersectionObserver(a,Object.assign({root:n,threshold:r,rootMargin:i},o)),this.observeElement()}componentDidUpdate(){let{items:e}=this.props,n=Object.keys(e);!(0,o.default)(this.cachedKeys,n)&&(this.observeElement(!0),this.cachedKeys=n)}componentWillUnmount(){this.observer&&(this.observer.disconnect(),this.observer=null)}observeElement(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],{items:n}=this.props;if((0,i.default)(n)){this.observer.disconnect();return}e&&this.observer.disconnect(),Object.keys(n).forEach(e=>{let r=n[e];r&&(0,l.isHTMLElement)(r)&&this.observer.observe(r)})}render(){let{children:e}=this.props;return e}}u.propTypes={onIntersect:s.default.func,option:s.default.object,root:s.default.any,threshold:s.default.number,rootMargin:s.default.string,items:s.default.object},u.defaultProps={onIntersect:()=>void 0,threshold:.75,rootMargin:"0px",option:{},items:{}}},93737:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return d}});var i=r.ir(r("15478")),o=r.ir(r("56144")),a=r.ir(r("40472")),s=r.ir(r("37894")),l=r("14014"),u=function(e,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>n.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)0>n.indexOf(i[o])&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(r[i[o]]=e[i[o]]);return r};let c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{position:n="",className:r,arrowStyle:a,popStyle:c}=e,d=u(e,["position","className","arrowStyle","popStyle"]),h=0===n.indexOf("top")||0===n.indexOf("bottom"),f=(0,s.default)(r,l.cssClasses.ARROW),p=(0,i.default)(a,"borderOpacity",l.strings.DEFAULT_ARROW_STYLE.borderOpacity),g=(0,i.default)(a,"backgroundColor",(0,i.default)(c,"backgroundColor",l.strings.DEFAULT_ARROW_STYLE.backgroundColor)),y=(0,i.default)(a,"borderColor",(0,i.default)(c,"borderColor",l.strings.DEFAULT_ARROW_STYLE.borderColor)),m=Object.assign(Object.assign({},d),{width:l.numbers.ARROW_BOUNDING.width,height:l.numbers.ARROW_BOUNDING.height,xmlns:"http://www.w3.org/2000/svg",className:f});return h?o.default.createElement("svg",Object.assign({},m),o.default.createElement("path",{d:"M0 0.5L0 1.5C4 1.5, 5.5 3, 7.5 5S10,8 12,8S14.5 7, 16.5 5S20,1.5 24,1.5L24 0.5L0 0.5z",fill:y,opacity:p}),o.default.createElement("path",{d:"M0 0L0 1C4 1, 5.5 2, 7.5 4S10,7 12,7S14.5  6, 16.5 4S20,1 24,1L24 0L0 0z",fill:g})):o.default.createElement("svg",Object.assign({},m),o.default.createElement("path",{d:"M0.5 0L1.5 0C1.5 4, 3 5.5, 5 7.5S8,10 8,12S7 14.5, 5 16.5S1.5,20 1.5,24L0.5 24L0.5 0z",fill:y,opacity:p}),o.default.createElement("path",{d:"M0 0L1 0C1 4, 2 5.5, 4 7.5S7,10 7,12S6 14.5, 4 16.5S1,20 1,24L0 24L0 0z",fill:g}))};c.propTypes={position:a.default.string,className:a.default.string,arrowStyle:a.default.object,popStyle:a.default.object};var d=c},7704:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return _}});var i=r.ir(r("82203")),o=r.ir(r("8250")),a=r.ir(r("56144")),s=r.ir(r("37894")),l=r.ir(r("40472")),u=r.ir(r("12837")),c=r("14014"),d=r.ir(r("9838")),h=r.ir(r("93737")),f=r.ir(r("29807")),p=r("84204"),g=function(e,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>n.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)0>n.indexOf(i[o])&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(r[i[o]]=e[i[o]]);return r};let y=c.strings.POSITION_SET,m=c.strings.TRIGGER_SET;class b extends a.default.PureComponent{constructor(e){super(e),this.focusTrigger=()=>{var e;null===(e=this.tooltipRef.current)||void 0===e||e.focusTrigger()},this.renderPopCard=e=>{let{initialFocusRef:n}=e,{content:r,contentClassName:i,prefixCls:o}=this.props,{direction:l}=this.context,u=(0,s.default)(o,i,{[`${o}-rtl`]:"rtl"===l}),c=this.renderContentNode({initialFocusRef:n,content:r});return a.default.createElement("div",{className:u},a.default.createElement("div",{className:`${o}-content`},c))},this.renderContentNode=e=>{let{initialFocusRef:n,content:r}=e;return(0,o.default)(r)?r({initialFocusRef:n}):r},this.tooltipRef=a.default.createRef()}render(){let e=this.props,{children:n,prefixCls:r,showArrow:i,arrowStyle:o={},arrowBounding:s,position:l,style:u,trigger:p}=e,y=g(e,["children","prefixCls","showArrow","arrowStyle","arrowBounding","position","style","trigger"]),{spacing:m}=this.props,b=!!i&&a.default.createElement(h.default,Object.assign({},{position:l,className:"",popStyle:u,arrowStyle:o}));return(0,f.default)(m)&&(m=i?c.numbers.SPACING_WITH_ARROW:c.numbers.SPACING),a.default.createElement(d.default,Object.assign({guardFocus:!0,ref:this.tooltipRef},y,{trigger:p,position:l,style:u,content:this.renderPopCard,prefixCls:r,spacing:m,showArrow:b,arrowBounding:s,role:"click"===p||"custom"===p?"dialog":"tooltip"}),n)}}b.contextType=u.default,b.propTypes={children:l.default.node,content:l.default.oneOfType([l.default.node,l.default.func]),visible:l.default.bool,autoAdjustOverflow:l.default.bool,motion:l.default.bool,position:l.default.oneOf(y),margin:l.default.oneOfType([l.default.number,l.default.object]),mouseEnterDelay:l.default.number,mouseLeaveDelay:l.default.number,trigger:l.default.oneOf(m).isRequired,contentClassName:l.default.oneOfType([l.default.string,l.default.array]),onVisibleChange:l.default.func,onClickOutSide:l.default.func,style:l.default.object,spacing:l.default.oneOfType([l.default.number,l.default.object]),zIndex:l.default.number,showArrow:l.default.bool,arrowStyle:l.default.shape({borderColor:l.default.string,backgroundColor:l.default.string,borderOpacity:l.default.oneOfType([l.default.string,l.default.number])}),arrowPointAtCenter:l.default.bool,arrowBounding:l.default.object,prefixCls:l.default.string,guardFocus:l.default.bool,disableArrowKeyDown:l.default.bool},b.__SemiComponentName__="Popover",b.defaultProps=(0,p.getDefaultPropsFromGlobalConfig)(b.__SemiComponentName__,{arrowBounding:c.numbers.ARROW_BOUNDING,showArrow:!1,autoAdjustOverflow:!0,zIndex:c.numbers.DEFAULT_Z_INDEX,motion:!0,trigger:"hover",cancelText:"No",okText:"Yes",position:"bottom",prefixCls:c.cssClasses.PREFIX,onClickOutSide:i.default,onEscKeyDown:i.default,closeOnEsc:!0,returnFocusOnClose:!0,guardFocus:!0,disableFocusListener:!0});var _=b},72942:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{ObserverProperty:function(){return o},default:function(){return c}});var i,o,a=r.ir(r("56144")),s=r("48362"),l=r.ir(r("40472")),u=r.ir(r("65338"));(i=o||(o={})).Width="width",i.Height="height",i.All="all";class c extends u.default{constructor(e){var n;super(e),n=this,this.formerPropertyValue=new Map,this.getElement=()=>{try{return(0,s.findDOMNode)(this.childNode||this)}catch(e){return null}},this.handleResizeEventTriggered=e=>{var n,r,i,a;if(this.props.observerProperty===o.All)null===(r=(n=this.props).onResize)||void 0===r||r.call(n,e);else{let n=[];for(let r of e)this.formerPropertyValue.has(r.target)?r.contentRect[this.props.observerProperty]!==this.formerPropertyValue.get(r.target)&&(this.formerPropertyValue.set(r.target,r.contentRect[this.props.observerProperty]),n.push(r)):(this.formerPropertyValue.set(r.target,r.contentRect[this.props.observerProperty]),n.push(r));n.length>0&&(null===(a=(i=this.props).onResize)||void 0===a||a.call(i,n))}},this.observeElement=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=n.getElement();if(!n.observer&&(n.observer=new ResizeObserver(n.handleResizeEventTriggered)),!(r&&r instanceof Element)){n.observer.disconnect();return}if(r!==n.element||!!e){n.observer.disconnect(),n.element=r;n.observer.observe(r),n.props.observeParent&&r.parentNode&&r.parentNode.ownerDocument&&r.parentNode.ownerDocument.defaultView&&r.parentNode instanceof r.parentNode.ownerDocument.defaultView.HTMLElement&&(n._parentNode=r.parentNode,n.observer.observe(n._parentNode))}},this.mergeRef=(e,n)=>{this.childNode=n,"function"==typeof e?e(n):"object"==typeof e&&e&&"current"in e&&(e.current=n)},globalThis.ResizeObserver&&(this.observer=new ResizeObserver(this.handleResizeEventTriggered))}componentDidMount(){var e;null===(e=this.observeElement)||void 0===e||e.call(this)}componentDidUpdate(e){var n;null===(n=this.observeElement)||void 0===n||n.call(this,this.props.observeParent!==e.observeParent)}componentWillUnmount(){this.observer&&(this.observer.disconnect(),this.observer=null,this.element=null)}render(){let e=a.default.Children.only(this.props.children),{ref:n}=e;return a.default.cloneElement(e,{ref:e=>this.mergeRef(n,e)})}}c.propTypes={onResize:l.default.func,observeParent:l.default.bool,observerProperty:l.default.string,delayTick:l.default.number},c.defaultProps={onResize:()=>{},observeParent:!1,observerProperty:"all",delayTick:0}},77744:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return $}});var i=r.ir(r("8250")),o=r.ir(r("15135")),a=r.ir(r("15478")),s=r.ir(r("82203")),l=r.ir(r("94228")),u=r.ir(r("3409")),c=r.ir(r("56144")),d=r.ir(r("48362")),h=r.ir(r("37894")),f=r.ir(r("40472")),p=r.ir(r("12837")),g=r.ir(r("50113")),y=r("93096"),m=r.ir(r("65338")),b=r.ir(r("56441")),_=r.ir(r("7684")),w=r.ir(r("5859")),E=r.ir(r("3438")),x=r.ir(r("31550")),C=r.ir(r("80675")),S=r.ir(r("7704")),O=r("14014"),M=r.ir(r("99270")),P=r("98945"),D=r("67961"),I=r.ir(r("35136")),j=r.ir(r("38911")),N=r.ir(r("69648")),T=r.ir(r("86174")),k=r.ir(r("1105")),A=r.ir(r("87439")),R=r("73543"),L=r("84204"),F=r("78590"),z=function(e,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>n.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)0>n.indexOf(i[o])&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(r[i[o]]=e[i[o]]);return r};let B=y.cssClasses.PREFIX;class V extends m.default{constructor(e){super(e),this.setOptionContainerEl=e=>this.optionContainerEl={current:e},this.handleInputChange=(e,n)=>this.foundation.handleInputChange(e,n),this.getTagItem=(e,n,r)=>{let{size:i,disabled:o}=this.props,a=e[0],{value:s}=e[1],l=e[1].disabled||o,u=(e,n)=>{n&&"function"==typeof n.preventDefault&&n.preventDefault(),this.foundation.removeTag({label:a,value:s})},{content:d,isRenderInTag:h}=r(e[1],{index:n,disabled:l,onClose:u});return h?c.default.createElement(b.default,Object.assign({},{disabled:l,closable:!l,onClose:u},{color:"white",size:i||"large",key:s,tabIndex:-1}),d):c.default.createElement(c.Fragment,{key:s},d)},this.state={isOpen:!1,isFocus:!1,options:[],selections:new Map,dropdownMinWidth:null,optionKey:0,inputValue:"",showInput:!1,focusIndex:e.defaultActiveFirstOption?0:-1,keyboardEventSet:{},optionGroups:[],isHovering:!1,isFocusInContainer:!1,isFullTags:!1,overflowItemCount:0},this.selectOptionListID="",this.selectID="",this.virtualizeListRef=c.default.createRef(),this.inputRef=c.default.createRef(),this.dropdownInputRef=c.default.createRef(),this.triggerRef=c.default.createRef(),this.optionsRef=c.default.createRef(),this.optionContainerEl=c.default.createRef(),this.clickOutsideHandler=null,this.onSelect=this.onSelect.bind(this),this.onClear=this.onClear.bind(this),this.onMouseEnter=this.onMouseEnter.bind(this),this.onMouseLeave=this.onMouseLeave.bind(this),this.renderOption=this.renderOption.bind(this),this.onKeyPress=this.onKeyPress.bind(this),this.eventManager=new M.default,this.foundation=new g.default(this.adapter)}get adapter(){var e=this;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},super.adapter),{registerKeyDown:e=>{this.setState({keyboardEventSet:{onKeyDown:e}})},unregisterKeyDown:()=>{this.setState({keyboardEventSet:{}})},updateFocusIndex:e=>{this.setState({focusIndex:e})},scrollToFocusOption:()=>{}}),{updateInputValue:e=>{this.setState({inputValue:e})},toggleInputShow:(e,n)=>{this.setState({showInput:e},()=>{n()})},focusInput:()=>{let{preventScroll:e}=this.props;this.inputRef&&this.inputRef.current&&this.inputRef.current.focus({preventScroll:e})},focusDropdownInput:()=>{let{preventScroll:e}=this.props;this.dropdownInputRef&&this.dropdownInputRef.current&&this.dropdownInputRef.current.focus({preventScroll:e})}}),{notifyMaxLimit:e=>this.props.onExceed(e),getMaxLimit:()=>this.props.max,registerClickOutsideHandler:e=>{let n=n=>{let r=this.optionsRef&&this.optionsRef.current,i=this.triggerRef&&this.triggerRef.current,o=d.default.findDOMNode(r),a=n.target,s=n.composedPath&&n.composedPath()||[a];!(o&&o.contains(a))&&!(i&&i.contains(a))&&!(s.includes(i)||s.includes(o))&&e(n)};this.clickOutsideHandler=n,document.addEventListener("mousedown",n,!1)},unregisterClickOutsideHandler:()=>{this.clickOutsideHandler&&(document.removeEventListener("mousedown",this.clickOutsideHandler,!1),this.clickOutsideHandler=null)},rePositionDropdown:()=>{let{optionKey:e}=this.state;e+=1,this.setState({optionKey:e})},notifyDeselect:(e,n)=>{delete n._parentGroup,this.props.onDeselect(e,n)}}),{on:(e,n)=>this.eventManager.on(e,n),off:e=>this.eventManager.off(e),once:(e,n)=>this.eventManager.once(e,n),emit:e=>this.eventManager.emit(e),getOptionsFromChildren:function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props.children,r=[],i=[],{optionList:o}=e.props;if(o&&o.length)i=o.map((e,n)=>Object.assign({_show:!0,_selected:!1,_scrollIndex:n},e)),r[0]={children:i,label:""};else{let e=(0,D.getOptionsFromGroup)(n);r=e.optionGroups,i=e.options}return e.setState({optionGroups:r}),i},updateOptions:e=>{this.setState({options:e})},openMenu:e=>{this.setState({isOpen:!0},()=>{null==e||e()})},closeMenu:()=>{this.setState({isOpen:!1})},getTriggerWidth:()=>{let e=this.triggerRef.current;return e&&e.getBoundingClientRect().width},setOptionWrapperWidth:e=>{this.setState({dropdownMinWidth:e})},updateSelection:e=>{this.setState({selections:e})},getSelections:()=>new Map(this.state.selections),notifyChange:e=>{this.props.onChange(e)},notifySelect:(e,n)=>{delete n._parentGroup,this.props.onSelect(e,n)},notifyDropdownVisibleChange:e=>{this.props.onDropdownVisibleChange(e)},notifySearch:(e,n)=>{this.props.onSearch(e,n)},notifyCreate:e=>{this.props.onCreate(e)},notifyMouseEnter:e=>{this.props.onMouseEnter(e)},notifyMouseLeave:e=>{this.props.onMouseLeave(e)},notifyFocus:e=>{this.props.onFocus(e)},notifyBlur:e=>{this.props.onBlur(e)},notifyClear:()=>{this.props.onClear()},notifyListScroll:e=>{this.props.onListScroll(e)},updateHovering:e=>{this.setState({isHovering:e})},updateFocusState:e=>{this.setState({isFocus:e})},updateOverflowItemCount:e=>{this.setState({overflowItemCount:e})},focusTrigger:()=>{try{let{preventScroll:e}=this.props,n=this.triggerRef.current;n.focus({preventScroll:e})}catch(e){}},getContainer:()=>this.optionContainerEl&&this.optionContainerEl.current,getFocusableElements:e=>(0,L.getFocusableElements)(e),getActiveElement:()=>(0,L.getActiveElement)(),setIsFocusInContainer:e=>{this.setState({isFocusInContainer:e})},getIsFocusInContainer:()=>this.state.isFocusInContainer,updateScrollTop:e=>{let n;"renderOptionItem"in this.props?(n=`.${B}-option-custom-selected`,void 0!==e&&(n=`.${B}-option-custom:nth-child(${e+1})`)):(n=`.${B}-option-selected`,void 0!==e&&(n=`.${B}-option:nth-child(${e+1})`));let r=document.querySelector(`#${B}-${this.selectOptionListID} ${n}`);if(Array.isArray(r)&&(r=r[0]),r){let e=r.parentNode;e.scrollTop=r.offsetTop-e.offsetTop-e.clientHeight/2+r.clientHeight/2}}})}componentDidMount(){this.foundation.init(),this.selectOptionListID=(0,F.getUuidShort)(),this.selectID=this.props.id||(0,F.getUuidShort)()}componentWillUnmount(){this.foundation.destroy()}componentDidUpdate(e,n){let r=c.default.Children.toArray(e.children).map(e=>e.key),i=c.default.Children.toArray(this.props.children).map(e=>e.key),o=!1;(!(0,u.default)(r,i)||!(0,u.default)(e.optionList,this.props.optionList))&&(o=!0,this.foundation.handleOptionListChange()),(!(0,u.default)(this.props.value,e.value)||o)&&("value"in this.props?this.foundation.handleValueChange(this.props.value):this.foundation.handleOptionListChangeHadDefaultValue())}renderTriggerInput(){let{size:e,multiple:n,disabled:r,inputProps:i,filter:o}=this.props,s=(0,a.default)(i,"className"),l=(0,h.default)(`${B}-input`,{[`${B}-input-single`]:!n,[`${B}-input-multiple`]:n},s),{inputValue:u,focusIndex:d}=this.state,f=Object.assign({value:u,disabled:r,className:l,onChange:this.handleInputChange},i),p={};return n&&(p={width:u?`${16*u.length}px`:"2px"},f.style=p),c.default.createElement(j.default,Object.assign({ref:this.inputRef,size:e,"aria-activedescendant":-1!==d?`${this.selectID}-option-${d}`:"",onFocus:e=>{n&&o&&this.setState({isFocus:!0}),e.stopPropagation()},onBlur:e=>this.foundation.handleInputBlur(e)},f))}renderDropdownInput(){let{size:e,multiple:n,disabled:r,inputProps:i,filter:o,searchPosition:s,searchPlaceholder:l}=this.props,{inputValue:u,focusIndex:d}=this.state,f=(0,h.default)(`${B}-dropdown-search-wrapper`,{}),p=(0,a.default)(i,"className"),g=(0,h.default)(`${B}-dropdown-input`,{[`${B}-dropdown-input-single`]:!n,[`${B}-dropdown-input-multiple`]:n},p),y=Object.assign(Object.assign({value:u,disabled:r,className:g,onChange:this.handleInputChange,placeholder:l,showClear:!0},i),{onKeyDown:e=>this.foundation._handleKeyDown(e)});return c.default.createElement("div",{className:f},c.default.createElement(j.default,Object.assign({ref:this.dropdownInputRef,prefix:c.default.createElement(R.IconSearch,null),"aria-activedescendant":-1!==d?`${this.selectID}-option-${d}`:""},y)))}close(){this.foundation.close()}open(){this.foundation.open()}clearInput(){this.foundation.clearInput()}selectAll(){this.foundation.selectAll()}deselectAll(){this.foundation.clearSelected()}focus(){this.foundation.focus()}onSelect(e,n,r){this.foundation.onSelect(e,n,r)}onClear(e){e.nativeEvent.stopImmediatePropagation(),this.foundation.handleClearClick(e)}search(e,n){this.handleInputChange(e,n)}renderEmpty(){return c.default.createElement(N.default,{empty:!0,emptyContent:this.props.emptyContent})}renderLoading(){let e=`${B}-loading-wrapper`;return c.default.createElement("div",{className:e},c.default.createElement(k.default,null))}renderOption(e,n,r){let i;let{focusIndex:o,inputValue:a}=this.state,{renderOptionItem:s}=this.props,l=n===o,u=r||{};return e.style&&(u=Object.assign(Object.assign({},u),e.style)),e._inputCreateOnly?i=this.renderCreateOption(e,l,n,r):("key"in e&&(e._keyInOptionList=e.key),i=c.default.createElement(N.default,Object.assign({showTick:!0},e,{selected:e._selected,onSelect:(e,r)=>this.onSelect(e,n,r),focused:l,onMouseEnter:()=>this.onOptionHover(n),style:u,key:e._keyInOptionList||e._keyInJsx||e.label+e.value+n,renderOptionItem:s,inputValue:a,semiOptionId:`${this.selectID}-option-${n}`}),e.label)),i}renderCreateOption(e,n,r,i){let{renderCreateItem:o}=this.props;if(void 0===o){let o=c.default.createElement(N.default,Object.assign({key:e.key||e.label+e.value,onSelect:(e,n)=>this.onSelect(e,r,n),onMouseEnter:()=>this.onOptionHover(r),showTick:!0},e,{focused:n,style:i}),c.default.createElement(C.default,{componentName:"Select"},n=>c.default.createElement(c.default.Fragment,null,c.default.createElement("span",{className:`${B}-create-tips`},n.createText),e.value)));return o}let a=o(e.value,n,i);return c.default.createElement("div",{role:"button","aria-label":"Use the input box to create an optional item",onClick:n=>this.onSelect(e,r,n),key:e.key||e.label},a)}onOptionHover(e){this.foundation.handleOptionMouseEnter(e)}renderWithGroup(e){let n=[],r=new Map;return e.forEach((e,i)=>{let o=e._parentGroup,a=this.renderOption(e,i);if(o&&!r.has(o.label)){let e=c.default.createElement(T.default,Object.assign({},o,{key:o.label}));r.set(o.label,!0),n.push(e)}n.push(a)}),n}renderVirtualizeList(e){let{virtualize:n}=this.props,{direction:r}=this.context,{height:i,width:o,itemSize:a}=n;return c.default.createElement(P.FixedSizeList,{ref:this.virtualizeListRef,height:i||y.numbers.LIST_HEIGHT,itemCount:e.length,itemSize:a,itemData:{visibleOptions:e,renderOption:this.renderOption},width:o||"100%",style:{direction:r}},I.default)}renderOptions(e){let{dropdownMinWidth:n,options:r,selections:i}=this.state,{maxHeight:o,dropdownClassName:a,dropdownStyle:s,outerTopSlot:l,innerTopSlot:u,outerBottomSlot:d,innerBottomSlot:f,loading:p,virtualize:g,multiple:m,emptyContent:b,searchPosition:_,filter:w}=this.props,E=r.filter(e=>e._show),x=this.renderWithGroup(E);g&&(x=this.renderVirtualizeList(E));let C=Object.assign({minWidth:n},s),S=(0,h.default)({[`${B}-option-list`]:!0,[`${B}-option-list-chosen`]:i.size}),O=!r.length||!r.some(e=>e._show);return c.default.createElement("div",{id:`${B}-${this.selectOptionListID}`,className:(0,h.default)({[`${B}-option-list-wrapper`]:!(O&&null===b)},a),style:C,ref:this.setOptionContainerEl,onKeyDown:e=>this.foundation.handleContainerKeyDown(e)},l?c.default.createElement("div",{className:`${B}-option-list-outer-top-slot`,onMouseEnter:()=>this.foundation.handleSlotMouseEnter()},l):null,_===y.strings.SEARCH_POSITION_DROPDOWN&&w?this.renderDropdownInput():null,c.default.createElement("div",{style:{maxHeight:`${o}px`},className:S,role:"listbox","aria-multiselectable":m,onScroll:e=>this.foundation.handleListScroll(e)},u?c.default.createElement("div",{className:`${B}-option-list-inner-top-slot`,onMouseEnter:()=>this.foundation.handleSlotMouseEnter()},u):null,p?this.renderLoading():O?this.renderEmpty():x,f?c.default.createElement("div",{className:`${B}-option-list-inner-bottom-slot`,onMouseEnter:()=>this.foundation.handleSlotMouseEnter()},f):null),d?c.default.createElement("div",{className:`${B}-option-list-outer-bottom-slot`,onMouseEnter:()=>this.foundation.handleSlotMouseEnter()},d):null)}renderSingleSelection(e,n){let{renderSelectedItem:r,searchPosition:i}=this.props,{placeholder:o}=this.props,{showInput:a,inputValue:s}=this.state,l="",u=[...e];if(void 0===r&&(r=e=>e.label),u.length){let e=u[0][1];l=r(e)}let d=i===y.strings.SEARCH_POSITION_TRIGGER,f=(0,h.default)({[`${B}-selection-text`]:!0,[`${B}-selection-placeholder`]:!l&&0!==l,[`${B}-selection-text-hide`]:s&&a&&d,[`${B}-selection-text-inactive`]:!s&&a&&d}),p=`${B}-content-wrapper`;return c.default.createElement(c.default.Fragment,null,c.default.createElement("div",{className:p},c.default.createElement("span",{className:f,"x-semi-prop":"placeholder"},l||0===l?l:o),n&&a&&d?this.renderTriggerInput():null))}renderTag(e,n,r){let{size:o,disabled:a}=this.props,{renderSelectedItem:s}=this.props,l=e[0],{value:u}=e[1],d=e[1].disabled||a,h=(e,n)=>{n&&"function"==typeof n.preventDefault&&n.preventDefault(),this.foundation.removeTag({label:l,value:u})};void 0===s&&(s=e=>({isRenderInTag:!0,content:e.label}));let{content:f,isRenderInTag:p}=s(e[1],{index:n,disabled:d,onClose:h}),g=r&&!(0,i.default)(this.props.renderSelectedItem)?c.default.createElement(x.default,{size:"small",ellipsis:{rows:1,showTooltip:{type:"popover",opts:{style:{width:"auto",fontSize:12}}}}},f):f;return p?c.default.createElement(b.default,Object.assign({},{disabled:d,closable:!d,onClose:h},{color:"white",size:o||"large",key:u,style:{maxWidth:"100%"}}),g):c.default.createElement(c.Fragment,{key:u},g)}renderNTag(e,n){let{size:r,showRestTagsPopover:i,restTagsPopoverProps:o}=this.props,a=c.default.createElement(b.default,{closable:!1,size:r||"large",color:"grey",className:`${B}-content-wrapper-collapse-tag`,key:`_+${e}`,style:{marginRight:0,flexShrink:0}},"+",e);return i&&(a=c.default.createElement(S.default,Object.assign({showArrow:!0,content:c.default.createElement(E.default,{spacing:2,wrap:!0,style:{maxWidth:"400px"}},n.map((e,n)=>this.renderTag(e,n))),trigger:"hover",position:"top",autoAdjustOverflow:!0},o,{key:`_+${e}_Popover`}),a)),a}renderOverflow(e,n){return e.length&&e[0]?this.renderTag(e[0],n,!0):null}handleOverflow(e){let{overflowItemCount:n,selections:r}=this.state,{maxTagCount:i}=this.props,o=r.size-i>0?r.size-i+e.length-1:e.length-1;n!==o&&this.foundation.updateOverflowItemCount(r.size,o)}renderCollapsedTags(e,n){let{overflowItemCount:r}=this.state,i="number"==typeof n?e.slice(0,n):e;return c.default.createElement("div",{className:`${B}-content-wrapper-collapse`},c.default.createElement(w.default,{items:i,key:String(e.length),overflowRenderer:e=>this.renderOverflow(e,n-1),onOverflow:e=>this.handleOverflow(e),visibleItemRenderer:(e,n)=>this.renderTag(e,n)}),r>0&&this.renderNTag(r,e.slice(e.length-r)))}renderOneLineTags(e,n){let r,{renderSelectedItem:i}=this.props,{showRestTagsPopover:o,restTagsPopoverProps:a,maxTagCount:s}=this.props,{isFullTags:l}=this.state;if(void 0===i&&(i=e=>({isRenderInTag:!0,content:e.label})),o){let u=l?e:e.slice(0,s),d=u.map((e,n)=>this.getTagItem(e,n,i));r=c.default.createElement(_.default,{tagList:d,maxTagCount:n,restCount:l?void 0:e.length-s,size:"large",mode:"custom",showPopover:o,popoverProps:a,onPlusNMouseEnter:()=>{this.foundation.updateIsFullTags()}})}else{let o=e.slice(0,s),a=o.map((e,n)=>this.getTagItem(e,n,i));r=c.default.createElement(_.default,{tagList:a,maxTagCount:n,restCount:e.length-s,size:"large",mode:"custom"})}return r}renderMultipleSelection(e,n){let{renderSelectedItem:r,searchPosition:i}=this.props,{placeholder:o,maxTagCount:a,expandRestTagsOnClick:s,ellipsisTrigger:l}=this.props,{inputValue:u,isOpen:d}=this.state,f=[...e];void 0===r&&(r=e=>({isRenderInTag:!0,content:e.label}));let p=(0,h.default)({[`${B}-content-wrapper`]:!0,[`${B}-content-wrapper-one-line`]:a&&!d,[`${B}-content-wrapper-empty`]:!f.length}),g=(0,h.default)({[`${B}-selection-text`]:!0,[`${B}-selection-placeholder`]:!f.length,[`${B}-selection-text-hide`]:f&&f.length}),m=o&&!u?c.default.createElement("span",{className:g},o):null,b=f.length>a?a:void 0,_=!a,w=l?this.renderCollapsedTags(f,b):this.renderOneLineTags(f,b),E=_||s&&d?f.map((e,n)=>this.renderTag(e,n)):w,x=n&&i===y.strings.SEARCH_POSITION_TRIGGER;return c.default.createElement(c.default.Fragment,null,c.default.createElement("div",{className:p},f&&f.length?E:m,x?this.renderTriggerInput():null))}onMouseEnter(e){this.foundation.handleMouseEnter(e)}onMouseLeave(e){this.foundation.handleMouseLeave(e)}onKeyPress(e){this.foundation.handleKeyPress(e)}handlePopoverVisibleChange(e){let{virtualize:n}=this.props,{selections:r}=this.state;if(e){if(n){let e=-1;if(r.forEach(n=>{let r=(0,a.default)(n,"_scrollIndex");(0,o.default)(r)&&r>=0&&(e=-1!==e&&e<r?e:r)}),-1!==e)try{this.virtualizeListRef.current.scrollToItem(e,"center")}catch(e){}}else this.foundation.updateScrollTop()}}renderSuffix(){let{suffix:e}=this.props,n=(0,h.default)({[`${B}-suffix`]:!0,[`${B}-suffix-text`]:e&&(0,l.default)(e),[`${B}-suffix-icon`]:(0,L.isSemiIcon)(e)});return c.default.createElement("div",{className:n,"x-semi-prop":"suffix"},e)}renderPrefix(){let{prefix:e,insetLabel:n,insetLabelId:r}=this.props,i=e||n,o=(0,h.default)({[`${B}-prefix`]:!0,[`${B}-inset-label`]:n,[`${B}-prefix-text`]:i&&(0,l.default)(i),[`${B}-prefix-icon`]:(0,L.isSemiIcon)(i)});return c.default.createElement("div",{className:o,id:r,"x-semi-prop":"prefix,insetLabel"},i)}renderSelection(){let e=this.props,{disabled:n,multiple:r,filter:i,style:o,id:a,size:s,className:l,validateStatus:u,showArrow:d,suffix:f,prefix:p,insetLabel:g,placeholder:y,triggerRender:m,arrowIcon:b,clearIcon:_,borderless:w}=e,E=z(e,["disabled","multiple","filter","style","id","size","className","validateStatus","showArrow","suffix","prefix","insetLabel","placeholder","triggerRender","arrowIcon","clearIcon","borderless"]),{selections:x,isOpen:C,keyboardEventSet:S,inputValue:O,isHovering:M,isFocus:P,showInput:D,focusIndex:I}=this.state,j="function"==typeof m,N=!!i,T=j?(0,h.default)(l):(0,h.default)(B,l,{[`${B}-borderless`]:w,[`${B}-open`]:C,[`${B}-focus`]:P,[`${B}-disabled`]:n,[`${B}-single`]:!r,[`${B}-multiple`]:r,[`${B}-filterable`]:N,[`${B}-small`]:"small"===s,[`${B}-large`]:"large"===s,[`${B}-error`]:"error"===u,[`${B}-warning`]:"warning"===u,[`${B}-no-arrow`]:!d,[`${B}-with-prefix`]:p||g,[`${B}-with-suffix`]:f}),k=this.props.showClear&&(x.size||O)&&!n&&(M||C),L=d?c.default.createElement("div",{className:`${B}-arrow`,"x-semi-prop":"arrowIcon"},b):c.default.createElement("div",{className:`${B}-arrow-empty`}),F=_||c.default.createElement(R.IconClear,null),V=j?c.default.createElement(A.default,{value:Array.from(x.values()),inputValue:O,onChange:this.handleInputChange,onSearch:this.handleInputChange,onRemove:e=>this.foundation.removeTag(e),onClear:this.onClear,disabled:n,triggerRender:m,placeholder:y,componentName:"Select",componentProps:Object.assign({},this.props)}):[c.default.createElement(c.Fragment,{key:"prefix"},p||g?this.renderPrefix():null),c.default.createElement(c.Fragment,{key:"selection"},c.default.createElement("div",{className:(0,h.default)(`${B}-selection`)},r?this.renderMultipleSelection(x,N):this.renderSingleSelection(x,N))),c.default.createElement(c.Fragment,{key:"suffix"},f?this.renderSuffix():null),c.default.createElement(c.Fragment,{key:"clearicon"},k?c.default.createElement("div",{className:(0,h.default)(`${B}-clear`),onClick:this.onClear},F):L)],$=n||N&&D||N&&r?-1:0;return c.default.createElement("div",Object.assign({role:"combobox","aria-disabled":n,"aria-expanded":C,"aria-controls":`${B}-${this.selectOptionListID}`,"aria-haspopup":"listbox","aria-label":x.size?"selected":"","aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],"aria-required":this.props["aria-required"],className:T,ref:e=>this.triggerRef.current=e,onClick:e=>this.foundation.handleClick(e),style:o,id:this.selectID,tabIndex:$,"aria-activedescendant":-1!==I?`${this.selectID}-option-${I}`:"",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onFocus:e=>this.foundation.handleTriggerFocus(e),onBlur:e=>this.foundation.handleTriggerBlur(e),onKeyPress:this.onKeyPress},S,this.getDataAttr(E)),V)}render(){let{direction:e}=this.context,{children:n,position:r="rtl"===e?"bottomRight":"bottomLeft",zIndex:i,getPopupContainer:o,motion:a,autoAdjustOverflow:s,mouseLeaveDelay:l,mouseEnterDelay:u,spacing:d,stopPropagation:h,dropdownMargin:f}=this.props,{isOpen:p,optionKey:g}=this.state,y=this.renderSelection();return c.default.createElement(S.default,{getPopupContainer:o,motion:a,margin:f,autoAdjustOverflow:s,mouseLeaveDelay:l,mouseEnterDelay:u,zIndex:i,ref:this.optionsRef,content:()=>this.renderOptions(n),visible:p,trigger:"custom",rePosKey:g,position:r,spacing:d,stopPropagation:h,disableArrowKeyDown:!0,onVisibleChange:e=>this.handlePopoverVisibleChange(e),afterClose:()=>this.foundation.handlePopoverClose()},y)}}V.contextType=p.default,V.Option=N.default,V.OptGroup=T.default,V.propTypes={"aria-describedby":f.default.string,"aria-errormessage":f.default.string,"aria-invalid":f.default.bool,"aria-labelledby":f.default.string,"aria-required":f.default.bool,autoFocus:f.default.bool,autoClearSearchValue:f.default.bool,borderless:f.default.bool,children:f.default.node,clearIcon:f.default.node,defaultValue:f.default.oneOfType([f.default.string,f.default.number,f.default.array,f.default.object]),ellipsisTrigger:f.default.bool,value:f.default.oneOfType([f.default.string,f.default.number,f.default.array,f.default.object]),placeholder:f.default.node,onChange:f.default.func,multiple:f.default.bool,filter:f.default.oneOfType([f.default.func,f.default.bool]),max:f.default.number,maxTagCount:f.default.number,maxHeight:f.default.oneOfType([f.default.string,f.default.number]),style:f.default.object,className:f.default.string,size:f.default.oneOf(y.strings.SIZE_SET),disabled:f.default.bool,emptyContent:f.default.node,expandRestTagsOnClick:f.default.bool,onDropdownVisibleChange:f.default.func,zIndex:f.default.number,position:f.default.oneOf(y.strings.POSITION_SET),onSearch:f.default.func,getPopupContainer:f.default.func,dropdownClassName:f.default.string,dropdownStyle:f.default.object,dropdownMargin:f.default.oneOfType([f.default.number,f.default.object]),outerTopSlot:f.default.node,innerTopSlot:f.default.node,inputProps:f.default.object,outerBottomSlot:f.default.node,innerBottomSlot:f.default.node,optionList:f.default.array,dropdownMatchSelectWidth:f.default.bool,loading:f.default.bool,defaultOpen:f.default.bool,validateStatus:f.default.oneOf(y.strings.STATUS),defaultActiveFirstOption:f.default.bool,triggerRender:f.default.func,stopPropagation:f.default.bool,searchPosition:f.default.string,motion:f.default.bool,onChangeWithObject:f.default.bool,suffix:f.default.node,prefix:f.default.node,insetLabel:f.default.node,insetLabelId:f.default.string,showClear:f.default.bool,showArrow:f.default.bool,renderSelectedItem:f.default.func,allowCreate:f.default.bool,renderCreateItem:f.default.func,onMouseEnter:f.default.func,onMouseLeave:f.default.func,clickToHide:f.default.bool,onExceed:f.default.func,onCreate:f.default.func,remote:f.default.bool,onDeselect:f.default.func,onSelect:f.default.func,autoAdjustOverflow:f.default.bool,mouseEnterDelay:f.default.number,mouseLeaveDelay:f.default.number,spacing:f.default.oneOfType([f.default.number,f.default.object]),onBlur:f.default.func,onFocus:f.default.func,onClear:f.default.func,virtualize:f.default.object,renderOptionItem:f.default.func,onListScroll:f.default.func,arrowIcon:f.default.node,preventScroll:f.default.bool},V.__SemiComponentName__="Select",V.defaultProps=(0,L.getDefaultPropsFromGlobalConfig)(V.__SemiComponentName__,{stopPropagation:!0,motion:!0,borderless:!1,zIndex:O.numbers.DEFAULT_Z_INDEX,filter:!1,multiple:!1,disabled:!1,defaultOpen:!1,allowCreate:!1,placeholder:"",onDropdownVisibleChange:s.default,onChangeWithObject:!1,onChange:s.default,onSearch:s.default,onMouseEnter:s.default,onMouseLeave:s.default,onDeselect:s.default,onSelect:s.default,onCreate:s.default,onExceed:s.default,onFocus:s.default,onBlur:s.default,onClear:s.default,onListScroll:s.default,maxHeight:y.numbers.LIST_HEIGHT,dropdownMatchSelectWidth:!0,defaultActiveFirstOption:!0,showArrow:!0,showClear:!1,searchPosition:y.strings.SEARCH_POSITION_TRIGGER,remote:!1,autoAdjustOverflow:!0,autoClearSearchValue:!0,arrowIcon:c.default.createElement(R.IconChevronDown,{"aria-label":""}),showRestTagsPopover:!1,restTagsPopoverProps:{},expandRestTagsOnClick:!1,ellipsisTrigger:!1});var $=V},69648:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return g}});var i=r.ir(r("94228")),o=r.ir(r("56144")),a=r.ir(r("37894")),s=r.ir(r("40472")),l=r("93096"),u=r.ir(r("80675")),c=r("73543"),d=r.ir(r("42242")),h=r.ir(r("17421")),f=function(e,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>n.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)0>n.indexOf(i[o])&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(r[i[o]]=e[i[o]]);return r};class p extends o.PureComponent{onClick(e,n){var{value:r,label:i,children:o}=e,a=f(e,["value","label","children"]);let{props:s}=this,l=s.disabled;!l&&s.onSelect(Object.assign(Object.assign({},a),{value:r,label:i||o}),n)}renderOptionContent(e){let{config:n,children:r,inputValue:a,prefixCls:s}=e;return(0,i.default)(r)&&a?o.default.createElement(d.default,{searchWords:n.searchWords,sourceString:n.sourceString,highlightClassName:n.highlightClassName}):r}render(){let e=this.props,{children:n,disabled:r,value:s,selected:l,label:d,empty:p,emptyContent:g,onSelect:y,focused:m,showTick:b,className:_,style:w,onMouseEnter:E,prefixCls:x,renderOptionItem:C,inputValue:S,semiOptionId:O}=e,M=f(e,["children","disabled","value","selected","label","empty","emptyContent","onSelect","focused","showTick","className","style","onMouseEnter","prefixCls","renderOptionItem","inputValue","semiOptionId"]),P=(0,a.default)(x,{[`${x}-disabled`]:r,[`${x}-selected`]:l,[`${x}-focused`]:m,[`${x}-empty`]:p,[_]:_}),D=(0,a.default)([`${x}-icon`]);if(p)return null===g?null:o.default.createElement(u.default,{componentName:"Select"},e=>o.default.createElement("div",{className:P,"x-semi-prop":"emptyContent"},g||e.emptyText));if("function"==typeof C){let e=(0,a.default)(_,{[`${x}-custom`]:!0,[`${x}-custom-selected`]:l});return C(Object.assign({disabled:r,focused:m,selected:l,style:w,label:d,value:s,inputValue:S,onMouseEnter:e=>E(e),onClick:e=>this.onClick(Object.assign({value:s,label:d,children:n},M),e),className:e},M))}let I={searchWords:[S],sourceString:n,highlightClassName:`${x}-keyword`};return o.default.createElement("div",Object.assign({className:P,onClick:e=>{this.onClick(Object.assign({value:s,label:d,children:n},M),e)},onMouseEnter:e=>E&&E(e),role:"option",id:O,"aria-selected":l?"true":"false","aria-disabled":r?"true":"false",style:w},(0,h.default)(M)),b?o.default.createElement("div",{className:D},o.default.createElement(c.IconTick,null)):null,(0,i.default)(n)?o.default.createElement("div",{className:`${x}-text`},this.renderOptionContent({children:n,config:I,inputValue:S,prefixCls:x})):n)}}p.isSelectOption=!0,p.propTypes={children:s.default.node,disabled:s.default.bool,value:s.default.oneOfType([s.default.string,s.default.number]),selected:s.default.bool,label:s.default.node,empty:s.default.bool,emptyContent:s.default.node,onSelect:s.default.func,focused:s.default.bool,showTick:s.default.bool,className:s.default.string,style:s.default.object,onMouseEnter:s.default.func,prefixCls:s.default.string,renderOptionItem:s.default.func,inputValue:s.default.string},p.defaultProps={prefixCls:l.cssClasses.PREFIX_OPTION};var g=p},86174:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return h}});var i=r.ir(r("56144")),o=r.ir(r("40472")),a=r.ir(r("37894")),s=r("93096"),l=r.ir(r("65338")),u=function(e,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>n.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)0>n.indexOf(i[o])&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(r[i[o]]=e[i[o]]);return r};let c=s.cssClasses.PREFIX_GROUP;class d extends l.default{render(){let e=this.props,{label:n,className:r,style:o}=e,s=u(e,["label","className","style"]),l=(0,a.default)(r,{[c]:!0});return n||"number"==typeof n?i.default.createElement("div",Object.assign({className:l,style:o},this.getDataAttr(s)),n):null}}d.isSelectOptionGroup=!0,d.propTypes={children:o.default.oneOfType([o.default.array,o.default.node]),label:o.default.node,className:o.default.string,style:o.default.object};var h=d},67961:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{generateOption:function(){return s},getOptionsFromGroup:function(){return l}});var i=r.ir(r("56144")),o=r.ir(r("66177")),a=function(e,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>n.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)0>n.indexOf(i[o])&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(r[i[o]]=e[i[o]]);return r};let s=(e,n,r,i)=>{let o=e.props;if(!e||!o)return null;let a=Object.assign(Object.assign({value:o.value,label:o.label||o.children||o.value,_show:!0,_selected:!1,_scrollIndex:r},o),{_parentGroup:n});return a._keyInJsx=i||e.key,a},l=e=>{let n=[],r=[],l={label:"",children:[],_show:!1},u=i.default.Children.toArray(e);u=u.filter(e=>e&&e.props);let c="",d=-1;return u.forEach(e=>{if(e.type.isSelectOption){c="option",d++;let n=s(e,void 0,d);l.children.push(n),r.push(n)}else if(e.type.isSelectOptionGroup){c="group";let o=e.props,{children:l}=o,u=a(o,["children"]),h=[];Array.isArray(l)?h=l.map(e=>e.key):h.push(l.key),l=i.default.Children.toArray(l);let f=l.map((n,r)=>{let i=n.key;return null===h[r]&&(i=e.key+""+n.key),s(n,u,++d,i)}),p=Object.assign(Object.assign({},e.props),{children:f,key:e.key});n.push(p),r=r.concat(f)}else(0,o.default)(!0,"[Semi Select] The children of `Select` should be `Select.Option` or `Select.OptionGroup`")}),"option"===c&&(n=[l]),{optionGroups:n,options:r}}},35136:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var i=e=>{let{index:n,data:r,style:i}=e,{visibleOptions:o,renderOption:a}=r,s=o[n];return a(s,n,i)}},3454:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return h}});var i=r.ir(r("56144")),o=r.ir(r("37894")),a=r.ir(r("40472")),s=r("73559"),l=r("8380"),u=function(e,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>n.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)0>n.indexOf(i[o])&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(r[i[o]]=e[i[o]]);return r};let c=s.cssClasses.PREFIX;class d extends i.PureComponent{render(){let e;let n=this.props,{placeholder:r,active:a,children:s,className:l,loading:d,style:h}=n,f=u(n,["placeholder","active","children","className","loading","style"]),p=(0,o.default)(c,{[`${c}-active`]:!!a},l);return e=d?i.default.createElement("div",Object.assign({className:p,style:h},f,{"x-semi-prop":"placeholder"}),r):s}}d.Avatar=l.Avatar,d.Title=l.Title,d.Button=l.Button,d.Paragraph=l.Paragraph,d.Image=l.Image,d.defaultProps={loading:!0},d.propTypes={active:a.default.bool,placeholder:a.default.node,style:a.default.object,className:a.default.string,loading:a.default.bool,children:a.default.node};var h=d},8380:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{Avatar:function(){return p},Image:function(){return g},Title:function(){return y},Button:function(){return m},Paragraph:function(){return b}});var i=r.ir(r("56144")),o=r.ir(r("37894")),a=r.ir(r("40472")),s=r("73559"),l=r("1385"),u=function(e,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>n.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)0>n.indexOf(i[o])&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(r[i[o]]=e[i[o]]);return r};let c=l.strings.SIZE,d=l.strings.SHAPE,h=e=>n=>r=>i.default.createElement(n,Object.assign({type:e},r));class f extends i.PureComponent{render(){let e=this.props,{prefixCls:n,className:r,type:a,size:s,shape:l}=e,c=u(e,["prefixCls","className","type","size","shape"]),d=(0,o.default)(r,`${n}-${a}`,{[`${n}-${a}-${s}`]:"AVATAR"===a.toUpperCase()},{[`${n}-${a}-${l}`]:"AVATAR"===a.toUpperCase()});return i.default.createElement("div",Object.assign({className:d},c))}}f.propTypes={type:a.default.string,prefixCls:a.default.string,style:a.default.object,className:a.default.string,size:a.default.oneOf(c),shape:a.default.oneOf(d)},f.defaultProps={prefixCls:s.cssClasses.PREFIX,size:"medium",shape:"circle"};let p=h("avatar")(f),g=h("image")(f),y=h("title")(f),m=h("button")(f);class b extends i.PureComponent{render(){let{prefixCls:e,className:n,style:r,rows:a}=this.props,s=(0,o.default)(n,`${e}-paragraph`);return i.default.createElement("ul",{className:s,style:r},[...Array(a)].map((e,n)=>i.default.createElement("li",{key:n})))}}b.propTypes={rows:a.default.number,prefixCls:a.default.string,style:a.default.object,className:a.default.string},b.defaultProps={prefixCls:s.cssClasses.PREFIX,rows:4}},3438:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return g}});var i=r.ir(r("15135")),o=r.ir(r("17987")),a=r.ir(r("94228")),s=r.ir(r("56144")),l=r.ir(r("37894")),u=r.ir(r("40472")),c=r("15863"),d=r("72638"),h=r.ir(r("17421"));let f=c.cssClasses.PREFIX;class p extends s.PureComponent{render(){let{children:e=null,style:n,className:r,spacing:u,wrap:p,align:g,vertical:y}=this.props,m=Object.assign({},n),b="",_="";(0,a.default)(u)?(b=u,_=u):(0,i.default)(u)?(m.rowGap=u,m.columnGap=u):(0,o.default)(u)&&((0,a.default)(u[0])?b=u[0]:(0,i.default)(u[0])&&(m.columnGap=`${u[0]}px`),(0,a.default)(u[1])?_=u[1]:(0,i.default)(u[1])&&(m.rowGap=`${u[1]}px`));let w=(0,l.default)(f,r,{[`${f}-align-${g}`]:g,[`${f}-vertical`]:y,[`${f}-horizontal`]:!y,[`${f}-wrap`]:(!p||!y)&&p,[`${f}-tight-horizontal`]:b===c.strings.SPACING_TIGHT,[`${f}-tight-vertical`]:_===c.strings.SPACING_TIGHT,[`${f}-medium-horizontal`]:b===c.strings.SPACING_MEDIUM,[`${f}-medium-vertical`]:_===c.strings.SPACING_MEDIUM,[`${f}-loose-horizontal`]:b===c.strings.SPACING_LOOSE,[`${f}-loose-vertical`]:_===c.strings.SPACING_LOOSE}),E=(0,d.flatten)(e),x=(0,h.default)(this.props);return s.default.createElement("div",Object.assign({},x,{className:w,style:m,"x-semi-prop":"children"}),E)}}p.propTypes={wrap:u.default.bool,align:u.default.oneOf(c.strings.ALIGN_SET),vertical:u.default.bool,spacing:u.default.oneOfType([u.default.string,u.default.number,u.default.array]),children:u.default.node,style:u.default.object,className:u.default.string},p.defaultProps={vertical:!1,wrap:!1,spacing:"tight",align:"center"};var g=p},72638:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"flatten",{enumerable:!0,get:function(){return o}});var i=r.ir(r("56144"));let o=e=>{let n=[];return i.default.Children.forEach(e,e=>{null!=e&&(Array.isArray(e)?n=n.concat(o(e)):(0,i.isValidElement)(e)&&e.type&&"Symbol(react.fragment)"===e.type.toString()&&e.props?n=n.concat(o(e.props.children)):n.push(e))}),n}},73797:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return l}});var i=r.ir(r("56144")),o=r.ir(r("29807")),a=function(e,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>n.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)0>n.indexOf(i[o])&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(r[i[o]]=e[i[o]]);return r};let s=-1;var l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{id:n,className:r}=e,l=a(e,["id","className"]),u=n;(0,o.default)(u)&&(u=++s);let c=`linearGradient-${u}`;return i.default.createElement("svg",Object.assign({},l,{className:r,width:"48",height:"48",viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,"data-icon":"spin"}),i.default.createElement("defs",null,i.default.createElement("linearGradient",{x1:"0%",y1:"100%",x2:"100%",y2:"100%",id:c},i.default.createElement("stop",{stopColor:"currentColor",stopOpacity:"0",offset:"0%"}),i.default.createElement("stop",{stopColor:"currentColor",stopOpacity:"0.50",offset:"39.9430698%"}),i.default.createElement("stop",{stopColor:"currentColor",offset:"100%"}))),i.default.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},i.default.createElement("rect",{fillOpacity:"0.01",fill:"none",x:"0",y:"0",width:"36",height:"36"}),i.default.createElement("path",{d:"M34,18 C34,9.163444 26.836556,2 18,2 C11.6597233,2 6.18078805,5.68784135 3.59122325,11.0354951",stroke:`url(#${c})`,strokeWidth:"4",strokeLinecap:"round"})))}},1105:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return p}});var i=r.ir(r("56144")),o=r.ir(r("40472")),a=r.ir(r("37894")),s=r.ir(r("65338")),l=r("50771"),u=r.ir(r("33225")),c=r.ir(r("73797")),d=function(e,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>n.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)0>n.indexOf(i[o])&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(r[i[o]]=e[i[o]]);return r};let h=l.cssClasses.PREFIX;class f extends s.default{constructor(e){super(e),this.foundation=new u.default(this.adapter),this.state={delay:e.delay,loading:!0}}static getDerivedStateFromProps(e){return e.delay?!1===e.spinning?{delay:0,loading:!1}:{delay:e.delay}:{loading:e.spinning}}get adapter(){return Object.assign(Object.assign({},super.adapter),{setLoading:e=>{this.setState({loading:e})}})}componentWillUnmount(){this.foundation.destroy()}renderSpin(){let{indicator:e,tip:n}=this.props,{loading:r}=this.state;return r?i.default.createElement("div",{className:`${h}-wrapper`},e?i.default.createElement("div",{className:`${h}-animate`,"x-semi-prop":"indicator"},e):i.default.createElement(c.default,null),n?i.default.createElement("div",{"x-semi-prop":"tip"},n):null):null}render(){this.foundation.updateLoadingIfNeedDelay();let e=this.props,{children:n,style:r,wrapperClassName:o,childStyle:s,size:l}=e,u=d(e,["children","style","wrapperClassName","childStyle","size"]),{loading:c}=this.state,f=(0,a.default)(h,o,{[`${h}-${l}`]:l,[`${h}-block`]:n,[`${h}-hidden`]:!c});return i.default.createElement("div",Object.assign({className:f,style:r},this.getDataAttr(u)),this.renderSpin(),i.default.createElement("div",{className:`${h}-children`,style:s,"x-semi-prop":"children"},n))}}f.propTypes={size:o.default.oneOf(l.strings.SIZE),spinning:o.default.bool,children:o.default.node,indicator:o.default.node,delay:o.default.number,tip:o.default.node,wrapperClassName:o.default.string,childStyle:o.default.object,style:o.default.object},f.defaultProps={size:"middle",spinning:!0,children:null,indicator:null,delay:0};var p=f},7684:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return f}});var i=r.ir(r("56144")),o=r.ir(r("37894")),a=r.ir(r("40472")),s=r("50855"),l=r.ir(r("56441")),u=r.ir(r("7704"));let c=s.cssClasses.PREFIX,d=s.strings.TAG_SIZE,h=s.strings.AVATAR_SHAPE;class f extends i.PureComponent{renderNTag(e,n){let{size:r,showPopover:o,popoverProps:a,onPlusNMouseEnter:s}=this.props,d=i.default.createElement(l.default,{closable:!1,size:r,color:"grey",style:{backgroundColor:"transparent"},key:"_+n",onMouseEnter:s},"+",e);return o&&(d=i.default.createElement(u.default,Object.assign({showArrow:!0,content:n,trigger:"hover",position:"top",autoAdjustOverflow:!0,className:`${c}-rest-group-popover`},a,{key:"_+n_Popover"}),d)),d}renderMergeTags(e){let{maxTagCount:n,tagList:r,restCount:i}=this.props,o=i||r.length-n,a=e,s=e.slice(0,n),l=e.slice(n),u=null;return o>0&&(u=this.renderNTag(o,l),s.push(u),a=s),a}renderAllTags(){let{tagList:e,size:n,mode:r,avatarShape:o,onTagClose:a}=this.props,s=e.map(e=>{if("custom"===r)return e;let s=Object.assign({},e);return!s.size&&(s.size=n),!s.avatarShape&&(s.avatarShape=o),!s.tagKey&&("string"==typeof s.children||"number"==typeof s.children?s.tagKey=s.children:s.tagKey=Math.random()),i.default.createElement(l.default,Object.assign({},s,{key:s.tagKey,onClose:(e,n,r)=>{s.onClose&&s.onClose(e,n,r),a&&a(e,n,r)}}))});return s}render(){let{style:e,className:n,maxTagCount:r,size:a}=this.props,s=(0,o.default)({[`${c}-group`]:!0,[`${c}-group-max`]:r,[`${c}-group-small`]:"small"===a,[`${c}-group-large`]:"large"===a},n),l=this.renderAllTags(),u=void 0===r?l:this.renderMergeTags(l);return i.default.createElement("div",{style:e,className:s},u)}}f.defaultProps={style:{},className:"",size:d[0],avatarShape:"square",onTagClose:()=>void 0,onPlusNMouseEnter:()=>void 0},f.propTypes={children:a.default.node,style:a.default.object,className:a.default.string,maxTagCount:a.default.number,restCount:a.default.number,tagList:a.default.array,size:a.default.oneOf(d),mode:a.default.string,onTagClose:a.default.func,showPopover:a.default.bool,popoverProps:a.default.object,avatarShape:a.default.oneOf(h)}},56441:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return b}});var i=r.ir(r("94228")),o=r.ir(r("56144")),a=r.ir(r("37894")),s=r.ir(r("40472")),l=r("50855"),u=r.ir(r("58374")),c=r("73543"),d=r("79297"),h=function(e,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>n.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)0>n.indexOf(i[o])&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(r[i[o]]=e[i[o]]);return r};let f=l.cssClasses.PREFIX,p=l.strings.TAG_COLOR,g=l.strings.TAG_SIZE,y=l.strings.TAG_TYPE,m=l.strings.AVATAR_SHAPE;class b extends o.Component{constructor(e){super(e),this.state={visible:!0},this.close=this.close.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}static getDerivedStateFromProps(e){return"visible"in e?{visible:e.visible}:null}setVisible(e){!("visible"in this.props)&&this.setState({visible:e})}close(e,n,r){let{onClose:i}=this.props;e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),i&&i(n,e,r),!e.defaultPrevented&&this.setVisible(!1)}handleKeyDown(e){let{closable:n,onClick:r,onKeyDown:i}=this.props;switch(e.key){case"Backspace":case"Delete":n&&this.close(e,this.props.children,this.props.tagKey),(0,d.handlePrevent)(e);break;case"Enter":r(e),(0,d.handlePrevent)(e);break;case"Escape":e.target.blur()}i&&i(e)}renderAvatar(){let{avatarShape:e,avatarSrc:n}=this.props,r=o.default.createElement(u.default,{src:n,shape:e});return r}render(){let e=this.props,{tagKey:n,children:r,size:s,color:l,closable:u,visible:d,onClose:p,onClick:g,className:y,type:m,shape:_,avatarSrc:w,avatarShape:E,tabIndex:x,prefixIcon:C,suffixIcon:S}=e,O=h(e,["tagKey","children","size","color","closable","visible","onClose","onClick","className","type","shape","avatarSrc","avatarShape","tabIndex","prefixIcon","suffixIcon"]),{visible:M}=this.state,P=g!==b.defaultProps.onClick||u,D={role:"button",tabIndex:x||0,onKeyDown:this.handleKeyDown},I=Object.assign(Object.assign({},O),{onClick:g,tabIndex:x,className:(0,a.default)(f,{[`${f}-default`]:"default"===s,[`${f}-small`]:"small"===s,[`${f}-large`]:"large"===s,[`${f}-square`]:"square"===_,[`${f}-circle`]:"circle"===_,[`${f}-${m}`]:m,[`${f}-${l}-${m}`]:l&&m,[`${f}-closable`]:u,[`${f}-invisible`]:!M,[`${f}-avatar-${E}`]:w},y)}),j=P?Object.assign(Object.assign({},I),D):I,N=u?o.default.createElement("div",{className:`${f}-close`,onClick:e=>this.close(e,r,n)},o.default.createElement(c.IconClose,{size:"small"})):null,T=(0,i.default)(r),k=(0,a.default)(`${f}-content`,`${f}-content-${T?"ellipsis":"center"}`);return o.default.createElement("div",Object.assign({"aria-label":this.props["aria-label"]||T?`${u?"Closable ":""}Tag: ${r}`:""},j),C?o.default.createElement("div",{className:`${f}-prefix-icon`},C):null,w?this.renderAvatar():null,o.default.createElement("div",{className:k},r),S?o.default.createElement("div",{className:`${f}-suffix-icon`},S):null,N)}}b.defaultProps={size:g[0],color:p[0],closable:!1,type:y[0],onClose:()=>void 0,onClick:()=>void 0,onMouseEnter:()=>void 0,style:{},className:"",shape:"square",avatarShape:"square",prefixIcon:null,suffixIcon:null},b.propTypes={children:s.default.node,tagKey:s.default.oneOfType([s.default.string,s.default.number]),size:s.default.oneOf(g),color:s.default.oneOf(p),type:s.default.oneOf(y),closable:s.default.bool,visible:s.default.bool,onClose:s.default.func,onClick:s.default.func,prefixIcon:s.default.node,suffixIcon:s.default.node,style:s.default.object,className:s.default.string,avatarSrc:s.default.string,avatarShape:s.default.oneOf(m),"aria-label":s.default.string}},80774:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return P}});var i=r.ir(r("8250")),o=r.ir(r("83910")),a=r.ir(r("29449")),s=r.ir(r("17987")),l=r.ir(r("94228")),u=r.ir(r("82203")),c=r.ir(r("56144")),d=r.ir(r("37894")),h=r.ir(r("40472")),f=r("17717"),p=r.ir(r("48031")),g=r("84204"),y=r.ir(r("65338")),m=r.ir(r("56441")),b=r.ir(r("38911")),_=r.ir(r("7704")),w=r.ir(r("38022")),E=r("73543"),x=r("6881"),C=function(e,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>n.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)0>n.indexOf(i[o])&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(r[i[o]]=e[i[o]]);return r};let S=f.cssClasses.PREFIX;function O(e){return c.default.createElement("div",Object.assign({className:`${S}-sortable-list`},e))}class M extends y.default{constructor(e){super(e),this.handleInputChange=e=>{this.foundation.handleInputChange(e)},this.handleKeyDown=e=>{this.foundation.handleKeyDown(e)},this.handleInputFocus=e=>{this.foundation.handleInputFocus(e)},this.handleInputBlur=e=>{this.foundation.handleInputBlur(e)},this.handleClearBtn=e=>{this.foundation.handleClearBtn(e)},this.handleClearEnterPress=e=>{this.foundation.handleClearEnterPress(e)},this.handleTagClose=e=>{this.foundation.handleTagClose(e)},this.handleInputMouseLeave=e=>{this.foundation.handleInputMouseLeave()},this.handleClick=e=>{this.foundation.handleClick(e)},this.handleInputMouseEnter=e=>{this.foundation.handleInputMouseEnter()},this.handleClickPrefixOrSuffix=e=>{this.foundation.handleClickPrefixOrSuffix(e)},this.handlePreventMouseDown=e=>{this.foundation.handlePreventMouseDown(e)},this.getAllTags=()=>{let{tagsArray:e}=this.state;return e.map((e,n)=>this.renderTag(e,n))},this.renderTag=(e,n,r)=>{let{size:o,disabled:a,renderTagItem:s,showContentTooltip:l,draggable:u}=this.props,{active:h}=this.state,f=h&&u,p=(0,d.default)(`${S}-wrapper-tag`,{[`${S}-wrapper-tag-size-${o}`]:o,[`${S}-wrapper-tag-icon`]:f}),g=(0,d.default)(`${S}-wrapper-typo`,{[`${S}-wrapper-typo-disabled`]:a}),y=(0,d.default)({[`${S}-drag-item`]:f,[`${S}-wrapper-tag-icon`]:f}),b=r&&r(()=>c.default.createElement(E.IconHandle,{className:`${S}-drag-handler`})),_=f?e:`${n}${e}`,x=()=>{a||this.handleTagClose(n)};return(0,i.default)(s)?c.default.createElement("div",{className:y,key:_},f&&r?c.default.createElement(b,null):null,s(e,n,x)):c.default.createElement(m.default,{className:p,color:"white",size:"small"===o?"small":"large",type:"light",onClose:x,closable:!a,key:_,visible:!0,"aria-label":`${a?"":"Closable "}Tag: ${e}`},f&&r?c.default.createElement(b,null):null,c.default.createElement(w.default,{className:g,ellipsis:{showTooltip:l,rows:1}},e))},this.renderSortTag=e=>{let{id:n,sortableHandle:r}=e,{tagsArray:i}=this.state,o=i.indexOf(n);return this.renderTag(n,o,r)},this.onSortEnd=e=>{this.foundation.handleSortEnd(e)},this.handleInputCompositionStart=e=>{this.foundation.handleInputCompositionStart(e)},this.handleInputCompositionEnd=e=>{this.foundation.handleInputCompositionEnd(e)},this.foundation=new p.default(this.adapter),this.state={tagsArray:e.defaultValue||[],inputValue:"",focusing:!1,hovering:!1,active:!1,entering:!1},this.inputRef=c.default.createRef(),this.tagInputRef=c.default.createRef(),this.clickOutsideHandler=null}static getDerivedStateFromProps(e,n){let r;let{value:i,inputValue:o}=e,{tagsArray:a}=n;return{tagsArray:r=(0,s.default)(i)?i:"value"in e&&!i?[]:a,inputValue:(0,l.default)(o)?o:n.inputValue}}get adapter(){return Object.assign(Object.assign({},super.adapter),{setInputValue:e=>{this.setState({inputValue:e})},setTagsArray:e=>{this.setState({tagsArray:e})},setFocusing:e=>{this.setState({focusing:e})},toggleFocusing:e=>{let{preventScroll:n}=this.props,r=this.inputRef&&this.inputRef.current;e?r&&r.focus({preventScroll:n}):r&&r.blur(),this.setState({focusing:e})},setHovering:e=>{this.setState({hovering:e})},setActive:e=>{this.setState({active:e})},setEntering:e=>{this.setState({entering:e})},getClickOutsideHandler:()=>this.clickOutsideHandler,notifyBlur:e=>{this.props.onBlur(e)},notifyFocus:e=>{this.props.onFocus(e)},notifyInputChange:(e,n)=>{this.props.onInputChange(e,n)},notifyTagChange:e=>{this.props.onChange(e)},notifyTagAdd:e=>{this.props.onAdd(e)},notifyTagRemove:(e,n)=>{this.props.onRemove(e,n)},notifyKeyDown:e=>{this.props.onKeyDown(e)},registerClickOutsideHandler:e=>{let n=n=>{let r=this.tagInputRef&&this.tagInputRef.current,i=n.target,o=n.composedPath&&n.composedPath()||[i];r&&!r.contains(i)&&!o.includes(r)&&e(n)};this.clickOutsideHandler=n,document.addEventListener("click",n,!1)},unregisterClickOutsideHandler:()=>{document.removeEventListener("click",this.clickOutsideHandler,!1),this.clickOutsideHandler=null}})}componentDidMount(){let{disabled:e,autoFocus:n,preventScroll:r}=this.props;!e&&n&&(this.inputRef.current.focus({preventScroll:r}),this.foundation.handleClick()),this.foundation.init()}renderClearBtn(){let{hovering:e,tagsArray:n,inputValue:r}=this.state,{showClear:i,disabled:o,clearIcon:a}=this.props,s=(0,d.default)(`${S}-clearBtn`,{[`${S}-clearBtn-invisible`]:!e||""===r&&0===n.length||o});return i?c.default.createElement("div",{role:"button",tabIndex:0,"aria-label":"Clear TagInput value",className:s,onClick:e=>this.handleClearBtn(e),onKeyPress:e=>this.handleClearEnterPress(e)},a||c.default.createElement(E.IconClear,null)):null}renderPrefix(){let{prefix:e,insetLabel:n,insetLabelId:r}=this.props,i=e||n;if((0,a.default)(i)||(0,o.default)(i))return null;let s=(0,d.default)(`${S}-prefix`,{[`${S}-inset-label`]:n,[`${S}-prefix-text`]:i&&(0,l.default)(i),[`${S}-prefix-icon`]:(0,g.isSemiIcon)(i)});return c.default.createElement("div",{className:s,onMouseDown:this.handlePreventMouseDown,onClick:this.handleClickPrefixOrSuffix,id:r,"x-semi-prop":"prefix"},i)}renderSuffix(){let{suffix:e}=this.props;if((0,a.default)(e)||(0,o.default)(e))return null;let n=(0,d.default)(`${S}-suffix`,{[`${S}-suffix-text`]:e&&(0,l.default)(e),[`${S}-suffix-icon`]:(0,g.isSemiIcon)(e)});return c.default.createElement("div",{className:n,onMouseDown:this.handlePreventMouseDown,onClick:this.handleClickPrefixOrSuffix,"x-semi-prop":"suffix"},e)}renderTags(){let{disabled:e,maxTagCount:n,showRestTagsPopover:r,restTagsPopoverProps:i={},draggable:o,expandRestTagsOnClick:a}=this.props,{tagsArray:s,active:l}=this.state,u=(0,d.default)(`${S}-wrapper-n`,{[`${S}-wrapper-n-disabled`]:e}),h=this.getAllTags(),f=[],p=[...h];(!l||!a)&&n&&n<h.length&&(p=h.slice(0,n),f=h.slice(n));let g=c.default.createElement("span",{className:u},"+",s.length-n),y=h.map((e,n)=>({item:e,key:s[n]}));return l&&o&&y.length>0?c.default.createElement(x.Sortable,{items:s,onSortEnd:this.onSortEnd,renderItem:this.renderSortTag,container:O,prefix:S,transition:null,dragOverlayCls:`${S}-right-item-drag-item-move`}):c.default.createElement(c.default.Fragment,null,p,f.length>0&&(r?c.default.createElement(_.default,Object.assign({content:f,showArrow:!0,trigger:"hover",position:"top",autoAdjustOverflow:!0},i),g):g))}blur(){this.inputRef.current.blur(),this.foundation.clickOutsideCallBack()}focus(){let{preventScroll:e,disabled:n}=this.props;this.inputRef.current.focus({preventScroll:e}),!n&&this.foundation.handleClick()}render(){let e=this.props,{size:n,style:r,className:i,disabled:o,placeholder:a,validateStatus:s,prefix:l,insetLabel:u,suffix:h}=e,f=C(e,["size","style","className","disabled","placeholder","validateStatus","prefix","insetLabel","suffix"]),{focusing:p,hovering:g,tagsArray:y,inputValue:m,active:_}=this.state,w=(0,d.default)(S,i,{[`${S}-focus`]:p||_,[`${S}-disabled`]:o,[`${S}-hover`]:g&&!o,[`${S}-error`]:"error"===s,[`${S}-warning`]:"warning"===s,[`${S}-small`]:"small"===n,[`${S}-large`]:"large"===n,[`${S}-with-prefix`]:!!l||!!u,[`${S}-with-suffix`]:!!h}),E=(0,d.default)(`${S}-wrapper-input`,`${S}-wrapper-input-${n}`),x=(0,d.default)(`${S}-wrapper`);return c.default.createElement("div",Object.assign({ref:this.tagInputRef,style:r,className:w,"aria-disabled":o,"aria-label":this.props["aria-label"],"aria-invalid":"error"===s,onMouseEnter:e=>{this.handleInputMouseEnter(e)},onMouseLeave:e=>{this.handleInputMouseLeave(e)},onClick:e=>{this.handleClick(e)}},this.getDataAttr(f)),this.renderPrefix(),c.default.createElement("div",{className:x},this.renderTags(),c.default.createElement(b.default,{"aria-label":"input value",ref:this.inputRef,className:E,disabled:o,value:m,size:n,placeholder:0===y.length?a:"",onKeyDown:e=>{this.handleKeyDown(e)},onChange:(e,n)=>{this.handleInputChange(n)},onBlur:e=>{this.handleInputBlur(e)},onFocus:e=>{this.handleInputFocus(e)},onCompositionStart:this.handleInputCompositionStart,onCompositionEnd:this.handleInputCompositionEnd})),this.renderClearBtn(),this.renderSuffix())}}M.propTypes={children:h.default.node,clearIcon:h.default.node,style:h.default.object,className:h.default.string,disabled:h.default.bool,allowDuplicates:h.default.bool,max:h.default.number,maxTagCount:h.default.number,maxLength:h.default.number,showRestTagsPopover:h.default.bool,restTagsPopoverProps:h.default.object,showContentTooltip:h.default.oneOfType([h.default.shape({type:h.default.string,opts:h.default.object}),h.default.bool]),defaultValue:h.default.array,value:h.default.array,inputValue:h.default.string,placeholder:h.default.string,separator:h.default.oneOfType([h.default.string,h.default.array]),showClear:h.default.bool,addOnBlur:h.default.bool,draggable:h.default.bool,expandRestTagsOnClick:h.default.bool,autoFocus:h.default.bool,renderTagItem:h.default.func,onBlur:h.default.func,onFocus:h.default.func,onChange:h.default.func,onInputChange:h.default.func,onExceed:h.default.func,onInputExceed:h.default.func,onAdd:h.default.func,onRemove:h.default.func,onKeyDown:h.default.func,size:h.default.oneOf(f.strings.SIZE_SET),validateStatus:h.default.oneOf(f.strings.STATUS),prefix:h.default.oneOfType([h.default.string,h.default.node]),suffix:h.default.oneOfType([h.default.string,h.default.node]),"aria-label":h.default.string,preventScroll:h.default.bool},M.defaultProps={showClear:!1,addOnBlur:!1,allowDuplicates:!0,showRestTagsPopover:!0,autoFocus:!1,draggable:!1,expandRestTagsOnClick:!0,showContentTooltip:!0,separator:",",size:"default",validateStatus:"default",onBlur:u.default,onFocus:u.default,onChange:u.default,onInputChange:u.default,onExceed:u.default,onInputExceed:u.default,onAdd:u.default,onRemove:u.default,onKeyDown:u.default};var P=M},94646:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return y}});var i=r.ir(r("56144")),o=r.ir(r("48362")),a=r.ir(r("40472")),s=r.ir(r("87325")),l=r("95185"),u=r.ir(r("65338")),c=r.ir(r("3947")),d=r.ir(r("78590")),h=r.ir(r("83152")),f=r.ir(r("28280")),p=r.ir(r("37894"));let g=()=>{var e;return(e=class e extends u.default{constructor(e){super(e),this.stack=!1,this.innerWrapperRef=i.default.createRef(),this.handleMouseEnter=e=>{this.stack&&this.foundation.handleMouseInSideChange(!0)},this.handleMouseLeave=e=>{var n;if(this.stack){let e=null===(n=this.foundation.getInputWrapperRect())||void 0===n?void 0:n.height;e&&this.foundation.handleMouseInSideChange(!1)}},this.state={list:[],removedItems:[],updatedItems:[],mouseInSide:!1},this.foundation=new s.default(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{updateToast:(e,n,r)=>{this.setState({list:e,removedItems:n,updatedItems:r})},handleMouseInSideChange:e=>{this.setState({mouseInSide:e})},getInputWrapperRect:()=>{var e;return null===(e=this.innerWrapperRef.current)||void 0===e?void 0:e.getBoundingClientRect()}})}static create(n){var r;let a=null!==(r=n.id)&&void 0!==r?r:(0,d.default)("toast");if(e.ref){let r=document.querySelector(`#${this.wrapperId}`);["top","left","bottom","right"].map(e=>{e in n&&(r.style[e]="number"==typeof n[e]?`${n[e]}px`:n[e])}),!!n.stack!==e.ref.stack&&(e.ref.stack=!!n.stack),e.ref.has(a)?e.ref.update(a,Object.assign(Object.assign({},n),{id:a})):e.ref.add(Object.assign(Object.assign({},n),{id:a}))}else{let r=document.createElement("div");if(!this.wrapperId&&(this.wrapperId=(0,d.default)("toast-wrapper").slice(0,26)),r.className=l.cssClasses.WRAPPER,r.id=this.wrapperId,r.style.zIndex=String("number"==typeof n.zIndex?n.zIndex:e.defaultOpts.zIndex),["top","left","bottom","right"].map(i=>{if(i in e.defaultOpts||i in n){let o=n[i]?n[i]:e.defaultOpts[i];r.style[i]="number"==typeof o?`${o}px`:o}}),e.defaultOpts.getPopupContainer){let n=e.defaultOpts.getPopupContainer();n.appendChild(r)}else document.body.appendChild(r);o.default.render(i.default.createElement(e,{ref:n=>e.ref=n}),r,()=>{e.ref.add(Object.assign(Object.assign({},n),{id:a})),e.ref.stack=!!n.stack})}return a}static close(n){e.ref&&e.ref.remove(n)}static destroyAll(){if(e.ref){e.ref.destroyAll();let n=document.querySelector(`#${this.wrapperId}`);o.default.unmountComponentAtNode(n),n&&n.parentNode.removeChild(n),e.ref=null,this.wrapperId=null}}static getWrapperId(){return this.wrapperId}static info(n){return"string"==typeof n&&(n={content:n}),this.create(Object.assign(Object.assign(Object.assign({},e.defaultOpts),n),{type:"info"}))}static warning(n){return"string"==typeof n&&(n={content:n}),this.create(Object.assign(Object.assign(Object.assign({},e.defaultOpts),n),{type:"warning"}))}static error(n){return"string"==typeof n&&(n={content:n}),this.create(Object.assign(Object.assign(Object.assign({},e.defaultOpts),n),{type:"error"}))}static success(n){return"string"==typeof n&&(n={content:n}),this.create(Object.assign(Object.assign(Object.assign({},e.defaultOpts),n),{type:"success"}))}static config(n){["top","left","bottom","right"].forEach(r=>{r in n&&(e.defaultOpts[r]=n[r])}),"string"==typeof n.theme&&l.strings.themes.includes(n.theme)&&(e.defaultOpts.theme=n.theme),"number"==typeof n.zIndex&&(e.defaultOpts.zIndex=n.zIndex),"number"==typeof n.duration&&(e.defaultOpts.duration=n.duration),"function"==typeof n.getPopupContainer&&(e.defaultOpts.getPopupContainer=n.getPopupContainer)}has(e){return this.foundation.hasToast(e)}add(e){return this.foundation.addToast(e)}update(e,n){return this.foundation.updateToast(e,n)}remove(e){return this.foundation.removeToast(e)}destroyAll(){return this.foundation.destroyAll()}render(){let{list:e}=this.state,{removedItems:n,updatedItems:r}=this.state;e=Array.from(new Set([...e,...n]));let o=r.map(e=>{let{id:n}=e;return n}),a=e=>{var n;(null===(n=null==e?void 0:e.foundation)||void 0===n?void 0:n._id)&&o.includes(e.foundation._id)&&e.foundation.restartCloseTimer()};return i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:(0,p.default)({[`${l.cssClasses.PREFIX}-innerWrapper`]:!0,[`${l.cssClasses.PREFIX}-innerWrapper-hover`]:this.state.mouseInSide}),ref:this.innerWrapperRef,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},e.map((r,o)=>{let s=void 0!==n.find(e=>e.id===r.id);return i.default.createElement(f.default,{key:r.id,motion:r.motion,animationState:s?"leave":"enter",startClassName:s?`${l.cssClasses.PREFIX}-animation-hide`:`${l.cssClasses.PREFIX}-animation-show`},n=>{let{animationClassName:l,animationEventsNeedBind:u,isAnimating:d}=n;return s&&!d?null:i.default.createElement(c.default,Object.assign({},r,{stack:this.stack,stackExpanded:this.state.mouseInSide,positionInList:{length:e.length,index:o},className:(0,p.default)({[r.className]:!!r.className,[l]:!0})},u,{style:Object.assign({},r.style),close:e=>this.remove(e),ref:a}))})})))}}).defaultOpts={motion:!0,zIndex:1010,content:""},e.propTypes={content:a.default.node,duration:a.default.number,onClose:a.default.func,icon:a.default.node,direction:a.default.oneOf(l.strings.directions),stack:a.default.bool},e.defaultProps={},e};var y=(class e{static create(e){let n=g();return n.useToast=h.default,e&&n.config(e),n}}).create()},3947:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return m}});var i=r.ir(r("82203")),o=r.ir(r("56144")),a=r.ir(r("37894")),s=r.ir(r("40472")),l=r.ir(r("12837")),u=r.ir(r("49486")),c=r("95185"),d=r.ir(r("65338")),h=r.ir(r("7659")),f=r("73543"),p=r("84204");let g=c.cssClasses.PREFIX;class y extends d.default{constructor(e){super(e),this.toastEle=o.default.createRef(),this.clearCloseTimer=()=>{this.foundation.clearCloseTimer_()},this.startCloseTimer=()=>{this.foundation.startCloseTimer_()},this.restartCloseTimer=()=>{this.foundation.restartCloseTimer()},this.state={},this.foundation=new u.default(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{notifyWrapperToRemove:e=>{this.props.close(e)},notifyClose:()=>{this.props.onClose()}})}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}close(e){this.foundation.close(e)}renderIcon(){let{type:e,icon:n}=this.props,r={warning:o.default.createElement(f.IconAlertTriangle,null),success:o.default.createElement(f.IconTickCircle,null),info:o.default.createElement(f.IconInfoCircle,null),error:o.default.createElement(f.IconAlertCircle,null)},i=r[e],s="large",l=(0,a.default)(`${g}-icon`,`${g}-icon-${e}`);return n?(0,p.isSemiIcon)(n)?o.default.cloneElement(n,{size:s,className:`${g}-icon`}):n:e&&i?o.default.cloneElement(i,{size:s,className:l}):null}render(){let{content:e,type:n,theme:r,showClose:i,textMaxWidth:s,className:l,style:u}=this.props,c=this.props.direction||this.context.direction,d=(0,a.default)(g,l,{[`${g}-${n}`]:!0,[`${g}-${r}`]:"light"===r,[`${g}-rtl`]:"rtl"===c}),p={};p.maxWidth=s;let y=this.props.positionInList?this.props.positionInList.length-this.props.positionInList.index-1:0,m=o.default.createElement("div",{ref:this.toastEle,role:"alert","aria-label":`${n||"default"} type`,className:d,style:Object.assign(Object.assign({},u),{transform:`translate3d(0,0,${-10*y}px)`}),onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onAnimationStart:this.props.onAnimationStart,onAnimationEnd:this.props.onAnimationEnd},o.default.createElement("div",{className:`${g}-content`},this.renderIcon(),o.default.createElement("span",{className:`${g}-content-text`,style:p,"x-semi-prop":"content"},e),i&&o.default.createElement("div",{className:`${g}-close-button`},o.default.createElement(h.default,{onClick:e=>this.close(e),type:"tertiary",icon:o.default.createElement(f.IconClose,{"x-semi-prop":"icon"}),theme:"borderless",size:"small"}))));if(!this.props.stack)return m;{let e=this.props.stackExpanded&&this.toastEle.current&&getComputedStyle(this.toastEle.current).height||0;return o.default.createElement("div",{className:`${g}-zero-height-wrapper`,style:{height:e}},m)}}}y.contextType=l.default,y.propTypes={onClose:s.default.func,content:s.default.node,close:s.default.func,duration:s.default.number,theme:s.default.oneOf(c.strings.themes),type:s.default.oneOf(c.strings.types),textMaxWidth:s.default.oneOfType([s.default.string,s.default.number]),style:s.default.object,className:s.default.string,showClose:s.default.bool,stack:s.default.bool,stackExpanded:s.default.bool,icon:s.default.node,direction:s.default.oneOf(c.strings.directions)},y.__SemiComponentName__="Toast",y.defaultProps=(0,p.getDefaultPropsFromGlobalConfig)(y.__SemiComponentName__,{onClose:i.default,content:"",close:i.default,duration:c.numbers.duration,textMaxWidth:450,showClose:!0,stack:!1,stackExpanded:!1,theme:"normal"});var m=y},96156:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var i=r.ir(r("56144")),o=r.ir(r("3947")),a=function(e,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>n.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)0>n.indexOf(i[o])&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(r[i[o]]=e[i[o]]);return r},s=i.default.forwardRef((e,n)=>{var{afterClose:r}=e,s=a(e,["afterClose"]);let[l,u]=(0,i.useState)(!0);return i.default.useImperativeHandle(n,()=>({close:()=>{u(!1)}})),(0,i.useEffect)(()=>{!l&&r(s.id)},[l]),l?i.default.createElement(o.default,Object.assign({},s,{close:()=>{u(!1)}})):null})},83152:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return u}});var i=r.ir(r("82203")),o=r.ir(r("56144")),a=r.ir(r("78590")),s=r.ir(r("96156"));let l={motion:!0,zIndex:1010,duration:3};function u(){let[e,n]=function(){let[e,n]=o.default.useState([]);return[e,function(e,r){return n(n=>[{element:e,config:r},...n]),e=>{n(n=>n.filter(n=>{let{config:r}=n;return r.id!==e}))}}]}(),r=(0,o.useRef)(new Map),u=e=>{let l;let u=(0,a.default)("semi_toast_"),c=Object.assign(Object.assign({},e),{id:u}),d=o.default.createElement(s.default,Object.assign({},c,{key:u,afterClose:e=>l(e),ref:e=>{var n;r.current.set(u,{close:null!==(n=null==e?void 0:e.close)&&void 0!==n?n:i.default})}}));return l=n(d,Object.assign({},c)),u},c=e=>{var n;let{close:i}=null!==(n=r.current.get(e))&&void 0!==n?n:{};null==i||i()};return[{success:e=>u(Object.assign(Object.assign(Object.assign({},l),e),{type:"success"})),info:e=>u(Object.assign(Object.assign(Object.assign({},l),e),{type:"info"})),error:e=>u(Object.assign(Object.assign(Object.assign({},l),e),{type:"error"})),warning:e=>u(Object.assign(Object.assign(Object.assign({},l),e),{type:"warning"})),open:e=>u(Object.assign(Object.assign(Object.assign({},l),e),{type:"default"})),close:e=>c(e)},o.default.createElement(o.default.Fragment,null,Array.isArray(e)&&e.length?o.default.createElement(o.default.Fragment,null,e.map(e=>e.element)):null)]}},7208:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var i=r.ir(r("40472")),o=i.default.shape({offsetX:i.default.number,offsetY:i.default.number,width:i.default.number,height:i.default.number})},10299:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var i=r.ir(r("56144")),o=function(e,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>n.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)0>n.indexOf(i[o])&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(r[i[o]]=e[i[o]]);return r},a=e=>{let{className:n,style:r}=e,a=o(e,["className","style"]);return i.default.createElement("svg",Object.assign({"aria-hidden":!0,className:n,style:r},a,{width:"24",height:"7",viewBox:"0 0 24 7",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"}),i.default.createElement("path",{d:"M24 0V1C20 1 18.5 2 16.5 4C14.5 6 14 7 12 7C10 7 9.5 6 7.5 4C5.5 2 4 1 0 1V0H24Z"}))}},17301:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var i=r.ir(r("56144")),o=function(e,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>n.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)0>n.indexOf(i[o])&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(r[i[o]]=e[i[o]]);return r},a=e=>{let{className:n,style:r}=e,a=o(e,["className","style"]);return i.default.createElement("svg",Object.assign({"aria-hidden":!0,className:n,style:r},a,{width:"7",height:"24",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor"}),i.default.createElement("path",{d:"M0 0L1 0C1 4, 2 5.5, 4 7.5S7,10 7,12S6 14.5, 4 16.5S1,20 1,24L0 24L0 0z"}))}},9838:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return z}});var i=r.ir(r("3409")),o=r.ir(r("8250")),a=r.ir(r("38691")),s=r.ir(r("66669")),l=r.ir(r("51854")),u=r.ir(r("15478")),c=r.ir(r("82203")),d=r.ir(r("17247")),h=r.ir(r("56144")),f=r.ir(r("48362")),p=r.ir(r("37894")),g=r.ir(r("40472")),y=r("12864"),m=r.ir(r("66177")),b=r.ir(r("99270")),_=r("69188"),w=r.ir(r("97550")),E=r("74168"),x=r("78590"),C=r.ir(r("65338")),S=r("69632"),O=r("84204"),M=r.ir(r("57974")),P=r.ir(r("12837")),D=r.ir(r("10299")),I=r.ir(r("17301")),j=r.ir(r("7208")),N=r.ir(r("28280")),T=function(e,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>n.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)0>n.indexOf(i[o])&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(r[i[o]]=e[i[o]]);return r};let k=E.cssClasses.PREFIX,A=E.strings.POSITION_SET,R=E.strings.TRIGGER_SET,L=["flex","block","table","flow-root","grid"],F=()=>document.body;class z extends C.default{constructor(e){super(e),this.isAnimating=!1,this.setContainerEl=e=>this.containerEl={current:e},this.isSpecial=e=>{if((0,S.isHTMLElement)(e))return!!e.disabled;if((0,h.isValidElement)(e)){let n=(0,u.default)(e,"props.disabled");if(n)return E.strings.STATUS_DISABLED;let r=(0,u.default)(e,"props.loading"),i=!(0,a.default)(e)&&!(0,a.default)(e.type)&&("Button"===(0,u.default)(e,"type.elementType")||"IconButton"===(0,u.default)(e,"type.elementType"));if(r&&i)return E.strings.STATUS_LOADING}return!1},this.didLeave=()=>{this.props.keepDOM?this.foundation.setDisplayNone(!0):this.foundation.removePortal(),this.foundation.unBindEvent()},this.renderIcon=()=>{let{placement:e}=this.state,{showArrow:n,prefixCls:r,style:i}=this.props,o=null,a=(0,p.default)([`${r}-icon-arrow`]),s=(0,u.default)(i,"backgroundColor"),l=(null==e?void 0:e.includes("left"))||(null==e?void 0:e.includes("right"))?h.default.createElement(I.default,null):h.default.createElement(D.default,null);return n&&(o=(0,h.isValidElement)(n)?n:h.default.cloneElement(l,{className:a,style:{color:s,fill:"currentColor"}})),o},this.handlePortalInnerClick=e=>{this.props.clickToHide&&this.foundation.hide(),this.props.stopPropagation&&(0,O.stopPropagation)(e)},this.handlePortalMouseDown=e=>{this.props.stopPropagation&&(0,O.stopPropagation)(e)},this.handlePortalFocus=e=>{this.props.stopPropagation&&(0,O.stopPropagation)(e)},this.handlePortalBlur=e=>{this.props.stopPropagation&&(0,O.stopPropagation)(e)},this.handlePortalInnerKeyDown=e=>{this.foundation.handleContainerKeydown(e)},this.renderContentNode=e=>{let n={initialFocusRef:this.initialFocusRef};return(0,o.default)(e)?e(n):e},this.renderPortal=()=>{let{containerStyle:e={},visible:n,portalEventSet:r,placement:i,displayNone:o,transitionState:a,id:s,isPositionUpdated:c}=this.state,{prefixCls:d,content:f,showArrow:g,style:m,motion:b,role:_,zIndex:w}=this.props,E=this.renderContentNode(f),{className:x}=this.props,C=this.context.direction,S=(0,p.default)(x,{[`${d}-wrapper`]:!0,[`${d}-wrapper-show`]:n,[`${d}-with-arrow`]:!!g,[`${d}-rtl`]:"rtl"===C}),O=this.renderIcon(),P=(0,l.default)(e,b?["transformOrigin"]:void 0),D=(0,u.default)(e,"transformOrigin"),I=(0,u.default)(m,"opacity",null),j=I||1,T=h.default.createElement(N.default,{fillMode:"forwards",animationState:a,motion:b&&c,startClassName:"enter"===a?`${k}-animation-show`:`${k}-animation-hide`,onAnimationStart:()=>this.isAnimating=!0,onAnimationEnd:()=>{var e,n;"leave"===a&&(this.didLeave(),null===(n=(e=this.props).afterClose)||void 0===n||n.call(e)),this.isAnimating=!1}},e=>{let{animationStyle:n,animationClassName:a,animationEventsNeedBind:l}=e;return h.default.createElement("div",Object.assign({className:(0,p.default)(S,a),style:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n),o?{display:"none"}:{}),{transformOrigin:D}),m),I?{opacity:c?j:"0"}:{})},r,l,{role:_,"x-placement":i,id:s}),h.default.createElement("div",{className:`${k}-content`},E),O)});return h.default.createElement(M.default,{getPopupContainer:this.props.getPopupContainer,style:{zIndex:w}},h.default.createElement("div",{tabIndex:-1,className:`${y.BASE_CLASS_PREFIX}-portal-inner`,style:P,ref:this.setContainerEl,onClick:this.handlePortalInnerClick,onFocus:this.handlePortalFocus,onBlur:this.handlePortalBlur,onMouseDown:this.handlePortalMouseDown,onKeyDown:this.handlePortalInnerKeyDown},T))},this.wrapSpan=e=>{let{wrapperClassName:n}=this.props,r=(0,u.default)(e,"props.style.display"),i=(0,u.default)(e,"props.block"),o="string"==typeof e,a={};return!o&&(a.display="inline-block"),(i||L.includes(r))&&(a.width="100%"),h.default.createElement("span",{className:n,style:a},e)},this.mergeEvents=(e,n)=>{let r={};return(0,s.default)(n,(n,i)=>{"function"==typeof n&&(r[i]=function(){n(...arguments),e&&"function"==typeof e[i]&&e[i](...arguments)})}),r},this.getPopupId=()=>this.state.id,this.state={visible:!1,transitionState:"",triggerEventSet:{},portalEventSet:{},containerStyle:{},isInsert:!1,placement:e.position||"top",transitionStyle:{},isPositionUpdated:!1,id:e.wrapperId,displayNone:!1},this.foundation=new w.default(this.adapter),this.eventManager=new b.default,this.triggerEl=h.default.createRef(),this.containerEl=h.default.createRef(),this.initialFocusRef=h.default.createRef(),this.clickOutsideHandler=null,this.resizeHandler=null,this.isWrapped=!1,this.containerPosition=void 0}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{on:function(){return e.eventManager.on(...arguments)},off:function(){return e.eventManager.off(...arguments)},getAnimatingState:()=>this.isAnimating,insertPortal:(e,n)=>{var{position:r}=n,i=T(n,["position"]);this.setState({isInsert:!0,transitionState:"enter",containerStyle:Object.assign(Object.assign({},this.state.containerStyle),i)},()=>{setTimeout(()=>{this.setState(e=>("enter"===e.transitionState&&this.eventManager.emit("portalInserted"),{}))},0)})},removePortal:()=>{this.setState({isInsert:!1,isPositionUpdated:!1})},getEventName:()=>({mouseEnter:"onMouseEnter",mouseLeave:"onMouseLeave",mouseOut:"onMouseOut",mouseOver:"onMouseOver",click:"onClick",focus:"onFocus",blur:"onBlur",keydown:"onKeyDown",contextMenu:"onContextMenu"}),registerTriggerEvent:e=>{this.setState({triggerEventSet:e})},registerPortalEvent:e=>{this.setState({portalEventSet:e})},getTriggerBounding:()=>{let e=this.adapter.getTriggerNode();return this.triggerEl.current=e,e&&e.getBoundingClientRect()},getPopupContainerRect:()=>{let e=this.getPopupContainer(),n=null;if(e&&(0,S.isHTMLElement)(e)){let r=(0,_.convertDOMRectToObject)(e.getBoundingClientRect());n=Object.assign(Object.assign({},r),{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop})}return n},containerIsBody:()=>{let e=this.getPopupContainer();return e===document.body},containerIsRelative:()=>{let e=this.getPopupContainer(),n=window.getComputedStyle(e);return"relative"===n.getPropertyValue("position")},containerIsRelativeOrAbsolute:()=>["relative","absolute"].includes(this.containerPosition),getWrapperBounding:()=>{let e=this.containerEl&&this.containerEl.current;return e&&e.getBoundingClientRect()},getDocumentElementBounding:()=>document.documentElement.getBoundingClientRect(),setPosition:e=>{var{position:n}=e,r=T(e,["position"]);this.setState({containerStyle:Object.assign(Object.assign({},this.state.containerStyle),r),placement:n,isPositionUpdated:!0},()=>{this.eventManager.emit("positionUpdated")})},setDisplayNone:(e,n)=>{this.setState({displayNone:e},n)},updatePlacementAttr:e=>{this.setState({placement:e})},togglePortalVisible:(e,n)=>{let r={};r.transitionState=e?"enter":"leave",r.visible=e,this.mounted&&this.setState(r,()=>{n()})},registerClickOutsideHandler:e=>{this.clickOutsideHandler&&this.adapter.unregisterClickOutsideHandler(),this.clickOutsideHandler=n=>{if(!this.mounted)return!1;let r=this.triggerEl&&this.triggerEl.current,i=this.containerEl&&this.containerEl.current;r=f.default.findDOMNode(r),i=f.default.findDOMNode(i);let o=n.target,a=n.composedPath&&n.composedPath()||[o],s=!!this.props.clickTriggerToHide&&(r&&r.contains(o)||a.includes(r));(r&&!r.contains(o)&&i&&!i.contains(o)&&!(a.includes(i)||a.includes(r))||s)&&(this.props.onClickOutSide(n),e())},window.addEventListener("mousedown",this.clickOutsideHandler)},unregisterClickOutsideHandler:()=>{this.clickOutsideHandler&&(window.removeEventListener("mousedown",this.clickOutsideHandler),this.clickOutsideHandler=null)},registerResizeHandler:e=>{this.resizeHandler&&this.adapter.unregisterResizeHandler(),this.resizeHandler=(0,d.default)(n=>{if(!this.mounted)return!1;e(n)},10),window.addEventListener("resize",this.resizeHandler,!1)},unregisterResizeHandler:()=>{this.resizeHandler&&(window.removeEventListener("resize",this.resizeHandler,!1),this.resizeHandler=null)},notifyVisibleChange:e=>{this.props.onVisibleChange(e)},registerScrollHandler:e=>{this.scrollHandler&&this.adapter.unregisterScrollHandler(),this.scrollHandler=(0,d.default)(n=>{if(!this.mounted)return!1;let r=this.adapter.getTriggerNode(),i=n.target.contains(r);if(i){let r={x:n.target.scrollLeft,y:n.target.scrollTop};e(r)}},10),window.addEventListener("scroll",this.scrollHandler,!0)},unregisterScrollHandler:()=>{this.scrollHandler&&(window.removeEventListener("scroll",this.scrollHandler,!0),this.scrollHandler=null)},canMotion:()=>!!this.props.motion,updateContainerPosition:()=>{let e=this.getPopupContainer();if(e&&(0,S.isHTMLElement)(e)){let n=window.getComputedStyle(e),r=n.getPropertyValue("position");this.containerPosition=r}},getContainerPosition:()=>this.containerPosition,getContainer:()=>this.containerEl&&this.containerEl.current,getTriggerNode:()=>{let e=this.triggerEl.current;return!(0,S.isHTMLElement)(this.triggerEl.current)&&(e=f.default.findDOMNode(this.triggerEl.current)),e},getFocusableElements:e=>(0,O.getFocusableElements)(e),getActiveElement:()=>(0,O.getActiveElement)(),setInitialFocus:()=>{let{preventScroll:e}=this.props,n=(0,u.default)(this,"initialFocusRef.current");n&&"focus"in n&&n.focus({preventScroll:e})},notifyEscKeydown:e=>{this.props.onEscKeyDown(e)},setId:()=>{this.setState({id:(0,x.getUuidShort)()})},getTriggerDOM:()=>this.triggerEl.current?f.default.findDOMNode(this.triggerEl.current):null})}componentDidMount(){this.mounted=!0,this.getPopupContainer=this.props.getPopupContainer||this.context.getPopupContainer||F,this.foundation.init(),(0,O.runAfterTicks)(()=>{let e=this.triggerEl.current;e&&!(e instanceof HTMLElement)&&(e=(0,f.findDOMNode)(e)),this.foundation.updateStateIfCursorOnTrigger(e)},1)}componentWillUnmount(){this.mounted=!1,this.foundation.destroy()}focusTrigger(){this.foundation.focusTrigger()}rePosition(){return this.foundation.calcPosition()}componentDidUpdate(e,n){(0,m.default)(this.props.mouseLeaveDelay<this.props.mouseEnterDelay,"[Semi Tooltip] 'mouseLeaveDelay' cannot be less than 'mouseEnterDelay', which may cause the dropdown layer to not be hidden."),e.visible!==this.props.visible&&(["hover","focus"].includes(this.props.trigger)?this.props.visible?this.foundation.delayShow():this.foundation.delayHide():this.props.visible?this.foundation.show():this.foundation.hide()),!(0,i.default)(e.rePosKey,this.props.rePosKey)&&this.rePosition()}render(){let{isInsert:e,triggerEventSet:n,visible:r,id:i}=this.state,{wrapWhenSpecial:o,role:a,trigger:s}=this.props,{children:l}=this.props,c=Object.assign({},(0,u.default)(l,"props.style")),d={};if(o){let e=this.isSpecial(l);e?(c.pointerEvents="none",e===E.strings.STATUS_DISABLED&&(d.cursor="not-allowed"),l=(0,h.cloneElement)(l,{style:c}),"custom"!==s&&(l=this.wrapSpan(l)),this.isWrapped=!0):!(0,h.isValidElement)(l)&&(l=this.wrapSpan(l),this.isWrapped=!0)}let f={};"dialog"===a?(f["aria-expanded"]=r?"true":"false",f["aria-haspopup"]="dialog",f["aria-controls"]=i):f["aria-describedby"]=i;let g=h.default.cloneElement(l,Object.assign(Object.assign(Object.assign(Object.assign({},f),l.props),this.mergeEvents(l.props,n)),{style:Object.assign(Object.assign({},(0,u.default)(l,"props.style")),d),className:(0,p.default)((0,u.default)(l,"props.className")),ref:e=>{this.triggerEl.current=e;let{ref:n}=l;"function"==typeof n?n(e):n&&"object"==typeof n&&(n.current=e)},tabIndex:l.props.tabIndex||0,"data-popupid":i}));return h.default.createElement(h.default.Fragment,null,e?this.renderPortal():null,g)}}z.contextType=P.default,z.propTypes={children:g.default.node,motion:g.default.bool,autoAdjustOverflow:g.default.bool,position:g.default.oneOf(A),getPopupContainer:g.default.func,mouseEnterDelay:g.default.number,mouseLeaveDelay:g.default.number,trigger:g.default.oneOf(R).isRequired,className:g.default.string,wrapperClassName:g.default.string,clickToHide:g.default.bool,clickTriggerToHide:g.default.bool,visible:g.default.bool,style:g.default.object,content:g.default.oneOfType([g.default.node,g.default.func]),prefixCls:g.default.string,onVisibleChange:g.default.func,onClickOutSide:g.default.func,spacing:g.default.oneOfType([g.default.number,g.default.object]),margin:g.default.oneOfType([g.default.number,g.default.object]),showArrow:g.default.oneOfType([g.default.bool,g.default.node]),zIndex:g.default.number,rePosKey:g.default.oneOfType([g.default.string,g.default.number]),arrowBounding:j.default,transformFromCenter:g.default.bool,arrowPointAtCenter:g.default.bool,stopPropagation:g.default.bool,role:g.default.string,wrapWhenSpecial:g.default.bool,guardFocus:g.default.bool,returnFocusOnClose:g.default.bool,preventScroll:g.default.bool,keepDOM:g.default.bool},z.__SemiComponentName__="Tooltip",z.defaultProps=(0,O.getDefaultPropsFromGlobalConfig)(z.__SemiComponentName__,{arrowBounding:E.numbers.ARROW_BOUNDING,autoAdjustOverflow:!0,arrowPointAtCenter:!0,trigger:"hover",transformFromCenter:!0,position:"top",prefixCls:k,role:"tooltip",mouseEnterDelay:E.numbers.MOUSE_ENTER_DELAY,mouseLeaveDelay:E.numbers.MOUSE_LEAVE_DELAY,motion:!0,onVisibleChange:c.default,onClickOutSide:c.default,spacing:E.numbers.SPACING,margin:E.numbers.MARGIN,showArrow:!0,wrapWhenSpecial:!0,zIndex:E.numbers.DEFAULT_Z_INDEX,closeOnEsc:!1,guardFocus:!1,returnFocusOnClose:!1,onEscKeyDown:c.default,disableFocusListener:!1,disableArrowKeyDown:!1,keepDOM:!1})},56164:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return c}});var i=r.ir(r("15478")),o=r.ir(r("56144")),a=r.ir(r("40472")),s=r("24097"),l=r.ir(r("72942"));let u=s.cssClasses.PREFIX;class c extends o.PureComponent{constructor(e){super(e),this._onResize=e=>{let n=e&&e[1]&&e[1].target;if(n){let e=(0,i.default)(n,"offsetHeight")||0,r=window.getComputedStyle(n)||{},o=parseInt((0,i.default)(r,"paddingTop"),10)||0,a=parseInt((0,i.default)(r,"paddingBottom"),10)||0;this.state.height!==e-o-a&&this.setState({height:e-o-a})}},this.state={height:this.props.defaultHeight||0}}componentDidMount(){let{height:e}=this.state;if("number"==typeof e)return}render(){let{children:e,defaultWidth:n,defaultHeight:r}=this.props,{height:i}=this.state,a=!1;return(0===i||"number"!=typeof i)&&(a=!0),o.default.createElement(l.default,{observeParent:!0,onResize:this._onResize},o.default.createElement("div",{style:{height:r,overflow:"visible"},className:`${u}-auto-wrapper`},!a&&e({height:i,width:n})))}}c.propTypes={defaultHeight:a.default.oneOfType([a.default.number,a.default.string]),defaultWidth:a.default.oneOfType([a.default.number,a.default.string])},c.defaultProps={defaultHeight:"100%",defaultWidth:"100%"}},95083:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var i=r.ir(r("56144")),o=r.ir(r("37894")),a=i.memo(e=>{let{prefixcls:n,level:r,isEnd:a,showLine:s}=e,l=`${n}-indent-unit`,u=[];for(let e=0;e<r;e+=1)u.push(i.createElement("span",{key:e,className:(0,o.default)(l,{[`${l}-end`]:a[e]})}));return i.createElement("span",{"aria-hidden":"true",className:(0,o.default)(`${n}-indent`,{[`${n}-indent-show-line`]:s})},u)})},33732:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var i=r.ir(r("56144")),o=r.ir(r("42879")),a=function(e,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>n.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)0>n.indexOf(i[o])&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(r[i[o]]=e[i[o]]);return r},s=function(e){let{open:n,children:r}=e,s=a(e,["open","children"]),[l,u]=(0,i.useState)(e.open);return(0,i.useEffect)(()=>{setTimeout(()=>{u(!e.open)},0)},[]),i.default.createElement(o.default,Object.assign({},s,{isOpen:l}),r)}},73783:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return u}});var i=r.ir(r("3409")),o=r.ir(r("56144")),a=r.ir(r("23905")),s=r.ir(r("33732"));let l=e=>e.key;class u extends o.PureComponent{constructor(e){super(e),this.onMotionEnd=()=>{"function"==typeof this.props.onMotionEnd&&this.props.onMotionEnd(),this.setState({transitionNodes:[]})},this.state={transitionNodes:[]}}static getDerivedStateFromProps(e,n){let{flattenNodes:r=[],motionKeys:o,motionType:a,flattenList:s=[]}=e,u=!(0,i.default)(n.cachedMotionKeys,o)||!(0,i.default)(n.cachedData.map(e=>e.key),r.map(e=>e.key)),c=[...o];if(!u||!c.length)return null;let d=[],h=[],f=0,p={};return("hide"===a&&s?s:r).forEach((e,n)=>{let r=l(e);o.has(r)?(h.push(e),r===c[0]&&(f=n)):d.push(e)}),d.splice(f,0,h),p={transitionNodes:d,cachedData:r,cachedMotionKeys:o,cachedMotionType:a}}render(){let{flattenNodes:e,motionType:n,searchTargetIsDeep:r,renderTreeNode:i}=this.props,{transitionNodes:a}=this.state,u=a.length&&!r?a:e,c=u.map(e=>{let r=Array.isArray(e);if(r&&!e.length)return null;if(r&&e.length){let r=l(e[0]);return o.default.createElement(s.default,{open:"hide"===n,duration:200,motion:!!n,key:`motion-${r}`,onMotionEnd:this.onMotionEnd},e.map(e=>i(e)))}return i(e)});return c}}u.contextType=a.default},23905:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var i=r.ir(r("56144"));let o=i.default.createContext(null);var a=o},87464:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return x}});var i=r.ir(r("38691")),o=r.ir(r("15478")),a=r.ir(r("94228")),s=r.ir(r("8250")),l=r.ir(r("21702")),u=r.ir(r("56144")),c=r.ir(r("37894")),d=r.ir(r("40472")),h=r("24097"),f=r.ir(r("31448")),p=r("73543"),g=r("83591"),y=r.ir(r("23905")),m=r.ir(r("1105")),b=r.ir(r("42242")),_=r.ir(r("95083")),w=function(e,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>n.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)0>n.indexOf(i[o])&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(r[i[o]]=e[i[o]]);return r};let E=h.cssClasses.PREFIX_OPTION;class x extends u.PureComponent{constructor(e){super(e),this.onSelect=e=>{let{onNodeSelect:n}=this.context;n(e,this.props)},this.onExpand=e=>{let{onNodeExpand:n}=this.context;e&&e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),n(e,this.props)},this.onCheck=e=>{var n,r;if(this.isDisabled())return;let{onNodeCheck:i}=this.context;e.stopPropagation(),null===(r=null===(n=e.nativeEvent)||void 0===n?void 0:n.stopImmediatePropagation)||void 0===r||r.call(n),i(e,this.props)},this.handleCheckEnterPress=e=>{(0,f.default)(e)&&this.onCheck(e)},this.onContextMenu=e=>{let{onNodeRightClick:n}=this.context;n(e,this.props)},this.onClick=e=>{let{expandAction:n}=this.context;if("doubleClick"===n){this.debounceSelect(e);return}this.onSelect(e),"click"===n&&this.onExpand(e)},this.handleliEnterPress=e=>{(0,f.default)(e)&&this.onClick(e)},this.onDoubleClick=e=>{let{expandAction:n,onNodeDoubleClick:r}=this.context;e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),(0,s.default)(r)&&r(e,this.props),"doubleClick"===n&&this.onExpand(e)},this.onDragStart=e=>{let{onNodeDragStart:n}=this.context;e.stopPropagation(),n(e,Object.assign(Object.assign({},this.props),{nodeInstance:this.refNode}));try{e.dataTransfer.setData("text/plain","")}catch(e){}},this.onDragEnter=e=>{let{onNodeDragEnter:n}=this.context;e.preventDefault(),e.stopPropagation(),n(e,Object.assign(Object.assign({},this.props),{nodeInstance:this.refNode}))},this.onDragOver=e=>{let{onNodeDragOver:n}=this.context;e.preventDefault(),e.stopPropagation(),n(e,Object.assign(Object.assign({},this.props),{nodeInstance:this.refNode}))},this.onDragLeave=e=>{let{onNodeDragLeave:n}=this.context;e.stopPropagation(),n(e,Object.assign(Object.assign({},this.props),{nodeInstance:this.refNode}))},this.onDragEnd=e=>{let{onNodeDragEnd:n}=this.context;e.stopPropagation(),n(e,Object.assign(Object.assign({},this.props),{nodeInstance:this.refNode}))},this.onDrop=e=>{let{onNodeDrop:n}=this.context;e.preventDefault(),e.stopPropagation(),n(e,Object.assign(Object.assign({},this.props),{nodeInstance:this.refNode}))},this.getNodeChildren=()=>{let{children:e}=this.props;return e||[]},this.isLeaf=()=>{let{isLeaf:e,loaded:n}=this.props,{loadData:r}=this.context,i=0!==this.getNodeChildren().length;return!1!==e&&(e||!r&&!i||r&&n&&!i)},this.isDisabled=()=>{let{disabled:e}=this.props,{treeDisabled:n}=this.context;return!1!==e&&!!(n||e)},this.renderSwitcher=()=>this.isLeaf()?u.default.createElement("span",{className:(0,c.default)(`${E}-switcher`)},u.default.createElement("span",{className:`${E}-switcher-leaf-line`})):null,this.renderRealLabel=()=>{let{renderLabel:e}=this.context,{label:n,keyword:r,data:i,filtered:o,treeNodeFilterProp:l}=this.props;return(0,s.default)(e)?e(n,i,r):(0,a.default)(n)&&o&&r?u.default.createElement(b.default,{highlightClassName:`${E}-highlight`,component:"span",sourceString:n,searchWords:[r]}):n},this.setRef=e=>{this.refNode=e},this.state={},this.debounceSelect=(0,l.default)(this.onSelect,500,{leading:!0,trailing:!1})}renderArrow(){var e,n;let r=!this.isLeaf(),{loading:i,expanded:o,showLine:a,expandIcon:s}=this.props;if(i)return u.default.createElement(m.default,{wrapperClassName:`${E}-spin-icon`});if(r){if(s){if("function"==typeof s)return s({onClick:this.onExpand,className:`${E}-expand-icon`,expanded:o});if(!u.default.isValidElement(s))return s;else{let r=(0,c.default)(`${E}-expand-icon`,{[null===(e=null==s?void 0:s.props)||void 0===e?void 0:e.className]:null===(n=null==s?void 0:s.props)||void 0===n?void 0:n.className});return u.default.cloneElement(s,{onClick:this.onExpand,className:r})}}return u.default.createElement(p.IconTreeTriangleDown,{role:"button","aria-label":`${o?"Expand":"Collapse"} the tree item`,className:`${E}-expand-icon`,size:"small",onClick:this.onExpand})}return a?this.renderSwitcher():u.default.createElement("span",{className:`${E}-empty-icon`})}renderCheckbox(){let{checked:e,halfChecked:n,eventKey:r}=this.props,i=this.isDisabled();return u.default.createElement("div",{role:"none",onClick:this.onCheck,onKeyPress:this.handleCheckEnterPress},u.default.createElement(g.Checkbox,{"aria-label":"Toggle the checked state of checkbox",value:r,indeterminate:n,checked:e,disabled:!!i}))}renderIcon(){let{directory:e,treeIcon:n}=this.context,{expanded:r,icon:i,data:o}=this.props;if(i)return i;if(n)return"function"==typeof n?n(this.props):n;if(e){let e=!this.isLeaf();return e?r?u.default.createElement(p.IconFolderOpen,{className:`${E}-item-icon`}):u.default.createElement(p.IconFolder,{className:`${E}-item-icon`}):u.default.createElement(p.IconFile,{className:`${E}-item-icon`})}return null}renderEmptyNode(){let{emptyContent:e}=this.props,n=(0,c.default)(E,{[`${E}-empty`]:!0});return u.default.createElement("ul",{className:n},u.default.createElement("li",{className:`${E}-label ${E}-label-empty`,"x-semi-prop":"emptyContent"},e))}render(){let e=this.props,{eventKey:n,expanded:r,selected:s,checked:l,halfChecked:d,loading:h,active:f,level:p,empty:g,filtered:y,treeNodeFilterProp:m,display:b,style:x,isEnd:C,showLine:S}=e,O=w(e,["eventKey","expanded","selected","checked","halfChecked","loading","active","level","empty","filtered","treeNodeFilterProp","display","style","isEnd","showLine"]);if(g)return this.renderEmptyNode();let{multiple:M,draggable:P,renderFullLabel:D,dragOverNodeKey:I,dropPosition:j,labelEllipsis:N}=this.context,T=C[C.length-1],k=this.isDisabled(),A=I===n&&-1===j,R=I===n&&1===j,L=(0,c.default)(E,{[`${E}-level-${p+1}`]:!0,[`${E}-fullLabel-level-${p+1}`]:D,[`${E}-collapsed`]:!r,[`${E}-disabled`]:!!k,[`${E}-selected`]:s,[`${E}-active`]:!M&&f,[`${E}-ellipsis`]:N,[`${E}-drag-over`]:!k&&I===n&&0===j,[`${E}-draggable`]:!k&&P&&!D,[`${E}-fullLabel-draggable`]:!k&&P&&D,[`${E}-fullLabel-drag-over-gap-top`]:!k&&A&&D,[`${E}-fullLabel-drag-over-gap-bottom`]:!k&&R&&D,[`${E}-tree-node-last-leaf`]:T}),F={onClick:this.onClick,onContextMenu:this.onContextMenu,onDoubleClick:this.onDoubleClick,className:L,onExpand:this.onExpand,data:O.data,level:p,onCheck:this.onCheck,style:x,expandIcon:this.renderArrow(),checkStatus:{checked:l,halfChecked:d},expandStatus:{expanded:r,loading:h},filtered:y,searchWord:O.keyword},z={onDoubleClick:this.onDoubleClick,onDragStart:P?this.onDragStart:void 0,onDragEnter:P?this.onDragEnter:void 0,onDragOver:P?this.onDragOver:void 0,onDragLeave:P?this.onDragLeave:void 0,onDrop:P?this.onDrop:void 0,onDragEnd:P?this.onDragEnd:void 0,draggable:!k&&P||void 0};if(D){let e=D(Object.assign({},F));return P?u.default.cloneElement(e,Object.assign({ref:this.setRef},z)):(0,i.default)(x)?e:u.default.cloneElement(e,{style:Object.assign(Object.assign({},(0,o.default)(e,["props","style"])),x)})}let B=(0,c.default)(`${E}-label`,{[`${E}-drag-over-gap-top`]:!k&&A,[`${E}-drag-over-gap-bottom`]:!k&&R}),V=(0,o.default)(O,["data","children","length"]),$=(0,a.default)(O.pos)?Number(O.pos.split("-")[p+1])+1:1;return u.default.createElement("li",Object.assign({className:L,role:"treeitem","aria-disabled":k,"aria-checked":l,"aria-selected":s,"aria-setsize":V,"aria-posinset":$,"aria-expanded":r,"aria-level":p+1,"data-key":n,onClick:this.onClick,onKeyPress:this.handleliEnterPress,onContextMenu:this.onContextMenu,onDoubleClick:this.onDoubleClick,ref:this.setRef,style:x},z),u.default.createElement(_.default,{showLine:S,prefixcls:E,level:p,isEnd:C}),this.renderArrow(),u.default.createElement("span",{className:B},M?this.renderCheckbox():null,this.renderIcon(),u.default.createElement("span",{className:`${E}-label-text`},this.renderRealLabel())))}}x.contextType=y.default,x.propTypes={expanded:d.default.bool,selected:d.default.bool,checked:d.default.bool,halfChecked:d.default.bool,active:d.default.bool,disabled:d.default.bool,loaded:d.default.bool,loading:d.default.bool,isLeaf:d.default.bool,pos:d.default.string,children:d.default.oneOfType([d.default.array,d.default.object]),icon:d.default.node,directory:d.default.bool,keyword:d.default.string,treeNodeFilterProp:d.default.string,selectedKey:d.default.string,motionKey:d.default.oneOfType([d.default.string,d.default.arrayOf(d.default.string)]),isEnd:d.default.arrayOf(d.default.bool),showLine:d.default.bool,expandIcon:d.default.oneOfType([d.default.node,d.default.func])},x.defaultProps={selectedKey:"",motionKey:""}},44511:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"cloneDeep",{enumerable:!0,get:function(){return s}});var i=r.ir(r("40565")),o=r.ir(r("77965")),a=r.ir(r("56144"));function s(e){return(0,o.default)(e,e=>{if((0,i.default)(e)&&!e._innerDataTag||a.default.isValidElement(e))return e})}},72606:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return W}});var i=r.ir(r("24578")),o=r.ir(r("29449")),a=r.ir(r("83910")),s=r.ir(r("8250")),l=r.ir(r("15478")),u=r.ir(r("82203")),c=r.ir(r("38691")),d=r.ir(r("94228")),h=r.ir(r("3409")),f=r.ir(r("56144")),p=r.ir(r("48362")),g=r.ir(r("37894")),y=r.ir(r("40472")),m=r.ir(r("28756")),b=r("99067"),_=r("49795"),w=r("14014"),E=r("98945"),x=r.ir(r("65338")),C=r.ir(r("12837")),S=r.ir(r("7684")),O=r.ir(r("56441")),M=r.ir(r("38911")),P=r.ir(r("56164")),D=r.ir(r("23905")),I=r.ir(r("87464")),j=r.ir(r("73783")),N=r("44511"),T=r.ir(r("80675")),k=r.ir(r("87439")),A=r.ir(r("80774")),R=r("84204"),L=r("73543"),F=r.ir(r("14432")),z=r.ir(r("7704")),B=r.ir(r("35136")),V=function(e,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>n.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)0>n.indexOf(i[o])&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(r[i[o]]=e[i[o]]);return r};let $=_.cssClasses.PREFIX,U=_.cssClasses.PREFIX_TREE;class H extends x.default{constructor(e){super(e),this.renderSuffix=()=>{let{suffix:e}=this.props,n=(0,g.default)({[`${$}-suffix`]:!0,[`${$}-suffix-text`]:e&&(0,d.default)(e),[`${$}-suffix-icon`]:(0,R.isSemiIcon)(e)});return f.default.createElement("div",{className:n,"x-semi-prop":"suffix"},e)},this.renderPrefix=()=>{let{prefix:e,insetLabel:n,insetLabelId:r}=this.props,i=e||n,o=(0,g.default)({[`${$}-prefix`]:!0,[`${$}-inset-label`]:n,[`${$}-prefix-text`]:i&&(0,d.default)(i),[`${$}-prefix-icon`]:(0,R.isSemiIcon)(i)});return f.default.createElement("div",{className:o,id:r,"x-semi-prop":"prefix,insetLabel"},i)},this.renderContent=()=>{let{dropdownMinWidth:e}=this.state,{dropdownStyle:n,dropdownClassName:r}=this.props,i=Object.assign({minWidth:e},n),o=(0,g.default)(r,`${$}-popover`);return f.default.createElement("div",{className:o,style:i,onKeyDown:this.foundation.handleKeyDown},this.renderTree())},this.removeTag=e=>{this.foundation.removeTag(e)},this.handleClick=e=>{this.foundation.handleClick(e)},this.getDataForKeyNotInKeyEntities=e=>this.foundation.getDataForKeyNotInKeyEntities(e),this.handleSelectionEnterPress=e=>{this.foundation.handleSelectionEnterPress(e)},this.hasValue=()=>{let{multiple:e,checkRelation:n}=this.props,{realCheckedKeys:r,checkedKeys:i,selectedKeys:o}=this.state,a=!1;return e?"related"===n?a=!!i.size:"unRelated"===n&&(a=!!r.size):a=!!o.length,a},this.showClearBtn=()=>{let{showClear:e,disabled:n,searchPosition:r}=this.props,{inputValue:i,isOpen:o,isHovering:a}=this.state,s=r===_.strings.SEARCH_POSITION_TRIGGER&&i;return e&&(this.hasValue()||s)&&!n&&(o||a)},this.renderTagList=e=>{let{keyEntities:n,disabledKeys:r}=this.state,{treeNodeLabelProp:i,leafOnly:u,disabled:c,disableStrictly:d,size:h,renderSelectedItem:p,keyMaps:g}=this.props,y=(0,l.default)(g,"label",i),m=(0,s.default)(p)?p:e=>({isRenderInTag:!0,content:(0,l.default)(e,y,null)}),b=[];return e.forEach((e,i)=>{let s=n[e]&&n[e].key===e?n[e].data:this.getDataForKeyNotInKeyEntities(e),l=(n,r)=>{r&&"function"==typeof r.preventDefault&&r.preventDefault(),this.removeTag(e)},{content:u,isRenderInTag:p}=s?m(s,{index:i,onClose:l}):{};if((0,o.default)(u)||(0,a.default)(u))return;let g=c||s.disabled||d&&r.has(s.key),y={closable:!g,color:"white",visible:!0,onClose:l,key:`tag-${e}-${i}`,size:"small"===h?"small":"large"};p?b.push(f.default.createElement(O.default,Object.assign({},y),u)):b.push(u)}),b},this.renderSingleTriggerSearchItem=()=>{let{placeholder:e,disabled:n}=this.props,{inputTriggerFocus:r}=this.state,i=this.foundation.getRenderTextInSingle(),o=(0,g.default)(`${$}-selection-TriggerSearchItem`,{[`${$}-selection-TriggerSearchItem-placeholder`]:(r||!i)&&!n,[`${$}-selection-TriggerSearchItem-disabled`]:n});return f.default.createElement("span",{className:o,onClick:this.foundation.onClickSingleTriggerSearchItem},i||e)},this.renderSingleTriggerSearch=()=>{let{inputValue:e}=this.state;return f.default.createElement(f.default.Fragment,null,this.renderInput(),!e&&this.renderSingleTriggerSearchItem())},this.renderSelectContent=e=>{let{multiple:n,placeholder:r,maxTagCount:i,searchPosition:o,filterTreeNode:a,showRestTagsPopover:s,restTagsPopoverProps:l}=this.props,u=a&&o===_.strings.SEARCH_POSITION_TRIGGER;if(u)return n?this.renderTagInput(e):this.renderSingleTriggerSearch();if(!n||!this.hasValue()){let e=this.foundation.getRenderTextInSingle(),n=(0,g.default)(`${$}-selection-content`,{[`${$}-selection-placeholder`]:!e});return f.default.createElement("span",{className:n},e||r)}let c=this.renderTagList(e);return f.default.createElement(S.default,{maxTagCount:i,tagList:c,size:"large",mode:"custom",showPopover:s,popoverProps:l})},this.handleClear=e=>{e&&e.stopPropagation(),this.foundation.handleClear(e)},this.handleClearEnterPress=e=>{e&&e.stopPropagation(),this.foundation.handleClearEnterPress(e)},this.handleMouseOver=e=>{this.foundation.toggleHoverState(!0)},this.handleMouseLeave=e=>{this.foundation.toggleHoverState(!1)},this.search=e=>{let{isOpen:n}=this.state;!n&&this.foundation.open(),this.foundation.handleInputChange(e)},this.close=()=>{this.foundation.close(null)},this.renderArrow=()=>{let e=this.showClearBtn(),{arrowIcon:n}=this.props;return e?null:n?f.default.createElement("div",{className:(0,g.default)(`${$}-arrow`),"x-semi-prop":"arrowIcon"},n):null},this.renderClearBtn=()=>{let e=this.showClearBtn(),{clearIcon:n}=this.props,r=(0,g.default)(`${$}-clearbtn`);return e?f.default.createElement("div",{role:"button",tabIndex:0,"aria-label":"Clear TreeSelect value",className:r,onClick:this.handleClear,onKeyPress:this.handleClearEnterPress},n||f.default.createElement(L.IconClear,null)):null},this.renderSelection=()=>{let e;let n=this.props,{disabled:r,multiple:i,filterTreeNode:o,validateStatus:a,prefix:s,suffix:u,style:d,size:h,insetLabel:p,className:y,placeholder:m,showClear:w,leafOnly:E,searchPosition:x,triggerRender:C,borderless:S,autoMergeValue:O,checkRelation:M}=n,P=V(n,["disabled","multiple","filterTreeNode","validateStatus","prefix","suffix","style","size","insetLabel","className","placeholder","showClear","leafOnly","searchPosition","triggerRender","borderless","autoMergeValue","checkRelation"]),{inputValue:D,selectedKeys:I,checkedKeys:j,keyEntities:N,isFocus:T,realCheckedKeys:A}=this.state,R=!!o,L="function"==typeof C,F=w?{onMouseEnter:e=>this.handleMouseOver(e),onMouseLeave:e=>this.handleMouseLeave(e)}:{},z=x===_.strings.SEARCH_POSITION_TRIGGER&&R,B=z&&(0,c.default)(j),U=z&&!(0,c.default)(j),H=L?(0,g.default)(y):(0,g.default)($,{[`${$}-borderless`]:S,[`${$}-focus`]:T,[`${$}-disabled`]:r,[`${$}-single`]:!i,[`${$}-multiple`]:i,[`${$}-multiple-tagInput-empty`]:i&&B,[`${$}-multiple-tagInput-notEmpty`]:i&&U,[`${$}-filterable`]:R,[`${$}-error`]:"error"===a,[`${$}-warning`]:"warning"===a,[`${$}-small`]:"small"===h,[`${$}-large`]:"large"===h,[`${$}-with-prefix`]:s||p,[`${$}-with-suffix`]:u,[`${$}-with-suffix`]:u},y),W=[];i?O?"related"===M?W=(0,b.normalizeKeyList)([...j],N,E,!0):"unRelated"===M&&(W=[...A]):W=[...j]:W=I,e=L?f.default.createElement(k.default,{inputValue:D,value:W.map(e=>(0,l.default)(N,[e,"data"])),disabled:r,placeholder:m,onClear:this.handleClear,componentName:"TreeSelect",triggerRender:C,componentProps:Object.assign({},this.props),onSearch:this.search,onRemove:this.removeTag}):[f.default.createElement(f.Fragment,{key:"prefix"},s||p?this.renderPrefix():null),f.default.createElement(f.Fragment,{key:"selection"},f.default.createElement("div",{className:`${$}-selection`},this.renderSelectContent(W))),f.default.createElement(f.Fragment,{key:"suffix"},u?this.renderSuffix():null),f.default.createElement(f.Fragment,{key:"clearBtn"},w||z&&D?this.renderClearBtn():null),f.default.createElement(f.Fragment,{key:"arrow"},this.renderArrow())];let K=r?null:0;return f.default.createElement("div",Object.assign({role:"combobox","aria-disabled":r,"aria-haspopup":"tree",tabIndex:K,className:H,style:d,ref:this.triggerRef,onClick:this.handleClick,onKeyPress:this.handleSelectionEnterPress,onKeyDown:this.foundation.handleKeyDown,"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],"aria-required":this.props["aria-required"]},F,this.getDataAttr(P)),e)},this.renderTagItem=(e,n)=>{let{keyEntities:r,disabledKeys:i}=this.state,{size:o,leafOnly:a,disabled:u,disableStrictly:d,renderSelectedItem:h,treeNodeLabelProp:p,keyMaps:y}=this.props,m=(0,l.default)(y,"label",p),_=(0,b.normalizeKeyList)([e],r,a,!0),w=_.map(n=>r[e]&&r[e].key===e?r[e].data:this.getDataForKeyNotInKeyEntities(e)),E=(0,b.getValueOrKey)(w,y),x=(0,g.default)(`${$}-selection-tag`,{[`${$}-selection-tag-disabled`]:u}),C=!(0,c.default)(w)&&!(0,c.default)(w[0]),S=d&&C&&i.has(w[0].key),M=C&&!w[0].disabled&&!u&&!S,P=(n,r)=>{r.preventDefault(),this.removeTag(e)},D={size:"small"===o?"small":"large",key:`tag-${E}-${n}`,color:"white",className:x,closable:M,onClose:P},I=w[0],j=(0,s.default)(h)?h:e=>({isRenderInTag:!0,content:(0,l.default)(e,m,null)});if((0,s.default)(j)){let{content:e,isRenderInTag:r}=I?j(I,{index:n,onClose:P}):{};return r?f.default.createElement(O.default,Object.assign({},D),e):e}return f.default.createElement(O.default,Object.assign({},D),E)},this.renderTagInput=e=>{let{disabled:n,size:r,searchAutoFocus:i,placeholder:o,maxTagCount:a,showRestTagsPopover:s,restTagsPopoverProps:l,searchPosition:u,filterTreeNode:c,preventScroll:d}=this.props,{inputValue:h}=this.state,p=c&&u===_.strings.SEARCH_POSITION_TRIGGER?i:void 0;return f.default.createElement(A.default,{maxTagCount:a,disabled:n,onInputChange:e=>this.search(e),ref:this.tagInputRef,placeholder:o,value:e,inputValue:h,size:r,showRestTagsPopover:s,restTagsPopoverProps:l,autoFocus:p,renderTagItem:(e,n)=>this.renderTagItem(e,n),onRemove:e=>this.removeTag(e),expandRestTagsOnClick:!1,preventScroll:d})},this.renderInput=()=>{let{searchPlaceholder:e,searchRender:n,showSearchClear:r,searchPosition:i,searchAutoFocus:o,multiple:a,disabled:s,preventScroll:l}=this.props,{inputValue:u,inputTriggerFocus:c}=this.state,d=i===_.strings.SEARCH_POSITION_DROPDOWN,h=(0,g.default)({[`${U}-input`]:d,[`${$}-inputTrigger`]:!d}),p={value:u,className:h,preventScroll:l,onChange:e=>this.search(e)},y={showClear:r,prefix:f.default.createElement(L.IconSearch,null)},m=d?y:{autofocus:o,onFocus:e=>this.foundation.handleInputTriggerFocus(),onBlur:e=>this.foundation.handleInputTriggerBlur(),disabled:s},b=(0,g.default)({[`${U}-search-wrapper`]:d,[`${$}-triggerSingleSearch-wrapper`]:!d&&!a,[`${$}-triggerSingleSearch-upper`]:!d&&c}),w="function"==typeof n||"boolean"==typeof n;return w&&!n?null:f.default.createElement("div",{className:b},f.default.createElement(T.default,{componentName:"TreeSelect"},r=>{let i=d?e||r.searchPlaceholder:"";return w?n(Object.assign(Object.assign(Object.assign({},m),p),{placeholder:i})):f.default.createElement(M.default,Object.assign({"aria-label":"Filter TreeSelect item",ref:this.inputRef,placeholder:i},p,m))}))},this.renderEmpty=()=>{let{emptyContent:e}=this.props;return null===e?null:e?f.default.createElement(I.default,{empty:!0,emptyContent:this.props.emptyContent}):f.default.createElement(T.default,{componentName:"Tree"},e=>f.default.createElement(I.default,{empty:!0,emptyContent:e.emptyText}))},this.onNodeLoad=e=>new Promise(n=>this.foundation.setLoadKeys(e,n)),this.onNodeSelect=(e,n)=>{this.foundation.handleNodeSelect(e,n)},this.onNodeCheck=(e,n)=>{this.foundation.handleNodeSelect(e,n)},this.onNodeExpand=(e,n)=>{this.foundation.handleNodeExpand(e,n)},this.getTreeNodeRequiredProps=()=>{let{expandedKeys:e,selectedKeys:n,checkedKeys:r,halfCheckedKeys:i,keyEntities:o,filteredKeys:a}=this.state;return{expandedKeys:e||new Set,selectedKeys:n||[],checkedKeys:r||new Set,halfCheckedKeys:i||new Set,filteredKeys:a||new Set,keyEntities:o}},this.getTreeNodeKey=e=>{let{data:n}=e,{key:r}=n;return r},this.handlePopoverVisibleChange=e=>{this.foundation.handlePopoverVisibleChange(e)},this.afterClose=()=>{this.foundation.handleAfterClose()},this.renderTreeNode=(e,n,r)=>{let{data:o,key:s}=e,u=this.foundation.getTreeNodeProps(s),{showLine:c}=this.props;if(!u)return null;let d=(0,i.default)(e,["key","label","disabled","isLeaf","icon","isEnd"]),{keyMaps:h,expandIcon:p}=this.props,g=o[(0,l.default)(h,"children","children")];return(0,a.default)(g)||(d.children=g),f.default.createElement(I.default,Object.assign({},u,o,d,{data:o,style:r,showLine:c,expandIcon:p}))},this.itemKey=(e,n)=>{let{visibleOptions:r}=n,i=r[e];return i.key},this.renderNodeList=()=>{let{flattenNodes:e,cachedFlattenNodes:n,motionKeys:r,motionType:i,filteredKeys:o}=this.state,{direction:a}=this.context,{virtualize:s,motionExpand:l}=this.props,u="expandedKeys"in this.props;if(!s||(0,c.default)(s))return f.default.createElement(j.default,{flattenNodes:e,flattenList:n,motionKeys:l?r:new Set([]),motionType:i,searchTargetIsDeep:u&&l&&(0,c.default)(r)&&!(0,c.default)(o),onMotionEnd:this.onMotionEnd,renderTreeNode:this.renderTreeNode});let d={visibleOptions:e,renderOption:this.renderTreeNode};return f.default.createElement(P.default,{defaultHeight:s.height,defaultWidth:s.width},n=>{let{height:r,width:i}=n;return f.default.createElement(E.FixedSizeList,{itemCount:e.length,itemSize:s.itemSize,height:r,width:i,itemKey:this.itemKey,itemData:d,className:`${U}-virtual-list`,style:{direction:a}},B.default)})},this.renderTree=()=>{let{keyEntities:e,motionKeys:n,motionType:r,inputValue:i,filteredKeys:o,flattenNodes:a,checkedKeys:s,realCheckedKeys:l}=this.state,{loadData:d,filterTreeNode:h,disabled:p,multiple:y,showFilteredOnly:m,motionExpand:b,outerBottomSlot:w,outerTopSlot:E,expandAction:x,labelEllipsis:C,virtualize:S,optionListStyle:O,searchPosition:M,renderLabel:P,renderFullLabel:I,checkRelation:j,emptyContent:N}=this.props,T=(0,g.default)(`${U}-wrapper`),k=!!i&&!o.size,A=(0,c.default)(a)||m&&k,R=M===_.strings.SEARCH_POSITION_DROPDOWN,L=(0,g.default)(`${U}-option-list ${U}-option-list-block`,{[`${U}-option-list-hidden`]:null===N&&A});return f.default.createElement(D.default.Provider,{value:{loadData:d,treeDisabled:p,motion:b,motionKeys:n,motionType:r,expandAction:x,filterTreeNode:h,keyEntities:e,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeRightClick:u.default,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,renderTreeNode:this.renderTreeNode,multiple:y,showFilteredOnly:m,isSearching:!!i,renderLabel:P,renderFullLabel:I,labelEllipsis:void 0===C?S:C}},f.default.createElement("div",{className:T},E,!E&&h&&R&&this.renderInput(),f.default.createElement("div",{className:L,role:"tree","aria-multiselectable":!!y,style:O},A?this.renderEmpty():y?f.default.createElement(F.default,{value:Array.from("related"===j?s:l)},this.renderNodeList()):this.renderNodeList()),w))},this.state={inputTriggerFocus:!1,isOpen:!1,isFocus:!1,rePosKey:0,dropdownMinWidth:null,inputValue:"",keyEntities:{},treeData:[],flattenNodes:[],cachedFlattenNodes:void 0,selectedKeys:[],checkedKeys:new Set,halfCheckedKeys:new Set,realCheckedKeys:new Set([]),disabledKeys:new Set,motionKeys:new Set([]),motionType:"hide",expandedKeys:new Set(e.expandedKeys),filteredKeys:new Set,filteredExpandedKeys:new Set,filteredShownKeys:new Set,prevProps:null,isHovering:!1,cachedKeyValuePairs:{},loadedKeys:new Set,loadingKeys:new Set},this.inputRef=f.default.createRef(),this.tagInputRef=f.default.createRef(),this.triggerRef=f.default.createRef(),this.optionsRef=f.default.createRef(),this.clickOutsideHandler=null,this.foundation=new m.default(this.adapter),this.treeSelectID=Math.random().toString(36).slice(2),this.onMotionEnd=()=>{this.adapter.rePositionDropdown()}}static getDerivedStateFromProps(e,n){let r;let{prevProps:i,rePosKey:o}=n,{keyMaps:a}=e,s=n=>!i&&n in e||i&&!(0,h.default)(i[n],e[n]),l=e.onChangeWithObject,u=n.keyEntities||{},c=n.cachedKeyValuePairs||{},d={prevProps:e},f=s("treeData"),p=s("expandedKeys"),g=!!(e.filterTreeNode&&n.inputValue&&n.inputValue.length);if(f){r=e.treeData,d.treeData=r;let n=(0,b.convertDataToEntities)(r,a);d.keyEntities=Object.assign({},n.keyEntities),u=d.keyEntities,d.cachedKeyValuePairs=Object.assign({},n.valueEntities),c=d.cachedKeyValuePairs}r&&e.motion&&!(0,h.default)(Object.keys(d.keyEntities),Object.keys(n.keyEntities))&&i&&e.motion&&(d.motionKeys=new Set([]),d.motionType=null);let y=f&&e.expandAll;if(g){let o;if(r&&(o=(0,b.filterTreeData)({treeData:r,inputValue:n.inputValue,filterTreeNode:e.filterTreeNode,filterProps:e.treeNodeFilterProp,showFilteredOnly:e.showFilteredOnly,keyEntities:d.keyEntities,prevExpandedKeys:[...n.filteredExpandedKeys],keyMaps:a}),d.flattenNodes=o.flattenNodes,d.motionKeys=new Set([]),d.filteredKeys=o.filteredKeys,d.filteredShownKeys=o.filteredShownKeys,d.filteredExpandedKeys=o.filteredExpandedKeys),e.expandedKeys){if(d.filteredExpandedKeys=(0,b.calcExpandedKeys)(e.expandedKeys,u,e.autoExpandParent||!i),i&&e.motion){let i=n?n.filteredExpandedKeys:new Set([]);if(!r){let r=(0,b.calcMotionKeys)(i,d.filteredExpandedKeys,u),{motionKeys:o}=r,{motionType:a}=r;e.showFilteredOnly&&(o=o.filter(e=>n.filteredShownKeys.has(e))),"hide"===a&&(d.cachedFlattenNodes=(0,N.cloneDeep)(n.flattenNodes)),d.motionKeys=new Set(o),d.motionType=a}}d.flattenNodes=(0,b.flattenTreeData)(r||n.treeData,d.filteredExpandedKeys||n.filteredExpandedKeys,a,e.showFilteredOnly&&n.filteredShownKeys)}}else{if(p||i&&s("autoExpandParent")){if(d.expandedKeys=(0,b.calcExpandedKeys)(e.expandedKeys,u,e.autoExpandParent||!i),i&&e.motion&&!r){let{motionKeys:e,motionType:r}=(0,b.calcMotionKeys)(n.expandedKeys,d.expandedKeys,u);d.motionKeys=new Set(e),d.motionType=r,"hide"===r&&(d.cachedFlattenNodes=(0,N.cloneDeep)(n.flattenNodes))}}else!i&&(e.defaultExpandAll||e.expandAll)||y?d.expandedKeys=new Set(Object.keys(u)):!i&&e.defaultExpandedKeys?d.expandedKeys=(0,b.calcExpandedKeys)(e.defaultExpandedKeys,u):!i&&e.defaultValue?d.expandedKeys=(0,b.calcExpandedKeysForValues)((0,b.normalizeValue)(e.defaultValue,l,a),u,e.multiple,c):!i&&e.value&&(d.expandedKeys=(0,b.calcExpandedKeysForValues)((0,b.normalizeValue)(e.value,l,a),u,e.multiple,c));if(!d.expandedKeys&&delete d.expandedKeys,r||d.expandedKeys){let e=(0,b.flattenTreeData)(r||n.treeData,d.expandedKeys||n.expandedKeys,a);d.flattenNodes=e}}let m=e.multiple;if(m){let o;if(s("value")?o=(0,b.findKeysForValues)((0,b.normalizeValue)(e.value,l,a),c,m):!i&&e.defaultValue?o=(0,b.findKeysForValues)((0,b.normalizeValue)(e.defaultValue,l,a),c,m):r&&(o=e.value?(0,b.findKeysForValues)((0,b.normalizeValue)(e.value,l,a)||[],c,m):(0,b.updateKeys)("related"===e.checkRelation?n.checkedKeys:n.realCheckedKeys,u)),o){if("unRelated"===e.checkRelation)d.realCheckedKeys=new Set(o);else if("related"===e.checkRelation){let{checkedKeys:e,halfCheckedKeys:n}=(0,b.calcCheckedKeys)(o,u);d.checkedKeys=e,d.halfCheckedKeys=n}}}else s("value")?d.selectedKeys=(0,b.findKeysForValues)((0,b.normalizeValue)(e.value,l,a),c,m):!i&&e.defaultValue?d.selectedKeys=(0,b.findKeysForValues)((0,b.normalizeValue)(e.defaultValue,l,a),c,m):r&&(e.value?d.selectedKeys=(0,b.findKeysForValues)((0,b.normalizeValue)(e.value,l,a)||"",c,m):d.selectedKeys=(0,b.updateKeys)(n.selectedKeys,u));return s("loadedKeys")&&(d.loadedKeys=new Set(e.loadedKeys)),(f||s("value"))&&(d.rePosKey=o+1),r&&e.disableStrictly&&"related"===e.checkRelation&&(d.disabledKeys=(0,b.calcDisabledKeys)(u,a)),d}get adapter(){var e=this;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},super.adapter),{updateInputValue:e=>{this.setState({inputValue:e})}}),{registerClickOutsideHandler:e=>{this.adapter.unregisterClickOutsideHandler();let n=n=>{let r=this.optionsRef&&this.optionsRef.current,i=this.triggerRef&&this.triggerRef.current,o=p.default.findDOMNode(r),a=n.target,s=n.composedPath&&n.composedPath()||[a];o&&(!o.contains(a)||!o.contains(a.parentNode))&&i&&!i.contains(a)&&!(s.includes(i)||s.includes(o))&&e(n)};this.clickOutsideHandler=n,document.addEventListener("mousedown",n,!1)},unregisterClickOutsideHandler:()=>{this.clickOutsideHandler&&(document.removeEventListener("mousedown",this.clickOutsideHandler,!1),this.clickOutsideHandler=null)},rePositionDropdown:()=>{let{rePosKey:e}=this.state;e+=1,this.setState({rePosKey:e})}}),{updateState:e=>{this.setState(Object.assign({},e))},notifySelect:(e,n,r)=>{this.props.onSelect&&this.props.onSelect(e,n,r)},notifySearch:(e,n,r)=>{this.props.onSearch&&this.props.onSearch(e,n,r)},cacheFlattenNodes:e=>{this.setState({cachedFlattenNodes:e?(0,N.cloneDeep)(this.state.flattenNodes):void 0})},notifyLoad:(e,n)=>{let{onLoad:r}=this.props;(0,s.default)(r)&&r(e,n)},notifyClear:e=>{this.props.onClear&&this.props.onClear(e)}}),{updateLoadKeys:(e,n)=>{this.setState(r=>{let{loadedKeys:i,loadingKeys:o}=r;return this.foundation.handleNodeLoad(i,o,e,n)})},updateState:e=>{this.setState(Object.assign({},e))},openMenu:()=>{this.setState({isOpen:!0},()=>{this.props.onVisibleChange(!0)})},closeMenu:e=>{this.setState({isOpen:!1},()=>{e&&e(),this.props.onVisibleChange(!1)})},getTriggerWidth:()=>{let e=this.triggerRef.current;return e&&e.getBoundingClientRect().width},setOptionWrapperWidth:e=>{this.setState({dropdownMinWidth:e})},notifyChange:(e,n,r)=>{this.props.onChange&&this.props.onChange(e,n,r)},notifyChangeWithObject:(e,n)=>{this.props.onChange&&this.props.onChange(e,n)},notifyExpand:(e,n)=>{let{expanded:r,node:i}=n;this.props.onExpand&&this.props.onExpand([...e],{expanded:r,node:i}),r&&this.props.loadData&&this.onNodeLoad(i)},notifyFocus:function(){e.props.onFocus&&e.props.onFocus(...arguments)},notifyBlur:function(){e.props.onBlur&&e.props.onBlur(...arguments)},toggleHovering:e=>{this.setState({isHovering:e})},updateInputFocus:e=>{if(e){if(this.inputRef&&this.inputRef.current){let{preventScroll:e}=this.props;this.inputRef.current.focus({preventScroll:e})}this.tagInputRef&&this.tagInputRef.current&&this.tagInputRef.current.focus()}else this.inputRef&&this.inputRef.current&&this.inputRef.current.blur(),this.tagInputRef&&this.tagInputRef.current&&this.tagInputRef.current.blur()},updateIsFocus:e=>{this.setState({isFocus:e})}})}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}render(){let e=this.renderContent(),{motion:n,zIndex:r,mouseLeaveDelay:i,mouseEnterDelay:o,autoAdjustOverflow:a,stopPropagation:s,getPopupContainer:l,dropdownMargin:u,position:c}=this.props,{isOpen:d,rePosKey:h}=this.state,p=this.renderSelection();return f.default.createElement(z.default,{stopPropagation:s,getPopupContainer:l,zIndex:r,motion:n,margin:u,ref:this.optionsRef,content:e,visible:d,trigger:"custom",rePosKey:h,position:c||"bottomLeft",autoAdjustOverflow:a,mouseLeaveDelay:i,mouseEnterDelay:o,onVisibleChange:this.handlePopoverVisibleChange,afterClose:this.afterClose},p)}}H.contextType=C.default,H.propTypes={"aria-describedby":y.default.string,"aria-errormessage":y.default.string,"aria-invalid":y.default.bool,"aria-labelledby":y.default.string,"aria-required":y.default.bool,borderless:y.default.bool,loadedKeys:y.default.arrayOf(y.default.string),loadData:y.default.func,onLoad:y.default.func,arrowIcon:y.default.node,clearIcon:y.default.node,defaultOpen:y.default.bool,defaultValue:y.default.oneOfType([y.default.string,y.default.array,y.default.object]),defaultExpandAll:y.default.bool,defaultExpandedKeys:y.default.array,expandAll:y.default.bool,disabled:y.default.bool,disableStrictly:y.default.bool,filterTreeNode:y.default.oneOfType([y.default.func,y.default.bool]),multiple:y.default.bool,searchPlaceholder:y.default.string,searchAutoFocus:y.default.bool,virtualize:y.default.object,treeNodeFilterProp:y.default.string,onChange:y.default.func,onClear:y.default.func,onSearch:y.default.func,onSelect:y.default.func,onExpand:y.default.func,onChangeWithObject:y.default.bool,onBlur:y.default.func,onFocus:y.default.func,value:y.default.oneOfType([y.default.string,y.default.number,y.default.array,y.default.object]),expandedKeys:y.default.array,autoExpandParent:y.default.bool,showClear:y.default.bool,showSearchClear:y.default.bool,autoAdjustOverflow:y.default.bool,showFilteredOnly:y.default.bool,showLine:y.default.bool,motionExpand:y.default.bool,emptyContent:y.default.node,keyMaps:y.default.object,leafOnly:y.default.bool,treeData:y.default.arrayOf(y.default.shape({key:y.default.string,value:y.default.oneOfType([y.default.string,y.default.number]),label:y.default.any})),dropdownClassName:y.default.string,dropdownStyle:y.default.object,dropdownMargin:y.default.oneOfType([y.default.number,y.default.object]),motion:y.default.bool,placeholder:y.default.string,maxTagCount:y.default.number,size:y.default.oneOf(_.strings.SIZE_SET),className:y.default.string,style:y.default.object,treeNodeLabelProp:y.default.string,suffix:y.default.node,prefix:y.default.node,insetLabel:y.default.node,insetLabelId:y.default.string,zIndex:y.default.number,getPopupContainer:y.default.func,dropdownMatchSelectWidth:y.default.bool,validateStatus:y.default.oneOf(_.strings.STATUS),mouseEnterDelay:y.default.number,mouseLeaveDelay:y.default.number,triggerRender:y.default.func,stopPropagation:y.default.oneOfType([y.default.bool,y.default.string]),outerBottomSlot:y.default.node,outerTopSlot:y.default.node,onVisibleChange:y.default.func,expandAction:y.default.oneOf(["click","doubleClick",!1]),searchPosition:y.default.oneOf([_.strings.SEARCH_POSITION_DROPDOWN,_.strings.SEARCH_POSITION_TRIGGER]),clickToHide:y.default.bool,renderLabel:y.default.func,renderFullLabel:y.default.func,labelEllipsis:y.default.bool,optionListStyle:y.default.object,searchRender:y.default.oneOfType([y.default.func,y.default.bool]),renderSelectedItem:y.default.func,checkRelation:y.default.string,"aria-label":y.default.string,showRestTagsPopover:y.default.bool,restTagsPopoverProps:y.default.object,preventScroll:y.default.bool,clickTriggerToHide:y.default.bool,autoMergeValue:y.default.bool},H.defaultProps={borderless:!1,searchPosition:_.strings.SEARCH_POSITION_DROPDOWN,arrowIcon:f.default.createElement(L.IconChevronDown,null),autoExpandParent:!1,autoAdjustOverflow:!0,stopPropagation:!0,motion:!0,motionExpand:!0,expandAll:!1,zIndex:w.numbers.DEFAULT_Z_INDEX,disableStrictly:!1,multiple:!1,filterTreeNode:!1,size:"default",treeNodeFilterProp:"label",onChangeWithObject:!1,treeNodeLabelProp:"label",dropdownMatchSelectWidth:!0,defaultOpen:!1,showSearchClear:!0,showClear:!1,onVisibleChange:u.default,expandAction:!1,clickToHide:!0,searchAutoFocus:!1,checkRelation:"related","aria-label":"TreeSelect",showRestTagsPopover:!1,restTagsPopoverProps:{},clickTriggerToHide:!0,autoMergeValue:!0};var W=H},87439:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return l}});var i=r.ir(r("56144")),o=r.ir(r("40472")),a=function(e,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>n.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)0>n.indexOf(i[o])&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(r[i[o]]=e[i[o]]);return r};class s extends i.default.PureComponent{render(){let e=this.props,{triggerRender:n,componentName:r}=e,i=a(e,["triggerRender","componentName"]);return n(Object.assign({},i))}}s.propTypes={triggerRender:o.default.func.isRequired,componentName:o.default.string,componentProps:o.default.object,value:o.default.any,inputValue:o.default.string,placeholder:o.default.oneOfType([o.default.string,o.default.array]),className:o.default.string,style:o.default.object};var l=s},15749:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return I}});var i=r.ir(r("8250")),o=r.ir(r("29449")),a=r.ir(r("94228")),s=r.ir(r("64795")),l=r.ir(r("51854")),u=r.ir(r("83910")),c=r.ir(r("56144")),d=r.ir(r("37894")),h=r.ir(r("40472")),f=r("90531"),p=r.ir(r("10359")),g=r.ir(r("78932")),y=r.ir(r("9838")),m=r.ir(r("7704")),b=r.ir(r("59204")),_=r.ir(r("66177")),w=r.ir(r("31448")),E=r.ir(r("80675")),x=r("84204"),C=r.ir(r("63137")),S=r.ir(r("72942")),O=function(e,n,r,i){return new(r||(r=Promise))(function(o,a){function s(e){try{u(i.next(e))}catch(e){a(e)}}function l(e){try{u(i.throw(e))}catch(e){a(e)}}function u(e){var n;e.done?o(e.value):((n=e.value)instanceof r?n:new r(function(e){e(n)})).then(s,l)}u((i=i.apply(e,n||[])).next())})},M=function(e,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>n.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)0>n.indexOf(i[o])&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(r[i[o]]=e[i[o]]);return r};let P=f.cssClasses.PREFIX,D=(e,n)=>{let{mark:r,code:i,underline:o,strong:a,link:s,disabled:l}=e,u=n,d=(e,n)=>{let r={};e&&("object"==typeof e&&(r=Object.assign({},e)),u=c.default.createElement(n,r,u))};return d(r,"mark"),d(i,"code"),d(o&&!s,"u"),d(a,"strong"),d(e.delete,"del"),d(s,l?"span":"a"),u};class I extends c.Component{constructor(e){super(e),this.observerTakingEffect=!1,this.onResize=e=>O(this,void 0,void 0,function*(){return this.rafId&&window.cancelAnimationFrame(this.rafId),new Promise(e=>{this.rafId=window.requestAnimationFrame(()=>O(this,void 0,void 0,function*(){yield this.getEllipsisState(),e()}))})}),this.canUseCSSEllipsis=()=>{let{copyable:e}=this.props,{expandable:n,expandText:r,pos:i,suffix:o}=this.getEllipsisOpt();return!n&&(0,u.default)(r)&&!e&&"end"===i&&!o.length},this.shouldTruncated=e=>{if(!e||e<1)return!1;let n=e<=1?this.compareSingleRow():this.wrapperRef.current.scrollHeight>this.wrapperRef.current.offsetHeight;return n},this.compareSingleRow=()=>{if(!(document&&document.createRange))return!1;let e=this.wrapperRef.current,n=e.getBoundingClientRect().width,r=Array.from(e.childNodes),i=document.createRange(),o=r.reduce((e,n)=>{var r;return i.selectNodeContents(n),e+(null!==(r=i.getBoundingClientRect().width)&&void 0!==r?r:0)},0);return i.detach(),o>n},this.showTooltip=()=>{var e,n;let{isOverflowed:r,isTruncated:i,expanded:o}=this.state,{showTooltip:a,expandable:l,expandText:c}=this.getEllipsisOpt(),h=this.canUseCSSEllipsis(),f=!l&&(0,u.default)(c),p=f&&!o&&(h?r:i)&&a;if(!p)return p;let g={type:"tooltip"};if("object"==typeof a)return a.type&&"popover"===a.type.toLowerCase()?(0,s.default)({opts:{showArrow:!0}},a,{opts:{className:(0,d.default)({[`${P}-ellipsis-popover`]:!0,[null===(e=null==a?void 0:a.opts)||void 0===e?void 0:e.className]:!!(null===(n=null==a?void 0:a.opts)||void 0===n?void 0:n.className)})}}):Object.assign(Object.assign({},g),a);return g},this.onHover=()=>{let e=this.canUseCSSEllipsis();if(e){let{rows:e,suffix:n,pos:r}=this.getEllipsisOpt(),i=this.shouldTruncated(e);this.setState({isOverflowed:i,isTruncated:!1});return}},this.getEllipsisState=()=>O(this,void 0,void 0,function*(){let{rows:e,suffix:n,pos:r}=this.getEllipsisOpt(),{children:i,strong:a}=this.props;if(!this.wrapperRef||!this.wrapperRef.current){yield this.onResize();return}let{expanded:s}=this.state,l=this.canUseCSSEllipsis();if(l)return;if((0,o.default)(i))return new Promise(e=>{this.setState({isTruncated:!1,isOverflowed:!1},e)});if((0,_.default)("children"in this.props&&"string"!=typeof i,"[Semi Typography] Only children with pure text could be used with ellipsis at this moment."),!e||e<0||s)return;let u={expand:this.expandRef.current,copy:this.copyRef&&this.copyRef.current},c=Array.isArray(i)?i.join(""):String(i),d=(0,b.default)(this.wrapperRef.current,e,c,u,"...",n,r,a);return new Promise(e=>{this.setState({isOverflowed:!1,ellipsisContent:d,isTruncated:c!==d},e)})}),this.toggleOverflow=e=>{let{onExpand:n,expandable:r,collapsible:i}=this.getEllipsisOpt(),{expanded:o}=this.state;n&&n(!o,e),(r&&!o||i&&o)&&this.setState({expanded:!o})},this.getEllipsisOpt=()=>{let{ellipsis:e}=this.props;if(!e)return{};let n=Object.assign({rows:1,expandable:!1,pos:"end",suffix:"",showTooltip:!1,collapsible:!1,expandText:e.expandable?this.expandStr:void 0,collapseText:e.collapsible?this.collapseStr:void 0},"object"==typeof e?e:null);return n},this.renderExpandable=()=>{let e;let{expanded:n,isTruncated:r}=this.state;if(!r)return null;let{expandText:i,expandable:o,collapseText:a,collapsible:s}=this.getEllipsisOpt(),l=!o&&(0,u.default)(i),d=!s&&(0,u.default)(a);return(n||l?n&&!d&&(e=a):e=i,l&&d)?null:c.default.createElement("a",{role:"button",tabIndex:0,className:`${P}-ellipsis-expand`,key:"expand",ref:this.expandRef,"aria-label":e,onClick:this.toggleOverflow,onKeyPress:e=>(0,w.default)(e)&&this.toggleOverflow(e)},e)},this.getEllipsisStyle=()=>{let{ellipsis:e,component:n}=this.props;if(!e)return{ellipsisCls:"",ellipsisStyle:{}};let{rows:r}=this.getEllipsisOpt(),{expanded:i}=this.state,o=!i&&this.canUseCSSEllipsis(),a=(0,d.default)({[`${P}-ellipsis`]:!0,[`${P}-ellipsis-single-line`]:1===r,[`${P}-ellipsis-multiple-line`]:r>1,[`${P}-ellipsis-multiple-line-text`]:r>1&&"span"===n,[`${P}-ellipsis-overflow-ellipsis`]:1===r&&o,[`${P}-ellipsis-overflow-ellipsis-text`]:1===r&&o&&"span"===n});return{ellipsisCls:a,ellipsisStyle:o&&r>1?{WebkitLineClamp:r}:{}}},this.renderEllipsisText=e=>{let{suffix:n}=e,{children:r}=this.props,{isTruncated:i,expanded:o,ellipsisContent:a}=this.state;return o||!i?c.default.createElement("span",{onMouseEnter:this.onHover},r,n&&n.length?n:null):c.default.createElement("span",{onMouseEnter:this.onHover},a,n)},this.state={editable:!1,copied:!1,isOverflowed:!1,ellipsisContent:e.children,expanded:!1,isTruncated:!1,prevChildren:null},this.wrapperRef=c.default.createRef(),this.expandRef=c.default.createRef(),this.copyRef=c.default.createRef()}componentDidMount(){this.props.ellipsis&&this.onResize().then(()=>(0,x.runAfterTicks)(()=>this.observerTakingEffect=!0,1))}static getDerivedStateFromProps(e,n){let{prevChildren:r}=n,i={};return i.prevChildren=e.children,e.ellipsis&&r!==e.children&&(i.isOverflowed=!1,i.ellipsisContent=e.children,i.expanded=!1,i.isTruncated=!0),i}componentDidUpdate(e){this.props.children!==e.children&&(this.forceUpdate(),this.props.ellipsis&&this.onResize())}componentWillUnmount(){this.rafId&&window.cancelAnimationFrame(this.rafId)}renderOperations(){return c.default.createElement(c.default.Fragment,null,this.renderExpandable(),this.renderCopy())}renderCopy(){var e;let n;let{copyable:r,children:i}=this.props;if(!r)return null;let o=null!==(e=null==r?void 0:r.content)&&void 0!==e?e:i,a=!1;Array.isArray(o)?(n="",o.forEach(e=>{"object"==typeof e&&(a=!0),n+=String(e)})):("object"!=typeof o||(a=!0),n=String(o)),(0,_.default)(a,"Content to be copied in Typography is a object, it will case a [object Object] mistake when copy to clipboard.");let s=Object.assign({content:n,duration:3},"object"==typeof r?r:null);return c.default.createElement(g.default,Object.assign({},s,{forwardRef:this.copyRef}))}renderIcon(){let{icon:e,size:n}=this.props,r="inherit"===n?this.context:n;return e?c.default.createElement("span",{className:`${P}-icon`,"x-semi-prop":"icon"},(0,x.isSemiIcon)(e)?c.default.cloneElement(e,{size:"small"===r?"small":"default"}):e):null}renderContent(){let e=this.props,{component:n,children:r,className:i,type:o,spacing:s,disabled:u,style:h,ellipsis:f,icon:g,size:y,link:m,heading:b,weight:_}=e,w=M(e,["component","children","className","type","spacing","disabled","style","ellipsis","icon","size","link","heading","weight"]),E=(0,l.default)(w,["strong","editable","mark","copyable","underline","code","delete"]),x="inherit"===y?this.context:y,C=this.renderIcon(),S=this.getEllipsisOpt(),{ellipsisCls:O,ellipsisStyle:I}=this.getEllipsisStyle(),j=f?this.renderEllipsisText(S):r,N=(0,d.default)({[`${P}-link-text`]:m,[`${P}-link-underline`]:this.props.underline&&m});j=D(this.props,c.default.createElement(c.default.Fragment,null,C,this.props.link?c.default.createElement("span",{className:N},j):j));let T=(0,a.default)(b)&&/^h[1-6]$/.test(b),k=(0,d.default)(i,O,{[`${P}-${o}`]:o&&!m,[`${P}-${x}`]:x,[`${P}-link`]:m,[`${P}-disabled`]:u,[`${P}-${s}`]:s,[`${P}-${b}`]:T,[`${P}-${b}-weight-${_}`]:T&&_&&isNaN(Number(_))}),A=Object.assign(Object.assign({},isNaN(Number(_))?{}:{fontWeight:_}),h);return c.default.createElement(p.default,Object.assign({className:k,style:Object.assign(Object.assign({},A),I),component:n,forwardRef:this.wrapperRef},E),j,this.renderOperations())}renderTipWrapper(){let{children:e}=this.props,n=this.showTooltip(),r=this.renderContent();if(!n)return r;{let{type:o,opts:a,renderTooltip:s}=n;return(0,i.default)(s)?s(e,r):"popover"===o.toLowerCase()?c.default.createElement(m.default,Object.assign({content:e,position:"top"},a),r):c.default.createElement(y.default,Object.assign({content:e,position:"top"},a),r)}}render(){var e=this;let{size:n}=this.props,r="inherit"===n?this.context:n,i=c.default.createElement(C.default.Provider,{value:r},c.default.createElement(E.default,{componentName:"Typography"},e=>(this.expandStr=e.expand,this.collapseStr=e.collapse,this.renderTipWrapper())));return this.props.ellipsis?c.default.createElement(S.default,{onResize:function(){e.observerTakingEffect&&e.onResize(...arguments)},observeParent:!0,observerProperty:S.ObserverProperty.Width},i):i}}I.propTypes={children:h.default.node,copyable:h.default.oneOfType([h.default.shape({text:h.default.string,onCopy:h.default.func,successTip:h.default.node,copyTip:h.default.node}),h.default.bool]),delete:h.default.bool,disabled:h.default.bool,ellipsis:h.default.oneOfType([h.default.shape({rows:h.default.number,expandable:h.default.bool,expandText:h.default.string,onExpand:h.default.func,suffix:h.default.string,showTooltip:h.default.oneOfType([h.default.shape({type:h.default.string,opts:h.default.object}),h.default.bool]),collapsible:h.default.bool,collapseText:h.default.string,pos:h.default.oneOf(["end","middle"])}),h.default.bool]),mark:h.default.bool,underline:h.default.bool,link:h.default.oneOfType([h.default.object,h.default.bool]),spacing:h.default.oneOf(f.strings.SPACING),strong:h.default.bool,size:h.default.oneOf(f.strings.SIZE),type:h.default.oneOf(f.strings.TYPE),style:h.default.object,className:h.default.string,icon:h.default.oneOfType([h.default.node,h.default.string]),heading:h.default.string,component:h.default.string},I.defaultProps={children:null,copyable:!1,delete:!1,disabled:!1,ellipsis:!1,icon:"",mark:!1,underline:!1,strong:!1,link:!1,type:"primary",spacing:"normal",size:"normal",style:{},className:""},I.contextType=C.default},63137:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var i=r.ir(r("56144"));let o=i.default.createContext("normal");var a=o},78932:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{Copyable:function(){return g},default:function(){return y}});var i=r.ir(r("56144")),o=r.ir(r("40472")),a=r.ir(r("9838")),s=r("90531"),l=r.ir(r("69652")),u=r.ir(r("37894")),c=r("11493"),d=r.ir(r("80675")),h=r("73543"),f=r.ir(r("31448"));let p=s.cssClasses.PREFIX;class g extends i.default.PureComponent{constructor(e){super(e),this.copy=e=>{let{content:n,duration:r,onCopy:i}=this.props,o=(0,l.default)(n);i&&i(e,n,o),this.setCopied(n,r)},this.setCopied=(e,n)=>{this.setState({copied:!0,item:e}),this._timeId=setTimeout(()=>{this.resetCopied()},1e3*n)},this.resetCopied=()=>{this._timeId&&(clearTimeout(this._timeId),this._timeId=null,this.setState({copied:!1,item:""}))},this.renderSuccessTip=()=>{let{successTip:e}=this.props;return void 0!==e?e:i.default.createElement(d.default,{componentName:"Typography"},e=>i.default.createElement("span",null,i.default.createElement(h.IconTick,null),e.copied))},this.renderCopyIcon=()=>{let{icon:e}=this.props,n={role:"button",tabIndex:0,onClick:this.copy,onKeyPress:e=>(0,f.default)(e)&&this.copy(e)},r=i.default.createElement("a",{className:`${p}-action-copy-icon`},i.default.createElement(h.IconCopy,Object.assign({onClick:this.copy},n)));return i.default.isValidElement(e)?i.default.cloneElement(e,n):r},this.state={copied:!1,item:""}}componentWillUnmount(){this._timeId&&(clearTimeout(this._timeId),this._timeId=null)}render(){let{style:e,className:n,forwardRef:r,copyTip:o,render:s}=this.props,{copied:l}=this.state,c=(0,u.default)(n,{[`${p}-action-copy`]:!l,[`${p}-action-copied`]:l});return s?s(l,this.copy,this.props):i.default.createElement(d.default,{componentName:"Typography"},n=>i.default.createElement("span",{style:Object.assign({marginLeft:"4px"},e),className:c,ref:r},l?this.renderSuccessTip():i.default.createElement(a.default,{content:void 0!==o?o:n.copy},this.renderCopyIcon())))}}g.propTypes={content:o.default.string,onCopy:o.default.func,successTip:o.default.node,copyTip:o.default.node,duration:o.default.number,style:o.default.object,className:o.default.string,icon:o.default.node},g.defaultProps={content:"",onCopy:c.noop,duration:3,style:{},className:""};var y=g},33758:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return c}});var i=r.ir(r("10359")),o=r.ir(r("31550")),a=r.ir(r("52410")),s=r.ir(r("38022")),l=r.ir(r("13491"));let u=i.default;u.Text=o.default,u.Title=a.default,u.Paragraph=s.default,u.Numeral=l.default;var c=u},13491:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return u}});var i=r.ir(r("56144")),o=r.ir(r("40472")),a=r("90531"),s=r.ir(r("15749")),l=r.ir(r("45931"));class u extends i.PureComponent{formatNodeDFS(e){return!Array.isArray(e)&&(e=[e]),1===(e=e.map(e=>"string"==typeof e||"number"==typeof e?new l.default(String(e),this.props.rule,this.props.precision,this.props.truncate,this.props.parser).format():"function"==typeof e?this.formatNodeDFS(e()):"object"==typeof e&&"children"in e.props?Object.assign(Object.assign({},e),{props:Object.assign(Object.assign({},e.props),{children:this.formatNodeDFS(e.props.children)})}):e)).length?e[0]:e}render(){let e=Object.assign({},this.props);return delete e.rule,delete e.parser,e.children=this.formatNodeDFS(this.props.children),i.default.createElement(s.default,Object.assign({component:"span"},e))}}u.propTypes={rule:o.default.oneOf(a.strings.RULE),precision:o.default.number,truncate:o.default.oneOf(a.strings.TRUNCATE),parser:o.default.func,copyable:o.default.oneOfType([o.default.object,o.default.bool]),delete:o.default.bool,disabled:o.default.bool,icon:o.default.oneOfType([o.default.node,o.default.string]),mark:o.default.bool,underline:o.default.bool,link:o.default.oneOfType([o.default.object,o.default.bool]),strong:o.default.bool,type:o.default.oneOf(a.strings.TYPE),size:o.default.oneOf(a.strings.SIZE),style:o.default.object,className:o.default.string,code:o.default.bool,component:o.default.string},u.defaultProps={rule:"text",precision:0,truncate:"round",parser:void 0,copyable:!1,delete:!1,icon:"",mark:!1,underline:!1,strong:!1,link:!1,type:"primary",style:{},size:"normal",className:""}},38022:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return c}});var i=r.ir(r("56144")),o=r.ir(r("40472")),a=r.ir(r("37894")),s=r("90531"),l=r.ir(r("15749"));let u=s.cssClasses.PREFIX;class c extends i.PureComponent{render(){let{className:e}=this.props,n=(0,a.default)(e,`${u}-paragraph`);return i.default.createElement(l.default,Object.assign({component:"p"},this.props,{className:n}))}}c.propTypes={copyable:o.default.oneOfType([o.default.object,o.default.bool]),delete:o.default.bool,disabled:o.default.bool,ellipsis:o.default.oneOfType([o.default.object,o.default.bool]),mark:o.default.bool,link:o.default.oneOfType([o.default.object,o.default.bool]),underline:o.default.bool,strong:o.default.bool,type:o.default.oneOf(s.strings.TYPE),size:o.default.oneOf(s.strings.SIZE),spacing:o.default.oneOf(s.strings.SPACING),style:o.default.object,className:o.default.string,component:o.default.string},c.defaultProps={copyable:!1,delete:!1,disabled:!1,ellipsis:!1,mark:!1,underline:!1,strong:!1,link:!1,type:"primary",size:"normal",spacing:"normal",style:{},className:""}},31550:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return l}});var i=r.ir(r("56144")),o=r.ir(r("40472")),a=r("90531"),s=r.ir(r("15749"));class l extends i.PureComponent{render(){return i.default.createElement(s.default,Object.assign({component:"span"},this.props))}}l.propTypes={copyable:o.default.oneOfType([o.default.object,o.default.bool]),delete:o.default.bool,disabled:o.default.bool,icon:o.default.oneOfType([o.default.node,o.default.string]),ellipsis:o.default.oneOfType([o.default.object,o.default.bool]),mark:o.default.bool,underline:o.default.bool,link:o.default.oneOfType([o.default.object,o.default.bool]),strong:o.default.bool,type:o.default.oneOf(a.strings.TYPE),size:o.default.oneOf(a.strings.SIZE),style:o.default.object,className:o.default.string,code:o.default.bool,component:o.default.string,weight:o.default.number},l.defaultProps={copyable:!1,delete:!1,disabled:!1,icon:"",ellipsis:!1,mark:!1,underline:!1,strong:!1,link:!1,type:"primary",style:{},size:"normal",className:""}},52410:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return u}});var i=r.ir(r("56144")),o=r.ir(r("40472")),a=r("90531"),s=r.ir(r("15749")),l=function(e,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>n.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)0>n.indexOf(i[o])&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(r[i[o]]=e[i[o]]);return r};class u extends i.PureComponent{render(){let e=this.props,{heading:n}=e,r=l(e,["heading"]),o=-1!==a.strings.HEADING.indexOf(n)?`h${n}`:"h1";return i.default.createElement(s.default,Object.assign({component:o,heading:o},r))}}u.propTypes={copyable:o.default.oneOfType([o.default.object,o.default.bool]),delete:o.default.bool,disabled:o.default.bool,ellipsis:o.default.oneOfType([o.default.object,o.default.bool]),mark:o.default.bool,link:o.default.oneOfType([o.default.object,o.default.bool]),underline:o.default.bool,strong:o.default.bool,type:o.default.oneOf(a.strings.TYPE),heading:o.default.oneOf(a.strings.HEADING),style:o.default.object,className:o.default.string,component:o.default.string,weight:o.default.oneOfType([o.default.oneOf(a.strings.WEIGHT),o.default.number])},u.defaultProps={copyable:!1,delete:!1,disabled:!1,ellipsis:!1,mark:!1,underline:!1,strong:!1,link:!1,type:"primary",heading:1,style:{},className:""}},10359:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return d}});var i=r.ir(r("56144")),o=r.ir(r("37894")),a=r.ir(r("40472")),s=r("90531"),l=function(e,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>n.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)0>n.indexOf(i[o])&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(r[i[o]]=e[i[o]]);return r};let u=s.cssClasses.PREFIX;class c extends i.PureComponent{render(){let e=this.props,{component:n,className:r,children:a,forwardRef:s}=e,c=l(e,["component","className","children","forwardRef"]),d=(0,o.default)(u,r);return i.default.createElement(n,Object.assign({className:d,ref:s},c),a)}}c.defaultProps={component:"article",style:{},className:""},c.propTypes={component:a.default.string,style:a.default.object,className:a.default.string};var d=c},59204:function(e,n,r){"use strict";let i;Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var o=r.ir(r("51854"));function a(e){if(!e)return 0;let n=e.match(/^\d*(\.\d*)?/);return n?Number(n[0]):0}var s=function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=arguments.length>3?arguments[3]:void 0,l=arguments.length>4?arguments[4]:void 0,u=arguments.length>5?arguments[5]:void 0,c=arguments.length>6?arguments[6]:void 0,d=arguments.length>7?arguments[7]:void 0;if(0===r.length)return"";!i&&((i=document.createElement("div")).setAttribute("aria-hidden","true"),document.body.appendChild(i));let h=window.getComputedStyle(e),f=function(e){let n=Array.prototype.slice.apply(e);return n.map(n=>`${n}: ${e.getPropertyValue(n)};`).join("")}(h),p=a(h.lineHeight),g=Math.round(p*(n+1)+a(h.paddingTop)+a(h.paddingBottom));function y(){let e=i.scrollWidth<=i.offsetWidth,r=i.scrollHeight<g;return 1===n?e&&r:r}i.setAttribute("style",f),i.style.position="fixed",i.style.left="0","auto"===h.getPropertyValue("width")&&e.offsetWidth&&(i.style.width=`${e.offsetWidth}px`),i.style.height="auto",i.style.top="-999999px",i.style.zIndex="-1000",d&&(i.style.fontWeight="600"),i.style.textOverflow="clip",i.style.webkitLineClamp="none",i.innerHTML="";let m=document.createElement("span"),b=document.createTextNode(r);if(m.appendChild(b),u.length>0){let e=document.createTextNode(u);m.appendChild(e)}i.appendChild(m),Object.values((0,o.default)(s,"expand")).map(e=>e&&i.appendChild(e.cloneNode(!0)));function _(e,n){let r=e.length;return n?"end"===c?e.slice(0,n)+l:e.slice(0,n)+l+e.slice(r-n,r):l}let w=r;return!y()&&(i.innerHTML="",i.appendChild(m),Object.values(s).map(e=>e&&i.appendChild(e.cloneNode(!0))),w=function e(n,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.length,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=Math.floor((i+o)/2),u=_(r,s);if(n.textContent=u,i>=o-1&&o>0)for(let e=o;e>=i;e-=1){let i=_(r,e);if(n.textContent=i,y())return i}else if(0===o)return l;return y()?e(n,r,s,o,s):e(n,r,i,s,a)}(b,r,0,"middle"===c?Math.floor(r.length/2):r.length)),i.innerHTML="",w}},58763:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var i=r.ir(r("3986")),o=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,a=(0,i.default)(function(e){return o.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&91>e.charCodeAt(2)})},3986:function(e,n,r){"use strict";function i(e){var n=Object.create(null);return function(r){return void 0===n[r]&&(n[r]=e(r)),n[r]}}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}})},99338:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var i=function(e){function n(e,n,i){var o=n.trim().split(g);n=o;var a=o.length,s=e.length;switch(s){case 0:case 1:var l=0;for(e=0===s?"":e[0]+" ";l<a;++l)n[l]=r(e,n[l],i).trim();break;default:var u=l=0;for(n=[];l<a;++l)for(var c=0;c<s;++c)n[u++]=r(e[c]+" ",o[l],i).trim()}return n}function r(e,n,r){var i=n.charCodeAt(0);switch(33>i&&(i=(n=n.trim()).charCodeAt(0)),i){case 38:return n.replace(y,"$1"+e.trim());case 58:return e.trim()+n.replace(y,"$1"+e.trim());default:if(0<1*r&&0<n.indexOf("\f"))return n.replace(y,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+n}function i(e,n,r,a){var s=e+";",l=2*n+3*r+4*a;if(944===l){e=s.indexOf(":",9)+1;var u=s.substring(e,s.length-1).trim();return u=s.substring(0,e).trim()+u+";",1===j||2===j&&o(u,1)?"-webkit-"+u+u:u}if(0===j||2===j&&!o(s,1))return s;switch(l){case 1015:return 97===s.charCodeAt(10)?"-webkit-"+s+s:s;case 951:return 116===s.charCodeAt(3)?"-webkit-"+s+s:s;case 963:return 110===s.charCodeAt(5)?"-webkit-"+s+s:s;case 1009:if(100!==s.charCodeAt(4))break;case 969:case 942:return"-webkit-"+s+s;case 978:return"-webkit-"+s+"-moz-"+s+s;case 1019:case 983:return"-webkit-"+s+"-moz-"+s+"-ms-"+s+s;case 883:if(45===s.charCodeAt(8))return"-webkit-"+s+s;if(0<s.indexOf("image-set(",11))return s.replace(M,"$1-webkit-$2")+s;break;case 932:if(45===s.charCodeAt(4))switch(s.charCodeAt(5)){case 103:return"-webkit-box-"+s.replace("-grow","")+"-webkit-"+s+"-ms-"+s.replace("grow","positive")+s;case 115:return"-webkit-"+s+"-ms-"+s.replace("shrink","negative")+s;case 98:return"-webkit-"+s+"-ms-"+s.replace("basis","preferred-size")+s}return"-webkit-"+s+"-ms-"+s+s;case 964:return"-webkit-"+s+"-ms-flex-"+s+s;case 1023:if(99!==s.charCodeAt(8))break;return"-webkit-box-pack"+(u=s.substring(s.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+s+"-ms-flex-pack"+u+s;case 1005:return f.test(s)?s.replace(h,":-webkit-")+s.replace(h,":-moz-")+s:s;case 1e3:switch(n=(u=s.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(n)){case 226:u=s.replace(w,"tb");break;case 232:u=s.replace(w,"tb-rl");break;case 220:u=s.replace(w,"lr");break;default:return s}return"-webkit-"+s+"-ms-"+u+s;case 1017:if(-1===s.indexOf("sticky",9))break;case 975:switch(n=(s=e).length-10,l=(u=(33===s.charCodeAt(n)?s.substring(0,n):s).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:s=s.replace(u,"-webkit-"+u)+";"+s;break;case 207:case 102:s=s.replace(u,"-webkit-"+(102<l?"inline-":"")+"box")+";"+s.replace(u,"-webkit-"+u)+";"+s.replace(u,"-ms-"+u+"box")+";"+s}return s+";";case 938:if(45===s.charCodeAt(5))switch(s.charCodeAt(6)){case 105:return u=s.replace("-items",""),"-webkit-"+s+"-webkit-box-"+u+"-ms-flex-"+u+s;case 115:return"-webkit-"+s+"-ms-flex-item-"+s.replace(C,"")+s;default:return"-webkit-"+s+"-ms-flex-line-pack"+s.replace("align-content","").replace(C,"")+s}break;case 973:case 989:if(45!==s.charCodeAt(3)||122===s.charCodeAt(4))break;case 931:case 953:if(!0===O.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),n,r,a).replace(":fill-available",":stretch"):s.replace(u,"-webkit-"+u)+s.replace(u,"-moz-"+u.replace("fill-",""))+s;break;case 962:if(s="-webkit-"+s+(102===s.charCodeAt(5)?"-ms-"+s:"")+s,211===r+a&&105===s.charCodeAt(13)&&0<s.indexOf("transform",10))return s.substring(0,s.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+s}return s}function o(e,n){var r=e.indexOf(1===n?":":"{"),i=e.substring(0,3!==n?r:10);return r=e.substring(r+1,e.length-1),A(2!==n?i:i.replace(S,"$1"),r,n)}function a(e,n){var r=i(n,n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2));return r!==n+";"?r.replace(x," or ($1)").substring(4):"("+n+")"}function s(e,n,r,i,o,a,s,l,c,d){for(var h,f=0,p=n;f<k;++f)switch(h=T[f].call(u,e,p,r,i,o,a,s,l,c,d)){case void 0:case!1:case!0:case null:break;default:p=h}if(p!==n)return p}function l(e){return void 0!==(e=e.prefix)&&(A=null,e?"function"!=typeof e?j=1:(j=2,A=e):j=0),l}function u(e,r){var l=e;if(33>l.charCodeAt(0)&&(l=l.trim()),l=[L=l],0<k){var u=s(-1,r,l,l,D,P,0,0,0,0);void 0!==u&&"string"==typeof u&&(r=u)}var h=function e(r,l,u,h,f){for(var p,g,y,w,x,C=0,S=0,O=0,M=0,T=0,A=0,L=y=p=0,F=0,z=0,B=0,V=0,$=u.length,U=$-1,H="",W="",K="",G="";F<$;){if(g=u.charCodeAt(F),F===U&&0!==S+M+O+C&&(0!==S&&(g=47===S?10:47),M=O=C=0,$++,U++),0===S+M+O+C){if(F===U&&(0<z&&(H=H.replace(d,"")),0<H.trim().length)){switch(g){case 32:case 9:case 59:case 13:case 10:break;default:H+=u.charAt(F)}g=59}switch(g){case 123:for(p=(H=H.trim()).charCodeAt(0),y=1,V=++F;F<$;){switch(g=u.charCodeAt(F)){case 123:y++;break;case 125:y--;break;case 47:switch(g=u.charCodeAt(F+1)){case 42:case 47:e:{for(L=F+1;L<U;++L)switch(u.charCodeAt(L)){case 47:if(42===g&&42===u.charCodeAt(L-1)&&F+2!==L){F=L+1;break e}break;case 10:if(47===g){F=L+1;break e}}F=L}}break;case 91:g++;case 40:g++;case 34:case 39:for(;F++<U&&u.charCodeAt(F)!==g;);}if(0===y)break;F++}if(y=u.substring(V,F),0===p&&(p=(H=H.replace(c,"").trim()).charCodeAt(0)),64===p){switch(0<z&&(H=H.replace(d,"")),g=H.charCodeAt(1)){case 100:case 109:case 115:case 45:z=l;break;default:z=N}if(V=(y=e(l,z,y,g,f+1)).length,0<k&&(z=n(N,H,B),x=s(3,y,z,l,D,P,V,g,f,h),H=z.join(""),void 0!==x&&0===(V=(y=x.trim()).length)&&(g=0,y="")),0<V)switch(g){case 115:H=H.replace(E,a);case 100:case 109:case 45:y=H+"{"+y+"}";break;case 107:y=(H=H.replace(m,"$1 $2"))+"{"+y+"}",y=1===j||2===j&&o("@"+y,3)?"@-webkit-"+y+"@"+y:"@"+y;break;default:y=H+y,112===h&&(W+=y,y="")}else y=""}else y=e(l,n(l,H,B),y,h,f+1);K+=y,y=B=z=L=p=0,H="",g=u.charCodeAt(++F);break;case 125:case 59:if(1<(V=(H=(0<z?H.replace(d,""):H).trim()).length))switch(0===L&&(45===(p=H.charCodeAt(0))||96<p&&123>p)&&(V=(H=H.replace(" ",":")).length),0<k&&void 0!==(x=s(1,H,l,r,D,P,W.length,h,f,h))&&0===(V=(H=x.trim()).length)&&(H="\x00\x00"),p=H.charCodeAt(0),g=H.charCodeAt(1),p){case 0:break;case 64:if(105===g||99===g){G+=H+u.charAt(F);break}default:58!==H.charCodeAt(V-1)&&(W+=i(H,p,g,H.charCodeAt(2)))}B=z=L=p=0,H="",g=u.charCodeAt(++F)}}switch(g){case 13:case 10:47===S?S=0:0===1+p&&107!==h&&0<H.length&&(z=1,H+="\x00"),0<k*R&&s(0,H,l,r,D,P,W.length,h,f,h),P=1,D++;break;case 59:case 125:if(0===S+M+O+C){P++;break}default:switch(P++,w=u.charAt(F),g){case 9:case 32:if(0===M+C+S)switch(T){case 44:case 58:case 9:case 32:w="";break;default:32!==g&&(w=" ")}break;case 0:w="\\0";break;case 12:w="\\f";break;case 11:w="\\v";break;case 38:0===M+S+C&&(z=B=1,w="\f"+w);break;case 108:if(0===M+S+C+I&&0<L)switch(F-L){case 2:112===T&&58===u.charCodeAt(F-3)&&(I=T);case 8:111===A&&(I=A)}break;case 58:0===M+S+C&&(L=F);break;case 44:0===S+O+M+C&&(z=1,w+="\r");break;case 34:case 39:0===S&&(M=M===g?0:0===M?g:M);break;case 91:0===M+S+O&&C++;break;case 93:0===M+S+O&&C--;break;case 41:0===M+S+C&&O--;break;case 40:if(0===M+S+C){if(0===p){if(2*T+3*A==533);else p=1}O++}break;case 64:0===S+O+M+C+L+y&&(y=1);break;case 42:case 47:if(!(0<M+C+O))switch(S){case 0:switch(2*g+3*u.charCodeAt(F+1)){case 235:S=47;break;case 220:V=F,S=42}break;case 42:47===g&&42===T&&V+2!==F&&(33===u.charCodeAt(V+2)&&(W+=u.substring(V,F+1)),w="",S=0)}}0===S&&(H+=w)}A=T,T=g,F++}if(0<(V=W.length)){if(z=l,0<k&&void 0!==(x=s(2,W,z,r,D,P,V,h,f,h))&&0===(W=x).length)return G+W+K;if(W=z.join(",")+"{"+W+"}",0!=j*I){switch(2!==j||o(W,2)||(I=0),I){case 111:W=W.replace(_,":-moz-$1")+W;break;case 112:W=W.replace(b,"::-webkit-input-$1")+W.replace(b,"::-moz-$1")+W.replace(b,":-ms-input-$1")+W}I=0}}return G+W+K}(N,l,r,0,0);return 0<k&&void 0!==(u=s(-2,h,l,l,D,P,h.length,0,0,0))&&(h=u),L="",I=0,P=D=1,h}var c=/^\0+/g,d=/[\0\r\f]/g,h=/: */g,f=/zoo|gra/,p=/([,: ])(transform)/g,g=/,\r+?/g,y=/([\t\r\n ])*\f?&/g,m=/@(k\w+)\s*(\S*)\s*/,b=/::(place)/g,_=/:(read-only)/g,w=/[svh]\w+-[tblr]{2}/,E=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,C=/-self|flex-/g,S=/[^]*?(:[rp][el]a[\w-]+)[^]*/,O=/stretch|:\s*\w+\-(?:conte|avail)/,M=/([^-])(image-set\()/,P=1,D=1,I=0,j=1,N=[],T=[],k=0,A=null,R=0,L="";return u.use=function e(n){switch(n){case void 0:case null:k=T.length=0;break;default:if("function"==typeof n)T[k++]=n;else if("object"==typeof n)for(var r=0,i=n.length;r<i;++r)e(n[r]);else R=0|!!n}return e},u.set=l,void 0!==e&&l(e),u}},13613:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var i={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},97572:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{BackgroundLayer:function(){return u},createBackgroundPlugin:function(){return c}});var i=r("93665"),o=r("85870"),a=Object.defineProperty,s=Object.getOwnPropertyDescriptor,l=0,u=class extends i.Layer{constructor(){super(...arguments),this._patternId=`gedit-background-pattern-${l++}`,this.node=o.domUtils.createDivWithClass("gedit-flow-background-layer"),this.grid=document.createElement("div")}get zoom(){return this.config.finalScale}onReady(){let{firstChild:e}=this.pipelineNode;this.pipelineNode.insertBefore(this.node,e),this.playgroundConfigEntity.updateConfig({minZoom:.1,maxZoom:2}),this.grid.style.zIndex="-1",this.grid.style.position="relative",this.node.appendChild(this.grid),this.grid.className="gedit-grid-svg"}getScaleUnit(){let{zoom:e}=this;return{realSize:20,renderSize:Math.round(20*e*100)/100,zoom:e}}autorun(){let e=this.playgroundConfigEntity.config,n=this.getScaleUnit(),r=10*n.renderSize,a=e.width+2*r,s=e.height+2*r,{scrollX:l}=e,{scrollY:u}=e,c=this.getScrollDelta(l,r),d=this.getScrollDelta(u,r);o.domUtils.setStyle(this.node,{left:l-i.SCALE_WIDTH,top:u-i.SCALE_WIDTH}),this.drawGrid(n),this.setSVGStyle(this.grid,{width:a,height:s,left:i.SCALE_WIDTH-c-r,top:i.SCALE_WIDTH-d-r})}drawGrid(e){let n=e.renderSize;if(!this.grid)return;let r=1*this.zoom,i=`
    <svg width="100%" height="100%">
      <pattern id="${this._patternId}" width="${n}" height="${n}" patternUnits="userSpaceOnUse">
        <circle
          cx="${r}"
          cy="${r}"
          r="${r}"
          stroke="#eceeef"
          fill-opacity="0.5"
        />
      </pattern>
      <rect width="100%" height="100%" fill="url(#${this._patternId})"/>
    </svg>`;this.grid.innerHTML=i}setSVGStyle(e,n){e&&(e.style.width=`${n.width}px`,e.style.height=`${n.height}px`,e.style.left=`${n.left}px`,e.style.top=`${n.top}px`)}getScrollDelta(e,n){return e>=0?e%n:n-Math.abs(e)%n}};u.type="WorkflowBackgroundLayer",((e,n,r,i)=>{for(var o=i>1?void 0:i?s(n,r):n,l,u=e.length-1;u>=0;u--)(l=e[u])&&(o=(i?l(n,r,o):l(o))||o);return i&&o&&a(n,r,o)})([(0,i.observeEntity)(i.PlaygroundConfigEntity)],u.prototype,"playgroundConfigEntity",2);var c=(0,i.definePluginCreator)({onInit:(e,n)=>{e.playground.registerLayer(u,n)}})},74550:function(e,n,r){"use strict";let i;Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{Command:function(){return s},CommandContainerModule:function(){return b},CommandContribution:function(){return p},CommandRegistry:function(){return y},CommandRegistryFactory:function(){return g},CommandService:function(){return m}});var o,a,s,l,u=r("91516"),c=r("85870"),d=Object.defineProperty,h=Object.getOwnPropertyDescriptor,f=(e,n,r,i)=>{for(var o=i>1?void 0:i?h(n,r):n,a,s=e.length-1;s>=0;s--)(a=e[s])&&(o=(i?a(n,r,o):a(o))||o);return i&&o&&d(n,r,o),o};(a=(o=s||(s={})).Default||(o.Default={})).ZOOM_IN="ZOOM_IN",a.ZOOM_OUT="ZOOM_OUT",a.DELETE="DELETE",a.COPY="COPY",a.PASTE="PASTE",a.UNDO="UNDO",a.REDO="REDO",a.VIEW_CLOSE_ALL_WIDGET="view.closeAllWidget",a.VIEW_CLOSE_CURRENT_WIDGET="view.closeCurrentWidget",a.VIEW_REOPEN_LAST_WIDGET="view.reopenLastWidget",a.VIEW_CLOSE_OTHER_WIDGET="view.closeOtherWidget",a.VIEW_CLOSE_BOTTOM_PANEL="view.closeBottomPannel",a.VIEW_OPEN_NEXT_TAB="view.openNextTab",a.VIEW_OEPN_LAST_TAB="view.openLastTab",a.VIEW_FULL_SCREEN="view.fullScreen",a.VIEW_SAVING_WIDGET_CLOSE_CONFIRM="view.savingWidgetCloseConfirm",a.VIEW_SHORTCUTS="view.shortcuts",a.VIEW_PREFERENCES="view.preferences",a.VIEW_LOG="view.log",a.VIEW_PROBLEMS="view.problems",o.is=function(e){return!!e&&e===Object(e)&&"id"in e};var p=Symbol("CommandContribution");(l||(l={})).findSimple=function(e,n){for(let r of e.values())if(r.id===n.id&&r.args.length===n.args.length&&r.args.every((e,r)=>n[r]===e))return r};var g="CommandRegistryFactory",y=class{constructor(){this._handlers={},this._commands={},this._commandExecutings=new Set,this.toUnregisterCommands=new Map,this.onDidExecuteCommandEmitter=new c.Emitter,this.onDidExecuteCommand=this.onDidExecuteCommandEmitter.event,this.onWillExecuteCommandEmitter=new c.Emitter,this.onWillExecuteCommand=this.onWillExecuteCommandEmitter.event}init(){for(let e of this.contributions)e.registerCommands(this)}get commands(){let e=[];for(let n of this.commandIds){let r=this.getCommand(n);r&&e.push(r)}return e}get commandIds(){return Object.keys(this._commands)}registerCommand(e,n){let r="string"==typeof e?{id:e}:e;if(this._commands[r.id])return console.warn(`A command ${r.id} is already registered.`),c.Disposable.NULL;let i=new c.DisposableCollection(this.doRegisterCommand(r));return n&&i.push(this.registerHandler(r.id,n)),this.toUnregisterCommands.set(r.id,i),i.push(c.Disposable.create(()=>this.toUnregisterCommands.delete(r.id))),i}unregisterCommand(e){let n=s.is(e)?e.id:e,r=this.toUnregisterCommands.get(n);r&&r.dispose()}registerHandler(e,n){let r=this._handlers[e];return!r&&(this._handlers[e]=r=[]),r.unshift(n),{dispose:()=>{let e=r.indexOf(n);e>=0&&r.splice(e,1)}}}isVisible(e,...n){return void 0!==this.getVisibleHandler(e,...n)}isEnabled(e,...n){return void 0!==this.getActiveHandler(e,...n)}isToggled(e,...n){return void 0!==this.getToggledHandler(e,...n)}async executeCommand(e,...n){let r=this.getActiveHandler(e,...n),i={id:e,args:n},o=l.findSimple(this._commandExecutings,i);if(o)return i.promise;if(r)try{this._commandExecutings.add(i),this.onWillExecuteCommandEmitter.fire({commandId:e,args:n});let o=r.execute(...n);i.promise=o;let a=await o;return this.onDidExecuteCommandEmitter.fire({commandId:e,args:n}),a}finally{this._commandExecutings.delete(i)}}getVisibleHandler(e,...n){let r=this._handlers[e];if(r)for(let e of r)try{if(!e.isVisible||e.isVisible(...n))return e}catch(e){console.error(e)}}getActiveHandler(e,...n){let r=this._handlers[e];if(r)for(let e of r)try{if(!e.isEnabled||e.isEnabled(...n))return e}catch(e){console.error(e)}}getAllHandlers(e){let n=this._handlers[e];return n?n.slice():[]}getToggledHandler(e,...n){let r=this._handlers[e];if(r)for(let e of r)try{if(e.isToggled&&e.isToggled(...n))return e}catch(e){console.error(e)}}getCommand(e){return this._commands[e]}doRegisterCommand(e){return this._commands[e.id]=e,{dispose:()=>{delete this._commands[e.id]}}}updateCommand(e,n){this._commands[e]&&(this._commands[e]={...this._commands[e],...n})}dispose(){this.onWillExecuteCommandEmitter.dispose(),this.onDidExecuteCommandEmitter.dispose()}};f([(0,u.multiInject)(p),(0,u.optional)()],y.prototype,"contributions",2),y=f([(0,u.injectable)()],y);var m=Symbol("CommandService"),b=new u.ContainerModule(e=>{(0,c.bindContributionProvider)(e,p),e(y).toSelf().inSingletonScope(),e(m).toService(y),e(g).toFactory(e=>()=>e.container.get(y))})},93665:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{Bounds:function(){return d},ClipboardService:function(){return tw},Command:function(){return C.Command},CommandRegistry:function(){return C.CommandRegistry},CommandService:function(){return C.CommandService},ConfigEntity:function(){return te},ContextMenuService:function(){return tx},ContributionProvider:function(){return g.ContributionProvider},DefaultClipboardService:function(){return tE},ENTITIES_BY_DATA_DECO_KEY:function(){return ti},ENTITIES_DECO_KEY:function(){return tr},EditorState:function(){return f},EditorStateConfigEntity:function(){return tk},Entity:function(){return j},EntityData:function(){return N},EntityManager:function(){return tn},FLUSH_LAYER_REQUEST:function(){return tD},FlushLayerMessage:function(){return tj},Layer:function(){return tz},LayerOptions:function(){return tF},LazyInjectContext:function(){return e2},LocalStorageService:function(){return t_},LoggerService:function(){return tS},MOUSE_SCROLL_DELTA:function(){return tR},OriginData:function(){return T},PipelineEntitiesImpl:function(){return tV},PipelineEntitiesSelector:function(){return tM},PipelineLayerFactory:function(){return tm},PipelineLayerPriority:function(){return ty},PipelineRegistry:function(){return tW},PipelineRenderer:function(){return tN},Playground:function(){return t9},PlaygroundConfig:function(){return tZ},PlaygroundConfigEntity:function(){return tL},PlaygroundContainerFactory:function(){return e8},PlaygroundContainerModule:function(){return nt},PlaygroundContext:function(){return e3},PlaygroundContextProvider:function(){return e4},PlaygroundContribution:function(){return tq},PlaygroundDrag:function(){return U},PlaygroundEntityContext:function(){return tX},PlaygroundGesture:function(){return e0},PlaygroundLayer:function(){return tB},PlaygroundReactContainerContext:function(){return tG},PlaygroundReactProvider:function(){return nr},PlaygroundReactRefContext:function(){return tY},PlaygroundReactRenderer:function(){return nu},PlaygroundRegistry:function(){return tJ},PlaygroundSchedule:function(){return V},PluginContext:function(){return t0},PositionData:function(){return k},RotationData:function(){return A},SCALE_WIDTH:function(){return tA},ScaleData:function(){return R},SelectionService:function(){return tv},SizeData:function(){return L},SkewData:function(){return F},StorageService:function(){return tb},TransformData:function(){return B},bindConfigEntity:function(){return tt},bindContributionProvider:function(){return g.bindContributionProvider},bindContributions:function(){return g.bindContributions},bindPlaygroundContextProvider:function(){return e6},createConfigDataRegistry:function(){return e7},createDefaultPlaygroundConfig:function(){return tQ},createPlaygroundContainer:function(){return nn},createPlaygroundLayerDefault:function(){return ne},createPlaygroundPlugin:function(){return t4},createPluginContextDefault:function(){return t7},createRegistryDecorator:function(){return tu},definePluginCreator:function(){return t3},getEntityDatasMetadata:function(){return td},getEntityMetadata:function(){return tc},getRegistryMetadata:function(){return ta},injectByProvider:function(){return e1},injectPlaygroundContext:function(){return e5},loadPlugins:function(){return t1},observeEntities:function(){return tf},observeEntity:function(){return th},observeEntityDatas:function(){return tp},removeInjectedProperties:function(){return tl},startTween:function(){return K},useEntityFromContext:function(){return na},useListenEvents:function(){return ns},usePlayground:function(){return ni},usePlaygroundContainer:function(){return no},useRefresh:function(){return g.useRefresh},useService:function(){return nl}});var i,o,a,s,l,u,c,d,h,f,p,g=r("85870"),y=r("57254"),m=r("91516"),b=r("53168"),_=r.ir(r("8462"));r("11278");var w=r.ir(r("56144")),E=r("7023"),x=r.ir(r("48362")),C=r("74550"),S=Object.defineProperty,O=Object.getOwnPropertyDescriptor,M=(e,n,r,i)=>{for(var o=i>1?void 0:i?O(n,r):n,a,s=e.length-1;s>=0;s--)(a=e[s])&&(o=(i?a(n,r,o):a(o))||o);return i&&o&&S(n,r,o),o},P=(e,n)=>(r,i)=>n(r,i,e),D=Object.__proto__,I=0,j=class{constructor(e){this.onEntityChangeEmitter=new g.Emitter,this.onDataChangeEmitter=new g.Emitter,this.initializeDataKeys=[],this.dataManager=new Map,this.toDispose=new g.DisposableCollection,this.onEntityChange=this.onEntityChangeEmitter.event,this.onDataChange=this.onDataChangeEmitter.event,this._changeLockedTimes=0,this.isInitialized=!0,this._version=I++,this._savedInManager=!0,this.entityManager=e.entityManager,this._id=e.id||(0,y.nanoid)(),this._savedInManager=void 0===e.savedInManager||e.savedInManager,this.isInitialized=!0,this.toDispose.push(this.onEntityChangeEmitter),this.toDispose.push(this.onDataChangeEmitter),this.register(),e.datas&&e.datas.forEach(e=>this.addData(e.registry,e.data)),this.isInitialized=!1}getDefaultDataRegistries(){return[]}get changeLocked(){return this._changeLockedTimes>0}set changeLocked(e){this._changeLockedTimes=e?this._changeLockedTimes+1:this._changeLockedTimes-1,this._changeLockedTimes<0&&(this._changeLockedTimes=0)}get type(){if(!this.constructor.type)throw Error(`Entity Registry need a type: ${this.constructor.name}`);return this.constructor.type}get context(){return this.entityManager.context}addInitializeData(e,n){this.isInitialized=!0,e.forEach(e=>this.addData(e,n)),this.isInitialized=!1}get version(){return this._version}toJSON(){let e=[];for(let n of this.dataManager.values())e.push({type:n.type,data:n.toJSON()});return{type:this.type,id:this.id,dataList:e}}fromJSON(e){e&&e.id&&e.type&&(this.changeLocked=!0,this.reset(),e.dataList&&e.dataList.forEach(e=>{let n=this.entityManager.getDataRegistryByType(e.type);if(n){let r=this.addData(n);r.update(e.data)}}),this.changeLocked=!1,this.fireChange())}get id(){return this._id}dispose(){this.toDispose.dispose()}get disposed(){return this.toDispose.disposed}reset(){for(let e of(this.changeLocked=!0,this.dataManager.values()))!this.initializeDataKeys.includes(e.type)&&e.dispose();this.register(),this.changeLocked=!1,this.fireChange()}get onDispose(){return this.toDispose.onDispose}fireChange(){!this.changeLocked&&!this.isInitialized&&!this.disposed&&(this._version++,this._version>=Number.MAX_SAFE_INTEGER&&(this._version=0),this.onEntityChangeEmitter.fire(this))}addData(e,n){this.entityManager.registerEntityData(e);let r=this.dataManager.get(e.type);if(r)return n&&this.updateData(e,n),r;let i=this.entityManager.getDataInjector(e);r=new e(this,i?.()),this.isInitialized&&this.initializeDataKeys.push(r.type),this.dataManager.set(e.type,r),this.toDispose.push(r),r.onDataChange(()=>{let e={type:"update",data:r,entity:this};this.onDataChangeEmitter.fire(e),this.fireChange()}),r.toDispose.push(g.Disposable.create(()=>{!this.initializeDataKeys.includes(e.type)&&this.dataManager.delete(e.type);let n={type:"delete",data:r,entity:this};this.onDataChangeEmitter.fire(n),this.fireChange()})),r.changeLocked=!0,this.updateData(e,n||r.getDefaultData()),r.changeLocked=!1;let o={type:"add",data:r,entity:this};return this.onDataChangeEmitter.fire(o),r}get savedInManager(){return this._savedInManager}updateData(e,n){let r=this.dataManager.get(e.type);r&&r.update(n)}getData(e){return this.dataManager.get(e.type)}hasData(e){return this.dataManager.has(e.type)}removeData(e){if(this.initializeDataKeys.includes(e.type))return;let n=this.dataManager.get(e.type);n&&n.dispose()}getService(e){return this.entityManager.getService(e)}register(){this.getDefaultDataRegistries().forEach(e=>this.addData(e))}};j.type="Entity",(i=j||(j={})).getType=function(e){return e.type},i.checkDataChanged=function(e,n){return g.Compare.isChanged(e,n)},i.isRegistryOf=function(e,n){if(e===n)return!0;let r=e.__proto__;for(;r&&r!==D;){if(r.prototype===n.prototype)return!0;r=r.__proto__}return!1};var N=class extends g.DisposableImpl{constructor(e,n){super(),this.opts=n,this.onDataChangeEmitter=new g.Emitter,this.onWillChangeEmitter=new g.Emitter,this._changeLocked=!1,this._version=0,this.onDataChange=this.onDataChangeEmitter.event,this.onWillChange=this.onWillChangeEmitter.event,this.entity=e,this._data=this.getDefaultData(),this.toDispose.push(this.onDataChangeEmitter),this.toDispose.push(this.onWillChangeEmitter)}get type(){if(!this.constructor.type)throw Error(`Entity Data Registry need a type: ${this.constructor.name}`);return this.constructor.type}get data(){return this._data}update(e,n){2==arguments.length?this._data[e]!==n&&(this.fireWillChange(),this._data[e]=n,this.fireChange()):this.checkChanged(e)&&(this.fireWillChange(),"object"!=typeof e?this._data=e:this._data={...this._data,...e},this.fireChange())}fullyUpdate(e){g.Compare.isChanged(this._data,e,1,!1)&&(this.fireWillChange(),this._data=e,this.fireChange())}checkChanged(e){return j.checkDataChanged(this._data,e)}toJSON(){return this.data}fromJSON(e){this.update(e)}get changeLocked(){return this._changeLocked}set changeLocked(e){this._changeLocked=e}fireWillChange(){this.onWillChangeEmitter.fire(this)}fireChange(){!this._changeLocked&&(this._version++,this._version>=Number.MAX_SAFE_INTEGER&&(this._version=0),this.onDataChangeEmitter.fire(this))}bindChange(e,n){this.toDispose.push(e.onDataChange(()=>{n&&n(),this.fireChange()}))}get version(){return this._version}};N.type="EntityData";var T=class extends N{getDefaultData(){return g.Schema.createDefault(g.OriginSchemaDecoration)}get x(){return this.data.x}get y(){return this.data.y}set x(e){this.update("x",e)}set y(e){this.update("y",e)}};T.type="OriginData",(class extends N{getDefaultData(){return g.Schema.createDefault(g.OpacitySchemaDecoration)}}).type="OpacityData";var k=class extends N{getDefaultData(){return g.Schema.createDefault(g.PositionSchemaDecoration)}get x(){return this.data.x}get y(){return this.data.y}set x(e){this.update("x",e)}set y(e){this.update("y",e)}};k.type="PositionData";var A=class extends N{getDefaultData(){return g.Schema.createDefault(g.RotationSchemaDecoration)}};A.type="RotationData";var R=class extends N{getDefaultData(){return g.Schema.createDefault(g.ScaleSchemaDecoration)}get x(){return this.data.x}get y(){return this.data.y}set x(e){this.update("x",e)}set y(e){this.update("y",e)}};R.type="ScaleData";var L=class extends N{getDefaultData(){return g.Schema.createDefault(g.SizeSchemaDecoration)}get width(){return this.data.width}get height(){return this.data.height}set width(e){this.update("width",e)}set height(e){this.update("height",e)}get locked(){return!!this.data.locked}set locked(e){this.update("locked",e)}};L.type="SizeData";var F=class extends N{getDefaultData(){return g.Schema.createDefault(g.SkewSchemaDecoration)}get x(){return this.data.x}get y(){return this.data.y}set x(e){this.update("x",e)}set y(e){this.update("y",e)}};F.type="SkewData";var{fixZero:z}=g.Point;(e=>{function n(e,n){return n&&n.apply(e,e),z(e),e}e.getPointWithMatrix=n;e.getBounds=function(e,n){let s=new g.Rectangle;if(!n||n.isSimple()){let{size:r,origin:i}=e;s.x=-(r.width*i.x)+(n?.tx||0),s.y=-(r.height*i.y)+(n?.ty||0),s.width=r.width,s.height=r.height,z(s)}else{let l=r(e,n),u=i(e,n),c=o(e,n),d=a(e,n);s.x=Math.min(l.x,u.x,c.x,d.x),s.y=Math.min(l.y,u.y,c.y,d.y),s.width=Math.max(l.x,u.x,c.x,d.x)-s.x,s.height=Math.max(l.y,u.y,c.y,d.y)-s.y}return s};e.applyMatrix=function(e,r){let i=new g.Rectangle;if(r.isSimple())i.x=e.x+r.tx,i.y=e.y+r.ty,i.width=e.width,i.height=e.height,z(i);else{let o=n(e.leftTop,r),a=n(e.rightTop,r),s=n(e.leftBottom,r),l=n(e.rightBottom,r);i.x=Math.min(o.x,a.x,s.x,l.x),i.y=Math.min(o.y,a.y,s.y,l.y),i.width=Math.max(o.x,a.x,s.x,l.x)-i.x,i.height=Math.max(o.y,a.y,s.y,l.y)-i.y}return i};e.getLeftPointFromBounds=function(e,n){let s=r(e,n),l=i(e,n),u=o(e,n),c=a(e,n),d=[s,l,u,c].sort((e,n)=>e.x-n.x);return d[0]};e.getTopPointFromBounds=function(e,n){let s=r(e,n),l=i(e,n),u=o(e,n),c=a(e,n),d=[s,l,u,c].sort((e,n)=>e.y-n.y);return d[0]};function r(e,r){let{size:i,origin:o}=e,a={x:-(i.width*o.x),y:-(i.height*o.y)};return n(a,r)}e.getCenter=function(e,r){let{size:i,origin:o}=e,a={x:-(i.width*o.x)+i.width/2,y:-(i.height*o.y)+i.height/2};return n(a,r)},e.getTopLeft=r;function i(e,r){let{size:i,origin:o}=e,a={x:-(i.width*o.x)+i.width,y:-(i.height*o.y)};return n(a,r)}e.getTopCenter=function(e,r){let{size:i,origin:o}=e,a={x:-(i.width*o.x)+i.width/2,y:-(i.height*o.y)};return n(a,r)},e.getTopRight=i;e.getLeftCenter=function(e,r){let{size:i,origin:o}=e,a={x:-(i.width*o.x),y:-(i.height*o.y)+i.height/2};return n(a,r)};function o(e,r){let{size:i,origin:o}=e,a={x:-(i.width*o.x),y:-(i.height*o.y)+i.height};return n(a,r)}e.getRightCenter=function(e,r){let{size:i,origin:o}=e,a={x:-(i.width*o.x)+i.width,y:-(i.height*o.y)+i.height/2};return n(a,r)},e.getBottomLeft=o;function a(e,r){let{size:i,origin:o}=e,a={x:-(i.width*o.x)+i.width,y:-(i.height*o.y)+i.height};return n(a,r)}e.getBottomCenter=function(e,r){let{size:i,origin:o}=e,a={x:-(i.width*o.x)+i.width/2,y:-(i.height*o.y)+i.height};return n(a,r)},e.getBottomRight=a})(d||(d={}));var B=class extends N{constructor(e){super(e),this._worldTransform=new g.Matrix,this._localTransform=new g.Matrix,this.mutationCache=new Map,this.sizeToScale=!1,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0,this.bindChange(this.entity.addData(k)),this.bindChange(this.entity.addData(L)),this.bindChange(this.entity.addData(T)),this.bindChange(this.entity.addData(R)),this.bindChange(this.entity.addData(F),()=>this.updateSkew()),this.bindChange(this.entity.addData(A),()=>this.updateSkew())}get children(){return this._children||[]}clearChildren(){this._children&&this._children.slice().forEach(e=>{e.setParent(void 0)})}get isContainer(){return!!this._children&&this._children.length>0}fireChange(){!this.changeLocked&&(this._localID++,this.mutationCache.clear(),super.fireChange())}get localTransform(){return this.updateLocalTransformMatrix(),this._localTransform}get worldTransform(){return this.updateTransformMatrix(),this._worldTransform}getDefaultData(){return g.Schema.createDefault(g.TransformSchemaDecoration)}update(e){e.position&&this.entity.updateData(k,e.position),e.size&&this.entity.updateData(L,e.size),e.origin&&this.entity.updateData(T,e.origin),e.scale&&this.entity.updateData(R,e.scale),e.skew&&this.entity.updateData(F,e.skew),void 0!==e.rotation&&this.entity.updateData(A,e.rotation)}get position(){return this.entity.getData(k)}set position(e){this.entity.updateData(k,e)}get size(){return this.entity.getData(L)}set size(e){this.entity.updateData(L,e)}get origin(){return this.entity.getData(T)}set origin(e){this.entity.updateData(T,e)}get scale(){return this.entity.getData(R)}set scale(e){this.entity.updateData(R,e)}get skew(){return this.entity.getData(F)}set skew(e){this.entity.updateData(F,e)}get rotation(){return this.entity.getData(A).data}set rotation(e){this.entity.updateData(A,e)}get data(){return g.TransformSchema.toJSON(this)}updateSkew(){let{rotation:e}=this;this._cx=Math.cos(e+this.skew.y),this._sx=Math.sin(e+this.skew.y),this._cy=-Math.sin(e-this.skew.x),this._sy=Math.cos(e-this.skew.x),this._localID++}updateLocalTransformMatrix(){let e=this._localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x,e.ty=this.position.y,this._currentLocalID=this._localID,this._parentID=-1)}get localID(){return this._localID}get worldID(){return this._worldID}updateTransformMatrix(){let e=this._localTransform;this.updateLocalTransformMatrix();let n=g.Matrix.TEMP_MATRIX,r=0;if(this.parent&&(n=this.parent.worldTransform,r=this.parent._worldID),this._parentID!==r){let i=n,o=this._worldTransform;o.a=e.a*i.a+e.b*i.c,o.b=e.a*i.b+e.b*i.d,o.c=e.c*i.a+e.d*i.c,o.d=e.c*i.b+e.d*i.d,o.tx=e.tx*i.a+e.ty*i.c+i.tx,o.ty=e.tx*i.b+e.ty*i.d+i.ty,this._parentID=r,this._worldID++}}setFromMatrix(e){let{a:n,b:r,c:i,d:o}=e,a=-Math.atan2(-i,o),s=Math.atan2(r,n),l=Math.abs(a+s);l<1e-5||1e-5>Math.abs(g.PI_2-l)?(this.rotation=s,this.skew.x=this.skew.y=0):(this.rotation=0,this.skew.x=a,this.skew.y=s),this.scale.x=Math.sqrt(n*n+r*r),this.scale.y=Math.sqrt(i*i+o*o),this.position.x=e.tx,this.position.y=e.ty,this.fireChange()}getMutationCache(e,n){if(this.mutationCache.has(e))return this.mutationCache.get(e);let r=n();return this.mutationCache.set(e,r),r}get bounds(){if(this.isContainer){let e=this._children;return g.Rectangle.enlarge(e.map(e=>e.bounds))}return d.getBounds(this,this.worldTransform)}get boundsWithoutRotation(){let{center:e}=this.bounds,{worldScale:n}=this,r=this.localSize,i=n.x*r.width,o=n.y*r.height,a={x:e.x-i/2,y:e.y-o/2};return new g.Rectangle(a.x,a.y,i,o)}get localSize(){let{size:e}=this;if(this.isContainer){let n=g.Rectangle.enlarge(this.children.map(e=>e.localBounds));e={width:n.width,height:n.height}}return{width:e.width,height:e.height}}get worldSize(){let{localSize:e}=this,{worldScale:n}=this;return{width:e.width*n.x,height:e.height*n.y}}get localBounds(){if(this.isContainer){let e=this._children,n=g.Rectangle.enlarge(e.map(e=>e.localBounds));return d.applyMatrix(n,this.localTransform)}return this.getMutationCache("localBounds",()=>d.getBounds(this,this.localTransform))}contains(e,n,r){if(this.isContainer)return this.bounds.contains(e,n);let i=this.worldTransform.applyInverse({x:e,y:n}),{width:o,height:a}=this.size;if(0===o||0===a)return!1;let s=-o*this.origin.x,l=-a*this.origin.y;if(r){let e=new g.Circle(s+o/2,l+a/2,Math.min(o/2,a/2));return e.contains(i.x,i.y)}return!!(i.x>=s)&&!!(i.x<s+o)&&!!(i.y>=l)&&!!(i.y<l+a)||!1}get parent(){return this._parent}isParent(e){let n=this.parent;for(;n;){if(n===e)return!0;n=n.parent}return!1}isParentTransform(e){let n=this.parent;for(;n;){if(n===e)return!0;n=n.parent}return!1}setParent(e,n=!0){this._parent!==e&&(this._parentChangedDispose&&(this._parentChangedDispose.dispose(),this._parentChangedDispose=void 0),this._parentID=-1,e&&n&&(!e._children&&(e._children=[]),e._children.push(this),this._parentChangedDispose=new g.DisposableCollection,this.toDispose.push(this._parentChangedDispose),this._parentChangedDispose.pushAll([e.onDispose(()=>{this.setParent(void 0)}),g.Disposable.create(()=>{let n=e._children.indexOf(this);-1!==n&&e._children.splice(n,1)})])),this._parent=e,this.fireChange())}intersects(e){return(!!this.isContainer||0!==this.size.width&&0!==this.size.height)&&g.Rectangle.intersectsWithRotation(this.boundsWithoutRotation,this.worldRotation,e,0)}get worldScale(){let{parent:e}=this,n=e?e.worldScale:{x:1,y:1};return{x:this.scale.x*n.x,y:this.scale.y*n.y}}get worldRotation(){let{parent:e}=this;return e?g.Angle.wrap(this.rotation+e.worldRotation):g.Angle.wrap(this.rotation)}get worldDegree(){return Math.round(this.worldRotation*g.RAD_TO_DEG)}get localOrigin(){let e=this.localTransform,n=this.localBounds;return e.apply({x:this.origin.x*n.width,y:this.origin.y*n.height})}get worldOrigin(){let e=this.worldTransform,{bounds:n}=this;return e.apply({x:this.origin.x*n.width,y:this.origin.y*n.height})}widthToScaleX(e,n){let r=n&&this.parent?this.parent.worldScale.x:1;return e/r/this.localSize.width}heightToScaleY(e,n){let r=n&&this.parent?this.parent.worldScale.y:1;return e/r/this.localSize.height}sizeToScaleValue(e,n){return{x:this.widthToScaleX(e.width,n),y:this.heightToScaleY(e.height,n)}}};B.type="TransformData",(o=B||(B={})).isParentOrChildrenTransform=function(e,n){let r=n.getData(o);if(!r)return!1;for(let n of e.values()){let e=n.getData(o);if(e&&(e.isParent(r)||r.isParent(e)))return!0}return!1};var V=class{constructor(){this.execMap=new Map}push(e,n){let{execMap:r}=this,i=r.get(e);!i&&(i=(0,b.throttle)(n,0),r.set(e,i)),i()}dispose(){this.execMap.clear()}};function $(e,n,r){let i=document.createEvent("MouseEvent");return i.initMouseEvent(e,!0,!0,void 0,0,0,0,n,r,!1,!1,!1,!1,0,null),i}var U=class{constructor(e={}){this.onDragStartEmitter=new g.Emitter,this.onDragEndEmitter=new g.Emitter,this.onDragEmitter=new g.Emitter,this._stopGlobalEventNames=["mouseenter","mouseleave","mouseover","mouseout","contextmenu"],this.onDrag=this.onDragEmitter.event,this.onDragStart=this.onDragStartEmitter.event,this.onDragEnd=this.onDragEndEmitter.event,this._lastPos={x:0,y:0},this._updateDragScroll=e=>{if(!this._playgroundConfigEntity)return;let n=this._playgroundConfigEntity.config,r=e.endPos,{scrollX:i,width:o,height:a,scrollY:s}=n;r.x>o+i-20?this._startScrollX(i,!0):r.x<i+20?this._startScrollX(i,!1):this._stopScrollX(),r.y>a+s-20?this._startScrollY(s,!0):r.y<s+20?this._startScrollY(s,!1):this._stopScrollY()},this._disposed=!1,e.onDragStart&&this.onDragStart(n=>e.onDragStart(n,this.context)),e.onDrag&&this.onDrag(n=>e.onDrag(n,this.context)),e.onDragEnd&&this.onDragEnd(n=>e.onDragEnd(n,this.context)),e.stopGlobalEventNames&&(this._stopGlobalEventNames=e.stopGlobalEventNames)}get isStarted(){return!!this._promise}start(e,n,r,i){if(this._disposed)return Promise.resolve();if(this._promise)return this._promise;this.context=i,this.localId=(0,g.generateLocalId)(),this._addListeners(),this._promise=new Promise(e=>{this._resolve=e}),this._playgroundConfigEntity=r;let o=$("mousedown",e,n);return this._startPos=this.getRelativePos(o),this.onDragStartEmitter.fire(this.getDragEvent(o)),this._promise}stop(e,n){if(this._disposed||!this._promise)return;let r=$("mouseup",e,n);this.handleEvent(r)}dispose(){!this._disposed&&(this._stopScrollX(),this._stopScrollY(),this._disposed=!0,this.onDragEmitter.dispose(),this.onDragStartEmitter.dispose(),this.onDragEndEmitter.dispose(),this._finalize())}handleEvent(e){switch(e.type){case"mousemove":this._evtMouseMove(e);break;case"mouseup":this._stopScrollX(),this._stopScrollY(),this._evtMouseUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":let n=$("mouseup",e.clientX,e.clientY);this._evtMouseUp(n);break;default:e.preventDefault(),e.stopPropagation()}}get scale(){return this._playgroundConfigEntity?this._playgroundConfigEntity.finalScale:1}getRelativePos(e){return this._playgroundConfigEntity?this._playgroundConfigEntity.getPosFromMouseEvent(e,!1):{x:e.clientX,y:e.clientY}}getDragEvent(e){let n=this._startPos,{scale:r}=this;switch(e.type){case"mousedown":return this._lastPos=n,Object.assign(e,{id:this.localId,startPos:n,endPos:n,scale:r,movingDelta:{x:0,y:0},isStart:!0,isMoving:!1});case"mousemove":let i=this.getRelativePos(e),o={x:i.x-this._lastPos.x,y:i.y-this._lastPos.y};return this._lastPos=i,Object.assign(e,{id:this.localId,startPos:n,endPos:i,scale:r,isStart:!0,movingDelta:o,isMoving:!0});case"mouseup":return this._lastPos={x:0,y:0},Object.assign(e,{id:this.localId,startPos:n,endPos:this.getRelativePos(e),movingDelta:{x:0,y:0},scale:r,isStart:!1,isMoving:!1});default:throw Error("unknown event")}}_finalize(){let e=this._resolve;this._removeListeners(),this._startPos=void 0,this._promise=void 0,this._resolve=void 0,e&&e()}_evtMouseMove(e){e.preventDefault(),e.stopPropagation(),this._lastMouseMoveEvent=e;let n=this.getDragEvent(e);this._updateDragScroll(n),this.onDragEmitter.fire(n)}_evtMouseUp(e){this._lastMouseMoveEvent=void 0,e.preventDefault(),e.stopPropagation(),(0===e.button||1===e.button)&&(this.onDragEndEmitter.fire(this.getDragEvent(e)),this._finalize())}_evtKeyDown(e){e.preventDefault(),e.stopPropagation(),27===e.keyCode&&this.stop(NaN,NaN)}_addListeners(){document.addEventListener("mousedown",this,!0),document.addEventListener("mousemove",this,!0),document.addEventListener("mouseup",this,!0),this._stopGlobalEventNames.forEach(e=>{document.addEventListener(e,this,!0)})}_removeListeners(){document.removeEventListener("mousedown",this,!0),document.removeEventListener("mousemove",this,!0),document.removeEventListener("mouseup",this,!0),this._stopGlobalEventNames.forEach(e=>{document.removeEventListener(e,this,!0)})}_startScrollX(e,n){if(this._scrollXInterval)return;let r=window.setInterval(()=>{let e=this._scrollXInterval;e&&this.fireScroll("scrollX",n)},20);this._scrollXInterval={interval:r,origin:e}}_stopScrollX(){this._scrollXInterval&&(clearInterval(this._scrollXInterval.interval),this._scrollXInterval=void 0)}_startScrollY(e,n){if(this._scrollYInterval)return;let r=window.setInterval(()=>{this.fireScroll("scrollY",n)},20);this._scrollYInterval={interval:r,origin:e}}_stopScrollY(){this._scrollYInterval&&(clearInterval(this._scrollYInterval.interval),this._scrollYInterval=void 0)}fireScroll(e,n){let r="scrollY"===e?this._scrollYInterval:this._scrollXInterval;if(!r)return;let i=r.origin=n?r.origin+4:r.origin-4,o=this._playgroundConfigEntity.config[e];this._playgroundConfigEntity.updateConfig({[e]:i});let a=this._playgroundConfigEntity.config[e];if(a!==o){let n=this._lastMouseMoveEvent,i={x:"scrollX"===e?a-r.origin:0,y:"scrollY"===e?a-r.origin:0},o=$("mousemove",n.clientX+i.x,n.clientY+i.y),s=this.getDragEvent(o);this.onDragEmitter.fire(s)}}};(a=U||(U={})).startDrag=function(e,n,r={}){h&&h.stop(NaN,NaN);let i=h=new a({onDragStart(e,n){r.onDragStart&&r.onDragStart(e,n)},onDrag(e,n){r.onDrag&&r.onDrag(e,n)},onDragEnd(e,n){r.onDragEnd&&r.onDragEnd(e,n),i.dispose(),h===i&&(h=void 0)}});return i.start(e,n,r.config,r.context),g.Disposable.create(()=>{i.stop(0,0),i.dispose(),h===i&&(h=void 0)})};var H=0;function W(){H--}function K(e){H++,requestAnimationFrame(function e(n){!(H<=0)&&(requestAnimationFrame(e),_.default.update(n))});let n=!1,r=new _.default.Tween(e.from).to(e.to,e.duration).easing(e.easing||_.default.Easing.Quadratic.Out).onUpdate(()=>{!n&&e.onUpdate&&e.onUpdate(e.from)}).onComplete(()=>{!n&&(n=!0,H--,e.onComplete&&e.onComplete(e.from))}).start();return g.Disposable.create(()=>{!n&&(n=!0,H--,r.stop(),e.onDispose&&e.onDispose(e.from))})}function G(e){let[n,r]=e.overflow,[i,o]=e._delta,[a,s]=e._direction;(n<0&&i>0&&a<0||n>0&&i<0&&a>0)&&(e._movement[0]=e._movementBound[0]),(r<0&&o>0&&s<0||r>0&&o<0&&s>0)&&(e._movement[1]=e._movementBound[1])}new WeakMap;var Y={toVector:(e,n)=>(void 0===e&&(e=n),Array.isArray(e)?e:[e,e]),add:(e,n)=>[e[0]+n[0],e[1]+n[1]],sub:(e,n)=>[e[0]-n[0],e[1]-n[1]],addTo(e,n){e[0]+=n[0],e[1]+=n[1]},subTo(e,n){e[0]-=n[0],e[1]-=n[1]}};function X(e,n,r){return 0===n||Math.abs(n)===1/0?Math.pow(e,5*r):e*n*r/(n+r*e)}function Z(e,n,r,i=.15){if(0===i)return Math.max(n,Math.min(e,r));return e<n?-X(n-e,r-n,i)+n:e>r?+X(e-r,r-n,i)+r:e}var Q={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function q(e){return e?e[0].toUpperCase()+e.slice(1):""}var J=["enter","leave"],ee=["gotpointercapture","lostpointercapture"];function et(e){return"touches"in e}function en(e){return et(e)?"touch":"pointerType"in e?e.pointerType:"mouse"}function er(e){var n;return et(e)?("touchend"===(n=e).type||"touchcancel"===n.type?n.changedTouches:n.targetTouches)[0]:e}function ei(e,n){try{let r=n.clientX-e.clientX,i=n.clientY-e.clientY,o=(n.clientX+e.clientX)/2,a=(n.clientY+e.clientY)/2,s=Math.hypot(r,i),l=-(180*Math.atan2(r,i))/Math.PI;return{angle:l,distance:s,origin:[o,a]}}catch{}return null}function eo(e,n){let[r,i]=Array.from(e.touches).filter(e=>n.includes(e.identifier));return ei(r,i)}function ea(e){let n=er(e);return et(e)?n.identifier:n.pointerId}function es(e){let n=er(e);return[n.clientX,n.clientY]}function el(e){let{deltaX:n,deltaY:r,deltaMode:i}=e;return 1===i?(n*=40,r*=40):2===i&&(n*=800,r*=800),[n,r]}function eu(e,...n){return"function"==typeof e?e(...n):e}function ec(){}function ed(e,n){return Object.assign({},n,e||{})}var eh=class{constructor(e,n,r){this.ctrl=e,this.args=n,this.key=r,!this.state&&(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){let{state:e,shared:n,ingKey:r,args:i}=this;n[r]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=i,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){let n=this.state,r=this.config;!n._active&&(this.reset(),this.computeInitial(),n._active=!0,n.target=e.target,n.currentTarget=e.currentTarget,n.lastOffset=r.from?eu(r.from,n):n.offset,n.offset=n.lastOffset,n.startTime=n.timeStamp=e.timeStamp)}computeValues(e){let n=this.state;n._values=e,n.values=this.config.transform(e)}computeInitial(){let e=this.state;e._initial=e._values,e.initial=e.values}compute(e){let{state:n,config:r,shared:i}=this;n.args=this.args;let o=0;if(e&&(n.event=e,r.preventDefault&&e.cancelable&&n.event.preventDefault(),n.type=e.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,function(e){let n={};if("buttons"in e&&(n.buttons=e.buttons),"shiftKey"in e){let{shiftKey:r,altKey:i,metaKey:o,ctrlKey:a}=e;Object.assign(n,{shiftKey:r,altKey:i,metaKey:o,ctrlKey:a})}return n}(e)),i.down=i.pressed=i.buttons%2==1||i.touches>0,o=e.timeStamp-n.timeStamp,n.timeStamp=e.timeStamp,n.elapsedTime=n.timeStamp-n.startTime),n._active){let e=n._delta.map(Math.abs);Y.addTo(n._distance,e)}this.axisIntent&&this.axisIntent(e);let[a,s]=n._movement,[l,u]=r.threshold,{_step:c,values:d}=n;if(r.hasCustomTransform?(!1===c[0]&&(c[0]=Math.abs(a)>=l&&d[0]),!1===c[1]&&(c[1]=Math.abs(s)>=u&&d[1])):(!1===c[0]&&(c[0]=Math.abs(a)>=l&&Math.sign(a)*l),!1===c[1]&&(c[1]=Math.abs(s)>=u&&Math.sign(s)*u)),n.intentional=!1!==c[0]||!1!==c[1],!n.intentional)return;let h=[0,0];if(r.hasCustomTransform){let[e,n]=d;h[0]=!1!==c[0]?e-c[0]:0,h[1]=!1!==c[1]?n-c[1]:0}else h[0]=!1!==c[0]?a-c[0]:0,h[1]=!1!==c[1]?s-c[1]:0;this.restrictToAxis&&!n._blocked&&this.restrictToAxis(h);let f=n.offset,p=n._active&&!n._blocked||n.active;p&&(n.first=n._active&&!n.active,n.last=!n._active&&n.active,n.active=i[this.ingKey]=n._active,e&&(n.first&&("bounds"in r&&(n._bounds=eu(r.bounds,n)),this.setup&&this.setup()),n.movement=h,this.computeOffset()));let[g,y]=n.offset,[[m,b],[_,w]]=n._bounds;n.overflow=[g<m?-1:g>b?1:0,y<_?-1:y>w?1:0],n._movementBound[0]=!!n.overflow[0]&&(!1===n._movementBound[0]?n._movement[0]:n._movementBound[0]),n._movementBound[1]=!!n.overflow[1]&&(!1===n._movementBound[1]?n._movement[1]:n._movementBound[1]);let E=n._active&&r.rubberband||[0,0];if(n.offset=function(e,[n,r],[i,o]){let[[a,s],[l,u]]=e;return[Z(n,a,s,i),Z(r,l,u,o)]}(n._bounds,n.offset,E),n.delta=Y.sub(n.offset,f),this.computeMovement(),p&&(!n.last||o>32)){n.delta=Y.sub(n.offset,f);let e=n.delta.map(Math.abs);Y.addTo(n.distance,e),n.direction=n.delta.map(Math.sign),n._direction=n._delta.map(Math.sign),!n.first&&o>0&&(n.velocity=[e[0]/o,e[1]/o],n.timeDelta=o)}}emit(){let e=this.state,n=this.shared,r=this.config;if(!e._active&&this.clean(),(e._blocked||!e.intentional)&&!e._force&&!r.triggerAllEvents)return;let i=this.handler({...n,...e,[this.aliasKey]:e.values});void 0!==i&&(e.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}},ef=class extends eh{constructor(){super(...arguments),this.aliasKey="xy"}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=Y.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=Y.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){let n=this.state,r=this.config;if(!n.axis&&e){let i="object"==typeof r.axisThreshold?r.axisThreshold[en(e)]:r.axisThreshold;n.axis=function([e,n],r){let i=Math.abs(e),o=Math.abs(n);return i>o&&i>r?"x":o>i&&o>r?"y":void 0}(n._movement,i)}n._blocked=(r.lockDirection||!!r.axis)&&!n.axis||!!r.axis&&r.axis!==n.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0}}},ep=class extends ef{constructor(){super(...arguments),this.ingKey="wheeling"}wheel(e){!this.state._active&&this.start(e),this.wheelChange(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(e){let n=this.state;n._delta=el(e),Y.addTo(n._movement,n._delta),G(n),this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("wheel","",this.wheel.bind(this))}},eg=class extends ef{constructor(){super(...arguments),this.ingKey="scrolling"}scroll(e){!this.state._active&&this.start(e),this.scrollChange(e),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}scrollChange(e){e.cancelable&&e.preventDefault();let n=this.state,r=function(e){let{scrollX:n,scrollY:r,scrollLeft:i,scrollTop:o}=e.currentTarget;return[n??i??0,r??o??0]}(e);n._delta=Y.sub(r,n._values),Y.addTo(n._movement,n._delta),this.computeValues(r),this.compute(e),this.emit()}scrollEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("scroll","",this.scroll.bind(this))}},ey=class extends eh{constructor(){super(...arguments),this.ingKey="pinching",this.aliasKey="da"}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();let e=this.state;e._touchIds=[],e.canceled=!1,e.cancel=this.cancel.bind(this),e.turns=0}computeOffset(){let{type:e,movement:n,lastOffset:r}=this.state;"wheel"===e?this.state.offset=Y.add(n,r):this.state.offset=[(1+n[0])*r[0],n[1]+r[1]]}computeMovement(){let{offset:e,lastOffset:n}=this.state;this.state.movement=[e[0]/n[0],e[1]-n[1]]}axisIntent(){let e=this.state,[n,r]=e._movement;if(!e.axis){let i=30*Math.abs(n)-Math.abs(r);i<0?e.axis="angle":i>0&&(e.axis="scale")}}restrictToAxis(e){this.config.lockDirection&&("scale"===this.state.axis?e[1]=0:"angle"===this.state.axis&&(e[0]=0))}cancel(){let e=this.state;!e.canceled&&setTimeout(()=>{e.canceled=!0,e._active=!1,this.compute(),this.emit()},0)}touchStart(e){this.ctrl.setEventIds(e);let n=this.state,r=this.ctrl.touchIds;if(n._active&&n._touchIds.every(e=>r.has(e))||r.size<2)return;this.start(e),n._touchIds=Array.from(r).slice(0,2);let i=eo(e,n._touchIds);i&&this.pinchStart(e,i)}pointerStart(e){if(null!=e.buttons&&e.buttons%2!=1)return;this.ctrl.setEventIds(e),e.target.setPointerCapture(e.pointerId);let n=this.state,r=n._pointerEvents,i=this.ctrl.pointerIds;if(n._active&&Array.from(r.keys()).every(e=>i.has(e)))return;if(r.size<2&&r.set(e.pointerId,e),n._pointerEvents.size<2)return;this.start(e);let o=ei(...Array.from(r.values()));o&&this.pinchStart(e,o)}pinchStart(e,n){let r=this.state;r.origin=n.origin,this.computeValues([n.distance,n.angle]),this.computeInitial(),this.compute(e),this.emit()}touchMove(e){if(!this.state._active)return;let n=eo(e,this.state._touchIds);n&&this.pinchMove(e,n)}pointerMove(e){let n=this.state._pointerEvents;if(n.has(e.pointerId)&&n.set(e.pointerId,e),!this.state._active)return;let r=ei(...Array.from(n.values()));r&&this.pinchMove(e,r)}pinchMove(e,n){let r=this.state,i=r._values[1],o=n.angle-i,a=0;Math.abs(o)>270&&(a+=Math.sign(o)),this.computeValues([n.distance,n.angle-360*a]),r.origin=n.origin,r.turns=a,r._movement=[r._values[0]/r._initial[0]-1,r._values[1]-r._initial[1]],this.compute(e),this.emit()}touchEnd(e){this.ctrl.setEventIds(e),this.state._active&&this.state._touchIds.some(e=>!this.ctrl.touchIds.has(e))&&(this.state._active=!1,this.compute(e),this.emit())}pointerEnd(e){let n=this.state;this.ctrl.setEventIds(e);try{e.target.releasePointerCapture(e.pointerId)}catch{}n._pointerEvents.has(e.pointerId)&&n._pointerEvents.delete(e.pointerId),n._active&&n._pointerEvents.size<2&&(n._active=!1,this.compute(e),this.emit())}gestureStart(e){e.cancelable&&e.preventDefault();let n=this.state;!n._active&&(this.start(e),this.computeValues([e.scale,e.rotation]),n.origin=[e.clientX,e.clientY],this.compute(e),this.emit())}gestureMove(e){if(e.cancelable&&e.preventDefault(),!this.state._active)return;let n=this.state;this.computeValues([e.scale,e.rotation]),n.origin=[e.clientX,e.clientY];let r=n._movement;n._movement=[e.scale-1,e.rotation],n._delta=Y.sub(n._movement,r),this.compute(e),this.emit()}gestureEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}wheel(e){let n=this.config.modifierKey;(!n||(Array.isArray(n)?!!n.find(n=>e[n]):!!e[n]))&&(this.state._active?this.wheelChange(e):this.wheelStart(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}wheelStart(e){this.start(e),this.wheelChange(e)}wheelChange(e){let n="uv"in e;!n&&e.cancelable&&e.preventDefault();let r=this.state,i=-el(e)[1]/100*r.offset[0];Math.abs(i)>.1&&(i=.1*Math.sign(i)),r._delta=[i,0],Y.addTo(r._movement,r._delta),G(r),this.state.origin=[e.clientX,e.clientY],this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){let n=this.config.device;n&&(e(n,"start",this[n+"Start"].bind(this)),e(n,"change",this[n+"Move"].bind(this)),e(n,"end",this[n+"End"].bind(this)),e(n,"cancel",this[n+"End"].bind(this)),e("lostPointerCapture","",this[n+"End"].bind(this))),this.config.pinchOnWheel&&e("wheel","",this.wheel.bind(this),{passive:!1})}},em=class extends ef{constructor(){super(...arguments),this.ingKey="moving"}move(e){(!this.config.mouseOnly||"mouse"===e.pointerType)&&(this.state._active?this.moveChange(e):this.moveStart(e),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}moveStart(e){this.start(e),this.computeValues(es(e)),this.compute(e),this.computeInitial(),this.emit()}moveChange(e){if(!this.state._active)return;let n=es(e),r=this.state;r._delta=Y.sub(n,r._values),Y.addTo(r._movement,r._delta),this.computeValues(n),this.compute(e),this.emit()}moveEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}bind(e){e("pointer","change",this.move.bind(this)),e("pointer","leave",this.moveEnd.bind(this))}},ev=class extends ef{constructor(){super(...arguments),this.ingKey="hovering"}enter(e){(!this.config.mouseOnly||"mouse"===e.pointerType)&&(this.start(e),this.computeValues(es(e)),this.compute(e),this.emit())}leave(e){if(this.config.mouseOnly&&"mouse"!==e.pointerType)return;let n=this.state;if(!n._active)return;n._active=!1;let r=es(e);n._movement=n._delta=Y.sub(r,n._values),this.computeValues(r),this.compute(e),n.delta=n.movement,this.emit()}bind(e){e("pointer","enter",this.enter.bind(this)),e("pointer","leave",this.leave.bind(this))}},eb=e=>e,e_={enabled:(e=!0)=>e,eventOptions:(e,n,r)=>({...r.shared.eventOptions,...e}),preventDefault:(e=!1)=>e,triggerAllEvents:(e=!1)=>e,rubberband(e=0){switch(e){case!0:return[.15,.15];case!1:return[0,0];default:return Y.toVector(e)}},from:e=>"function"==typeof e?e:null!=e?Y.toVector(e):void 0,transform(e,n,r){let i=e||r.shared.transform;return this.hasCustomTransform=!!i,i||eb},threshold:e=>Y.toVector(e,0)},ew=0,eE={...e_,axis(e,n,{axis:r}){if(this.lockDirection="lock"===r,!this.lockDirection)return r},axisThreshold:(e=ew)=>e,bounds(e={}){if("function"==typeof e)return n=>eE.bounds(e(n));if("current"in e)return()=>e.current;if("function"==typeof HTMLElement&&e instanceof HTMLElement)return e;let{left:n=-1/0,right:r=1/0,top:i=-1/0,bottom:o=1/0}=e;return[[n,r],[i,o]]}},ex={ArrowRight:(e,n=1)=>[e*n,0],ArrowLeft:(e,n=1)=>[-1*e*n,0],ArrowUp:(e,n=1)=>[0,-1*e*n],ArrowDown:(e,n=1)=>[0,e*n]},eC=class extends ef{constructor(){super(...arguments),this.ingKey="dragging"}reset(){super.reset();let e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){let e=this.state;if(e._bounds instanceof HTMLElement){let n=e._bounds.getBoundingClientRect(),r=e.currentTarget.getBoundingClientRect(),i={left:n.left-r.left+e.offset[0],right:n.right-r.right+e.offset[0],top:n.top-r.top+e.offset[1],bottom:n.bottom-r.bottom+e.offset[1]};e._bounds=eE.bounds(i)}}cancel(){let e=this.state;!e.canceled&&(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){let n=this.config,r=this.state;if(null!=e.buttons&&(Array.isArray(n.pointerButtons)?!n.pointerButtons.includes(e.buttons):-1!==n.pointerButtons&&n.pointerButtons!==e.buttons))return;let i=this.ctrl.setEventIds(e);n.pointerCapture&&e.target.setPointerCapture(e.pointerId),(!i||!(i.size>1)||!r._pointerActive)&&(this.start(e),this.setupPointer(e),r._pointerId=ea(e),r._pointerActive=!0,this.computeValues(es(e)),this.computeInitial(),n.preventScrollAxis&&"mouse"!==en(e)?(r._active=!1,this.setupScrollPrevention(e)):n.delay>0?(this.setupDelayTrigger(e),n.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){let n=this.state;n._active=!0,n._preventScroll=!0,n._delayed=!1,this.compute(e),this.emit()}pointerMove(e){let n=this.state,r=this.config;if(!n._pointerActive)return;let i=ea(e);if(void 0!==n._pointerId&&i!==n._pointerId)return;let o=es(e);if(document.pointerLockElement===e.target?n._delta=[e.movementX,e.movementY]:(n._delta=Y.sub(o,n._values),this.computeValues(o)),Y.addTo(n._movement,n._delta),this.compute(e),n._delayed&&n.intentional){this.timeoutStore.remove("dragDelay"),n.active=!1,this.startPointerDrag(e);return}if(r.preventScrollAxis&&!n._preventScroll){if(!n.axis)return;if(n.axis===r.preventScrollAxis||"xy"===r.preventScrollAxis){n._active=!1,this.clean();return}this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}let n=this.state,r=this.config;if(!n._active||!n._pointerActive)return;let i=ea(e);if(void 0!==n._pointerId&&i!==n._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);let[o,a]=n._distance;if(n.tap=o<=r.tapsThreshold&&a<=r.tapsThreshold,n.tap&&r.filterTaps)n._force=!0;else{let[e,i]=n._delta,[o,a]=n._movement,[s,l]=r.swipe.velocity,[u,c]=r.swipe.distance,d=r.swipe.duration;if(n.elapsedTime<d){let r=Math.abs(e/n.timeDelta),d=Math.abs(i/n.timeDelta);r>s&&Math.abs(o)>u&&(n.swipe[0]=Math.sign(e)),d>l&&Math.abs(a)>c&&(n.swipe[1]=Math.sign(i))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){let n=this.config,r=n.device;n.pointerLock&&e.currentTarget.requestPointerLock(),!n.pointerCapture&&(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,function(e){"persist"in e&&"function"==typeof e.persist&&e.persist()}(e);let n=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",n),this.eventStore.add(this.sharedConfig.window,"touch","cancel",n),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){let n=ex[e.key];if(n){let r=this.state,i=e.shiftKey?10:e.altKey?.1:1;this.start(e),r._delta=n(this.config.keyboardDisplacement,i),r._keyboardActive=!0,Y.addTo(r._movement,r._delta),this.compute(e),this.emit()}}keyUp(e){e.key in ex&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){let n=this.config.device;e(n,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(n,"change",this.pointerMove.bind(this)),e(n,"end",this.pointerUp.bind(this)),e(n,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}},eS="undefined"!=typeof window&&window.document&&window.document.createElement;function eO(){return eS&&"ontouchstart"in window}var eM={isBrowser:eS,gesture:function(){try{return"constructor"in GestureEvent}catch(e){return!1}}(),touch:eO(),touchscreen:eO()||eS&&window.navigator.maxTouchPoints>1,pointer:eS&&"onpointerdown"in window,pointerLock:eS&&"exitPointerLock"in window.document},eP={...e_,device(e,n,{shared:r,pointer:{touch:i=!1}={}}){if(r.target&&!eM.touch&&eM.gesture)return"gesture";if(eM.touch&&i)return"touch";if(eM.touchscreen){if(eM.pointer)return"pointer";if(eM.touch)return"touch"}},bounds(e,n,{scaleBounds:r={},angleBounds:i={}}){let o=e=>{let n=ed(eu(r,e),{min:-1/0,max:1/0});return[n.min,n.max]},a=e=>{let n=ed(eu(i,e),{min:-1/0,max:1/0});return[n.min,n.max]};return"function"!=typeof r&&"function"!=typeof i?[o(),a()]:e=>[o(e),a(e)]},threshold(e,n,r){this.lockDirection="lock"===r.axis;let i=Y.toVector(e,this.lockDirection?[.1,3]:0);return i},modifierKey:e=>void 0===e?"ctrlKey":e,pinchOnWheel:(e=!0)=>e},eD={...eE,mouseOnly:(e=!0)=>e},eI={...eE,mouseOnly:(e=!0)=>e},ej=10,eN={mouse:0,touch:0,pen:8},eT={...eE,device(e,n,{pointer:{touch:r=!1,lock:i=!1,mouse:o=!1}={}}){return(this.pointerLock=i&&eM.pointerLock,eM.touch&&r)?"touch":this.pointerLock?"mouse":eM.pointer&&!o?"pointer":eM.touch?"touch":"mouse"},preventScrollAxis(e,n,{preventScroll:r}){if(this.preventScrollDelay="number"==typeof r?r:r||void 0===r&&e?250:void 0,eM.touchscreen&&!1!==r)return e||(void 0!==r?"y":void 0)},pointerCapture(e,n,{pointer:{capture:r=!0,buttons:i=1,keys:o=!0}={}}){return this.pointerButtons=i,this.keys=o,!this.pointerLock&&"pointer"===this.device&&r},threshold(e,n,{filterTaps:r=!1,tapsThreshold:i=3,axis:o}){let a=Y.toVector(e,r?i:o?1:0);return this.filterTaps=r,this.tapsThreshold=i,a},swipe({velocity:e=.5,distance:n=50,duration:r=250}={}){return{velocity:this.transform(Y.toVector(e)),distance:this.transform(Y.toVector(n)),duration:r}},delay(e=0){switch(e){case!0:return 180;case!1:return 0;default:return e}},axisThreshold:e=>e?{...eN,...e}:eN,keyboardDisplacement:(e=ej)=>e},ek=new Map,eA=new Map;function eR(e){ek.set(e.key,e.engine),eA.set(e.key,e.resolver)}var eL={key:"drag",engine:eC,resolver:eT},eF={key:"hover",engine:ev,resolver:eI},ez={key:"move",engine:em,resolver:eD},eB={key:"pinch",engine:ey,resolver:eP},eV={key:"scroll",engine:eg,resolver:eE},e$={key:"wheel",engine:ep,resolver:eE},eU=class{constructor(){this._timeouts=new Map}add(e,n,r=140,...i){this.remove(e),this._timeouts.set(e,window.setTimeout(n,r,...i))}remove(e){let n=this._timeouts.get(e);n&&window.clearTimeout(n)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}},eH=class{constructor(e,n){this._listeners=new Set,this._ctrl=e,this._gestureKey=n}add(e,n,r,i,o){let a=this._listeners,s=function(e,n=""){let r=Q[e],i=r&&r[n]||n;return e+i}(n,r),l=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},u={...l,...o};e.addEventListener(s,i,u);let c=()=>{e.removeEventListener(s,i,u),a.delete(c)};return a.add(c),c}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}},eW={target(e){if(e)return()=>"current"in e?e.current:e},enabled:(e=!0)=>e,window:(e=eM.isBrowser?window:void 0)=>e,eventOptions:({passive:e=!0,capture:n=!1}={})=>({passive:e,capture:n}),transform:e=>e};function eK(e={},n){let r={};for(let[i,o]of Object.entries(n))switch(typeof o){case"function":r[i]=o.call(r,e[i],i,e);break;case"object":r[i]=eK(e[i],o);break;case"boolean":o&&(r[i]=e[i])}return r}var eG=class{constructor(e){this.gestures=new Set,this._targetEventStore=new eH(this),this.gestureEventStores={},this.gestureTimeoutStores={},this.handlers={},this.config={},this.pointerIds=new Set,this.touchIds=new Set,this.state={shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}},function(e,n){n.drag&&eY(e,"drag"),n.wheel&&eY(e,"wheel"),n.scroll&&eY(e,"scroll"),n.move&&eY(e,"move"),n.pinch&&eY(e,"pinch"),n.hover&&eY(e,"hover")}(this,e)}setEventIds(e){if(et(e)){var n;return this.touchIds=new Set(Array.from((n=e).touches).filter(e=>e.target===n.currentTarget||n.currentTarget?.contains?.(e.target)).map(e=>e.identifier)),this.touchIds}if("pointerId"in e)return"pointerup"===e.type||"pointercancel"===e.type?this.pointerIds.delete(e.pointerId):"pointerdown"===e.type&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,n){this.handlers=e,this.nativeHandlers=n}applyConfig(e,n){this.config=function(e,n,r={}){let{target:i,eventOptions:o,window:a,enabled:s,transform:l,...u}=e;if(r.shared=eK({target:i,eventOptions:o,window:a,enabled:s,transform:l},eW),n){let e=eA.get(n);r[n]=eK({shared:r.shared,...u},e)}else for(let e in u){let n=eA.get(e);n&&(r[e]=eK({shared:r.shared,...u[e]},n))}return r}(e,n,this.config)}clean(){for(let e of(this._targetEventStore.clean(),this.gestures))this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){let n;let r=this.config.shared,i={};if(!r.target||!!(n=r.target())){if(r.enabled){for(let r of this.gestures){let o=this.config[r],a=eX(i,o.eventOptions,!!n);if(o.enabled){let n=ek.get(r);new n(this,e,r).bind(a)}}let o=eX(i,r.eventOptions,!!n);for(let n in this.nativeHandlers)o(n,"",r=>this.nativeHandlers[n]({...this.state.shared,event:r,args:e}),void 0,!0)}for(let e in i)i[e]=function(...e){return 0===e.length?ec:1===e.length?e[0]:function(){let n;for(let r of e)n=r.apply(this,arguments)||n;return n}}(...i[e]);if(!n)return i;for(let e in i){let{device:r,capture:o,passive:a}=function(e){let n=e.substring(2).toLowerCase(),r=!!~n.indexOf("passive");r&&(n=n.replace("passive",""));let i=ee.includes(n)?"capturecapture":"capture",o=!!~n.indexOf(i);return o&&(n=n.replace("capture","")),{device:n,capture:o,passive:r}}(e);this._targetEventStore.add(n,r,"",i[e],{capture:o,passive:a})}}}};function eY(e,n){e.gestures.add(n),e.gestureEventStores[n]=new eH(e,n),e.gestureTimeoutStores[n]=new eU}var eX=(e,n,r)=>(i,o,a,s={},l=!1)=>{let u=s.capture??n.capture,c=s.passive??n.passive,d=l?i:function(e,n="",r=!1){let i=Q[e],o=i&&i[n]||n;return"on"+q(e)+q(o)+(!function(e=!1,n){return e&&!J.includes(n)}(r,o)?"":"Capture")}(i,o,u);r&&c&&(d+="Passive"),e[d]=e[d]||[],e[d].push(a)},eZ=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function eQ(e,n,r,i,o,a){if(!e.has(r)||!ek.has(i))return;let s=r+"Start",l=r+"End";o[i]=e=>{let i;return e.first&&s in n&&n[s](e),r in n&&(i=n[r](e)),e.last&&l in n&&n[l](e),i},a[i]=a[i]||{}}var eq=class{constructor(e,n,r,i,o){this._target=e,this._gestureKey=i,this._ctrl=new eG(n),this._ctrl.applyHandlers(n,o),this._ctrl.applyConfig({...r,target:e},i),this._ctrl.effect()}destroy(){this._ctrl.clean()}setConfig(e){this._ctrl.clean(),this._ctrl.applyConfig({...e,target:this._target},this._gestureKey),this._ctrl.effect()}},eJ=function(e,n,r){let i=([eL,eB,eV,e$,ez,eF].forEach(eR),function(e,n,r){let{handlers:i,nativeHandlers:o,config:a}=function(e,n){let[r,i,o]=function(e){let n={},r={},i=new Set;for(let o in e)eZ.test(o)?(i.add(RegExp.lastMatch),r[o]=e[o]):n[o]=e[o];return[r,n,i]}(e),a={};return eQ(o,r,"onDrag","drag",a,n),eQ(o,r,"onWheel","wheel",a,n),eQ(o,r,"onScroll","scroll",a,n),eQ(o,r,"onPinch","pinch",a,n),eQ(o,r,"onMove","move",a,n),eQ(o,r,"onHover","hover",a,n),{handlers:a,config:n,nativeHandlers:i}}(n,r||{});return new eq(e,i,a,void 0,o)});return i(e,n,r||{})},e0=class extends g.DisposableImpl{constructor(e,n){super(),this.target=e,this.config=n,this._pinching=!1,this.preventDefault();let r=new eJ(e,{onPinch:({origin:[e,n],first:r,last:i,movement:[o],offset:[a,s]})=>{this.handlePinch({first:r,last:i,originX:e,originY:n,newScale:a})}},{pinch:{scaleBounds:()=>this.getScaleBounds(),from:()=>[this.config.finalScale,0],modifierKey:["metaKey","ctrlKey"]}});this.toDispose.push(g.Disposable.create(()=>{r.destroy()}))}handlePinch(e){let{first:n,last:r,originX:i,originY:o,newScale:a}=e;if(Number.isNaN(e.newScale))return;n&&(this._pinching=!0),r&&(this._pinching=!1);let s=this.config.finalScale,l=this.config.getPosFromMouseEvent({clientX:i,clientY:o},!1),u={x:l.x/s*a,y:l.y/s*a};this.config.updateConfig({scrollX:this.config.config.scrollX+u.x-l.x,scrollY:this.config.config.scrollY+u.y-l.y,zoom:a})}getScaleBounds(){return{min:this.config.config.minZoom,max:this.config.config.maxZoom}}preventDefault(){let e=e=>e.preventDefault();document.addEventListener("gesturestart",e),document.addEventListener("gesturechange",e),this.toDispose.push(g.Disposable.create(()=>{document.removeEventListener("gesturestart",e),document.removeEventListener("gesturechange",e)}))}get pinching(){return this._pinching}},e1=e=>function(n,r){let i=`${r}Provider`;return(0,m.inject)(e)(n,i),(0,m.optional)()(n,i),{get(){return this[i]?.()},configurable:!0,enumerable:!0}},e2=Symbol("LazyInjectContext");Symbol("IS_LAZY_INJECT_CONTEXT_INJECTED");var e3=Symbol("PlaygroundContext"),e4=Symbol("PlaygroundContextProvider"),e5=()=>e1(e4),e6=e=>{e(e4).toDynamicValue(e=>()=>{if(e.container.isBound(e3))return e.container.get(e3)})},e8=Symbol("PlaygroundContainerFactory"),e9=Symbol("EntityManagerContribution");function e7(e){class n extends N{getDefaultData(){return e.getDefaultConfig()}checkChanged(n){return e.checkChanged(this.data,n)}toJSON(){return super.toJSON()}}return Object.defineProperty(n,"type",{value:`_${e.type}DataMixin`}),n}var te=class extends j{constructor(e){super(e),this.isInitialized=!0,this.ConfigDataRegistry=e7(this),this.addData(this.ConfigDataRegistry),this.isInitialized=!1}getDefaultConfig(){return{}}checkChanged(e,n){return j.checkDataChanged(e,n)}get config(){return this.getData(this.ConfigDataRegistry).data}updateConfig(e){this.updateData(this.ConfigDataRegistry,e)}onConfigChanged(e){return this.getData(this.ConfigDataRegistry).onDataChange(n=>e(n.data))}};function tt(e,n){e(n).toDynamicValue(e=>e.container.get(tn).createEntity(n)).inSingletonScope()}te.type="ConfigEntity";var tn=class{constructor(){this.toDispose=new g.DisposableCollection,this.onEntityChangeEmitter=new g.Emitter,this.onEntityLifeCycleEmitter=new g.Emitter,this.onEntityDataChangeEmitter=new g.Emitter,this.registryMap=new Map,this.dataRegistryMap=new Map,this.dataInjectorMap=new Map,this.entityInstanceMap=new Map,this.entityVersionMap=new Map,this.entityDataVersionMap=new Map,this.entityInstanceMapByType=new Map,this.configEntities=new Map,this.onEntityChange=this.onEntityChangeEmitter.event,this.onEntityDataChange=this.onEntityDataChangeEmitter.event,this.onEntityLifeCycleChange=this.onEntityLifeCycleEmitter.event,this.changeEntityLocked=!1,this.schedule=new V,this.fireEntityChanged=e=>{let n="string"==typeof e?e:e.type,r=this.entityVersionMap.get(n)||0;r===Number.MAX_SAFE_INTEGER&&(r=0),this.entityVersionMap.set(n,r+1),!this.changeEntityLocked&&this.schedule.push(n,()=>{this.onEntityChangeEmitter.fire(n)})},this.fireEntityDataChanged=(e,n)=>{let r=this.entityDataVersionMap.get(n)||0;r===Number.MAX_SAFE_INTEGER&&(r=0),this.entityDataVersionMap.set(n,r+1),this.schedule.push(`${e}/${n}`,()=>{this.onEntityDataChangeEmitter.fire({entityType:e,entityDataType:n})})},this.fireEntityLifeCycleChanged=({type:e,entity:n})=>{this.schedule.push(`${e}/${n.id}`,()=>{this.onEntityLifeCycleEmitter.fire({type:e,entity:n})})},this.toDispose.pushAll([this.onEntityChangeEmitter,this.schedule])}init(){this.contributions.forEach(e=>e.registerEntityManager?.(this))}createEntity(e,n){if(!e.type)throw Error(`[EntityManager] createEntity need a type: ${e}`);if(this.configEntities.has(e.type))return this.configEntities.get(e.type);let r={entityManager:this,savedInManager:!0,...n},i=new e(r);return r.savedInManager&&this.saveEntity(i),i}isConfigEntity(e){return this.configEntities.has(e)}removeEntities(e){for(let n of this.getEntities(e).values())n.dispose()}removeEntityById(e){let n=this.getEntityById(e);return!!n&&(n.dispose(),!0)}resetEntities(e){let n=this.getEntities(e);n.forEach(e=>{e.reset()})}resetEntity(e,n){let r=this.getEntity(e,n);r?.reset()}updateConfigEntity(e,n){let r=this.configEntities.get(e.type);r&&r.updateConfig(n)}getRegistryByType(e){return this.registryMap.get(e)}registerEntity(e){if(!e.type)throw Error(`Registry entity need a type: ${e.name}`);let n=this.registryMap.get(e.type);if(n){if(n!==e)throw Error(`Entity registry ${e.type} need a new type`);return}this.registryMap.set(e.type,e)}registerEntityData(e,n){if(!e.type)throw Error(`Registry entity data need a type: ${e.name}`);let r=this.dataRegistryMap.get(e.type);!r&&this.dataRegistryMap.set(e.type,e);let i=this.dataInjectorMap.get(e.type);!i&&n&&this.dataInjectorMap.set(e.type,n)}getDataRegistryByType(e){return this.dataRegistryMap.get(e)}getEntityById(e){return this.entityInstanceMap.get(e)}getEntity(e,n){let r=this.getEntities(e)[0];return!r&&n?this.createEntity(e):r}getEntities(e){return this.entityInstanceMapByType.get(e.type)||[]}getEntityDatas(e,n){return this.getEntities(e).map(e=>e.getData(n)).filter(e=>!!e)}hasEntity(e){return!!this.getEntity(e)}storeState({configOnly:e=!0}={}){let n=[];for(let r of this.entityInstanceMap.values())if((!e||r instanceof te)&&r.toJSON&&r.toJSON){let e=r.toJSON();e&&n.push(e)}return n}restoreState(e){e&&Array.isArray(e)&&e.forEach(e=>{if(!e||!e.type||!e.id)return;let n=this.getRegistryByType(e.type);if(!n){console.warn(`Playground entity registry lost: ${e.type}`);return}let r=this.createEntity(n,{id:e.id});r.fromJSON&&r.fromJSON(e)})}saveEntity(e){let{id:n}=e;if(n&&this.entityInstanceMap.has(n)){console.error(`Entity ${e.type} ${n} is created before`);return}this.entityInstanceMap.set(e.id,e);let r=this.entityInstanceMapByType.get(e.type);!r&&(r=[],this.entityInstanceMapByType.set(e.type,r)),e instanceof te&&this.configEntities.set(e.type,e),r.push(e),e.onEntityChange(e=>{this.fireEntityChanged(e),this.fireEntityLifeCycleChanged({type:"update",entity:e})}),e.onDataChange(n=>{this.fireEntityDataChanged(e.type,n.data.type)}),e.toDispose.push(g.Disposable.create(()=>{this.removeEntity(e),this.fireEntityLifeCycleChanged({type:"delete",entity:e})})),e.getDefaultDataRegistries().forEach(n=>this.fireEntityDataChanged(e.type,n.type)),this.fireEntityChanged(e),this.fireEntityLifeCycleChanged({type:"add",entity:e})}removeEntity(e){if(this.entityInstanceMap.has(e.id)&&this.entityInstanceMapByType.has(e.type)){let n=this.entityInstanceMapByType.get(e.type),r=n.indexOf(e);-1!==r&&(this.entityInstanceMapByType.set(e.type,n.filter(n=>n!==e)),this.entityInstanceMap.delete(e.id),this.configEntities.has(e.type)&&this.configEntities.delete(e.type),this.fireEntityChanged(e))}}reset(){for(let e of this.entityInstanceMap.values())e.reset()}getEntityVersion(e){return this.entityVersionMap.get("string"==typeof e?e:e.type)||0}getEntityDataVersion(e){return this.entityDataVersionMap.get("string"==typeof e?e:e.type)||0}dispose(){this.toDispose.dispose()}getDataInjector(e){return this.dataInjectorMap.get("string"==typeof e?e:e.type)}getService(e){return this.containerFactory?.get(e)}};M([(0,m.multiInject)(e9),(0,m.optional)()],tn.prototype,"contributions",2),M([e5()],tn.prototype,"context",2),M([(0,m.inject)(e8),(0,m.optional)()],tn.prototype,"containerFactory",2),M([(0,m.postConstruct)()],tn.prototype,"init",1),tn=M([(0,m.injectable)()],tn);var tr=Symbol("EntitiesDecorator"),ti=Symbol("EntitiesByDataDecorator"),to=Symbol("PropertiesInjected");function ta(e,n){return Reflect.getMetadata(n,e.prototype)||[]}function ts(e){return Reflect.getMetadata(to,e)||[]}function tl(e){if("object"==typeof e){let n=ts(e.constructor.prototype);n.forEach(n=>{e.hasOwnProperty(n)&&void 0===e[n]&&delete e[n]})}}function tu(e,n,r,i){return(o,a)=>{let s=Reflect.getMetadata(e,o);if(!s&&(s=[],Reflect.defineMetadata(e,s,o)),!Array.isArray(n)&&(n=[n]),n.forEach(e=>{!s.includes(e)&&s.push(e)}),i&&i(o,a),a&&r)return!function(e,n){let r=ts(e);r.push(n),Reflect.defineMetadata(to,r,e)}(o,a),{enumerable:!1,configurable:!1,get(){return r(this,a)}}}}function tc(e){return ta(e,tr)}function td(e){return ta(e,ti)}function th(e){return tu(tr,e,n=>n.observeManager.get(e))}function tf(e){return tu(tr,e,n=>n.observeManager.getEntities(e))}function tp(e,n){return tu(ti,{entity:e,data:n},r=>r.observeManager.getEntityDatas(e,n))}var tg=Symbol("ProtectWheelArea");var ty=((s=ty||{})[s.BASE_LAYER=-2]="BASE_LAYER",s[s.TOOL_LAYER=-1]="TOOL_LAYER",s[s.NORMAL_LAYER=0]="NORMAL_LAYER",s),tm=Symbol("PipelineLayerFactory"),tv=class{constructor(){this.onSelectionChangedEmitter=new g.Emitter,this.onSelectionChanged=this.onSelectionChangedEmitter.event,this.currentSelection=[]}get selection(){return this.currentSelection}isEmpty(){return 0===this.currentSelection.length}set selection(e){g.Compare.isArrayShallowChanged(this.currentSelection,e)&&(this.currentSelection=e,this.onSelectionChangedEmitter.fire(this.currentSelection))}dispose(){this.onSelectionChangedEmitter.dispose()}};tv=M([(0,m.injectable)()],tv);var tb=Symbol("StorageService"),t_=class{constructor(){this._prefix="__gedit:"}setData(e,n){this.storage[this.prefix(e)]=JSON.stringify(n)}getData(e,n){let r=this.storage[this.prefix(e)];return void 0===r?n:JSON.parse(r)}prefix(e){return`${this._prefix}${e}`}setPrefix(e){this._prefix=e}init(){"undefined"!=typeof window&&window.localStorage?this.storage=window.localStorage:this.storage={}}};M([(0,m.postConstruct)()],t_.prototype,"init",1),t_=M([(0,m.injectable)()],t_);var tw=Symbol("ClipboardService"),tE=class{constructor(){this.onClipboardChangedEmitter=new g.Emitter,this.onClipboardChanged=this.onClipboardChangedEmitter.event}readText(){return this._currentData}writeText(e){this._currentData!==e&&(this._currentData=e,this.onClipboardChangedEmitter.fire(e))}};tE=M([(0,m.injectable)()],tE);var tx=class{get rightPanelVisible(){return this.isRightPanelVisible}set rightPanelVisible(e){this.isRightPanelVisible=e}};tx=M([(0,m.injectable)()],tx);var tC=((l=tC||{})[l.CANVAS_TTI=0]="CANVAS_TTI",l[l.CANVAS_FPS=1]="CANVAS_FPS",l),tS=class{constructor(){this.onLoggerEmitter=new g.Emitter,this.onLogger=this.onLoggerEmitter.event}onAllLayersRendered(){this.onLoggerEmitter.fire({event:0})}onFlushRequest(e){if(!(e<=0))this.onLoggerEmitter.fire({event:1,props:{rfi:e,fps:1e3/e}})}dispose(){this.onLoggerEmitter.dispose()}};function tO({originRenderer:e,renderedCb:n}){return(0,w.useEffect)(()=>{n()},[]),e()||null}tS=M([(0,m.injectable)()],tS);var tM=class{constructor(){this.layerEntitiesSelectorMap=new WeakMap,this.entityLayerMap=new Map,this.ableLayerMap=new Map}subscribeEntities(e,n){let r=this.getSelector(e);n.forEach(n=>{!r.entities.includes(n)&&r.entities.push(n);let i=this.entityLayerMap.get(n.type);!i&&(i=new Set,this.entityLayerMap.set(n.type,i)),i.add(e)})}subscribleEntityByData(e,n,r){let i=this.getSelector(e),o=this.entityLayerMap.get(n.type);!o&&(o=new Set,this.entityLayerMap.set(n.type,o)),o.add(e);let a=[n,r];!i.datas.find(e=>e[0]===n&&e[1]===r)&&i.datas.push(a)}getSelector(e){let n=this.layerEntitiesSelectorMap.get(e);return!n&&(n={entities:[],datas:[]},this.layerEntitiesSelectorMap.set(e,n)),n}getLayerEntities(e){let n=this.layerEntitiesSelectorMap.get(e);if(!n)return{entities:[],changed:!1};let r=new Set,i=new Map,o=!1;n.entities.forEach(e=>{let n=this.entityManager.getEntities(e),o=this.entityManager.getEntityVersion(e);for(let a of(i.set(e.type,o),n))r.add(a)});let a=[];for(let e of r.values())a.push(e);return tP(i,n.lastEntityVersion)&&(n.lastEntityVersion=i,o=!0),{entities:a,changed:o}}getLayerEntityDatas(e){let n=this.layerEntitiesSelectorMap.get(e);if(!n)return{datas:[],changed:!1};let r=[],i=new Map,o=!1;return n.datas.forEach(e=>{let[n,o]=e,a=this.entityManager.getEntityDatas(n,o),s=this.entityManager.getEntityDataVersion(o);for(let e of(i.set(o.type,s),a))r.push(e)}),tP(i,n.lastDataVersion)&&(n.lastDataVersion=i,o=!0),{datas:r,changed:o}}getLayerData(e){let n=this.getLayerEntities(e),r=this.getLayerEntityDatas(e);return{observeEntities:n.entities,observeDatas:r.datas,changed:r.changed||n.changed}}};function tP(e=new Map,n=new Map){if(e.size!==n.size)return!0;for(let r of e.keys())if(e.get(r)!==n.get(r))return!0;return!1}M([(0,m.inject)(tn)],tM.prototype,"entityManager",2),tM=M([(0,m.injectable)()],tM);var tD="flush-layer-request",tI=0,tj=class extends E.ConflatableMessage{constructor(e){super(`${tD}_layer${tI++}`),this.layer=e}},tN=class{constructor(e,n){this.selector=e,this.isReady=!1,this.onAllLayersRenderedEmitter=new g.Emitter,this.toDispose=new g.DisposableCollection,this.layers=[],this.forceUpdates=new Set,this.layerAutorunMap=new Map,this.layerRenderedMap=new Map,this.layerFlushMessages=new Map,this.reactPortals=[],this.node=g.domUtils.createDivWithClass("gedit-playground-pipeline"),this.onAllLayersRendered=this.onAllLayersRenderedEmitter.event,this.toDispose.push(n.onEntityChange(e=>{let n=this.selector.entityLayerMap.get(e);n&&n.forEach(e=>this.updateLayer(e))})),this.toDispose.push(this.onAllLayersRenderedEmitter)}reportLayerRendered(e){this.layerRenderedMap.set(e,!0);let n=Array.from(this.layerRenderedMap.values()).every(e=>e);n&&(this.loggerService.onAllLayersRendered(),this.onAllLayersRenderedEmitter.fire(),window.REPORT_TTI_FOR_E2E&&window.REPORT_TTI_FOR_E2E(performance.now(),performance.getEntriesByType("resource")))}addLayer(e){if(this.layers.push(e),this.toDispose.push(e),this.layerFlushMessages.set(e,new tj(e)),e.pipelineNode=this.node,e.playgroundNode=this.node.parentElement,(e.autorun||e.render)&&!e.node&&(e.node=document.createElement("div")),e.node&&(this.node.appendChild(e.node),e.node.classList.add("gedit-playground-layer")),e.autorun){let n=e.autorun.bind(e);this.layerAutorunMap.set(e,n),e.autorun=()=>{this.updateLayer(e,!0)}}else if(e.render){this.layerRenderedMap.set(e,!1);let n=e.render.bind(e),r=function(e,n,r,i){let o=g.NOOP;function a(){let a;let[,s]=(0,w.useState)({}),l=(0,w.useCallback)(()=>{r(e)},[e]);(0,w.useEffect)(()=>(o=()=>s({}),()=>{o=g.NOOP}));try{a=i.isReady?w.default.createElement(tO,{originRenderer:n,renderedCb:l}):w.default.createElement(w.default.Fragment,null)}catch(n){console.error(`Render Layer "${e.constructor.name}" error `,n),a=w.default.createElement(w.default.Fragment,null)}return x.default.createPortal(a,e.node)}return{autorun:()=>o(),portal:e.renderWithReactMemo?w.default.memo(a):a}}(e,n,this.reportLayerRendered.bind(this),this);this.reactPortals.push(r.portal),this.layerAutorunMap.set(e,r.autorun),e.render=()=>{this.updateLayer(e,!0)}}}flush(e){this.layers.forEach(n=>{this.updateLayer(n,e)})}ready(){this.layers.forEach(e=>{this.loadLayerEntities(e),e.onReady&&e.onReady()}),this.isReady=!0,this.flush(!0)}dispose(){this.toDispose.dispose(),this.node.remove()}processMessage(e){e instanceof tj&&this.onFlushRequest(e.layer)}loadLayerEntities(e){let n=this.selector.getLayerData(e);return n.changed&&e.observeManager.load(n.observeEntities,n.observeDatas),n.changed}onFlushRequest(e){if(!this.isReady||this.toDispose.disposed)return!1;let n=performance.now(),r=()=>{let e=performance.now()-n;!(e<4)&&this.loggerService.onFlushRequest(e)},i=this.layerAutorunMap.get(e),o=this.loadLayerEntities(e);if(i&&(o||this.forceUpdates.has(e))){this.forceUpdates.delete(e);try{i()}catch(e){console.error(e)}return r(),!0}return r(),!1}updateLayer(e,n){n&&this.forceUpdates.add(e),E.MessageLoop.postMessage(this,this.layerFlushMessages.get(e))}toReactComponent(){if(this.reactComp)return this.reactComp;let e=this.reactPortals,n=()=>w.default.createElement(w.default.Fragment,null,e.map((e,n)=>w.default.createElement(e,{key:n})));return this.reactComp=n,n}};M([(0,m.inject)(tS)],tN.prototype,"loggerService",2),tN=M([(0,m.injectable)(),P(0,(0,m.inject)(tM)),P(1,(0,m.inject)(tn))],tN),(u=f||(f={})).STATE_SELECT={id:"STATE_SELECT",cursor:"",shortcut:"",cancelMode:"hold"},u.STATE_MOUSE_FRIENDLY_SELECT={id:"STATE_MOUSE_FRIENDLY_SELECT",cursor:"grab",shortcut:"",cancelMode:"hold"},u.STATE_GRAB={id:"STATE_GRAB",cursor:"grab",shortcut:"SPACE",shortcutAutoEsc:!0,shortcutWorksOnlyOnStateChanged:!0,cancelMode:"hold"};var tT=[f.STATE_SELECT,f.STATE_MOUSE_FRIENDLY_SELECT,f.STATE_GRAB],tk=class extends te{constructor(e){super(e),this._isPressingSpaceBar=!1,this._isPressingShift=!1,this.states=tT.slice(),this.selected=f.STATE_SELECT.id,this.onStateChangeEmitter=new g.Emitter,this.onStateChange=this.onStateChangeEmitter.event,this.toDispose.push(this.onStateChangeEmitter)}get isPressingSpaceBar(){return this._isPressingSpaceBar}set isPressingSpaceBar(e){this._isPressingSpaceBar=e}get isPressingShift(){return this._isPressingShift}set isPressingShift(e){this._isPressingShift=e}onCancel(e,n){return this.onStateChange(r=>{r.lastState&&r.lastState.id===e&&n()})}getCurrentState(){return this.states.find(e=>e.id===this.selected)}is(e){return this.selected===e}changeState(e,n){let r=this.states.find(n=>n.id===e);if(!r)throw Error(`Unknown editor state ${e}`);if(this.selected!==e){let i=this.getCurrentState();this.selected=e,this.onStateChangeEmitter.fire({state:r,event:n,lastState:i}),this.fireChange()}}toDefaultState(){this.changeState(f.STATE_SELECT.id)}registerState(e){this.states.push(e),this.fireChange()}getStates(){return this.states}isMouseFriendlyMode(){return this.getCurrentState()===f.STATE_MOUSE_FRIENDLY_SELECT}getStateFromShortcut(e){return this.states.find(n=>{let r="SPACE"===n.shortcut?" ":(n.shortcut||"").toLowerCase();if(r===e.key.toLowerCase())return n})}};tk.type="EditorStateConfigEntity";var tA=0,tR=.05,tL=class extends te{constructor(e){super(e),this._loading=!1,this._zoomEnable=!0,this._onReadonlyOrDisabledChangeEmitter=new g.Emitter,this._onGrabDisableChangeEmitter=new g.Emitter,this.onGrabDisableChange=this._onGrabDisableChangeEmitter.event,this.onReadonlyOrDisabledChange=this._onReadonlyOrDisabledChangeEmitter.event,this.cursor="default",this.toDispose.push(this._onReadonlyOrDisabledChangeEmitter)}get grabDisable(){return this.config.grabDisable}set grabDisable(e){this.updateConfig({grabDisable:e})}getDefaultConfig(){return{scrollX:0,scrollY:0,originX:0,originY:0,width:0,height:0,minZoom:.1,maxZoom:2,zoom:1,clientX:0,clientY:0,reverseScroll:!0,overflowX:"scroll",overflowY:"scroll",disabled:!1,readonly:!1,grabDisable:!1,mouseScrollDelta:tR}}addScrollLimit(e){this._scrollLimitFn=e}updateConfig(e){void 0!==e.zoom&&(e={...e,zoom:this.normalizeZoom(e.zoom)}),!(e={...this.config,...e}).reverseScroll&&(e.scrollX<this.config.originX&&(e.scrollX=this.config.originX),e.scrollY<this.config.originY&&(e.scrollY=this.config.originY)),void 0!==e.scrollLimitX&&e.scrollX<e.scrollLimitX&&(e.scrollX=e.scrollLimitX),void 0!==e.scrollLimitY&&e.scrollY<e.scrollLimitY&&(e.scrollY=e.scrollLimitY),"hidden"===e.overflowX&&(e.scrollX=this.config.originX),"hidden"===e.overflowY&&(e.scrollY=this.config.originY);let{readonly:n,disabled:r,grabDisable:i}=this;super.updateConfig(this._scrollLimitFn?{...e,...this._scrollLimitFn({scrollX:e.scrollX,scrollY:e.scrollY})}:e);let o=n!==this.readonly||r!==this.disabled;o&&this._onReadonlyOrDisabledChangeEmitter.fire({readonly:this.readonly,disabled:this.disabled}),i!==this.grabDisable&&this._onGrabDisableChangeEmitter.fire(this.grabDisable)}get finalScale(){return this.zoomEnable?this.config.zoom:1}get zoom(){return this.zoomEnable?this.config.zoom:1}get scrollData(){return{scrollX:this.config.scrollX,scrollY:this.config.scrollY}}normalizeZoom(e){return this.zoomEnable?(e<this.config.minZoom?e=this.config.minZoom:e>this.config.maxZoom&&(e=this.config.maxZoom),e):1}updateCursor(e){this.cursor!==e&&(this.cursor=e,this.fireChange())}getPosFromMouseEvent(e,n=!0){let{config:r}=this,i=n?this.finalScale:1;return{x:(e.clientX+r.scrollX-r.clientX)/i,y:(e.clientY+r.scrollY-r.clientY)/i}}toFixedPos(e){let{config:n}=this;return{x:e.x-n.scrollX+n.clientX,y:e.y-n.scrollY+n.clientY}}getViewport(e=!0){let{config:n}=this,r=e?this.finalScale:1;return new g.Rectangle(n.scrollX/r,n.scrollY/r,n.width/r,n.height/r)}isViewportVisible(e,n=0,r=!1){return g.Rectangle.isViewportVisible(e,this.getViewport(),n,r)}scrollToView(e={}){let n;let{scrollDelta:r,position:i,easing:o=!0,easingDuration:a=300,entities:s}=e,{config:l}=this,u=e.zoom?e.zoom:this.finalScale;if(s&&s.length>0){let e=s.map(e=>{let n=e.getData(B);if(n)return n.bounds;let r=e.getData(k),i=e.getData(L)||{width:0,height:0};if(r)return new g.Rectangle(r.x,r.y,i.width,i.height||0)}).filter(e=>!!e);e.length>0&&(n=g.Rectangle.enlarge(e))}else i?n=new g.Rectangle(i.x,i.y,0,0):e.bounds&&(n=e.bounds);if(!n){let e=this.getDefaultConfig();n=new g.Rectangle((e.scrollX+l.width/2)/u,(e.scrollY+l.height/2)/u,0,0)}if(!e.scrollToCenter){let e=this.getViewport();if(e.containsRectangle(n))return Promise.resolve()}let c={scrollX:(n.x+n.width/2+(r?r.x:0))*u-l.width/2,scrollY:(n.y+n.height/2+(r?r.y:0))*u-l.height/2,zoom:e.zoom};return this.scroll(c,o,a)}setPageBounds(e){this.updateConfig({pageBounds:{x:e.x,y:e.y,width:e.width,height:e.height}})}getPageBounds(){let{pageBounds:e}=this.config;if(e)return new g.Rectangle(e.x,e.y,e.width,e.height)}scrollPageBoundsToCenter(e=!0,n=16,r=!0){let i=this.getPageBounds();if(i){let o;let a=2*n;if(e){let e=g.SizeSchema.fixSize({width:i.width,height:i.height},{width:a>this.config.width?a:this.config.width-a,height:a>this.config.height?a:this.config.height-a});o=e}return this.scrollToView({bounds:i,zoom:o,scrollToCenter:!0,easing:r})}return this.scrollToView({easing:r})}scroll(e,n=!0,r=300){let i=new g.PromiseDeferred;if(this.cancelScrollTeeen&&this.cancelScrollTeeen.dispose(),n){let n={scrollX:this.config.scrollX,scrollY:this.config.scrollY,zoom:this.config.zoom};this.cancelScrollTeeen=K({from:n,to:{...n,...e},onUpdate:e=>{this.updateConfig(e)},onComplete:()=>{this.cancelScrollTeeen=void 0,i.resolve()},onDispose:()=>{i.resolve()},duration:r})}else this.updateConfig(e),i.resolve();return i.promise}fixLayerPosition(e){g.domUtils.setStyle(e,{left:this.config.scrollX,top:this.config.scrollY})}get loading(){return this._loading}set loading(e){this.loading!==e&&(this._loading=e,this.fireChange())}get zoomEnable(){return this._zoomEnable}set zoomEnable(e){this._zoomEnable!==e&&(this._zoomEnable=e,this.fireChange())}zoomin(e,n){let r=this.config.zoom/10,i=Math.ceil((this.config.zoom+r)*10)/10;this.updateZoom(i,e,n)}zoomout(e,n){let r=this.config.zoom/10,i=Math.floor((this.config.zoom-r)*10)/10;this.updateZoom(i,e,n)}updateZoom(e,n=!0,r=200){e=this.normalizeZoom(e);let{center:i}=this.getViewport(),o=this.finalScale,a=this.zoomEnable?e:o;if(a!==o){let s={x:i.x*a-i.x*o,y:i.y*a-i.y*o};this.scroll({scrollX:this.config.scrollX+s.x,scrollY:this.config.scrollY+s.y,zoom:e},n,r)}}get disabled(){return this.config.disabled}get readonly(){return this.config.readonly}get readonlyOrDisabled(){return this.config.readonly||this.config.disabled}set readonly(e){this.updateConfig({readonly:e})}set disabled(e){this.updateConfig({disabled:e})}fitView(e,n=!0,r=0){let i=this.getViewport(!1),o=g.SizeSchema.fixSize(e.pad(r,r),i);return this.scrollToView({bounds:e,zoom:o,easing:n,scrollToCenter:!0})}};tL.type="PlaygroundConfigEntity";var tF=Symbol("LayerOptions"),tz=class{constructor(){this.toDispose=new g.DisposableCollection,this.renderWithReactMemo=!0}dispose(){this.toDispose.dispose()}createDOMCache(e,n){if(!this.node)throw Error("DomCache need a parent dom node.");return g.domUtils.createDOMCache(this.node,e,n)}getPosFromMouseEvent(e,n=!0){let r=this.config.getPosFromMouseEvent(e,n);return{x:r.x,y:r.y}}};M([(0,m.inject)(tF)],tz.prototype,"options",2),M([(0,m.inject)(tn)],tz.prototype,"entityManager",2),M([e5()],tz.prototype,"context",2),tz=M([(0,m.injectable)()],tz);var tB=class extends tz{constructor(){super(...arguments),this.startGrabScroll={scrollX:0,scrollY:0},this.cursorStyle=document.createElement("style"),this.maskNode=document.createElement("div"),this.grabDragger=new U({onDragStart:e=>{!this.config.grabDisable&&(this.config.updateCursor("grabbing"),this.startGrabScroll={scrollX:this.config.config.scrollX,scrollY:this.config.config.scrollY})},onDrag:e=>{!this.config.grabDisable&&this.config.updateConfig({scrollX:this.startGrabScroll.scrollX-e.endPos.x+e.startPos.x,scrollY:this.startGrabScroll.scrollY-e.endPos.y+e.startPos.y})},onDragEnd:e=>{this.isGrab()&&this.config.updateCursor("grab");let n=1===e.button;n&&(this.isMouseMode()?(this.editorStateConfig.changeState(f.STATE_MOUSE_FRIENDLY_SELECT.id),this.config.updateCursor("grab")):(this.editorStateConfig.toDefaultState(),this.config.updateCursor("")))}})}onReady(){if(this.options={preventGlobalGesture:!1,...this.options},this.options.preventGlobalGesture){let e=new eJ(document.body,{onPinch:()=>{}});document.documentElement&&(document.documentElement.style.overscrollBehaviorX="none"),document.body.style.overscrollBehaviorX="none",this.toDispose.push(g.Disposable.create(()=>e.destroy()))}this.toDispose.pushAll([this.config.onGrabDisableChange(e=>{e&&this.grabDragger.stop(0,0)}),g.domUtils.addStandardDisposableListener(this.playgroundNode,"wheel",e=>{!this.getScrollParent(e.target)&&(e.preventDefault(),e.stopPropagation())}),this.listenPlaygroundEvent("wheel",this.handleWheelEvent.bind(this),-2,{passive:!0}),this.listenPlaygroundEvent("mousedown",e=>{let n=1===e.button;n&&!this.isMouseMode()&&this.editorStateConfig.changeState(f.STATE_GRAB.id),this.isGrab()&&(this.editorStateConfig.isPressingSpaceBar||n)&&this.grabDragger.start(e.clientX,e.clientY)},-2),this.listenPlaygroundEvent("mousedown",e=>{let n=this.options?.hoverService?.isSomeHovered();this.isMouseMode()&&!n&&!this.editorStateConfig.isPressingShift&&this.grabDragger.start(e.clientX,e.clientY)},0),this.editorStateConfig.onStateChange(this.onStateChanged.bind(this)),this.listenGlobalEvent("keydown",e=>{e.shiftKey&&(this.editorStateConfig.isPressingShift=!0,this.isMouseMode()&&this.config.updateCursor(""))},-2),this.listenGlobalEvent("keypress",e=>{if(!this.isFocused||e.target!==this.playgroundNode||this.isMouseMode())return;let n=this.editorStateConfig.getStateFromShortcut(e);" "===e.key&&(this.editorStateConfig.isPressingSpaceBar=!0),(n?.shortcutWorksOnlyOnStateChanged!==!0||n!==this.editorStateConfig.getCurrentState())&&(this.lastShortcutState=n,n&&this.editorStateConfig.changeState(n.id))},-2),this.listenGlobalEvent("keyup",e=>{" "===e.key&&(this.editorStateConfig.isPressingSpaceBar=!1),this.editorStateConfig.isPressingShift=!1,this.lastShortcutState&&this.lastShortcutState.shortcutAutoEsc&&this.editorStateConfig.toDefaultState(),this.lastShortcutState=void 0}),{dispose:()=>{this.maskNode.parentNode&&this.maskNode.parentNode.removeChild(this.maskNode),this.cursorStyle.parentNode&&this.cursorStyle.parentNode.removeChild(this.cursorStyle)}}]),"MOUSE"===this.options.ineractiveType&&this.editorStateConfig.changeState(f.STATE_MOUSE_FRIENDLY_SELECT.id)}getCursor(e){return e?this.playgroundConfigEntity.getCursors?.()?.[e]??e:""}isMouseMode(){return this.editorStateConfig.isMouseFriendlyMode()}onStateChanged(e){let{state:n}=e;if(this.cancelStateListen&&(this.cancelStateListen.dispose(),this.cancelStateListen=void 0),n.handle&&n.handle(this.config,e),n.cursor?(this.playgroundConfigEntity.updateCursor(n.cursor),this.currentGesture&&this.currentGesture.target.parentNode&&(this.currentGesture.target.parentNode.style.cursor=this.getCursor(n.cursor))):(this.playgroundConfigEntity.updateCursor(""),this.currentGesture&&this.currentGesture.target.parentNode&&(this.currentGesture.target.parentNode.style.cursor="")),"grab"===n.cursor||"grabbing"===n.cursor){if(n===f.STATE_MOUSE_FRIENDLY_SELECT)return;this.maskNode.style.cssText=`
        position: absolute;
        width: 100%;
        height: 100%;
        z-index: 100;
      `,this.playgroundNode.appendChild(this.maskNode)}else this.maskNode.parentNode&&this.maskNode.parentNode.removeChild(this.maskNode);"esc"===n.cancelMode?this.cancelStateListen=g.domUtils.addStandardDisposableListener(document.body,"keydown",e=>{("Escape"===e.key||"Enter"===e.key)&&this.editorStateConfig.toDefaultState()},!0):"once"===n.cancelMode&&this.editorStateConfig.toDefaultState()}isGrab(){let e=this.editorStateConfig.getCurrentState();return e===f.STATE_GRAB||e===f.STATE_MOUSE_FRIENDLY_SELECT}createGesture(){!this.currentGesture&&(this.currentGesture=new e0(this.pipelineNode.parentElement,this.config),this.currentGesture.onDispose(()=>{this.currentGesture=void 0}),this.toDispose.push(this.currentGesture))}onResize(e){this.size={...e},this.updateSizeWithRulerConfig()}updateSizeWithRulerConfig(){let{size:e}=this;e&&this.config.updateConfig({width:e.width,height:e.height,clientX:e.clientX,clientY:e.clientY})}handleScrollEvent(e){let{playgroundConfigEntity:n}=this,r=n.config.scrollX+e.deltaX,i=n.config.scrollY+e.deltaY;n.updateConfig({scrollX:r,scrollY:i})}getMouseScaleDelta(){let{mouseScrollDelta:e,zoom:n}=this.config.config;return"function"==typeof e?e(n):e??tR}handleWheelEvent(e){if((!this.currentGesture||!this.currentGesture.pinching)&&!e.ctrlKey&&!e.metaKey){if(!this.getScrollParent(e.target)){if(this.isMouseMode()){var n;let{zoom:r,minZoom:i,maxZoom:o,scrollX:a,scrollY:s}=this.playgroundConfigEntity.config,l=this.getMouseScaleDelta(),u=Math.abs(e.deltaY)>0?e.deltaY:e.deltaX;let c=(n=u,n>0?-l:l),d=this.config.finalScale,h=e.clientX,f=e.clientY,p=Math.max(i,Math.min(o,r+c)),g=this.config.getPosFromMouseEvent({clientX:h,clientY:f},!1),y={x:g.x/d*p,y:g.y/d*p};this.config.updateConfig({scrollX:a+y.x-g.x,scrollY:s+y.y-g.y,zoom:p});return}this.handleScrollEvent(e)}}}getScrollParent(e){if(!e||e===this.pipelineNode.parentElement)return null;let n=e.scrollWidth>e.clientWidth,r=e.scrollHeight>e.clientHeight,i=window.getComputedStyle(e).overflowX,o=window.getComputedStyle(e).overflowY,a=["auto","scroll","overlay"].includes(i),s=["auto","scroll","overlay"].includes(o);return n&&a||r&&s||this.protectWheelArea?.(e)?e:this.getScrollParent(e.parentElement)}autorun(){let e=this.playgroundConfigEntity.config,{cursor:n}=this.playgroundConfigEntity,r=this.getCursor(n);if(this.config.zoomEnable?this.createGesture():this.currentGesture&&this.currentGesture.dispose(),g.domUtils.setStyle(this.pipelineNode,{left:-e.scrollX,top:-e.scrollY,width:e.width,height:e.height}),this.pipelineNode.parentElement.style.cursor=r,"grab"===n||"grabbing"===n){let e="";this.playgroundNode.classList.forEach(n=>{e+=`.${n}`}),this.cursorStyle.innerText=`.${e} * { cursor: ${r} }`,!this.cursorStyle.parentNode&&document.head.appendChild(this.cursorStyle)}else this.cursorStyle.parentNode&&this.cursorStyle.parentNode.removeChild(this.cursorStyle)}};M([th(tL)],tB.prototype,"playgroundConfigEntity",2),M([th(tk)],tB.prototype,"editorStateConfig",2),M([(0,m.optional)(),(0,m.inject)(tg)],tB.prototype,"protectWheelArea",2),tB=M([(0,m.injectable)()],tB);var tV=class{constructor(e){this.entityManager=e,this.observeEntities=[],this.observeDatas=[],this.entitiesTypeCache=new Map,this.entitiesAbleCache=new Map,this.entitiyDataCache=new Map}get size(){return this.observeEntities.length}load(e,n){this.observeEntities=e,this.observeDatas=n,this.entitiesTypeCache.clear(),this.entitiesAbleCache.clear(),this.entitiyDataCache.clear()}get(e,n){let r=this.getEntities(e);return void 0!==n?r.find(e=>e.id===n):r[0]}has(e){return!!this.get(e)}getEntities(e){let n=this.entitiesTypeCache.get(e);return!n&&(n=[],this.observeEntities.forEach(r=>{r.type===e.type&&n.push(r)}),this.entitiesTypeCache.set(e,n)),n.filter(e=>!e.disposed)}getEntityDatas(e,n){let r=`${e.type}:${n.type}`,i=this.entitiyDataCache.get(r);return i?i:(i=this.observeDatas.filter(r=>r.type===n.type&&r.entity.type===e.type),this.entitiyDataCache.set(r,i),i)}updateConfig(e,n){let r=this.get(e);r&&r.updateConfig&&r.updateConfig(n)}getConfig(e){let n=this.get(e);if(n)return n.config}createEntity(e,n){return this.entityManager.createEntity(e,n)}removeEntities(e){this.entityManager.removeEntities(e)}[Symbol.iterator](){let e=0,n=this.observeEntities.length;return{next:()=>{let r=e++;return{value:this.observeEntities[r],done:r===n}}}}};var t$=((c=t$||{}).ZOOM="PIPELINE_ZOOM",c.SCROLL="PIPELINE_SCROLL",c),tU=new E.ConflatableMessage("PIPELINE_ZOOM"),tH=new E.ConflatableMessage("PIPELINE_SCROLL"),tW=class{constructor(){this._isFocused=!1,this.toDispose=new g.DisposableCollection,this.allLayersMap=new Map,this.onResizeEmitter=new g.Emitter,this.onFocusEmitter=new g.Emitter,this.onBlurEmitter=new g.Emitter,this.onZoomEmitter=new g.Emitter,this.onScrollEmitter=new g.Emitter,this.onFocus=this.onFocusEmitter.event,this.onBlur=this.onBlurEmitter.event,this.onZoom=this.onZoomEmitter.event,this.onScroll=this.onScrollEmitter.event,this.playgroundEvents={},this.globalEvents={},this.onResize=this.onResizeEmitter.event,this.toDispose.pushAll([this.onResizeEmitter,this.onFocusEmitter,this.onZoomEmitter,this.onBlurEmitter,this.onScrollEmitter]),this.onFocusEmitter.event(()=>{this._isFocused=!0}),this.onBlurEmitter.event(()=>{this._isFocused=!1})}_listenEvent(e,n,r,i=0,o){let a=r?this.globalEvents:this.playgroundEvents,s=r?document:this.renderer.node.parentNode,l=a[e];if(!l){let n={handleEvent:e=>{let n=l.handlers;for(let r=0,i=n.length;r<i;r++){let i=n[r].handle(e);if(i)return}}};s.addEventListener(e,n,o),l=a[e]={handlers:[],dispose:()=>{s.removeEventListener(e,n),delete a[e]}}}let{handlers:u}=l,c={handle:n,priority:i};u.unshift(c),u.sort((e,n)=>n.priority-e.priority);let d=g.Disposable.create(()=>{let e=l.handlers.indexOf(c);-1!==e&&l.handlers.splice(e,1),0===l.handlers.length&&l.dispose()});return this.toDispose.push(d),d}listenPlaygroundEvent(e,n,r,i){return this._listenEvent(e,n,!1,r,i)}listenGlobalEvent(e,n,r,i){return this._listenEvent(e,n,!0,r,i)}registerLayer(e,n){if(this.allLayersMap.has(e))return;let r=this.layerFactory(e,n);this.allLayersMap.set(e,r);let i=tc(e),o=td(e);if(i.forEach(e=>{this.entityManager.registerEntity(e),j.isRegistryOf(e,te)&&this.entityManager.createEntity(e)}),o.forEach(e=>{this.entityManager.registerEntity(e.entity),this.entityManager.registerEntityData(e.data)}),this.selector.subscribeEntities(r,i),o.forEach(e=>this.selector.subscribleEntityByData(r,e.entity,e.data)),r.observeManager=new tV(this.entityManager),r.reloadEntities=()=>{let e=this.selector.getLayerData(r);return e.changed&&r.observeManager.load(e.observeEntities,e.observeDatas),e.changed},r.listenPlaygroundEvent=this.listenPlaygroundEvent.bind(this),r.listenGlobalEvent=this.listenGlobalEvent.bind(this),r.config=this.configEntity,r.getOtherLayer=this.getLayer.bind(this),Object.defineProperty(r,"isFocused",{get:()=>this._isFocused}),r.onResize&&this.onResize(r.onResize.bind(r)),r.onBlur&&this.onBlurEmitter.event(r.onBlur.bind(r)),r.onFocus&&this.onFocusEmitter.event(r.onFocus.bind(r)),r.onZoom&&this.onZoomEmitter.event(r.onZoom.bind(r)),r.onScroll&&this.onScrollEmitter.event(r.onScroll.bind(r)),r.onViewportChange){let e=r.onViewportChange.bind(r);this.onResize(e),this.onZoomEmitter.event(e),this.onScrollEmitter.event(e)}r.onReadonlyOrDisabledChange&&this.configEntity.onReadonlyOrDisabledChange(r.onReadonlyOrDisabledChange.bind(r)),this.renderer.addLayer(r)}getLayer(e){return this.allLayersMap.get(e)}get configEntity(){return this.entityManager.getEntity(tL,!0)}ready(){let e=this.configEntity,n=e.finalScale,r=e.scrollData;e.onConfigChanged(()=>{let i=e.finalScale,o=e.scrollData;i!==n&&(n=i,E.MessageLoop.postMessage(this,tU)),(r.scrollX!==o.scrollX||r.scrollY!==o.scrollY)&&(r=o,E.MessageLoop.postMessage(this,tH))})}processMessage(e){let n=this.configEntity;switch(e.type){case"PIPELINE_SCROLL":this.onScrollEmitter.fire(n.scrollData);break;case"PIPELINE_ZOOM":this.onZoomEmitter.fire(n.finalScale)}}dispose(){this.toDispose.dispose()}};M([(0,m.inject)(tN)],tW.prototype,"renderer",2),M([(0,m.inject)(tM)],tW.prototype,"selector",2),M([(0,m.inject)(tn)],tW.prototype,"entityManager",2),M([e5()],tW.prototype,"context",2),M([(0,m.inject)(tm)],tW.prototype,"layerFactory",2),tW=M([(0,m.injectable)()],tW);var tK=w.default.createContext({}),tG=w.default.createContext({}),tY=w.default.createContext({}),tX=w.default.createContext(void 0),tZ=Symbol("PlaygroundConfig");function tQ(){return{autoFocus:!0,autoResize:!0,zoomEnable:!0,layers:[]}}var tq=Symbol("PlaygroundContribution"),tJ=class{config(e){Object.assign(this.playgroundConfig,e)}registerLayer(e){this.pipeline.registerLayer(e)}registerEntity(e){this.entityManager.registerEntity(e)}registerEditorState(e){let n=this.entityManager.getEntity(tk);n?.registerState(e)}};M([(0,m.inject)(tW)],tJ.prototype,"pipeline",2),M([(0,m.inject)(tn)],tJ.prototype,"entityManager",2),M([(0,m.inject)(tZ)],tJ.prototype,"playgroundConfig",2),tJ=M([(0,m.injectable)()],tJ);var t0=Symbol("PluginContext");function t1(e,n){let r=new Set,i=e.reduce((e,n)=>{if(!r.has(n.pluginId)&&(n.initPlugin(),r.add(n.pluginId)),n.containerModules&&n.containerModules.length>0)for(let r of n.containerModules)!e.includes(r)&&e.push(r);return e},[]);i.forEach(e=>n.load(e)),e.forEach(e=>{if(e.contributionKeys)for(let r of e.contributionKeys)n.bind(r).toConstantValue(e.options)})}Symbol("Plugin");var t2=0;function t3(e){let{contributionKeys:n}=e;t2+=1;let r=`Playground_${t2}`;return i=>{let o=[],a=!1;return{pluginId:r,initPlugin:()=>{if(!a&&(a=!0,e.containerModules&&o.push(...e.containerModules),e.onBind&&o.push(new m.ContainerModule((n,r,o,a)=>{e.onBind({bind:n,unbind:r,isBound:o,rebind:a},i)})),e.onInit||e.onDispose||e.onReady||e.onAllLayersRendered)){var n,r;o.push((n=e,r=i,new m.ContainerModule(e=>{e(tq).toDynamicValue(e=>{let i=e.container.get(t0);return{onInit:()=>{n.onInit?.(i,r)},onReady:()=>{n.onReady?.(i,r)},onDispose:()=>{n.onDispose?.(i,r)},onAllLayersRendered:()=>{n.onAllLayersRendered?.(i,r)}}})})))}},options:i,contributionKeys:n,containerModules:o}}}var t4=e=>t3(e)(void 0),t5=new Set,t6=new g.Emitter,t8=new g.Emitter,t9=class{constructor(e,n,r,i,o,a,s,l,u){this.entityManager=e,this.registry=n,this.contextProvider=r,this.pipelineRenderer=i,this.pipelineRegistry=o,this.playgroundConfig=a,this.contributionProvider=s,this.commandService=l,this.selectionService=u,this.toDispose=new g.DisposableCollection,this._focused=!1,this.playgroundClassName=(0,y.nanoid)(),this.isReady=!1,this.toDispose.pushAll([this.pipelineRenderer,this.pipelineRegistry,this.entityManager,this.commandService,this.selectionService,g.Disposable.create(()=>{t5.delete(this),this.node.remove(),t8.fire(this)}),i.onAllLayersRendered(()=>{this.contributions.forEach(e=>e.onAllLayersRendered?.(this))})]);let c=this.entityManager.createEntity(tk);if(this.entityManager.createEntity(tL),this.node=a.node||document.createElement("div"),this.toDispose.pushAll([g.domUtils.addStandardDisposableListener(this.node,"scroll",e=>{this.node.scrollTop=0,this.node.scrollLeft=0,e.preventDefault(),e.stopPropagation()})]),this.node.classList.add("gedit-playground"),this.node.classList.add(this.playgroundClassName),this.node.dataset.testid="sdk.workflow.canvas",a.layers&&a.layers.forEach(e=>this.registry.registerLayer(e)),a.editorStates&&a.editorStates.forEach(e=>c.registerState(e)),void 0!==a.zoomEnable&&(this.zoomEnable=a.zoomEnable),a.entityConfigs)for(let[e,n]of a.entityConfigs){let r=this.entityManager.getEntity(e,!0);r?.updateConfig(n)}this.node.addEventListener("blur",()=>{this.blur()}),this.node.addEventListener("focus",()=>{this.focus()}),this.node.tabIndex=0,this.node.appendChild(this.pipelineRenderer.node),this.onBlur=this.pipelineRegistry.onBlurEmitter.event,this.onFocus=this.pipelineRegistry.onFocusEmitter.event,this.onZoom=this.pipelineRegistry.onZoomEmitter.event,this.onScroll=this.pipelineRegistry.onScrollEmitter.event,t5.add(this)}static getLatest(){let e=t9.getAllInstances();return e[e.length-1]}static getAllInstances(){let e=[];for(let n of t5.values())e.push(n);return e}get context(){return this.contextProvider?.()}get contributions(){return this.contributionProvider.getContributions()}init(){let{contributions:e}=this;for(let n of e)n.registerPlayground&&n.registerPlayground(this.registry);for(let n of e)n.onInit&&n.onInit(this);t6.fire(this)}get pipelineNode(){return this.pipelineRenderer.node}setParent(e){e.appendChild(this.node),this.resize()}get zoomEnable(){return this.config.zoomEnable}set zoomEnable(e){this.config.zoomEnable=e}flush(){this.pipelineRenderer.flush()}ready(){if(this.isReady)return;if(this.isReady=!0,this.playgroundConfig.autoResize){let e=(0,b.debounce)(()=>{!this.disposed&&this.resize()},0);if("undefined"!=typeof ResizeObserver){let n=new ResizeObserver(e);n.observe(this.node),this.toDispose.push(g.Disposable.create(()=>{n.disconnect()}))}else this.toDispose.push(g.domUtils.addStandardDisposableListener(window.document.body,"resize",e,{passive:!0}));this.toDispose.push(g.domUtils.addStandardDisposableListener(window.document,"scroll",e,{passive:!0})),this.resize()}this.pipelineRegistry.ready(),this.pipelineRenderer.ready();let{contributions:e}=this;for(let n of e)n.onReady&&n.onReady(this)}scrollToView(e){let n=this.entityManager.getEntity(tL);return n.scrollToView(e)}resize(e,n=!0){if(!e){let n=this.node.getBoundingClientRect();e={clientX:n.left,clientY:n.top,width:n.width,height:n.height}}let{width:r,height:i}=this.config.config;if(0===e.width||0===e.height)return;let{scrollX:o,scrollY:a}=this.config.config;n&&r&&Math.round(e.width)!==r&&(o+=(r-e.width)/2),n&&i&&Math.round(e.height)!==i&&(a+=(i-e.height)/2),this.config.updateConfig({...e,scrollX:o,scrollY:a}),this.pipelineRegistry.onResizeEmitter.fire(e)}focus(){!this._focused&&(this._focused=!0,this.pipelineRegistry.onFocusEmitter.fire())}blur(){this._focused&&(this._focused=!1,this.pipelineRegistry.onBlurEmitter.fire())}get focused(){return this._focused}get config(){return this.entityManager.getEntity(tL)}get editorState(){return this.entityManager.getEntity(tk)}getConfigEntity(e){return this.entityManager.getEntity(e,!0)}dispose(){if(this.disposed)return;let{contributions:e}=this;for(let n of e)n.onDispose&&n.onDispose(this);this.toDispose.dispose()}get disposed(){return this.toDispose.disposed}toReactComponent(){return this.pipelineRenderer.toReactComponent()}registerLayer(e,n){this.pipelineRegistry.registerLayer(e,n)}registerLayers(...e){e.forEach(e=>this.pipelineRegistry.registerLayer(e))}getLayer(e){return this.pipelineRegistry.getLayer(e)}get onAllLayersRendered(){return this.pipelineRenderer.onAllLayersRendered}};function t7(e){return{container:e,playground:e.get(t9),get:n=>e.get(n),getAll:n=>e.getAll(n)}}function ne(e,n,r={}){let i=e.createChild();i.bind(n).toSelf().inSingletonScope(),i.bind(tF).toConstantValue(r);let o=i.get(n);return tl(o),o}t9.onInstanceCreate=t6.event,t9.onInstanceDispose=t8.event,t9=M([(0,m.injectable)(),P(0,(0,m.inject)(tn)),P(1,(0,m.inject)(tJ)),P(2,(0,m.inject)(e4)),P(2,(0,m.optional)()),P(3,(0,m.inject)(tN)),P(4,(0,m.inject)(tW)),P(5,(0,m.inject)(tZ)),P(6,(0,m.inject)(g.ContributionProvider)),P(6,(0,m.named)(tq)),P(6,(0,m.optional)()),P(7,(0,m.inject)(C.CommandService)),P(8,(0,m.inject)(tv))],t9);var nt=new m.ContainerModule(e=>{e(tn).toSelf().inSingletonScope(),e(tN).toSelf().inSingletonScope(),e(tJ).toSelf().inSingletonScope(),e(t9).toSelf().inSingletonScope(),e(tM).toSelf().inSingletonScope(),e(tm).toDynamicValue(e=>(n,r)=>ne(e.container,n,r)).inSingletonScope(),e(tW).toSelf().inSingletonScope(),e(e8).toDynamicValue(e=>e.container).inSingletonScope(),e(tZ).toConstantValue(tQ()),e(e3).toConstantValue({}),e6(e),e(tS).toSelf().inSingletonScope(),e(tx).toSelf().inSingletonScope(),e(tv).toSelf().inSingletonScope(),e(tb).to(t_).inSingletonScope(),e(tw).to(tE).inSingletonScope(),tt(e,tL),(0,g.bindContributionProvider)(e,tq),e(t0).toDynamicValue(e=>t7(e.container)).inSingletonScope(),e(e2).toService(t0)});function nn(e,n,r){let i=r||new m.Container({defaultScope:"Singleton"});return n&&(i.parent=n),i.load(nt),!i.isBound(C.CommandService)&&i.load(C.CommandContainerModule),e&&(i.rebind(tZ).toConstantValue(e),e.context&&i.rebind(e3).toConstantValue(e.context)),i}var nr=(0,w.forwardRef)(function(e,n){let{containerModules:r,playgroundContext:i,parentContainer:o,playgroundContainer:a,plugins:s,customPluginContext:l,...u}=e,c=(0,w.useMemo)(()=>{let e;return a?e=a:(e=nn({autoFocus:!0,autoResize:!0,zoomEnable:!0,...u},o),i&&e.rebind(e3).toConstantValue(i),r&&r.forEach(n=>e.load(n))),e},[]),d=(0,w.useMemo)(()=>{let e;let n=c.get(t9);return l?(e=l(c),c.rebind(t0).toConstantValue(e)):e=c.get(t0),s&&t1(s(e),c),n.init(),n},[]);return(0,w.useImperativeHandle)(n,()=>c.get(t0),[]),w.default.createElement(tG.Provider,{value:c},w.default.createElement(tY.Provider,{value:d},w.default.createElement(tK.Provider,{value:i},e.children)))});function ni(){return w.default.useContext(tY)}function no(){return w.default.useContext(tG)}function na(e=!1){let n=no().get(tn),r=(0,w.useContext)(tX);if(!r)throw Error('[useEntityFromContext] Unknown entity from "PlaygroundEntityContext"');let i=(0,g.useRefresh)(r.version);return(0,w.useLayoutEffect)(()=>{let n;return e&&(n=r.onEntityChange(()=>i(r.version))),()=>n?.dispose()},[n,i,r,e]),r}function ns(...e){let n=(0,g.useRefresh)();(0,w.useLayoutEffect)(()=>{let r=new g.DisposableCollection;return r.pushAll(e.map(e=>e(()=>n()))),()=>r.dispose()},[e,n])}function nl(e){let n=no();return n.get(e)}var nu=e=>{let n=ni(),r=nl(tZ),i=(0,w.useRef)();(0,w.useEffect)(()=>{if(i.current)return n.setParent(i.current),n.ready(),r.autoFocus&&n.node.focus(),()=>{n.dispose()}},[]);let o=n.toReactComponent();return w.default.createElement(w.default.Fragment,null,w.default.createElement("div",{ref:i,className:`gedit-playground-container${e.className?` ${e.className}`:""}`,style:e.style}),w.default.createElement(o,null),e.children?x.default.createPortal(w.default.createElement(w.default.Fragment,null,e.children),n.node):null)};(e=>{let n=Symbol("LayerStateProvider");class r{constructor(e,n,r){this.instance=e,this.playground=n,this.container=r,this.hijackMethod(e,"autorun"),this.hijackMethod(e,"render"),this.hijackMethod(e,"onReady"),this.hijackMethod(e,"onResize"),this.hijackMethod(e,"onFocus"),this.hijackMethod(e,"onBlur"),this.hijackMethod(e,"onZoom"),this.hijackMethod(e,"onScroll"),this.hijackMethod(e,"onViewportChange"),this.hijackMethod(e,"onReadonlyOrDisabledChange")}hijackMethod(e,n){"function"==typeof e[n]&&(this[n]=vi.spyOn(e,n))}}function i(e){let i=nn();return i.bind(n).toConstantValue(new WeakMap),i.rebind(tm).toDynamicValue(e=>(o,a)=>{let s=ne(e.container,o,a);return e.container.get(n).set(o,new r(s,i.get(t9),i)),s}),e&&e.forEach(e=>i.load(e)),i}e.LayerTestState=r,e.createContainer=i;function o(e,r){return e.get(n).get(r)}e.createPlayground=function(e){return i(e).get(t9)},e.getLayerTestState=o;e.createLayerTestState=function(e,n,r){let a=i(r),s=a.get(t9);return s.registerLayer(e,n),s.init(),s.ready(),o(a,e)}})(p||(p={}))},97752:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{ConstantKeys:function(){return et},DEFAULT_FLOW_NODE_META:function(){return F},DEFAULT_SIZE:function(){return L},DEFAULT_SPACING:function(){return k},DefaultSpacingKey:function(){return T},FlowDocument:function(){return ea},FlowDocumentConfig:function(){return ei},FlowDocumentContainerModule:function(){return ef},FlowDocumentContribution:function(){return en},FlowDocumentOptions:function(){return J},FlowDocumentOptionsDefault:function(){return ee},FlowDocumentProvider:function(){return eo},FlowDocumentTransformerEntity:function(){return X},FlowDragService:function(){return ec},FlowGroupService:function(){return el},FlowNodeBaseType:function(){return S},FlowNodeEntity:function(){return Y},FlowNodeRenderData:function(){return $},FlowNodeTransformData:function(){return H},FlowNodeTransitionData:function(){return G},FlowOperationBaseService:function(){return B},FlowOperationBaseServiceImpl:function(){return es},FlowRendererStateEntity:function(){return Z},FlowTransitionLabelEnum:function(){return N},FlowTransitionLineEnum:function(){return j},FlowVirtualTree:function(){return Q},LABEL_SIDE_TYPE:function(){return R},drawLineToBottom:function(){return K},drawLineToNext:function(){return W},getDefaultSpacing:function(){return ep}});var i,o,a,s,l,u,c,d,h,f,p,g=r("93665"),y=r("85870"),m=r("53168"),b=r("91516"),_=r("57254"),w=Object.defineProperty,E=Object.getOwnPropertyDescriptor,x=(e,n,r,i)=>{for(var o=i>1?void 0:i?E(n,r):n,a,s=e.length-1;s>=0;s--)(a=e[s])&&(o=(i?a(n,r,o):a(o))||o);return i&&o&&w(n,r,o),o},C=(e,n)=>(r,i)=>n(r,i,e);var S=((i=S||{}).START="start",i.DEFAULT="default",i.ROOT="root",i.EMPTY="empty",i.INLINE_BLOCKS="inlineBlocks",i.BLOCK_ICON="blockIcon",i.BLOCK="block",i.BLOCK_ORDER_ICON="blockOrderIcon",i.GROUP="group",i.END="end",i.CONDITION="condition",i.SUB_CANVAS="subCanvas",i);var O=((o=O||{}).DYNAMIC_SPLIT="dynamicSplit",o.STATIC_SPLIT="staticSplit",o);var M=((a=M||{}).END_NODES_REFINE_BRANCH="END_NODES_REFINE_BRANCH",a),P=["root","inlineBlocks","block"];Symbol("FlowLayout");var D=Symbol("FlowLayoutContribution");var I=((s=I||{}).VERTICAL_FIXED_LAYOUT="vertical-fixed-layout",s.HORIZONTAL_FIXED_LAYOUT="horizontal-fixed-layout",s);(I||(I={})).isVertical=function(e){return"vertical-fixed-layout"===e.name};var j=((l=j||{})[l.STRAIGHT_LINE=0]="STRAIGHT_LINE",l[l.DIVERGE_LINE=1]="DIVERGE_LINE",l[l.MERGE_LINE=2]="MERGE_LINE",l[l.ROUNDED_LINE=3]="ROUNDED_LINE",l[l.CUSTOM_LINE=4]="CUSTOM_LINE",l[l.DRAGGING_LINE=5]="DRAGGING_LINE",l);var N=((u=N||{})[u.ADDER_LABEL=0]="ADDER_LABEL",u[u.TEXT_LABEL=1]="TEXT_LABEL",u[u.COLLAPSE_LABEL=2]="COLLAPSE_LABEL",u[u.COLLAPSE_ADDER_LABEL=3]="COLLAPSE_ADDER_LABEL",u[u.CUSTOM_LABEL=4]="CUSTOM_LABEL",u[u.BRANCH_DRAGGING_LABEL=5]="BRANCH_DRAGGING_LABEL",u),T={NODE_SPACING:"SPACING",ROUNDED_LINE_X_RADIUS:"ROUNDED_LINE_X_RADIUS",ROUNDED_LINE_Y_RADIUS:"ROUNDED_LINE_Y_RADIUS",INLINE_BLOCKS_PADDING_BOTTOM:"INLINE_BLOCKS_PADDING_BOTTOM",COLLAPSED_SPACING:"COLLAPSED_SPACING",HOVER_AREA_WIDTH:"HOVER_AREA_WIDTH"},k={NULL:0,[T.NODE_SPACING]:32,MARGIN_RIGHT:20,INLINE_BLOCK_PADDING_BOTTOM:16,INLINE_BLOCKS_PADDING_TOP:30,[T.INLINE_BLOCKS_PADDING_BOTTOM]:40,MIN_INLINE_BLOCK_SPACING:200,MIN_INLINE_BLOCK_SPACING_HORIZONTAL:80,[T.COLLAPSED_SPACING]:12,[T.ROUNDED_LINE_X_RADIUS]:16,[T.ROUNDED_LINE_Y_RADIUS]:20,[T.HOVER_AREA_WIDTH]:20};var A=((c=A||{}).NODE="node",c.BRANCH="branch",c);var R=((d=R||{}).PRE_BRANCH="pre_branch",d.NORMAL_BRANCH="normal_branch",d),L={width:280,height:60},F=(e,n)=>{let r=P.includes(e);return{isStart:"start"===e,hidden:r,defaultExpanded:n.options.allNodesDefaultExpanded,expandedSize:{width:520,height:300},size:L,origin:n.layout.getDefaultNodeOrigin(),isInlineBlocks:"inlineBlocks"===e,spacing:k.SPACING,inlineSpacingPre:0,inlineSpacingAfter:0,expandable:!0,draggable:!0,selectable:!0,renderKey:"",minInlineBlockSpacing:()=>{let e=I.isVertical(n.layout);return e?k.MIN_INLINE_BLOCK_SPACING:k.MIN_INLINE_BLOCK_SPACING_HORIZONTAL}}};(e=>{function n(e,n,r){return{...e,...n,meta:{...e.meta,...n.meta},extend:void 0,type:r}}e.merge=n;e.extend=function(e,r){return r.length?r.reduce((r,i)=>n(r,i,e.type),e):e}})(p||(p={}));var z=((h=z||{}).addFromNode="addFromNode",h.deleteFromNode="deleteFromNode",h.addBlock="addBlock",h.deleteBlock="deleteBlock",h.createGroup="createGroup",h.ungroup="ungroup",h.moveNodes="moveNodes",h.moveBlock="moveBlock",h.moveChildNodes="moveChildNodes",h.addNodes="addNodes",h.deleteNodes="deleteNodes",h.changeNode="changeNode",h.addChildNode="addChildNode",h.deleteChildNode="deleteChildNode",h.addNode="addNode",h.deleteNode="deleteNode",h),B=Symbol("FlowOperationBaseService"),V=class e extends g.EntityData{constructor(e){super(e),this.onExtInfoChangeEmitter=new y.Emitter,this.onExtInfoChange=this.onExtInfoChangeEmitter.event,this.toDispose.push(y.Disposable.create(()=>{this._node&&this._node.remove()}))}get key(){return this.entity.id}getDefaultData(){let{addable:e,expandable:n,defaultExpanded:r}=this.entity.getNodeMeta();return{addable:e,expandable:n,expanded:r||!1,activated:!1,hovered:!1,dragging:!1}}updateExtInfo(e){if(y.Compare.isChanged(this.data.extInfo,e)){let n=this.data.extInfo;this.update({extInfo:e}),this.onExtInfoChangeEmitter.fire({oldInfo:n,newInfo:e})}}getExtInfo(){return this.data.extInfo}get addable(){return this.data.addable}get expandable(){return this.data.expandable}get draggable(){let{draggable:e}=this.entity.getNodeMeta();return"function"==typeof e?e(this.entity):e}get expanded(){return this.data.expanded}set expanded(e){this.expandable&&this.data.expanded!==e&&(this.data.expanded=e,this.fireChange())}toggleExpand(){this.expanded=!this.expanded}toggleMouseEnter(e=!1){if(this.entity.document.renderState.setNodeHovered(this.entity),e)return;let n=this.entity.getData(H);!n.renderState.hidden&&(this.mouseLeaveTimeout&&(clearTimeout(this.mouseLeaveTimeout),this.mouseLeaveTimeout=void 0),n.renderState.hovered=!0,this.entity.isFirst&&this.entity.parent?.id!=="root"?n.parent.renderState.activated=!0:n.renderState.activated=!0)}toggleMouseLeave(e=!1){if(this.entity.document.renderState.setNodeHovered(void 0),e)return;let n=this.entity.getData(H);this.mouseLeaveTimeout=setTimeout(()=>{n.renderState.hovered=!1,this.entity.isFirst&&this.entity.parent?.id!=="root"&&(n.parent.renderState.activated=!1),n.renderState.activated=!1},200)}get hidden(){return this.entity.hidden}set hovered(e){this.data.hovered=e,this.fireChange()}get hovered(){return this.data.hovered}get dragging(){return this.data.dragging}set dragging(e){this.data.dragging!==e&&(this.data.dragging=e,this.fireChange())}set activated(n){if("blockIcon"===this.entity.flowNodeType&&this.entity.parent){this.entity.parent.getData(e).activated=n;return}this.data.activated!==n&&(this.data.activated=n,this.fireChange())}get activated(){let{entity:n}=this;return!!n.parent&&!!n.parent.getData(e).activated||this.data.activated}get lineActivated(){let{activated:n}=this;return!!n&&!!(this.entity.parent?.getData(e)?.activated||this.entity.isInlineBlock||this.entity.next?.getData(e).activated)}get node(){return this._node?this._node:(this._node=y.domUtils.createDivWithClass("gedit-flow-activity-node"),this._node.dataset.testid="sdk.workflow.canvas.node",this._node.dataset.nodeId=this.entity.id,this._node)}dispose(){super.dispose(),this.onExtInfoChangeEmitter.dispose()}};V.type="FlowNodeRenderData";var $=V,U=class e extends g.EntityData{constructor(e){super(e),this.localDirty=!0;let{origin:n}=this.entity.getNodeMeta();this.transform=this.entity.addData(g.TransformData),this.transform.changeLocked=!0,this.transform.update({origin:{...n}}),this.transform.changeLocked=!1,this.renderState=this.entity.addData($),this.bindChange(this.transform),this.toDispose.push(y.Disposable.create(()=>{let{next:e,parent:n}=this;e&&(e.localDirty=!0),n&&(n.localDirty=!0)}))}get origin(){return this.transform.origin}get key(){return this.entity.id}getDefaultData(){let{size:e,defaultExpanded:n,expandedSize:r,hidden:i}=this.entity.getNodeMeta();return{size:i?{width:0,height:0}:{...n?r:e}}}get collapsed(){return this.entity.collapsed}set collapsed(e){this.entity.collapsed=e,this.localDirty=!0,this.firstChild&&(this.firstChild.localDirty=!0),this.fireChange()}get size(){return this.entity.memoGlobal("size",()=>this.isContainer?this.transform.localSize:this.data.size)}get position(){let{position:e}=this.transform;return{x:e.x,y:e.y}}set size(e){let{width:n,height:r}=this.data.size;!this.isContainer&&(e.width!==n||e.height!==r)&&(this._data.size={...e},this.localDirty=!0,this.fireChange())}get inputPoint(){return this.entity.memoGlobal("inputPoint",()=>{let{getInputPoint:e}=this.entity.getNodeRegistry();return e?e(this,this.entity.document.layout):this.defaultInputPoint})}get defaultInputPoint(){return this.entity.memoGlobal("defaultInputPoint",()=>this.entity.document.layout.getDefaultInputPoint(this.entity))}get defaultOutputPoint(){return this.entity.memoGlobal("defaultOutputPoint",()=>this.entity.document.layout.getDefaultOutputPoint(this.entity))}get outputPoint(){return this.entity.memoGlobal("outputPoint",()=>{let{getOutputPoint:e}=this.entity.getNodeRegistry();return e?e(this,this.entity.document.layout):this.defaultOutputPoint})}get originDeltaX(){return this.entity.memoLocal("originDeltaX",()=>{let{children:e}=this,{getOriginDeltaX:n}=this.entity.getNodeRegistry();return n?n(this,this.entity.document.layout):0===e.length?-this.size.width*this.origin.x:1===e.length?e[0].originDeltaX:this.entity.isInlineBlocks&&e.length>1?e[0].originDeltaX+this.transform.position.x:e.reduce((e,n)=>{let r=n.originDeltaX;return void 0===e||r<e?r:e},void 0)})}get originDeltaY(){return this.entity.memoLocal("originDeltaY",()=>{let{children:e}=this,{getOriginDeltaY:n}=this.entity.getNodeRegistry();return n?n(this,this.entity.document.layout):0===e.length?-this.size.height*this.origin.y:1===e.length?e[0].originDeltaY:this.entity.isInlineBlocks&&e.length>1?e[0].originDeltaY+this.transform.position.y:e.reduce((e,n)=>{let r=n.originDeltaY;return void 0===e||r<e?r:e},void 0)})}get bounds(){return this.entity.memoGlobal("bounds",()=>{let{transform:n}=this;if(this.isContainer){let r=n.children.map(n=>n.entity.getData(e).boundsWithPadding);return y.Rectangle.enlarge(r).withPadding(this.padding)}return n.bounds})}get boundsWithPadding(){return this.entity.memoGlobal("boundsWithPadding",()=>{let{transform:n}=this;if(this.isContainer){let r=n.children.map(n=>n.entity.getData(e).boundsWithPadding);return y.Rectangle.enlarge(r).withPadding(this.padding)}return n.bounds.clone().withPadding(this.padding)})}get isContainer(){return this.transform.isContainer}get localBounds(){return this.entity.memoLocal("localBounds",()=>{let{transform:n}=this;if(this.isContainer){let r=n.children.map(n=>n.entity.getData(e).localBounds),i=y.Rectangle.enlarge(r).withPadding(this.padding);return g.Bounds.applyMatrix(i,n.localTransform)}return n.localBounds.clone().withPadding(this.padding)})}get padding(){return this.entity.document.layout.getPadding(this.entity)}setParentTransform(e){this.transform.parent!==e?.transform&&(this.localDirty=!0),this.transform.setParent(e?.transform)}get spacing(){let{spacing:e}=this.entity.getNodeMeta();return"function"==typeof e?e(this):e}get inlineSpacingPre(){let{inlineSpacingPre:e}=this.entity.getNodeMeta();return"function"==typeof e?e(this):e}get inlineSpacingAfter(){let{inlineSpacingAfter:e}=this.entity.getNodeMeta();return"function"==typeof e?e(this):e}get minInlineBlockSpacing(){let{minInlineBlockSpacing:e}=this.entity.getNodeMeta();return"function"==typeof e?e(this):e}get children(){return this.entity.children.map(n=>n.getData(e))}get pre(){return this.entity.pre?.getData(e)}get originParent(){return this.entity.originParent?.getData(e)}get isFirst(){return this.entity.isFirst}get isLast(){return this.entity.isLast}get lastChild(){return this.entity.lastChild?.getData(e)}get firstChild(){return this.entity.firstChild?.getData(e)}get next(){return this.entity.next?.getData(e)}get parent(){return this.entity.parent?.getData(e)}};U.type="FlowNodeTransformData";var H=U,W=e=>{let{transform:n}=e,r=n.outputPoint;return n.next?[{type:0,from:r,to:n.next.inputPoint}]:[]},K=e=>{let{transform:n}=e,r=n.outputPoint,i=n.parent?.outputPoint;return n.next||!i||new y.Point().copyFrom(r).equals(i)||e.isNodeEnd?[]:[{type:0,from:r,to:i}]},G=class extends g.EntityData{getDefaultData(){return{}}formatLines(e){return this.entity.document.options?.formatNodeLines?this.entity.document.options?.formatNodeLines?.(this.entity,e):e}formatLabels(e){return this.entity.document.options.formatNodeLabels?this.entity.document.options?.formatNodeLabels?.(this.entity,e):e}get lines(){return this.entity.memoGlobal("lines",()=>{let{getChildLines:e}=this.entity.parent?.getNodeRegistry()||{};if(e)return this.formatLines(e(this,this.entity.document.layout));let{getLines:n}=this.entity.getNodeRegistry();return n?this.formatLines(n(this,this.entity.document.layout)):this.transform.entity.isInlineBlock?[]:this.formatLines([...W(this),...K(this)])})}get labels(){return this.entity.memoGlobal("labels",()=>{let{getChildLabels:e}=this.entity.parent?.getNodeRegistry()||{};if(e)return this.formatLabels(e(this,this.entity.document.layout));let{getLabels:n}=this.entity.getNodeRegistry();if(n)return this.formatLabels(n(this,this.entity.document.layout));if(this.transform.entity.isInlineBlock)return[];let r=this.transform.outputPoint;if(this.transform.next)return this.formatLabels([{offset:y.Point.getMiddlePoint(r,this.transform.next.inputPoint),type:0}]);let i=this.transform.parent?.outputPoint;return!i||new y.Point().copyFrom(r).equals(i)||this.isNodeEnd?[]:this.formatLabels([{offset:i,type:0}])})}constructor(e){super(e),this.transform=this.entity.addData(H),this.renderData=this.entity.addData($),this.bindChange(this.transform),this.bindChange(this.renderData)}get collapsed(){return this.entity.collapsed}get isNodeEnd(){return this.entity.isNodeEnd}};G.type="FlowNodeTransitionData";var Y=class extends g.Entity{constructor(e){super(e),this._memoLocalCache=new Map,this._memoGlobalCache=new Map,this.flowNodeType="unknown",this._hidden=!1,this.index=-1,this.document=e.document,this.flowNodeType=e.flowNodeType,this.originParent=e.originParent,this.metaFromJSON=e.meta,this.onDispose(()=>{this.document.originTree.getChildren(this).slice().forEach(e=>{e.dispose()}),this.document.originTree.remove(this,!1),this.originParent=void 0})}initData(e){e.originParent!==this.originParent&&(this.originParent=e.originParent,this._registerCache=void 0),e.parent&&e.parent.addChild(this,e.index),e.meta!==this.metaFromJSON&&(this._metaCache=void 0,this.metaFromJSON=e.meta),this._hidden=!!(this.getNodeMeta().hidden||e.hidden)}get isStart(){return this.getNodeMeta().isStart}get isFirst(){return!this.pre}get isLast(){return!this.next}get isInlineBlocks(){let e=this.getNodeMeta().isInlineBlocks;return"function"==typeof e?e(this):e}get isInlineBlock(){let e=this.document.renderTree.getParent(this);return!!(e&&e.isInlineBlocks)}get isNodeEnd(){return this.memoLocal("isNodeEnd",()=>!!this.getNodeMeta().isNodeEnd||(this.isInlineBlocks&&this.collapsedChildren.length?this.collapsedChildren.every(e=>e.isNodeEnd):!!this.lastCollapsedChild&&this.lastCollapsedChild.isNodeEnd))}addChild(e,n){e.parent!==this&&this.document.originTree.addChild(this,e,n)}get hasChild(){return this.children.length>0}get pre(){return this.document.renderTree.getPre(this)}get next(){return this.document.renderTree.getNext(this)}get parent(){return this.document.renderTree.getParent(this)}getNodeRegistry(){return this._registerCache?this._registerCache:(this._registerCache=this.document.getNodeRegistry(this.flowNodeType,this.originParent),this._registerCache)}getNodeRegister(){return this.getNodeRegistry()}getNodeMeta(){return this._metaCache?this._metaCache:(this.metaFromJSON?this._metaCache={...this.getNodeRegistry().meta,...this.metaFromJSON}:this._metaCache=this.getNodeRegistry().meta,this._metaCache)}get allChildren(){let e=[];for(let n of this.children)e.push(n),e.push(...n.allChildren);return e}get allCollapsedChildren(){let e=[];for(let n of this.collapsedChildren)e.push(n),e.push(...n.allCollapsedChildren);return e}get collapsedChildren(){return this.document.renderTree.getCollapsedChildren(this)}get blocks(){return this.collapsedChildren}get lastBlock(){return this.lastCollapsedChild}get lastCollapsedChild(){let{collapsedChildren:e}=this;return e[e.length-1]}get children(){return this.document.renderTree.getChildren(this)}get lastChild(){let{children:e}=this;return e[e.length-1]}get firstChild(){return this.children[0]}memoLocal(e,n){if(this._memoLocalCache.has(e))return this._memoLocalCache.get(e);let r=n();return this._memoLocalCache.set(e,r),r}memoGlobal(e,n){if(this._memoGlobalCache.has(e))return this._memoGlobalCache.get(e);let r=n();return this._memoGlobalCache.set(e,r),r}clearMemoGlobal(){this._memoGlobalCache.clear()}clearMemoLocal(){this._memoLocalCache.clear()}get childrenLength(){return this.children.length}get collapsed(){return!!this.document.renderTree.isCollapsed(this)||!!this.parent?.collapsed}set collapsed(e){this.document.renderTree.setCollapsed(this,e),this.clearMemoGlobal(),this.clearMemoLocal()}get hidden(){return this._hidden}openInsideCollapsed(){this.document.renderTree.openNodeInsideCollapsed(this)}getJSONData(){return this.getExtInfo()}toJSON(){let e;if(this.document.options.toNodeJSON)return this.document.options.toNodeJSON(this);let n={};return this.document.traverse(r=>{let i=r.id.startsWith("$");if(i)return;let o=this.getJSONData(),a={id:r.id,type:r.flowNodeType};void 0!==o&&(a.data=o),!e&&(e=a);let{parent:s}=r;s&&s.id.startsWith("$")&&(s=s.originParent);let l=s?n[s.id]:void 0;l&&(!l.blocks&&(l.blocks=[]),l.blocks.push(a)),n[r.id]=a},this),e}get isVertical(){return"vertical-fixed-layout"===this.document.layout.name}updateExtInfo(e){this.getData($).updateExtInfo(e)}getExtInfo(){return this.getData($).getExtInfo()}get onExtInfoChange(){return this.renderData.onExtInfoChange}get renderData(){return this.getData($)}get transform(){return this.getData(H)}get bounds(){return this.transform.bounds}};Y.type="FlowNodeEntity",(f=Y||(Y={})).is=function(e){return e instanceof f};var X=class extends g.ConfigEntity{constructor(e){super(e),this.onRefreshEmitter=new y.Emitter,this.lastTransformVersion=-1,this.lastTreeVersion=-1,this.onRefresh=this.onRefreshEmitter.event,this.document=e.document,this.toDispose.push(this.document.originTree.onTreeChange(()=>{this.config.treeVersion+=1,this.fireChange()})),this.toDispose.push(this.onRefreshEmitter)}getDefaultConfig(){return{loading:!0,treeVersion:0}}get loading(){return this.config.loading}set loading(e){this.config.loading!==e&&(this.config.loading=e,this.fireChange())}updateTransformsTree(){this.document.renderTree.traverse((e,n,r)=>{let i=e.getData(H);i.collapsed&&i.transform.clearChildren(),e.parent&&i.setParentTransform(e.parent.getData(H)),e.index=r})}clear(){this.lastTreeVersion=-1,this.lastTransformVersion=-1}isTreeDirty(){let e=this.entityManager.getEntityDataVersion(H),n=this.lastTreeVersion!==this.config.treeVersion,r=this.lastTransformVersion!==e;return n||r}refresh(){let e=this.entityManager.getEntityDataVersion(H),n=this.lastTreeVersion!==this.config.treeVersion,r=this.lastTransformVersion!==e;this.entityManager.changeEntityLocked=!0,n&&(this.document.renderTree.updateRenderStruct(),this.updateTransformsTree(),this.lastTreeVersion=this.config.treeVersion),(n||r)&&(this.document.layout.update(),this.lastTransformVersion=this.entityManager.getEntityDataVersion(H),this.lastTreeVersion=this.config.treeVersion,this.onRefreshEmitter.fire()),this.entityManager.changeEntityLocked=!1}};X.type="FlowDocumentTransformerEntity";var Z=class extends g.ConfigEntity{getDefaultConfig(){return{}}constructor(e){super(e)}getNodeHovered(){return this.config.nodeHoveredId?this.entityManager.getEntityById(this.config.nodeHoveredId):void 0}setNodeHovered(e){this.updateConfig({nodeHoveredId:e?.id})}getDragLabelSide(){return this.config.dragLabelSide}setDragLabelSide(e){this.updateConfig({dragLabelSide:e})}getNodeDroppingId(){return this.config.nodeDroppingId}setNodeDroppingId(e){this.updateConfig({nodeDroppingId:e})}getDragStartEntity(){let{nodeDragStartId:e}=this.config;return this.entityManager.getEntityById(e)}setDragStartEntity(e){this.updateConfig({nodeDragStartId:e?.id})}getDragEntities(){let{nodeDragIds:e}=this.config;return(e||[]).map(e=>this.entityManager.getEntityById(e))}setDragEntities(e){this.updateConfig({nodeDragIds:e.map(e=>e.id),nodeDragIdsWithChildren:e.map(e=>[e.id,...e.allCollapsedChildren.map(e=>e.id)]).flat()})}onNodeHoveredChange(e,n=100){return this.onConfigChanged((0,m.debounce)(()=>e(this.getNodeHovered()),n))}};Z.type="FlowRendererStateEntity";var Q=class e{constructor(e){this.root=e,this.onTreeChangeEmitter=new y.Emitter,this.onTreeChange=this.onTreeChangeEmitter.event,this.map=new Map}dispose(){this.map.clear(),this.onTreeChangeEmitter.dispose()}getInfo(e){let n=this.map.get(e);return!n&&(n={children:[]},this.map.set(e,n)),n}clear(){this.map.clear()}cloneMap(){let e=new Map;for(let[n,r]of this.map)e.set(n,{...r,children:r.children.slice()});return e}clone(){let n=new e(this.root);return n.map=this.cloneMap(),n}remove(e,n=!0){this.removeParent(e),n&&this._removeChildren(e),this.map.delete(e),this.fireTreeChange()}addChild(e,n,r){let i=this.getInfo(e),o=this.getInfo(n);if(o.parent){if(o.parent===e)return n;o.parent!==e&&this.removeParent(n)}let a=i.children.length,s=void 0===r?a-1:r-1,l=i.children[s],u=i.children[s+1];return l&&(this.getInfo(l).next=n),u&&(this.getInfo(u).pre=n),o.pre=l,o.next=u,i.children.splice(s+1,0,n),o.parent=e,this.fireTreeChange(),n}moveChilds(e,n,r){let i=this.getInfo(e),o=i.children.length,a=r??o;return n.forEach(e=>{let n=this.getInfo(e);n.parent&&this.removeParent(e)}),n.forEach(n=>{let r=this.getInfo(n),o=i.children[a-1],s=i.children[a];o&&(this.getInfo(o).next=n),s&&(this.getInfo(s).pre=n),r.pre=o,r.next=s,i.children.splice(a,0,n),r.parent=e,a++}),this.fireTreeChange(),n}getById(e){for(let n of this.map.keys())if(n.id===e)return n}insertAfter(e,n){let r=this.getInfo(e),i=this.getInfo(n);if(this.removeParent(n),r.parent){let o=this.getInfo(r.parent);o.children.splice(o.children.indexOf(e)+1,0,n);let{next:a}=r;a&&(this.getInfo(a).pre=n),i.next=a,r.next=n,i.pre=e,i.parent=r.parent}this.fireTreeChange()}removeParent(e){let n=this.getInfo(e);if(!n.parent)return;let r=this.getInfo(n.parent),i=r.children.indexOf(e);r.children.splice(i,1);let{pre:o,next:a}=n;o&&(this.getInfo(o).next=a),a&&(this.getInfo(a).pre=o),this.fireTreeChange()}_removeChildren(e){let n=this.getChildren(e);n.length>0&&n.forEach(e=>{this._removeChildren(e),this.map.delete(e)})}getParent(e){return this.getInfo(e).parent}getPre(e){return this.getInfo(e).pre}getNext(e){return this.getInfo(e).next}getChildren(e){return this.getInfo(e).children}traverse(e,n=this.root,r=0,i=0){let o=e(n,r,i);if(o)return!0;let a=this.getInfo(n),s=a.children.find((n,i)=>this.traverse(e,n,r+1,i));if(s)return!0}fireTreeChange(){this.onTreeChangeEmitter.fire()}get size(){return this.map.size}toString(){let e=[];return this.traverse((n,r)=>{0===r?e.push(n.id):e.push(`|${Array(r).fill("--").join("")} ${n.id}`)}),`${e.join("\n")}`}},q=class extends Q{constructor(e,n,r){super(e),this.root=e,this.nodesCollapsed=new Set,this.originTree=n,this.onTreeChange=this.originTree.onTreeChange,this.document=r}isCollapsed(e){return this.nodesCollapsed.has(e)}get collapsedNodeList(){return Array.from(this.nodesCollapsed)}setCollapsed(e,n){n?this.nodesCollapsed.add(e):this.nodesCollapsed.delete(e),this.originTree.fireTreeChange()}openNodeInsideCollapsed(e){let n=this.originTree.getInfo(e)?.parent;for(;n;){this.nodesCollapsed.has(n)&&this.nodesCollapsed.delete(n);let{parent:e}=this.originTree.getInfo(n)||{};n=e}this.originTree.fireTreeChange()}updateRenderStruct(){this.map=this.originTree.cloneMap(),this.document.config.get("END_NODES_REFINE_BRANCH")&&this.refineBranch(this.root),this.hideCollapsed()}hideCollapsed(){this.nodesCollapsed.forEach(e=>{let n=this.getInfo(e);if(!n){this.nodesCollapsed.delete(e);return}let r=n.children.find(e=>"blockIcon"===e.flowNodeType||"blockOrderIcon"===e.flowNodeType);if(r){let e=this.getInfo(r);e.next=void 0,e.pre=void 0,n.children=[r];return}n.children=[]})}isNodeEnd(e){if(e.getNodeMeta().isNodeEnd)return!0;let{children:n}=this.getInfo(e);return n.length>0&&e.isInlineBlocks?n.every(e=>this.isNodeEnd(e)):!!e.isInlineBlock&&this.isNodeEnd(n[n.length-1])}refineBranch(e){let n=this.getInfo(e).children[0];for(;n;){if("dynamicSplit"===n.flowNodeType||"staticSplit"===n.flowNodeType){let{next:e,children:r}=this.getInfo(n),{children:i}=this.getInfo(r[1]),o=(i||[]).filter(e=>!this.isNodeEnd(e)),a=1===o.length;if(a&&e&&this.dragNextNodesToBlock(o[0],e),i?.forEach(e=>{this.refineBranch(e)}),a)break}n=n.next}}dragNextNodesToBlock(e,n){let r=this.getInfo(e),i=this.getInfo(n),o=r.children[e.children.length-1];if(i.parent){let a=this.getInfo(i.parent);if(i.pre&&(this.getInfo(i.pre).next=void 0),o){let e=this.getInfo(o);e.next=n,i.pre=o}let s=a.children.indexOf(n),l=a.children.slice(s);for(let n of(a.children=a.children.slice(0,s),l)){let i=this.getInfo(n);r.children.push(n),i.parent=e}}}getInfo(e){let n=this.map.get(e)||this.originTree.getInfo(e);return n}getOriginInfo(e){return this.originTree.getInfo(e)}getCollapsedChildren(e){return this.getOriginInfo(e).children||[]}remove(){throw Error("Render Tree cannot use remove node")}addChild(){throw Error("Render tree cannot use add child")}insertAfter(){throw Error("Render tree cannot use insert after")}removeParent(){throw Error("Render tree cannot use remove parent")}},J=Symbol("FlowDocumentOptions"),ee={allNodesDefaultExpanded:!1},et={...T,INLINE_SPACING_BOTTOM:"INLINE_SPACING_BOTTOM",INLINE_BLOCKS_INLINE_SPACING_TOP:"INLINE_BLOCKS_INLINE_SPACING_TOP",INLINE_BLOCKS_INLINE_SPACING_BOTTOM:"INLINE_BLOCKS_INLINE_SPACING_BOTTOM",BASE_COLOR:"BASE_COLOR",BASE_ACTIVATED_COLOR:"BASE_ACTIVATED_COLOR"},en=Symbol("FlowDocumentContribution"),er=Symbol("FlowDocumentConfigDefaultData"),ei=class{constructor(e={}){this._data=e,this.onDataChangeEmitter=new y.Emitter,this.onChange=this.onDataChangeEmitter.event}get(e){return this._data[e]}set(e,n){this.get(e)!==n&&(this._data[e]=n,this.onDataChangeEmitter.fire(e))}registerConfigs(e){Object.keys(e).forEach(n=>{this.set(n,e[n])})}};ei=x([(0,b.injectable)(),C(0,(0,b.inject)(er)),C(0,(0,b.optional)())],ei);var eo=Symbol("FlowDocumentProvider"),ea=class{constructor(){this.contributions=[],this.registers=new Map,this.nodeRegistryCache=new Map,this.nodeDataRegistries=[],this.layouts=[],this.currentLayoutKey="",this.onNodeUpdateEmitter=new y.Emitter,this.onNodeCreateEmitter=new y.Emitter,this.onNodeDisposeEmitter=new y.Emitter,this.onLayoutChangeEmitter=new y.Emitter,this.onNodeUpdate=this.onNodeUpdateEmitter.event,this.onNodeCreate=this.onNodeCreateEmitter.event,this.onNodeDispose=this.onNodeDisposeEmitter.event,this.onLayoutChange=this.onLayoutChangeEmitter.event}init(){!this.options&&(this.options=ee),this.currentLayoutKey=this.options.defaultLayout||"vertical-fixed-layout",this.contributions.forEach(e=>e.registerDocument?.(this)),this.root=this.addNode({id:"root",type:"root"}),this.originTree=new Q(this.root),this.transformer=this.entityManager.createEntity(X,{document:this}),this.renderState=this.entityManager.createEntity(Z),this.renderTree=new q(this.root,this.originTree,this),this.layout.reload?.()}fromJSON(e,n=!0){this.originTree.clear(),this.renderTree.clear(),this.entityManager.changeEntityLocked=!0;let r=this.entityManager.getEntities(Y),i=[this.root];this.addBlocksAsChildren(this.root,e.nodes||[],i),r.forEach(e=>{!i.includes(e)&&e.dispose()}),this.entityManager.changeEntityLocked=!1,this.transformer.loading=!1,n&&this.fireRender()}get layout(){let e=this.layouts.find(e=>e.name==this.currentLayoutKey);if(!e)throw Error(`Unknown flow layout: ${this.currentLayoutKey}`);return e}async load(){await Promise.all(this.contributions.map(e=>e.loadDocument?.(this)))}get loading(){return this.transformer.loading}fireRender(){this.transformer.isTreeDirty()&&(this.entityManager.fireEntityChanged(Y.type),this.entityManager.fireEntityChanged(X.type))}addFromNode(e,n){let r="string"==typeof e?this.getNode(e):e;this.entityManager.changeEntityLocked=!0;let{parent:i}=r,o=this.addNode({...n,parent:i});return this.originTree.insertAfter(r,o),this.entityManager.changeEntityLocked=!1,this.entityManager.fireEntityChanged(Y.type),o}removeNode(e){"string"==typeof e?this.getNode(e)?.dispose():e.dispose()}addNode(e,n,r){let{id:i,type:o="block",originParent:a,parent:s,meta:l,hidden:u,index:c}=e,d=this.getNode(i),h=!1,f=this.getNodeRegistry(o,e.originParent);if(d&&d.flowNodeType!==e.type&&(d.dispose(),d=void 0),!d){let{dataRegistries:n}=f;d=this.entityManager.createEntity(Y,{id:i,document:this,flowNodeType:o,originParent:a,meta:l});let r=n?this.nodeDataRegistries.concat(...n):this.nodeDataRegistries;d.addInitializeData(r),d.onDispose(()=>this.onNodeDisposeEmitter.fire({node:d})),this.options.fromNodeJSON&&this.options.fromNodeJSON(d,e),h=!0}if(d.initData({originParent:a,parent:s,meta:l,hidden:u,index:c}),d.isStart&&this.root.addChild(d),this.onNodeUpdateEmitter.fire({node:d,data:e}),n?.push(d),f.onCreate){let r=f.onCreate(d,e);r&&n&&n.push(...r)}else e.blocks&&e.blocks.length>0&&(e.blocks[0].type?this.addBlocksAsChildren(d,e.blocks,n):this.addInlineBlocks(d,e.blocks,n));return h&&!r&&this.onNodeCreateEmitter.fire({node:d,data:e}),d}addBlocksAsChildren(e,n,r){for(let i of n)this.addNode({...i,parent:e},r)}addInlineBlocks(e,n,r=[]){let i=this.addNode({id:`$blockIcon$${e.id}`,type:"blockIcon",originParent:e,parent:e});if(r.push(i),n.length>0){let i=this.addNode({id:`$inlineBlocks$${e.id}`,type:"inlineBlocks",originParent:e,parent:e});r.push(i),n.forEach(n=>{this.addBlock(e,n,r)})}return r}addBlock(e,n,r,i,o){let a="string"==typeof e?this.getNode(e):e,{onBlockChildCreate:s}=a.getNodeRegistry();if(s)return s(a,n,r);i=i||this.getNode(`$inlineBlocks$${a.id}`);let l=this.addNode({...(0,m.omit)(n,"blocks"),type:n.type||"block",originParent:a,parent:i,index:o});n.meta?.defaultCollapsed&&(l.collapsed=!0);let u=this.addNode({id:`$blockOrderIcon$${n.id}`,type:"blockOrderIcon",originParent:a,meta:n.meta,data:n.data,parent:l});return r?.push(l,u),n.blocks&&this.addBlocksAsChildren(l,n.blocks,r),l}getNode(e){if(e)return this.entityManager.getEntityById(e)}registerFlowNodes(...e){e.forEach(e=>{if(!e)throw Error("[FlowDocument] registerFlowNodes parameters get undefined registry.");let n=this.registers.get(e.type);this.registers.set(e.type,{...n,...e,meta:{...n?.meta,...e?.meta}})})}toJSON(){return{nodes:this.root.toJSON().blocks}}getNodeRegister(e,n){return this.getNodeRegistry(e,n)}getNodeRegistry(e,n){let r=`${e}_${n?.flowNodeType||""}`;if(this.nodeRegistryCache.has(r))return this.nodeRegistryCache.get(r);let i=this.options.getNodeDefaultRegistry?.(e),o=this.registers.get(e)||{type:e},a=[];if(o.extend&&this.registers.has(o.extend)&&(o=p.merge(this.getNodeRegistry(o.extend),o,o.type)),n){let r=this.getNodeRegistry(n.flowNodeType).extendChildRegistries?.find(n=>n.type===e);r&&(r.extend&&this.registers.has(r.extend)&&a.push(this.registers.get(r.extend)),a.push(r))}o=p.extend(o,a);let s=F(e,this);s.spacing=this.options?.constants?.[et.NODE_SPACING]||s.spacing;let l={...i,...o,meta:{...s,...i?.meta,...o.meta}};return this.nodeRegistryCache.set(r,l),l}registerNodeDatas(...e){this.nodeDataRegistries.push(...e)}traverse(e,n=this.root,r=0){return this.originTree.traverse(e,n,r)}get size(){return this.getAllNodes().length}hasNode(e){return!!this.entityManager.getEntityById(e)}getAllNodes(){return this.entityManager.getEntities(Y)}toString(){return this.originTree.toString()}getRenderDatas(e,n=!0){let r=[];return this.renderTree.traverse(i=>{(n||!i.hidden)&&r.push(i.getData(e))}),r}moveNodes({dropNodeId:e,sortNodeIds:n,inside:r=!1}){let i=this.getNode(e);if(!i)return;let o=n.map(e=>this.getNode(e));for(let e of(this.entityManager.changeEntityLocked=!0,o.reverse()))r?this.originTree.addChild(i,e,0):this.originTree.insertAfter(i,e);this.entityManager.changeEntityLocked=!1,this.fireRender()}moveChildNodes({toParentId:e,toIndex:n,nodeIds:r}){if(0===r.length)return;let i=this.getNode(e);i&&(this.entityManager.changeEntityLocked=!0,this.originTree.moveChilds(i,r.map(e=>this.getNode(e)),n),this.entityManager.changeEntityLocked=!1,this.fireRender())}registerLayout(e){this.layouts.push(e)}setLayout(e){if(this.currentLayoutKey===e)return;let n=this.layouts.find(n=>n.name===e);n&&(this.currentLayoutKey=e,this.transformer.clear(),n.reload?.(),this.fireRender(),this.onLayoutChangeEmitter.fire(this.layout))}toggleFixedLayout(){this.setLayout("horizontal-fixed-layout"===this.layout.name?"vertical-fixed-layout":"horizontal-fixed-layout")}dispose(){this.registers.clear(),this.nodeRegistryCache.clear(),this.originTree.dispose(),this.renderTree.dispose(),this.onNodeUpdateEmitter.dispose(),this.onNodeCreateEmitter.dispose(),this.onNodeDisposeEmitter.dispose(),this.onLayoutChangeEmitter.dispose()}};x([(0,b.inject)(g.EntityManager)],ea.prototype,"entityManager",2),x([(0,b.inject)(ei)],ea.prototype,"config",2),x([(0,b.inject)(J),(0,b.optional)()],ea.prototype,"options",2),x([(0,b.multiInject)(en),(0,b.optional)()],ea.prototype,"contributions",2),x([(0,b.postConstruct)()],ea.prototype,"init",1),ea=x([(0,b.injectable)()],ea);var es=class{constructor(){this.onNodeAddEmitter=new y.Emitter,this.onNodeAdd=this.onNodeAddEmitter.event,this.toDispose=new y.DisposableCollection}init(){this.toDispose.push(this.onNodeAddEmitter)}addNode(e,n={}){let r,i,o;let{parent:a,index:s,hidden:l}=n;a&&(r=this.toNodeEntity(a)),r&&(i=r.getNodeRegistry());let u={...e,type:e.type||"block"},c={...u,parent:r,index:s,hidden:l};return o=r&&i?.addChild?i.addChild(r,u,{index:s,hidden:l}):this.document.addNode(c),this.onNodeAddEmitter.fire({node:o,data:c}),o}addFromNode(e,n){return this.document.addFromNode(e,n)}deleteNode(e){this.document.removeNode(e)}deleteNodes(e){(e||[]).forEach(e=>{this.deleteNode(e)})}addBlock(e,n,r={}){let{parent:i,index:o}=r;return this.document.addBlock(e,n,void 0,i,o)}moveNode(e,n={}){let{parent:r,index:i}=n,o=this.toNodeEntity(e),a=o?.parent;if(!a)return;let s=r?this.toNodeEntity(r):a;if(!s){console.warn("no new parent found",r);return}let l=void 0===i?a.children.length:i;return this.doMoveNode(o,s,l)}dragNodes({dropNode:e,nodes:n}){if(0===n.length)return;let r=n[0],i=r.parent,o=e.parent;if(!i||!o)return;let a=i.children.findIndex(e=>e===r),s=o.children.findIndex(n=>n===e),l=s+1;i===o&&a<s&&(l-=n.length);let u={nodeIds:n.map(e=>e.id),fromParentId:i.id,toParentId:o.id,fromIndex:a,toIndex:l};return this.apply({type:"moveChildNodes",value:u})}apply(e){let n=this.document;switch(e.type){case"addFromNode":return n.addFromNode(e.value.fromId,e.value.data);case"deleteFromNode":return n.getNode(e.value?.data?.id)?.dispose();case"addBlock":{let r;return e.value.parentId&&(r=n.getNode(e.value.parentId)),n.addBlock(e.value.targetId,e.value.blockData,void 0,r,e.value.index)}case"deleteBlock":{let r=n.getNode(e.value?.blockData.id);return r?.dispose()}case"createGroup":{let r=n.addFromNode(e.value.targetId,{id:e.value.groupId,type:"group"});return n.moveNodes({dropNodeId:e.value.groupId,sortNodeIds:e.value.nodeIds,inside:!0}),r}case"ungroup":return n.moveNodes({dropNodeId:e.value.groupId,sortNodeIds:e.value.nodeIds}),n.getNode(e.value.groupId)?.dispose();case"moveNodes":return n.moveNodes({dropNodeId:e.value.toId,sortNodeIds:e.value.nodeIds});case"moveBlock":return n.moveChildNodes({...e.value,nodeIds:[e.value.nodeId]});case"addNodes":{let r=e.value.fromId;(e.value.nodes||[]).forEach(e=>{let i=n.addFromNode(r,e);r=i.id});break}case"deleteNodes":(e.value.nodes||[]).forEach(e=>{let r=n.getNode(e.id);r?.dispose()});break;case"addChildNode":return n.addNode({...e.value.data,parent:e.value.parentId?n.getNode(e.value.parentId):void 0,originParent:e.value.originParentId?n.getNode(e.value.originParentId):void 0,index:e.value.index,hidden:e.value.hidden});case"deleteChildNode":return n.getNode(e.value.data.id)?.dispose();case"moveChildNodes":return n.moveChildNodes(e.value);default:throw Error("unknown operation type")}}transact(e){e()}dispose(){this.toDispose.dispose()}toId(e){return"string"==typeof e?e:e.id}toNodeEntity(e){return"string"==typeof e?this.document.getNode(e):e}getNodeIndex(e){let n=this.toNodeEntity(e),r=n?.parent;return r?r.children.findIndex(e=>e===n):-1}doMoveNode(e,n,r){return this.document.moveChildNodes({nodeIds:[this.toId(e)],toParentId:this.toId(n),toIndex:r})}};x([(0,b.inject)(g.EntityManager)],es.prototype,"entityManager",2),x([(0,b.inject)(ea)],es.prototype,"document",2),x([(0,b.postConstruct)()],es.prototype,"init",1),es=x([(0,b.injectable)()],es);var el=class{createGroup(e){if(!e||!Array.isArray(e)||0===e.length||!eu.validate(e))return;let n=e.sort((e,n)=>e.index-n.index),r=n[0],i=`group_${(0,_.nanoid)(5)}`;this.operationService.apply({type:"createGroup",value:{targetId:r.id,groupId:i,nodeIds:e.map(e=>e.id)}});let o=this.entityManager.getEntityById(i);if(!o)return;let a=this.groupController(o);if(a)return a.expand(),o}deleteGroup(e){let n=e.toJSON();e.pre&&n&&this.operationService.apply({type:"deleteNodes",value:{fromId:e.pre.id,nodes:[n]}})}ungroup(e){let n=this.groupController(e);if(!n)return;let r=n.nodes;e.pre&&(n.collapse(),this.operationService.apply({type:"ungroup",value:{groupId:e.id,targetId:e.pre.id,nodeIds:r.map(e=>e.id)}}))}getAllGroups(){let e=this.entityManager.getEntities(Y),n=e.filter(e=>"group"===e.flowNodeType);return n.map(e=>this.groupController(e)).filter(Boolean)}groupController(e){return eu.create(e)}static validate(e){return eu.validate(e)}};x([(0,b.inject)(g.EntityManager)],el.prototype,"entityManager",2),x([(0,b.inject)(B)],el.prototype,"operationService",2),el=x([(0,b.injectable)()],el);var eu=class e{constructor(e){this.groupNode=e}get nodes(){return this.groupNode.collapsedChildren||[]}get collapsed(){let e=this.groupNode.getData(H);return e.collapsed}collapse(){this.collapsed=!0}expand(){this.collapsed=!1}get bounds(){let e=this.groupNode.getData(H).bounds;return e}isStartNode(e){if(!e)return!1;let n=this.nodes;return!!n[0]&&e.id===n[0].id}isEndNode(e){if(!e)return!1;let n=this.nodes;return!!n[n.length-1]&&e.id===n[n.length-1].id}set note(e){this.groupNode.getNodeMeta().note=e}get note(){return this.groupNode.getNodeMeta().note||""}set noteHeight(e){this.groupNode.getNodeMeta().noteHeight=e}get noteHeight(){return this.groupNode.getNodeMeta().noteHeight||0}get positionConfig(){return this.groupNode.getNodeMeta().positionConfig}set collapsed(e){let n=this.groupNode.getData(H);n.collapsed=e,n.localDirty=!0,n.parent&&(n.parent.localDirty=!0),n.parent?.firstChild&&(n.parent.firstChild.localDirty=!0)}set hovered(e){let n=this.groupNode.getData($);e?n.toggleMouseEnter():n.toggleMouseLeave(),n.hovered!==e&&(n.hovered=e)}get hovered(){let e=this.groupNode.getData($);return e.hovered}static create(n){if(!!n){if(e.isGroupNode(n))return new e(n)}}static validate(n){if(!n||!Array.isArray(n)||0===n.length)return!1;let r=n.some(n=>e.isGroupNode(n));if(r)return!1;let i=n.some(e=>e&&this.isNodeInGroup(e));if(i)return!1;let o=n[0].parent,a=n.every(e=>e.parent===o);if(!a)return!1;let s=n.map(e=>e.index).sort((e,n)=>e-n),l=s.every((e,n,r)=>0===n||e===r[n-1]+1);if(!l)return!1;let u=this.findNodeParents(n[0]),c=u.some(e=>this.isNodeInGroup(e));return!c&&!0}static getNodeGroupController(n){if(!n||!this.isNodeInGroup(n))return;let r=n?.parent;return e.create(r)}static getNodeRecursionGroupController(e){if(!e)return;let n=this.getNodeGroupController(e);return n?n:e.parent?this.getNodeRecursionGroupController(e.parent):void 0}static isGroupNode(e){return"group"===e.flowNodeType}static findNodeParents(e){let n=[],r=e.parent;for(;r;)n.push(r),r=r.parent;return n}static isNodeInGroup(e){return e?.parent?.flowNodeType==="group"||!1}},ec=class{constructor(){this.onDropEmitter=new y.Emitter,this.onDrop=this.onDropEmitter.event}get renderState(){return this.document.renderState}get dragStartNode(){return this.renderState.getDragStartEntity()}get dragNodes(){return this.renderState.getDragEntities()}get dropNodeId(){return this.renderState.getNodeDroppingId()}get isDragBranch(){return this.dragStartNode?.isInlineBlock}get nodeDragIdsWithChildren(){return this.renderState.config.nodeDragIdsWithChildren||[]}get dragging(){let e=this.dragStartNode?.getData($);return!!e?.dragging}get labelSide(){return this.renderState.config.dragLabelSide}dropBranch(){this.dropNode()}dropNode(){let e=this.document.getNode(this.dropNodeId);if(!e)return;let n=[],r=this.dragStartNode;for(;r&&this.dragNodes.includes(r);)n.push(r),r=r.next;this.operationService.dragNodes({dropNode:e,nodes:n}),n.length>0&&this.onDropEmitter.fire({dropNode:e,dragNodes:n})}isDroppableNode(e){if(!this.dragging||this.isDragBranch||this.nodeDragIdsWithChildren.includes(e.id)||e.next&&this.nodeDragIdsWithChildren.includes(e.next.id)||e.isInlineBlocks||e.isInlineBlock)return!1;let n=this.dragNodes.some(e=>"group"===e.flowNodeType);if(n){let n=eu.getNodeRecursionGroupController(e);if(n)return!1}return!0}isDroppableBranch(e,n="normal_branch"){if(this.isDragBranch){if(!e.isInlineBlock||e.parent!==this.dragStartNode.parent||e===this.dragStartNode)return!1;if("normal_branch"===n&&e.next!==this.dragStartNode||"pre_branch"===n&&e.pre!==this.dragStartNode)return!0}return!1}};x([(0,b.inject)(ea)],ec.prototype,"document",2),x([(0,b.inject)(B)],ec.prototype,"operationService",2),x([(0,b.inject)(g.EntityManager)],ec.prototype,"entityManager",2),ec=x([(0,b.injectable)()],ec);var ed=class{constructor(){this.name="vertical-fixed-layout",this.structDataMap=new WeakMap}get document(){return this.documentProvider()}reload(){this.structDataMap=new WeakMap}update(){this.updateLocalTransform(this.document.root)}updateLocalTransform(e,n=!1){var r,i;let{children:o,parent:a,isInlineBlock:s}=e,l=e.getData(H),{getDelta:u,getOrigin:c}=e.getNodeRegistry(),d=this.structDataMap.get(e)||{childrenLength:0,index:-1};e.clearMemoGlobal();let h=l.localDirty||n,f={index:e.index,childrenLength:e.children.length};if(r=d,i=f,r.childrenLength!==i.childrenLength||r.index!==i.index)h=!0,this.structDataMap.set(e,f);let p=!1;if(o.length>0)for(let e of o){let n=this.updateLocalTransform(e,p);n&&(p=!0,h=!0)}if(!h)return!1;e.clearMemoLocal(),l.transform.update({origin:c?c(l,this):this.getDefaultNodeOrigin()});let g=l.pre,y=u?.(l,this)||{x:0,y:0},m=s&&l.parent?.inlineSpacingPre?l.parent?.inlineSpacingPre:0,b=a?.getNodeRegistry().getChildDelta?.(l,this)||{x:0,y:0};y.x+=b.x,y.y+=b.y;let _={x:y.x,y:y.y};return s?_.y+=m:(_.y+=g?.localBounds.bottom||0,_.y+=g?.spacing||0),l.transform.update({size:l.data.size,position:_}),this.onAfterUpdateLocalTransform(l),l.localDirty=!1,!0}onAfterUpdateLocalTransform(e){let{onAfterUpdateLocalTransform:n}=e.entity.getNodeRegistry();n?.(e,this),this.contribs?.forEach(n=>{n?.onAfterUpdateLocalTransform?.(e,this)})}getNodeTransform(e){return e.getData(H)}getPadding(e){let{inlineSpacingPre:n,inlineSpacingAfter:r,padding:i}=e.getNodeMeta(),o=this.getNodeTransform(e);if(i)return"function"==typeof i?i(o):i;let a="function"==typeof n?n(o):n,s="function"==typeof r?r(o):r;return{left:0,top:a,right:0,bottom:s}}getInitScroll(e){return{scrollX:-e.width/2,scrollY:-36}}getDefaultInputPoint(e){return this.getNodeTransform(e).bounds.topCenter}getDefaultOutputPoint(e){return this.getNodeTransform(e).bounds.bottomCenter}getDefaultNodeOrigin(){return{x:.5,y:0}}};x([(0,b.inject)(eo)],ed.prototype,"documentProvider",2),x([(0,b.multiInject)(D),(0,b.optional)()],ed.prototype,"contribs",2),ed=x([(0,b.injectable)()],ed);var eh=class{constructor(){this.name="horizontal-fixed-layout",this.structDataMap=new WeakMap}get document(){return this.documentProvider()}reload(){this.structDataMap=new WeakMap}update(){this.updateLocalTransform(this.document.root)}updateLocalTransform(e,n=!1){var r,i;let{children:o,parent:a,isInlineBlock:s}=e,l=e.getData(H),{getDelta:u,getOrigin:c}=e.getNodeRegistry(),d=this.structDataMap.get(e)||{childrenLength:0,index:-1};e.clearMemoGlobal();let h=l.localDirty||n,f={index:e.index,childrenLength:e.children.length};if(r=d,i=f,r.childrenLength!==i.childrenLength||r.index!==i.index)h=!0,this.structDataMap.set(e,f);let p=!1;if(o.length>0)for(let e of o){let n=this.updateLocalTransform(e,p);n&&(p=!0,h=!0)}if(!h)return!1;e.clearMemoLocal(),l.transform.update({origin:c?c(l,this):this.getDefaultNodeOrigin()});let g=l.pre,y=u?.(l,this)||{x:0,y:0},m=s&&l.parent?.inlineSpacingPre?l.parent?.inlineSpacingPre:0,b=a?.getNodeRegistry().getChildDelta?.(l,this)||{x:0,y:0};y.x+=b.x,y.y+=b.y;let _={x:y.x,y:y.y};return s?_.x+=m:(_.x+=g?.localBounds.right||0,_.x+=g?.spacing||0),l.transform.update({size:l.data.size,position:_}),this.onAfterUpdateLocalTransform(l),l.localDirty=!1,!0}onAfterUpdateLocalTransform(e){let{onAfterUpdateLocalTransform:n}=e.entity.getNodeRegistry();n?.(e,this),this.contribs?.forEach(n=>{n?.onAfterUpdateLocalTransform?.(e,this)})}getNodeTransform(e){return e.getData(H)}getPadding(e){let{inlineSpacingPre:n,inlineSpacingAfter:r,padding:i}=e.getNodeMeta(),o=this.getNodeTransform(e);if(i)return"function"==typeof i?i(o):i;let a="function"==typeof n?n(o):n,s="function"==typeof r?r(o):r;return{left:a,top:0,right:s,bottom:0}}getInitScroll(e){return{scrollX:-36,scrollY:-e.height/2}}getDefaultInputPoint(e){return this.getNodeTransform(e).bounds.leftCenter}getDefaultOutputPoint(e){return this.getNodeTransform(e).bounds.rightCenter}getDefaultNodeOrigin(){return{x:0,y:.5}}};x([(0,b.inject)(eo)],eh.prototype,"documentProvider",2),x([(0,b.multiInject)(D),(0,b.optional)()],eh.prototype,"contribs",2),eh=x([(0,b.injectable)()],eh);var ef=new b.ContainerModule(e=>{e(ea).toSelf().inSingletonScope(),e(eo).toDynamicValue(e=>()=>e.container.get(ea)).inSingletonScope(),e(ei).toSelf().inSingletonScope(),e(ed).toSelf().inSingletonScope(),e(eh).toSelf().inSingletonScope(),e(ec).toSelf().inSingletonScope(),e(B).to(es).inSingletonScope(),e(el).toSelf().inSingletonScope(),e(en).toDynamicValue(e=>({registerDocument:n=>{n.registerLayout(e.container.get(ed)),n.registerLayout(e.container.get(eh))}}))}),ep=(e,n,r)=>{let i=e.getService(J),o=i?.constants?.[n]||r||k[n];return o}},93008:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{EditorProps:function(){return i},EditorRenderer:function(){return a.PlaygroundReactRenderer},Field:function(){return h.Field},FieldArray:function(){return h.FieldArray},FlowEditorClient:function(){return T},FlowNodeFormData:function(){return d.FlowNodeFormData},NodeClient:function(){return D},NodeFocusService:function(){return P},ValidateTrigger:function(){return h.ValidateTrigger},createDefaultPreset:function(){return R},createFlowEditorClientPlugin:function(){return k},createFlowEditorClientPlugins:function(){return A},highlightFormItem:function(){return M}}),r("11278"),r.es(r("62483"),n),r.es(r("85870"),n);var i,o,a=r.es(r("93665"),n),s=r.es(r("97752"),n),l=r.es(r("30322"),n);r.es(r("66650"),n),r.es(r("95104"),n);var u=r.es(r("59021"),n),c=r.es(r("69354"),n),d=r("41474"),h=r("65322"),f=r("36824"),p=r("45614"),g=r.es(r("35734"),n),y=r("53575"),m=r("25396"),b=r("91516");r("56144");var _=Object.defineProperty,w=Object.getOwnPropertyDescriptor,E=(e,n,r,i)=>{for(var o=i>1?void 0:i?w(n,r):n,a,s=e.length-1;s>=0;s--)(a=e[s])&&(o=(i?a(n,r,o):a(o))||o);return i&&o&&_(n,r,o),o},x=Symbol("EditorOptions");(i||(i={})).DEFAULT={background:{},fromNodeJSON(e,n){let r=e.getData(d.FlowNodeFormData);if(r){let i=e.getService(x).nodeEngine?.createDefaultFormMeta?.(e),o=e.getNodeRegistry()?.formMeta||i;o&&r.createForm(o,n.data)}else n.data&&e.updateExtInfo(n.data)},toNodeJSON(e){let n;let r={};return e.document.traverse(e=>{let i=e.id.startsWith("$");if(i)return;let o=e.getData(d.FlowNodeFormData),a=o&&o.formModel&&o.formModel.initialized?o.toJSON():void 0,s={id:e.id,type:e.flowNodeType,data:o?a:e.getExtInfo(),blocks:[]};!n&&(n=s);let{parent:l}=e;l&&l.id.startsWith("$")&&(l=l.originParent);let u=l?r[l.id]:void 0;u&&u.blocks?.push(s),r[e.id]=s},e),n}};var C=e=>(n,r)=>{let i=e.filter(Boolean);return i.length?i.reduce((e,r)=>r(n,e),r):r},S="flowide-highlight",O=`
@keyframes flowide-fade {
  from {
   opacity: 1.0;
  }
  to {
    opacity: 0;
  }
}
@-webkit-keyframes flowide-fade {
  from {
   opacity: 1.0;
  }
  to {
    opacity: 0;
  }
}
.${S} {
  background-color: rgba(238, 245, 40, 0.5);
  animation: flowide-fade 2s 1 forwards;
  -webkit-animation: flowide-fade 2s 1 forwards;
}
`;function M(e,n){let r=e.formModel.flowNodeEntity.getData(s.FlowNodeRenderData).node,i=e.domRef.current;if(!i)return;let o=document.createElement("div"),{padding:a=0,overlayClassName:l}=n||{};o.style.position="absolute",o.style.top="0",o.style.left="0",o.style.width="100%",o.style.height="100%",o.style.zIndex="9999",r.appendChild(o);let u=r.getBoundingClientRect(),c=i.getBoundingClientRect();return o.style.top=c.top-u.top-a+"px",o.style.left=c.left-u.left-a+"px",o.style.width=c.width+2*a+"px",o.style.height=c.height+2*a+"px",o.className=l||S,setTimeout(()=>{o.remove()},2e3),o}var P=class{highlightNodeFormItem(e,n){this.previousOverlay=M(e,n)}focusNodeFormItem(e,n){let r=e.formModel.flowNodeEntity,{canvas:i={},highlight:o}=n||{};this.previousOverlay&&(this.previousOverlay.remove(),this.previousOverlay=void 0);let a=this.playground.scrollToView({entities:[r],scrollToCenter:!0,...i}).then(()=>{e&&o&&this.currentPromise===a&&this.highlightNodeFormItem(e,"boolean"==typeof o?{}:o)});return this.currentPromise=a,this.currentPromise}};E([(0,b.inject)(a.Playground)],P.prototype,"playground",2),P=E([(0,b.injectable)()],P);var D=class{};E([(0,b.inject)(P)],D.prototype,"nodeFocusService",2),D=E([(0,b.injectable)()],D);var I=(0,a.definePluginCreator)({onInit(){o||((o=document.createElement("style")).innerHTML=O,document.head.appendChild(o))},onDispose(){o?.remove(),o=void 0}}),j=(0,a.definePluginCreator)({onBind({bind:e}){e(P).toSelf().inSingletonScope(),e(D).toSelf().inSingletonScope()}}),N=()=>[I({}),j({})],T=class{focusNodeFormItem(e,n){this.nodeClient.nodeFocusService.focusNodeFormItem(e,n)}focusNode(e,n){this.playground.scrollToView({entities:[e],...n})}};E([(0,b.inject)(D)],T.prototype,"nodeClient",2),E([(0,b.inject)(a.Playground)],T.prototype,"playground",2),T=E([(0,b.injectable)()],T);var k=(0,a.definePluginCreator)({onBind({bind:e}){e(T).toSelf().inSingletonScope()}}),A=()=>[...N(),k({})];function R(e,n=[]){return r=>{e={...i.DEFAULT,...e},r.container.bind(x).toConstantValue(e),e.i18n&&n.push((0,c.createI18nPlugin)(e.i18n)),n.push(...A()),e.reduxDevTool?.enable&&n.push((0,f.createReduxDevToolPlugin)(e.reduxDevTool));let o=[s.FlowDocumentContainerModule,l.FlowRendererContainerModule];return n.push((0,y.createMaterialsPlugin)(e.materials||{})),e.nodeEngine&&!1!==e.nodeEngine.enable&&(n.push((0,u.createNodeCorePlugin)({materials:e.nodeEngine.materials})),e.variableEngine?.enable&&n.push((0,g.createNodeVariablePlugin)({})),e.history?.enable&&n.push((0,m.createHistoryNodePlugin)({}))),n.push((0,a.createPlaygroundPlugin)({onInit:n=>{e.nodeRegistries&&n.document.registerFlowNodes(...e.nodeRegistries),e.constants&&(n.document.options.constants=e.constants),e.formatNodeLines&&(n.document.options.formatNodeLines=C([n.document.options.formatNodeLines,e.formatNodeLines])),e.formatNodeLabels&&(n.document.options.formatNodeLabels=C([n.document.options.formatNodeLabels,e.formatNodeLabels])),e.getNodeDefaultRegistry&&(n.document.options.getNodeDefaultRegistry=e.getNodeDefaultRegistry),n.get(l.FlowRendererRegistry).init()},onReady(n){e.initialData&&n.document.fromJSON(e.initialData),e.readonly&&(n.playground.config.readonly=e.readonly),n.document.load().then(()=>{e.onLoad&&e.onLoad(n)})},onDispose(e){e.document.dispose()},containerModules:o})),(0,p.createPlaygroundReactPreset)(e,n)(r)}}},41474:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{DecoratorAbility:function(){return z},EffectAbility:function(){return V},ErrorContainerModule:function(){return D},FlowNodeErrorData:function(){return x},FlowNodeFormData:function(){return W},FormAbilityExtensionRegistry:function(){return k},FormContextMaker:function(){return j},FormCoreContainerModule:function(){return X},FormManager:function(){return H},FormModel:function(){return T},FormPathService:function(){return N},NodeContainerModule:function(){return _},NodeContribution:function(){return p},NodeEngine:function(){return b},NodeEngineContext:function(){return m},NodeManager:function(){return y},NodeRender:function(){return en},SetterAbility:function(){return L},ValidationAbility:function(){return U},createNodeContainerModules:function(){return J},createNodeEntityDatas:function(){return eo},getFormModel:function(){return q},getNodeError:function(){return I},isNodeFormReady:function(){return Q},registerNodeErrorRender:function(){return er},registerNodePlaceholderRender:function(){return ei},useNodeEngineContext:function(){return et}});var i,o,a=r("91516"),s=r("53168"),l=r("85870"),u=r("93665"),c=r.ir(r("56144")),d=Object.defineProperty,h=Object.getOwnPropertyDescriptor,f=(e,n,r,i)=>{for(var o=i>1?void 0:i?h(n,r):n,a,s=e.length-1;s>=0;s--)(a=e[s])&&(o=(i?a(n,r,o):a(o))||o);return i&&o&&d(n,r,o),o},p=Symbol("NodeContribution");var g=((i=g||{}).CustomNodeError="Material_CustomNodeError",i),y=class{constructor(){this.materialRenderRegistry=new Map,this.pluginRenderRegistry=new Map,this.nodeRenderHocs=[],this.nodeContributions=[]}registerMaterialRender(e,n){this.materialRenderRegistry.set(e,n)}getMaterialRender(e){return this.materialRenderRegistry.get(e)}registerPluginRender(e,n){this.pluginRenderRegistry.set(e,n)}getPluginRender(e){return this.pluginRenderRegistry.get(e)}registerNodeErrorRender(e){this.registerMaterialRender("Material_CustomNodeError",e)}get nodeRenderHoc(){return(0,s.flow)(this.nodeRenderHocs)}registerNodeRenderHoc(e){this.nodeRenderHocs.push(e)}get nodeErrorRender(){return this.materialRenderRegistry.get("Material_CustomNodeError")}init(){this.nodeContributions.forEach(e=>e.onRegister?.(this))}};f([(0,a.multiInject)(p),(0,a.optional)()],y.prototype,"nodeContributions",2),f([(0,a.postConstruct)()],y.prototype,"init",1),y=f([(0,a.injectable)()],y);var m=class{constructor(){this.onChangeEmitter=new l.Emitter,this.onChange=this.onChangeEmitter.event,this._readonly=m.DEFAULT_READONLY,this._json=m.DEFAULT_JSON}get json(){return this._json}get readonly(){return this._readonly}set readonly(e){this._readonly=e,this.fireChange()}fireChange(){this.updateJSON(),this.onChangeEmitter.fire(this)}updateJSON(){this._json={readonly:this._readonly}}};m.DEFAULT_READONLY=!1,m.DEFAULT_JSON={readonly:m.DEFAULT_READONLY},m=f([(0,a.injectable)()],m);var b=class{};f([(0,a.inject)(y)],b.prototype,"nodeManager",2),f([(0,a.inject)(m)],b.prototype,"context",2),b=f([(0,a.injectable)()],b);var _=new a.ContainerModule((e,n,r,i)=>{e(b).toSelf().inSingletonScope(),e(y).toSelf().inSingletonScope(),e(m).toSelf().inSingletonScope()}),w={FORM:"Plugin_Form",ERROR:"Plugin_Error"},E={NODE_ERROR_RENDER:"node_error_render",NODE_PLACEHOLDER_RENDER:"node_placeholder_render"},x=class extends u.EntityData{getDefaultData(){return{error:null}}setError(e){this.update({error:e})}getError(){return this.data.error}};x.type="FlowNodeErrorData";var C={color:"#f54a45"},S=({error:e})=>c.default.createElement("div",{style:C},e.message),O=({node:e,playgroundContext:n})=>{let r=(0,u.useRefresh)(),i=e.getData(x),o=i.getError(),a=(0,u.useService)(y),s=a.getMaterialRender(E.NODE_ERROR_RENDER),l=(0,c.useCallback)(()=>s?s({error:o,context:{node:e,playgroundContext:n}}):S({error:o,context:{node:e,playgroundContext:n}}),[o,e,n]);return(0,c.useEffect)(()=>{let e=i.onDataChange(()=>{r()});return()=>{e.dispose()}},[]),o?l():null},M=e=>c.default.createElement(O,{...e}),P=class{onRegister(e){e.registerPluginRender(w.ERROR,M)}};P=f([(0,a.injectable)()],P);var D=new a.ContainerModule(e=>{(0,l.bindContributions)(e,P,[p])});function I(e){return e.getData(x).getError()}var j=class{makeFormItemMaterialContext(e,n){return{meta:e.meta,path:e.path,readonly:this.nodeEngineContext.readonly,getFormItemValueByPath:e.formModel.getFormItemValueByPath.bind(e.formModel),onFormValidate:e.formModel.onValidate.bind(e.formModel),form:e.formModel,node:e.formModel.flowNodeEntity,playgroundContext:this.playgroundContext,index:n?.getIndex()}}};f([(0,a.inject)(m)],j.prototype,"nodeEngineContext",2),f([(0,u.injectPlaygroundContext)()],j.prototype,"playgroundContext",2),j=f([(0,a.injectable)()],j);var N=class{static normalize(e){return e===N.ROOT?e:(e.endsWith(N.DIVIDER)&&(e=e.slice(0,-1)),e)}static join(e){if(e[1].startsWith(N.ROOT))throw Error(`FormPathService Error: join failed, invalid paths[1], paths[1]= ${e[1]}`);return e[0].endsWith(N.DIVIDER)?`${e[0]}${e[1]}`:e.join(N.DIVIDER)}static toArrayPath(e){return N.join([e,N.ARRAY])}static parseArrayItemPath(e){let n=e.split("/"),r=0;for(;r<n.length;){let e=parseInt(n[r]);if(!isNaN(e)){let i=N.toArrayPath(n.slice(0,r).join(N.DIVIDER)),o=n.slice(r+1).join(N.DIVIDER),a=N.join([i,o]);return{itemIndex:e,arrayPath:i,itemMetaPath:a}}r+=1}return null}simplify(e){let n=e.split(N.DIVIDER),r=[];for(let e=0;e<n.length;e++){if(!n[e])throw Error("FormPathService: join failed");n[e]!==N.RELATIVE_CURRENT&&(n[e]===N.RELATIVE_PARENT&&r.pop(),r.push(n[e]))}return r.join(N.DIVIDER)}};N.ROOT="/",N.DIVIDER="/",N.RELATIVE_PARENT="..",N.RELATIVE_CURRENT=".",N.ARRAY="[]",N=f([(0,a.injectable)()],N),Symbol("FormModelFactory"),Symbol("FormModelEntity");var T=class{constructor(){this.toDispose=new l.DisposableCollection}};T=f([(0,a.injectable)()],T);var k=class{constructor(){this.registry=new Map}register(e){this.registry.set(e.key,e)}get(e){return this.registry.get(e)}get objectMap(){return Object.fromEntries(this.registry)}get collection(){return Array.from(this.registry.values())}};k=f([(0,a.injectable)()],k);var A=Symbol("FormContribution"),R=class e{get type(){return e.type}};R.type="setter";var L=R,F=class e{get type(){return e.type}};F.type="decorator";var z=F;var B=class e{get type(){return e.type}};B.type="effect";var V=B;var $=class e{get type(){return e.type}};$.type="validation";var U=$,H=class{constructor(){this.abilityRegistry=new Map,this.setterHocs=[],this.extensionRegistryMap=new Map,this.formContributions=[],this.onFormModelWillInitEmitter=new l.Emitter,this.onFormModelWillInit=this.onFormModelWillInitEmitter.event}get components(){return(0,s.mapValues)(this.extensionRegistryMap.get(L.type)?.objectMap||{},e=>e.component)}get decorators(){return(0,s.mapValues)(this.extensionRegistryMap.get(z.type)?.objectMap||{},e=>e.component)}registerAbilityExtension(e,n){!this.extensionRegistryMap.get(e)&&this.extensionRegistryMap.set(e,new k);let r=this.extensionRegistryMap.get(e);r&&r.register(n)}getAbilityExtension(e,n){return this.extensionRegistryMap.get(e)?.get(n)}registerAbility(e){let n=new e;this.abilityRegistry.set(n.type,n)}registerAbilities(e){e.forEach(this.registerAbility.bind(this))}getAbility(e){return this.abilityRegistry.get(e)}registerSetterHoc(e){this.setterHocs.push(e)}fireFormModelWillInit(e,n){this.onFormModelWillInitEmitter.fire({model:e,data:n})}dispose(){this.onFormModelWillInitEmitter.dispose()}init(){this.formContributions.forEach(e=>e.onRegister?.(this))}};f([(0,a.inject)(N)],H.prototype,"pathManager",2),f([(0,a.inject)(j)],H.prototype,"formContextMaker",2),f([(0,u.injectPlaygroundContext)()],H.prototype,"playgroundContext",2),f([(0,a.multiInject)(A),(0,a.optional)()],H.prototype,"formContributions",2),f([(0,a.postConstruct)()],H.prototype,"init",1),H=f([(0,a.injectable)()],H);var W=class extends u.EntityData{constructor(e,n){super(e),this.onDetailChangeEmitter=new l.Emitter,this.onDetailChange=this.onDetailChangeEmitter.event,this.flowNodeEntity=e,this.formModel=n.formModelFactory(e),this.toDispose.push(this.onDetailChangeEmitter),this.toDispose.push(l.Disposable.create(()=>{this.formModel.dispose()}))}getFormModel(){return this.formModel}getDefaultData(){return{}}createForm(e,n){let r=this.flowNodeEntity.getData(x);r.setError(null);try{this.formModel.init(e,n)}catch(e){r.setError(e)}}recreateForm(e,n){this.createForm(e,n)}toJSON(){return this.formModel.toJSON()}dispose(){super.dispose()}fireDetaiChange(e){this.onDetailChangeEmitter.fire(e)}};W.type="FlowNodeEntityFormData";function K({node:e}){var n;let r=(0,l.useRefresh)();let i=(n=e,n.getData(W)?.getFormModel());return(0,c.useEffect)(()=>{let e=i?.onInitialized(()=>{r()});return()=>{e.dispose()}},[i]),i?.initialized?i.render():null}var G=e=>c.default.createElement(K,{...e}),Y=class{onRegister(e){e.registerPluginRender(w.FORM,G)}};Y=f([(0,a.injectable)()],Y);var X=new a.ContainerModule(e=>{e(H).toSelf().inSingletonScope(),e(N).toSelf().inSingletonScope(),e(j).toSelf().inSingletonScope(),(0,l.bindContributions)(e,Y,[p])});var Z=((o=Z||{}).onFormValueChange="onFormValueChange",o.onFormItemInit="onFormItemInit",o);function Q(e){return e.getData(W).getFormModel().initialized}function q(e){return e.getData(W).formModel}function J(){return[_,X,D]}var ee=c.default.createContext(m.DEFAULT_JSON);function et(){let e=(0,u.useRefresh)(),n=(0,u.useService)(m);return(0,c.useEffect)(()=>{let r=n.onChange(()=>{e()});return()=>{r.dispose()}},[]),n}var en=(0,c.memo)(({node:e})=>{let n=(0,u.useRefresh)(),r=e.getData(x),i=q(e),o=!!I(e),a=Q(e),s=(0,u.useService)(u.PlaygroundContext),l=(0,u.useService)(y),d=l.getPluginRender(w.FORM),h=l.getPluginRender(w.ERROR),f=l.getMaterialRender(E.NODE_PLACEHOLDER_RENDER),p=et();(0,c.useEffect)(()=>{let e=r.onDataChange(()=>{n()}),o=i.onInitialized(()=>{n()});return()=>{e.dispose(),o.dispose()}},[]);let g=(0,c.useCallback)(()=>o?h({node:e,playgroundContext:s}):i.formMeta?a?d({node:e,playgroundContext:s}):f?.({node:e,playgroundContext:s})||null:null,[o,a,h,d,f,e,s]);return c.default.createElement(ee.Provider,{value:p.json},l.nodeRenderHoc(g)())});function er(e,n){e.registerMaterialRender(E.NODE_ERROR_RENDER,n)}function ei(e,n){e.registerMaterialRender(E.NODE_PLACEHOLDER_RENDER,n)}function eo(){return[W,x]}},65322:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{Field:function(){return I},FieldArray:function(){return U},FieldArrayModel:function(){return z},FieldModel:function(){return F},Form:function(){return $},FormModel:function(){return B},Glob:function(){return a},Path:function(){return m},ValidateTrigger:function(){return y},createForm:function(){return V},toField:function(){return x},toFieldArray:function(){return j},toFieldState:function(){return C},toForm:function(){return S},toFormState:function(){return O}});var i,o,a,s,l=r.ir(r("56144")),u=r("53168"),c=r("85870"),d=r("23552"),h=r("57254"),f=e=>null!==e&&"object"==typeof e,p=e=>String(Math.floor(Number(e)))===e;function g(e,n){let r=new Set(n),i={};return Object.keys(e).forEach(n=>{r.has(n)&&(i[n]=e[n])}),i}(e=>{e.DIVIDER=".",e.ALL="*";e.isMatch=function(n,r){let i=n.split(e.DIVIDER),o=r.split(e.DIVIDER);return i.length===o.length&&i.every((n,r)=>n===e.ALL||n===o[r])};e.isMatchOrParent=function(n,r){if(""===n)return!0;let i=n.split(e.DIVIDER),o=r.split(e.DIVIDER);if(i.length>o.length)return!1;for(let n=0;n<i.length;n++)if(i[n]!==e.ALL&&i[n]!==o[n])return!1;return!0};function n(r,...i){let o=i.shift();if(void 0===o)return r.toString();let a="";return(a=""===r&&""===o?"":""!==r&&""===o?r.toString():""===r&&""!==o?o.toString():`${r}${e.DIVIDER}${o}`,i.length>0)?n(a,...i):a}e.getParentPathByPattern=function(n,r){let i=n.split(e.DIVIDER),o=r.split(e.DIVIDER);return o.slice(0,i.length).join(e.DIVIDER)};e.getSubPaths=function(e,r){return r&&"object"==typeof r?(0,u.flatten)(e.map(e=>{let i=""===e?r:(0,u.get)(r,e);return(0,u.isArray)(i)?i.map((r,i)=>n(e,i)):(0,u.isObject)(i)?Object.keys(i).map(r=>n(e,r)):[]})):[]};function r(i,o,a){if(!i||!o)return[];let s=o.split(e.DIVIDER),l=s.shift(),c=[],d=i;for(;l;){if("object"!=typeof d)return[];if(l===e.ALL){let i=c.join(e.DIVIDER);return(0,u.flatten)(Object.keys(d).map(o=>0===s.length?n(i,o):r(d[o],`${s.join(e.DIVIDER)}`,a).map(e=>n(i,o,e))))}if(!(l in d)&&!a)return[];d=d[l],c.push(l),l=s.shift()}return[o]}e.splitPattern=function(n){let r=n.split(e.DIVIDER),i=[],o=0,a=[];for(;o<r.length;)r[o]===e.ALL?(a.length&&i.push(a.join(e.DIVIDER)),i.push(e.ALL),a=[]):a.push(r[o]),o+=1;return a.length&&i.push(a.join(e.DIVIDER)),i},e.findMatchPaths=r;e.findMatchPathsWithEmptyValue=function(e,n){return r(e,n,!0)}})(a||(a={}));var y=((i=y||{}).onChange="onChange",i.onBlur="onBlur",i),m=class e{constructor(e){this._path=[],this._path=(0,u.toPath)(e)}get parent(){if(!(this._path.length<2))return new e(this._path.slice(0,-1))}toString(){return this._path.join(".")}get value(){return this._path}isChild(n){let r=new e(n).value,i=this.value;if(r.length-i.length!=1)return!1;for(let e=0;e<i.length;e++)if(r[e]!==i[e])return!1;return!0}static compareArrayPath(e,n){let r=0;for(;e.value[r]&&n.value[r];){let i=parseInt(e.value[r]),o=parseInt(n.value[r]);if(!isNaN(i)&&!isNaN(o))return i-o;if(e.value[r]!==n.value[r])throw Error(`[Form] Path.compareArrayPath invalid input Error: two path should refers to the same array, but got path1: ${e.toString()}, path2: ${n.toString()}`);r++}throw Error(`[Form] Path.compareArrayPath invalid input Error: got path1: ${e.toString()}, path2: ${n.toString()}`)}isChildOrGrandChild(n){let r=new e(n).value,i=this.value;if(r.length-i.length<1)return!1;for(let e=0;e<i.length;e++)if(r[e]!==i[e])return!1;return!0}getArrayIndex(e){return parseInt(this._path[e.value.length])}concat(n){if("string"==typeof n||"number"==typeof n)return new e(this._path.concat(new e(n.toString())._path));throw Error(`[Form] Error in Path.concat: invalid param type, require number or string, but got ${typeof n}`)}replaceParent(n,r){if(n.value.length>this.value.length)throw Error(`[Form] Error in Path.getChildSuffixByParent: invalid parent param: ${n}, parent length should not greater than current length.`);let i=[];for(let e=0;e<this.value.length;e++){if(e<n.value.length&&n.value[e]!==this.value[e])throw Error(`[Form] Error in Path.getChildSuffixByParent: invalid parent param: ${n}`);e>=n.value.length&&i.push(this.value[e])}return new e(r.value.concat(i))}};function b(e,n){return e.map(e=>({...e,name:n}))}function _(e,n){if(!n)return e;if(!e)return{...n};let r=Object.keys(n).some(r=>!(0,u.isEqual)(e[r],n[r]));return r?{...e,...n}:e}function w(e,n){return n?(e in n&&delete n[e],n):n}function E(e,n){return e===n}function x(e){let n={get name(){return e.name},get value(){return e.value},onChange:n=>{var r,i;if("object"==typeof(r=n)&&null!==r&&"target"in r&&"object"==typeof r.target){;e.value="object"==typeof(i=n)&&null!==i&&"target"in i&&"object"==typeof i.target&&"checkbox"===i.target.type?n.target.checked:n.target.value}else e.value=n},onBlur(){if("onBlur"===e.form.validationTrigger)e.validate()},onFocus(){e.state.isTouched=!0}};return Object.defineProperty(n,"key",{enumerable:!1,get:()=>e.id}),Object.defineProperty(n,"_fieldModel",{enumerable:!1,get:()=>e}),n}function C(e){return{get isTouched(){return e.isTouched},get invalid(){return e.invalid},get isDirty(){return e.isDirty},get isValidating(){return e.isValidating},get errors(){if(e.errors)return Object.values(e.errors).reduce((e,n)=>e.concat(n),[]);return},get warnings(){if(e.warnings)return Object.values(e.warnings).reduce((e,n)=>e.concat(n),[]);return}}}function S(e){let n={initialValues:e.initialValues,get values(){return e.values},set values(v){e.values=v},state:O(e.state),getValueIn:n=>e.getValueIn(n),setValueIn:(n,r)=>e.setValueIn(n,r)};return Object.defineProperty(n,"_formModel",{enumerable:!1,get:()=>e}),n}function O(e){return{get isTouched(){return e.isTouched},get invalid(){return e.invalid},get isDirty(){return e.isDirty},get isValidating(){return e.isValidating},get errors(){return e.errors},get warnings(){return e.warnings}}}(o=s||(s={})).shouldTriggerFieldChangeEvent=function(e,n){let{name:r,options:i}=e;if(a.isMatchOrParent(n,r))return!0;if(new m(r).isChildOrGrandChild(n))return i?.action==="array-append"?!new m(r).isChildOrGrandChild(n):!(i?.action==="array-splice"&&i?.indexes?.length)||m.compareArrayPath(new m(n),new m(r).concat(i.indexes[0]))>=0;return!1},o.shouldTriggerFieldValidateWhenChange=function(e,n){let{name:r,options:i}=e;return i?.action==="array-splice"?n===r:o.shouldTriggerFieldChangeEvent(e,n)};var M=l.default.createContext({}),P=l.default.createContext({});function D(){return(0,l.useContext)(M)}function I({name:e,defaultValue:n,render:r,children:i,deps:o}){let a=D(),s=a.getField(e)||a.createField(e),h=l.useMemo(()=>x(s),[s]),f=(0,d.useReadonlyReactiveState)(s.reactiveState),p=(0,d.useReadonlyReactiveState)(a.reactiveState),g=l.useMemo(()=>C(f),[f]),y=O(p),m=(0,c.useRefresh)();return l.useEffect(()=>{s.renderCount=s.renderCount+1,a.getValueIn(e),void 0!==n&&(a.setInitValueIn(e,n),m());let r=new c.DisposableCollection;return r.push(s.onValueChange(()=>{m()})),o&&o.forEach(e=>{let n=a.getField(e)?.onValueChange(()=>{m()});n&&r.push(n)}),()=>{if(r.dispose(),s.renderCount>1)s.renderCount=s.renderCount-1;else{let e=a.getField(s.name);e===s&&s.dispose()}}},[s]),l.createElement(P.Provider,{value:s},r?r({field:h,fieldState:g,formState:y}):(0,u.isFunction)(i)?i({field:h,fieldState:g,formState:y}):l.cloneElement(i,{...h}))}function j(e){let n={get key(){return e.id},get name(){return e.path.toString()},get value(){return e.value},onChange:n=>{e.value=n},map:n=>e.map((e,r)=>n(x(e),r)),append:n=>x(e.append(n)),delete:n=>e.delete(n),swap:(n,r)=>e.swap(n,r),move:(n,r)=>e.move(n,r)};return Object.defineProperty(n,"_fieldModel",{enumerable:!1,get:()=>e}),n}function N(e,n){return"string"==typeof e?{name:n,message:e,level:"error"}:e?.message?{...e,name:n}:void 0}function T(e,n){return{[e]:n?[n]:[]}}var k=e=>{for(let n in e)if(n.length)return!0;return!1},A={invalid:!1,isDirty:!1,isTouched:!1,isValidating:!1},R={invalid:!1,isDirty:!1,isTouched:!1,isValidating:!1},L=class{get values(){return this._values}set values(e){this._values=e}setInitialValues(e){this._values=e}setIn(e,n){this._values=function(e,n,r){let i=(0,u.clone)(e),o=i,a=0,s=(0,u.toPath)(n);for(;a<s.length-1;a++){let n=s[a],r=function(e,n,r,i=0){let o=(0,u.toPath)(n);for(;e&&i<o.length;)e=e[o[i++]];return i===o.length||e?void 0===e?r:e:r}(e,s.slice(0,a+1));if(r&&(f(r)||Array.isArray(r)))o=o[n]=(0,u.clone)(r);else{let e=s[a+1];o=o[n]=p(e)&&Number(e)>=0?[]:{}}}return(0===a?e:o)[s[a]]===r?e:(void 0===r?delete o[s[a]]:o[s[a]]=r,0===a&&void 0===r&&delete i[s[a]],i)}(this._values||{},e.toString(),n)}getIn(e){return(0,u.get)(this._values,e.value)}dispose(){}},F=class{constructor(e,n){var r;this.onValueChangeEmitter=new c.Emitter,this.onValueChange=this.onValueChangeEmitter.event,this.toDispose=new c.DisposableCollection,this._state=new d.ReactiveState(r?{...A,...r}:{...A}),this._renderCount=0,this._mount=!1,this._path=e,this.form=n,this.id=(0,h.nanoid)();let i=this.form.onFormValuesChange(e=>{let{values:n,prevValues:r}=e;if(s.shouldTriggerFieldChangeEvent(e,this.name)){if(this.onValueChangeEmitter.fire({value:(0,u.get)(n,this.name),prevValue:(0,u.get)(r,this.name),formValues:n,prevFormValues:r}),"onChange"===this.form.validationTrigger&&s.shouldTriggerFieldValidateWhenChange(e,this.name))this.validate()}});this.toDispose.push(i),this.toDispose.push(this.onValueChangeEmitter),this.initState()}get renderCount(){return this._renderCount}set renderCount(e){this._renderCount=e}initState(){let e=(0,u.get)(this.form.state.errors,this.name),n=(0,u.get)(this.form.state.warnings,this.name);e&&(this.state.errors={[this.name]:e}),n&&(this.state.warnings={[this.name]:n})}get path(){return this._path}get name(){return this._path.toString()}set name(e){this._path=new m(e)}get ref(){return this._ref}set ref(e){this._ref=e}get state(){return this._state.value}get reactiveState(){return this._state}get value(){return this.form.getValueIn(this.name)}set value(e){this.form.setValueIn(this.name,e),!this.state.isTouched&&(this.state.isTouched=!0,this.bubbleState())}updateNameForLeafState(e){let{errors:n,warnings:r}=this.state,i=n?Object.keys(n)?.[0]:void 0;i&&n?.[i]&&i!==e&&(this.state.errors={[e]:n?.[i]?b(n?.[i],e):n?.[i]});let o=r?Object.keys(r)?.[0]:void 0;o&&r?.[o]&&o!==e&&(this.state.warnings={[e]:r?.[o]?b(r?.[o],e):r?.[o]})}updateValidate(e,n){"ui"===n?!this.originalValidate&&(this.originalValidate=e):this.originalValidate=e}bubbleState(){let{errors:e,warnings:n}=this.state;if(this.parent){this.parent.state.isTouched=(0,u.some)(this.parent.children.map(e=>e.state.isTouched),Boolean),this.parent.state.invalid=(0,u.some)(this.parent.children.map(e=>e.state.invalid),Boolean),this.parent.state.isDirty=(0,u.some)(this.parent.children.map(e=>e.state.isDirty),Boolean),this.parent.state.isValidating=(0,u.some)(this.parent.children.map(e=>e.state.isValidating),Boolean),this.parent.state.errors=e?_(this.parent.state.errors,e):w(this.name,this.parent.state.errors),this.parent.state.warnings=n?_(this.parent.state.warnings,n):w(this.name,this.parent.state.warnings),this.parent.bubbleState();return}this.form.state.isTouched=(0,u.some)(this.form.fields.map(e=>e.state.isTouched),Boolean),this.form.state.invalid=(0,u.some)(this.form.fields.map(e=>e.state.invalid),Boolean),this.form.state.isDirty=(0,u.some)(this.form.fields.map(e=>e.state.isDirty),Boolean),this.form.state.isValidating=(0,u.some)(this.form.fields.map(e=>e.state.isValidating),Boolean),this.form.state.errors=e?_(this.form.state.errors,e):w(this.name,this.form.state.errors),this.form.state.warnings=n?_(this.form.state.warnings,n):w(this.name,this.form.state.warnings)}clearState(){this.state.errors=A.errors,this.state.warnings=A.warnings,this.state.isTouched=A.isTouched,this.state.isDirty=A.isDirty,this.bubbleState()}get children(){let e=[];return this.form.fieldMap.forEach((n,r)=>{this.path.isChild(r)&&e.push(n)}),e}get parent(){let e=this.path.parent;if(e)return this.form.fieldMap.get(e.toString())}clear(){this.value&&(this.value=void 0)}async validate(){await this.validateSelf()}async validateSelf(){this.state.isValidating=!0,this.bubbleState();let{errors:e,warnings:n}=await this._runAsyncValidate();e?.length?(this.state.errors=(0,u.groupBy)(e,"name"),this.state.invalid=!0):(this.state.errors={[this.name]:[]},this.state.invalid=!1),n?.length?this.state.warnings=(0,u.groupBy)(n,"name"):this.state.warnings={[this.name]:[]},this.state.isValidating=!1,this.bubbleState(),this.form.onValidateEmitter.fire(this.form.state)}async _runAsyncValidate(){let e=[],n=[],r=await this.form.validateIn(this.name);if(!r)return{};{let i=N(r,this.name);if(!i)return{};if("warning"===i.level?0:1)e.push(i);else n.push(i)}return{errors:e,warnings:n}}updateState(e){}dispose(){this.children.map(e=>e.dispose()),this.toDispose.dispose(),this.form.fieldMap.delete(this.path.toString())}onDispose(e){this.toDispose.onDispose(e)}},z=class extends F{constructor(){super(...arguments),this.onAppendEmitter=new c.Emitter,this.onAppend=this.onAppendEmitter.event,this.onDeleteEmitter=new c.Emitter,this.onDelete=this.onDeleteEmitter.event}get children(){let e=[];return this.form.fieldMap.forEach((n,r)=>{this.path.isChild(r)&&e.push(n)}),e.sort((e,n)=>{let r=e.path.value,i=n.path.value,o=parseInt(r[r.length-1]),a=parseInt(r[i.length-1]);return o-a})}map(e){let n=(this.value||[]).map((e,n)=>{let r=this.path.concat(n).toString(),i=this.form.getField(r);return!i&&(i=this.form.createField(r)),i});return n.map(e)}append(e){let n=this.value?.length||0,r=this.path.concat(n).toString(),i=this.form.createField(r),o=this.value?[...this.value,e]:[e],a=this.form.values;return this.form.store.setIn(new m(this.name),o),this.form.fireOnFormValuesChange({values:this.form.values,prevValues:a,name:this.name,options:{action:"array-append",indexes:[n]}}),this.form.fireOnFormValuesInit({values:this.form.values,prevValues:a,name:r}),this.onAppendEmitter.fire({value:e,arrayValue:this.value,index:this.value.length-1}),i}delete(e){this._splice(e,1),this.onDeleteEmitter.fire({arrayValue:this.value,index:e})}_splice(e,n=1){if(e<0||n<0)throw Error("[Form] Error in FieldArrayModel.splice: Invalid Params, start and deleteCount should > 0");if(!this.value||0===this.value.length||n>this.value.length)throw Error(`[Form] Error in FieldArrayModel.splice: delete count exceeds array length, tried to delete ${n} elements, but array length is ${this.value?.length||0}`);let r=this.form.values,i=[...this.value];i.splice(e,n),this.form.store.setIn(new m(this.name),i),this.form.fireOnFormValuesChange({values:this.form.values,prevValues:r,name:this.name,options:{action:"array-splice",indexes:Array.from({length:n},(n,r)=>r+e)}});let o=this.children;if(e+n>=o.length)for(let n=e;n<o.length;n++)this.form.disposeField(o[n].name);let a=[],s=new Map(this.form.fieldMap),l=(r,i)=>{if(r.children?.length&&r.children.forEach(e=>{l(e,i)}),i<e)s.set(r.name,r);else if(i<e+n)a.push(r);else{let e=r.name,a=r.path.replaceParent(this.path.concat(i),this.path.concat(i-n)).toString();s.set(a,r),!r.children.length&&(r.updateNameForLeafState(a),r.bubbleState()),r.name=a,i>o.length-n-1&&s.delete(e)}};o.map((e,n)=>{l(e,n)}),a.forEach(e=>{e.dispose()}),this.form.fieldMap=s,this.form.alignStateWithFieldMap()}swap(e,n){if(!this.value)return;if(e<0||n<0||e>this.value.length-1||n>this.value.length-1)throw Error(`[Form]: FieldArrayModel.swap Error: invalid params 'form' and 'to', form=${e} to=${n}. expect the value between 0 to ${length-1}`);let r=[...this.value],i=r[e],o=r[n];r[n]=i,r[e]=o,this.form.setValueIn(this.name,r)}move(e,n){if(!this.value)return;if(e<0||n<0||e>this.value.length-1||n>this.value.length-1)throw Error(`[Form]: FieldArrayModel.move Error: invalid params 'form' and 'to', form=${e} to=${n}. expect the value between 0 to ${length-1}`);let r=[...this.value],i=r[e];r.splice(e,1),r.splice(n,0,i),this.form.setValueIn(this.name,r)}},B=class{constructor(){var e;this._fieldMap=new Map,this.store=new L,this._options={},this.onFieldModelCreateEmitter=new c.Emitter,this.onFieldModelCreate=this.onFieldModelCreateEmitter.event,this.onFormValuesChangeEmitter=new c.Emitter,this.onFormValuesChange=this.onFormValuesChangeEmitter.event,this.onFormValuesInitEmitter=new c.Emitter,this.onFormValuesInit=this.onFormValuesInitEmitter.event,this.onFormValuesUpdatedEmitter=new c.Emitter,this.onFormValuesUpdated=this.onFormValuesUpdatedEmitter.event,this.onValidateEmitter=new c.Emitter,this.onValidate=this.onValidateEmitter.event,this._state=new d.ReactiveState(e?{...R,...e}:{...R}),this._initialized=!1}set fieldMap(e){this._fieldMap=e}get fieldMap(){return this._fieldMap}get context(){return this._options.context}get initialValues(){return this._options.initialValues}get values(){return(0,u.cloneDeep)(this.store.values)||(0,u.cloneDeep)(this.initialValues)}set values(e){let n=this.values;this.store.values=e,this.fireOnFormValuesChange({values:this.values,prevValues:n,name:""})}get validationTrigger(){return this._options.validateTrigger}get state(){return this._state.value}get reactiveState(){return this._state}get fields(){return Array.from(this.fieldMap.values())}updateState(e){}get initialized(){return this._initialized}fireOnFormValuesChange(e){this.onFormValuesChangeEmitter.fire(e),this.onFormValuesUpdatedEmitter.fire(e)}fireOnFormValuesInit(e){this.onFormValuesInitEmitter.fire(e),this.onFormValuesUpdatedEmitter.fire(e)}init(e){if(this._options=e,e.initialValues){let n=this.store.values;this.store.setInitialValues(e.initialValues),this.fireOnFormValuesInit({values:e.initialValues,prevValues:n,name:""})}this._initialized=!0}createField(e,n){let r=new m(e),i=r.toString();if(this.fieldMap.get(i))return this.fieldMap.get(i);let o=n?new z(r,this):new F(r,this);return this.fieldMap.set(i,o),o.onDispose(()=>{this.fieldMap.delete(i)}),this.onFieldModelCreateEmitter.fire(o),o}createFieldArray(e,n){return this.createField(e,!0)}disposeField(e){let n=this.fieldMap.get(e);n&&n.dispose()}deleteField(e){let n=this.fieldMap.get(e);n&&(n.clear(),n.dispose())}getField(e){return this.fieldMap.get(new m(e).toString())}getValueIn(e){return this.store.getIn(new m(e))}setValueIn(e,n){let r=this.values;this.store.setIn(new m(e),n),this.fireOnFormValuesChange({values:this.values,prevValues:r,name:e})}setInitValueIn(e,n){let r=new m(e),i=this.store.getIn(r);if(void 0===i){let r=this.values;this.store.setIn(new m(e),n),this.fireOnFormValuesInit({values:this.values,prevValues:r,name:e})}}clearValueIn(e){this.setValueIn(e,void 0)}async validateIn(e){if(!this._options.validate)return;let n=Object.keys(this._options.validate).find(n=>a.isMatch(n,e));if(n){let r=this._options.validate[n];return r({value:this.getValueIn(e),formValues:this.values,context:this.context,name:e})}}async validate(){if(!this._options.validate)return[];let e=Object.keys(this._options.validate).map(async e=>{let n=this._options.validate[e],r=a.findMatchPathsWithEmptyValue(this.values,e);return Promise.all(r.map(async e=>{var r;let i=await n({value:(0,u.get)(this.values,e),formValues:this.values,context:this.context,name:e}),o=N(i,e),a=this.getField(e),s=T(e,o),l=T(e,o);return a&&(a.state.errors=s,a.state.warnings=l,a.state.invalid=k(s),a.bubbleState()),this.state.errors=_(this.state.errors,s),this.state.warnings=_(this.state.warnings,l),this.state.invalid=!(!(r=this.state.errors)||Object.keys(r).every(e=>(0,u.isEmpty)(r[e]))),o}))});this.state.isValidating=!0;let n=await Promise.all(e);return this.state.isValidating=!1,this.onValidateEmitter.fire(this.state),(0,u.flatten)(n).filter(Boolean)}alignStateWithFieldMap(){let e=Array.from(this.fieldMap.keys());this.state.errors&&(this.state.errors=g(this.state.errors,e)),this.state.warnings&&(this.state.warnings=g(this.state.warnings,e)),this.fieldMap.forEach(n=>{n.state.errors&&(n.state.errors=g(n.state.errors,e)),n.state.warnings&&(n.state.warnings=g(n.state.warnings,e))})}dispose(){this.fieldMap.forEach(e=>e.dispose()),this.store.dispose(),this._initialized=!1}};function V(e){let{disableAutoInit:n=!1,...r}=e||{},i=new B;return!n&&i.init(r||{}),{form:S(i),control:{_formModel:i,getField:e=>{let n=i.getField(e);if(n)return n instanceof z?j(n):x(n)},init:()=>i.init(r||{})}}}function $(e){let{children:n,keepModelOnUnMount:r=!1,control:i,...o}=e,{_formModel:a}=(0,l.useMemo)(()=>i||V(o).control,[i]);(0,l.useEffect)(()=>()=>{!r&&a.dispose()},[]);let s=(0,l.useMemo)(()=>S(a),[a]);return l.default.createElement(M.Provider,{value:a},n?(0,u.isFunction)(n)?n({form:s}):l.Children.only(n):null)}function U({name:e,defaultValue:n,deps:r,render:i,children:o}){let a=D(),s=l.useMemo(()=>a.getField(e)||a.createFieldArray(e),[]),h=l.useMemo(()=>j(s),[s]),f=(0,c.useRefresh)(),p=(0,d.useReadonlyReactiveState)(s.reactiveState),g=(0,d.useReadonlyReactiveState)(a.reactiveState),y=C(p),m=l.useMemo(()=>O(g),[g]);return l.useEffect(()=>{s.renderCount=s.renderCount+1,a.getValueIn(e),void 0!==n&&(a.setInitValueIn(e,n),f());let i=new c.DisposableCollection;return i.push(s.onValueChange(()=>{f()})),r&&r.forEach(e=>{let n=a.getField(e)?.onValueChange(()=>{f()});n&&i.push(n)}),()=>{if(i.dispose(),s.renderCount>1)s.renderCount=s.renderCount-1;else{let e=a.getField(s.name);e===s&&s.dispose()}}},[s]),l.createElement(P.Provider,{value:s},i&&(0,u.isFunction)(i)?i({field:h,fieldState:y,formState:m}):(0,u.isFunction)(o)?o({field:h,fieldState:y,formState:m}):l.createElement(l.Fragment,null,"Invalid Array render"))}},41081:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{AutoLayoutService:function(){return eV},Layout:function(){return eB},createFreeAutoLayoutPlugin:function(){return e$}});var i=r("90160"),o=r("93665"),a=r("91516"),s=r("69540"),l=r("97752"),u=Object.defineProperty,c=Object.getOwnPropertyDescriptor,d=(e,n,r,i)=>{for(var o=i>1?void 0:i?c(n,r):n,a,s=e.length-1;s>=0;s--)(a=e[s])&&(o=(i?a(n,r,o):a(o))||o);return i&&o&&u(n,r,o),o},h=class{constructor(){let e={};e._next=e._prev=e,this._sentinel=e}dequeue(){let e=this._sentinel,n=e._prev;if(n!==e)return f(n),n}enqueue(e){let n=this._sentinel;e._prev&&e._next&&f(e),e._next=n._next,n._next._prev=e,n._next=e,e._prev=n}toString(){let e=[],n=this._sentinel,r=n._prev;for(;r!==n;)e.push(JSON.stringify(r,p)),r=r._prev;return"["+e.join(", ")+"]"}};function f(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function p(e,n){if("_next"!==e&&"_prev"!==e)return n}var g=()=>1;function y(e,n,r,i,o){let a=o?[]:void 0;return e.inEdges(i.v).forEach(i=>{let s=e.edge(i),l=e.node(i.v);o&&a.push({v:i.v,w:i.w}),l.out-=s,m(n,r,l)}),e.outEdges(i.v).forEach(i=>{let o=e.edge(i),a=i.w,s=e.node(a);s.in-=o,m(n,r,s)}),e.removeNode(i.v),a}function m(e,n,r){r.out?r.in?e[r.out-r.in+n].enqueue(r):e[e.length-1].enqueue(r):e[0].enqueue(r)}var b={addBorderNode:function(e,n,r,i){let o={width:0,height:0};return arguments.length>=4&&(o.rank=r,o.order=i),_(e,"border",o,n)},addDummyNode:_,applyWithChunking:S,asNonCompoundGraph:function(e){let n=new i.Graph({multigraph:e.isMultigraph()}).setGraph(e.graph());return e.nodes().forEach(r=>{!e.children(r).length&&n.setNode(r,e.node(r))}),e.edges().forEach(r=>{n.setEdge(r,e.edge(r))}),n},buildLayerMatrix:function(e){let n=D(O(e)+1).map(()=>[]);return e.nodes().forEach(r=>{let i=e.node(r),o=i.rank;void 0!==o&&(n[o][i.order]=r)}),n},intersectRect:function(e,n){let r,i,o=e.x,a=e.y,s=n.x-o,l=n.y-a,u=e.width/2,c=e.height/2;if(!s&&!l)throw Error("Not possible to find intersection inside of the rectangle");return Math.abs(l)*u>Math.abs(s)*c?(l<0&&(c=-c),r=c*s/l,i=c):(s<0&&(u=-u),r=u,i=u*l/s),{x:o+r,y:a+i}},mapValues:function(e,n){let r=n;return"string"==typeof n&&(r=e=>e[n]),Object.entries(e).reduce((e,[n,i])=>(e[n]=r(i,n),e),{})},maxRank:O,normalizeRanks:E,notime:function(e,n){return n()},partition:function(e,n){let r={lhs:[],rhs:[]};return e.forEach(e=>{n(e)?r.lhs.push(e):r.rhs.push(e)}),r},pick:function(e,n){let r={};for(let i of n)void 0!==e[i]&&(r[i]=e[i]);return r},predecessorWeights:function(e){let n=e.nodes().map(n=>{let r={};return e.inEdges(n).forEach(n=>{r[n.v]=(r[n.v]||0)+e.edge(n).weight}),r});return I(e.nodes(),n)},range:D,removeEmptyRanks:x,simplify:w,successorWeights:function(e){let n=e.nodes().map(n=>{let r={};return e.outEdges(n).forEach(n=>{r[n.w]=(r[n.w]||0)+e.edge(n).weight}),r});return I(e.nodes(),n)},time:function(e,n){let r=Date.now();try{return n()}finally{console.log(e+" time: "+(Date.now()-r)+"ms")}},uniqueId:P,zipObject:I};function _(e,n,r,i){let o;do o=P(i);while(e.hasNode(o));return r.dummy=n,e.setNode(o,r),o}function w(e){let n=new i.Graph().setGraph(e.graph());return e.nodes().forEach(r=>n.setNode(r,e.node(r))),e.edges().forEach(r=>{let i=n.edge(r.v,r.w)||{weight:0,minlen:1},o=e.edge(r);n.setEdge(r.v,r.w,{weight:i.weight+o.weight,minlen:Math.max(i.minlen,o.minlen)})}),n}function E(e){let n=S(Math.min,e.nodes().map(n=>{let r=e.node(n).rank;return void 0===r?Number.MAX_VALUE:r}));e.nodes().forEach(r=>{let i=e.node(r);Object.hasOwn(i,"rank")&&(i.rank-=n)})}function x(e){let n=S(Math.min,e.nodes().map(n=>e.node(n).rank)),r=[];e.nodes().forEach(i=>{let o=e.node(i).rank-n;!r[o]&&(r[o]=[]),r[o].push(i)});let i=0,o=e.graph().nodeRankFactor;Array.from(r).forEach((n,r)=>{void 0===n&&r%o!=0?--i:void 0!==n&&i&&n.forEach(n=>e.node(n).rank+=i)})}var C=65535;function S(e,n){if(!(n.length>C))return e.apply(null,n);{let r=function(e,n=C){let r=[];for(let i=0;i<e.length;i+=n){let o=e.slice(i,i+n);r.push(o)}return r}(n);return e.apply(null,r.map(n=>e.apply(null,n)))}}function O(e){let n=e.nodes(),r=n.map(n=>{let r=e.node(n).rank;return void 0===r?Number.MIN_VALUE:r});return S(Math.max,r)}var M=0;function P(e){var n=++M;return toString(e)+n}function D(e,n,r=1){null==n&&(n=e,e=0);let i=e=>e<n;r<0&&(i=e=>n<e);let o=[];for(let n=e;i(n);n+=r)o.push(n);return o}function I(e,n){return e.reduce((e,r,i)=>(e[r]=n[i],e),{})}var j={run:function(e){("greedy"===e.graph().acyclicer?function(e,n){if(1>=e.nodeCount())return[];let r=function(e,n){let r=new i.Graph,o=0,a=0;e.nodes().forEach(e=>{r.setNode(e,{v:e,in:0,out:0})}),e.edges().forEach(e=>{let i=r.edge(e.v,e.w)||0,s=n(e),l=i+s;r.setEdge(e.v,e.w,l),a=Math.max(a,r.node(e.v).out+=s),o=Math.max(o,r.node(e.w).in+=s)});let s=(function(e){let n=[];for(let r=0;r<e;r++)n.push(r);return n})(a+o+3).map(()=>new h),l=o+1;return r.nodes().forEach(e=>{m(s,l,r.node(e))}),{graph:r,buckets:s,zeroIdx:l}}(e,n||g);return(function(e,n,r){let i,o=[],a=n[n.length-1],s=n[0];for(;e.nodeCount();){for(;i=s.dequeue();)y(e,n,r,i);for(;i=a.dequeue();)y(e,n,r,i);if(e.nodeCount()){for(let a=n.length-2;a>0;--a)if(i=n[a].dequeue()){o=o.concat(y(e,n,r,i,!0));break}}}return o})(r.graph,r.buckets,r.zeroIdx).flatMap(n=>e.outEdges(n.v,n.w))}(e,function(e){return n=>e.edge(n).weight}(e)):function(e){let n=[],r={},i={};return e.nodes().forEach(function o(a){!Object.hasOwn(i,a)&&(i[a]=!0,r[a]=!0,e.outEdges(a).forEach(e=>{Object.hasOwn(r,e.w)?n.push(e):o(e.w)}),delete r[a])}),n}(e)).forEach(n=>{let r=e.edge(n);e.removeEdge(n),r.forwardName=n.name,r.reversed=!0,e.setEdge(n.w,n.v,r,P("rev"))})},undo:function(e){e.edges().forEach(n=>{let r=e.edge(n);if(r.reversed){e.removeEdge(n);let i=r.forwardName;delete r.reversed,delete r.forwardName,e.setEdge(n.w,n.v,r,i)}})}},N={run:function(e){e.graph().dummyChains=[],e.edges().forEach(n=>(function(e,n){let r,i,o,a=n.v,s=e.node(a).rank,l=n.w,u=e.node(l).rank,c=n.name,d=e.edge(n),h=d.labelRank;if(u!==s+1){for(e.removeEdge(n),o=0,++s;s<u;++o,++s)d.points=[],i={width:0,height:0,edgeLabel:d,edgeObj:n,rank:s},r=b.addDummyNode(e,"edge",i,"_d"),s===h&&(i.width=d.width,i.height=d.height,i.dummy="edge-label",i.labelpos=d.labelpos),e.setEdge(a,r,{weight:d.weight},c),0===o&&e.graph().dummyChains.push(r),a=r;e.setEdge(a,l,{weight:d.weight},c)}})(e,n))},undo:function(e){e.graph().dummyChains.forEach(n=>{let r,i=e.node(n),o=i.edgeLabel;for(e.setEdge(i.edgeObj,o);i.dummy;)r=e.successors(n)[0],e.removeNode(n),o.points.push({x:i.x,y:i.y}),"edge-label"===i.dummy&&(o.x=i.x,o.y=i.y,o.width=i.width,o.height=i.height),n=r,i=e.node(n)})}};function T(e){var n={};e.sources().forEach(function r(i){var o=e.node(i);if(Object.hasOwn(n,i))return o.rank;n[i]=!0;var a=S(Math.min,e.outEdges(i).map(n=>null==n?Number.POSITIVE_INFINITY:r(n.w)-e.edge(n).minlen));return a===Number.POSITIVE_INFINITY&&(a=0),o.rank=a})}function k(e,n){return e.node(n.w).rank-e.node(n.v).rank-e.edge(n).minlen}function A(e){var n,r,o=new i.Graph({directed:!1}),a=e.nodes()[0],s=e.nodeCount();for(o.setNode(a,{});function(e,n){return e.nodes().forEach(function r(i){n.nodeEdges(i).forEach(o=>{var a=o.v,s=i===a?o.w:a;!e.hasNode(s)&&!k(n,o)&&(e.setNode(s,{}),e.setEdge(i,s,{}),r(s))})}),e.nodeCount()}(o,e)<s;)n=function(e,n){let r=n.edges();return r.reduce((r,i)=>{let o=Number.POSITIVE_INFINITY;return(e.hasNode(i.v)!==e.hasNode(i.w)&&(o=k(n,i)),o<r[0])?[o,i]:r},[Number.POSITIVE_INFINITY,null])[1]}(o,e),r=o.hasNode(n.v)?k(e,n):-k(e,n),function(e,n,r){e.nodes().forEach(e=>n.node(e).rank+=r)}(o,e,r);return o}var{preorder:R,postorder:L}=i.alg;function F(e){T(e=w(e));var n,r,i=A(e);for(V(i),z(i,e);n=$(i);)r=U(i,e,n),H(i,e,n,r)}function z(e,n){var r=L(e,e.nodes());(r=r.slice(0,r.length-1)).forEach(r=>(function(e,n,r){var i=e.node(r).parent;e.edge(r,i).cutvalue=B(e,n,r)})(e,n,r))}F.initLowLimValues=V,F.initCutValues=z,F.calcCutValue=B,F.leaveEdge=$,F.enterEdge=U,F.exchangeEdges=H;function B(e,n,r){var i=e.node(r).parent,o=!0,a=n.edge(r,i),s=0;return!a&&(o=!1,a=n.edge(i,r)),s=a.weight,n.nodeEdges(r).forEach(a=>{var l=a.v===r,u=l?a.w:a.v;if(u!==i){var c=l===o,d=n.edge(a).weight;if(s+=c?d:-d,function(e,n,r){return e.hasEdge(n,r)}(e,r,u)){var h=e.edge(r,u).cutvalue;s+=c?-h:h}}}),s}function V(e,n){arguments.length<2&&(n=e.nodes()[0]),function e(n,r,i,o,a){var s=i,l=n.node(o);return r[o]=!0,n.neighbors(o).forEach(a=>{!Object.hasOwn(r,a)&&(i=e(n,r,i,a,o))}),l.low=s,l.lim=i++,a?l.parent=a:delete l.parent,i}(e,{},1,n)}function $(e){return e.edges().find(n=>e.edge(n).cutvalue<0)}function U(e,n,r){var i=r.v,o=r.w;!n.hasEdge(i,o)&&(i=r.w,o=r.v);var a=e.node(i),s=e.node(o),l=a,u=!1;return a.lim>s.lim&&(l=s,u=!0),n.edges().filter(n=>u===W(e,e.node(n.v),l)&&u!==W(e,e.node(n.w),l)).reduce((e,r)=>k(n,r)<k(n,e)?r:e)}function H(e,n,r,i){var o=r.v,a=r.w;e.removeEdge(o,a),e.setEdge(i.v,i.w,{}),V(e),z(e,n),function(e,n){var r=e.nodes().find(e=>!n.node(e).parent),i=R(e,r);(i=i.slice(1)).forEach(r=>{var i=e.node(r).parent,o=n.edge(r,i),a=!1;!o&&(o=n.edge(i,r),a=!0),n.node(r).rank=n.node(i).rank+(a?o.minlen:-o.minlen)})}(e,n)}function W(e,n,r){return r.low<=n.lim&&n.lim<=r.lim}var K=function(e){switch(e.graph().ranker){case"network-simplex":default:(function(e){F(e)})(e);break;case"tight-tree":(function(e){T(e),A(e)})(e);break;case"longest-path":G(e)}},G=T;function Y(e){F(e)}var X=function(e){let n=function(e){let n={},r=0;return e.children().forEach(function i(o){let a=r;e.children(o).forEach(i),n[o]={low:a,lim:r++}}),n}(e);e.graph().dummyChains.forEach(r=>{let i=e.node(r),o=i.edgeObj,a=function(e,n,r,i){let o,a,s=[],l=[],u=Math.min(n[r].low,n[i].low),c=Math.max(n[r].lim,n[i].lim);o=r;do o=e.parent(o),s.push(o);while(o&&(n[o].low>u||c>n[o].lim));for(a=o,o=i;(o=e.parent(o))!==a;)l.push(o);return{path:s.concat(l.reverse()),lca:a}}(e,n,o.v,o.w),s=a.path,l=a.lca,u=0,c=s[0],d=!0;for(;r!==o.w;){if(i=e.node(r),d){for(;(c=s[u])!==l&&e.node(c).maxRank<i.rank;)u++;c===l&&(d=!1)}if(!d){for(;u<s.length-1&&e.node(c=s[u+1]).minRank<=i.rank;)u++;c=s[u]}e.setParent(r,c),r=e.successors(r)[0]}})},Z={run:function(e){let n=b.addDummyNode(e,"root",{},"_root"),r=function(e){var n={};return e.children().forEach(r=>(function r(i,o){var a=e.children(i);a&&a.length&&a.forEach(e=>r(e,o+1)),n[i]=o})(r,1)),n}(e),i=Object.values(r),o=b.applyWithChunking(Math.max,i)-1,a=2*o+1;e.graph().nestingRoot=n,e.edges().forEach(n=>e.edge(n).minlen*=a);let s=function(e){return e.edges().reduce((n,r)=>n+e.edge(r).weight,0)}(e)+1;e.children().forEach(i=>(function e(n,r,i,o,a,s,l){let u=n.children(l);if(!u.length){l!==r&&n.setEdge(r,l,{weight:0,minlen:i});return}let c=b.addBorderNode(n,"_bt"),d=b.addBorderNode(n,"_bb"),h=n.node(l);n.setParent(c,l),h.borderTop=c,n.setParent(d,l),h.borderBottom=d,u.forEach(u=>{e(n,r,i,o,a,s,u);let h=n.node(u),f=h.borderTop?h.borderTop:u,p=h.borderBottom?h.borderBottom:u,g=h.borderTop?o:2*o,y=f!==p?1:a-s[l]+1;n.setEdge(c,f,{weight:g,minlen:y,nestingEdge:!0}),n.setEdge(p,d,{weight:g,minlen:y,nestingEdge:!0})}),!n.parent(l)&&n.setEdge(r,c,{weight:0,minlen:a+s[l]})})(e,n,a,s,o,r,i)),e.graph().nodeRankFactor=a},cleanup:function(e){var n=e.graph();e.removeNode(n.nestingRoot),delete n.nestingRoot,e.edges().forEach(n=>{e.edge(n).nestingEdge&&e.removeEdge(n)})}},Q=function(e){e.children().forEach(function n(r){let i=e.children(r),o=e.node(r);if(i.length&&i.forEach(n),Object.hasOwn(o,"minRank")){o.borderLeft=[],o.borderRight=[];for(let n=o.minRank,i=o.maxRank+1;n<i;++n)q(e,"borderLeft","_bl",r,o,n),q(e,"borderRight","_br",r,o,n)}})};function q(e,n,r,i,o,a){let s=o[n][a-1],l=b.addDummyNode(e,"border",{width:0,height:0,rank:a,borderType:n},r);o[n][a]=l,e.setParent(l,i),s&&e.setEdge(s,l,{weight:1})}var J={adjust:function(e){let n=e.graph().rankdir.toLowerCase();("lr"===n||"rl"===n)&&ee(e)},undo:function(e){let n=e.graph().rankdir.toLowerCase();("bt"===n||"rl"===n)&&function(e){e.nodes().forEach(n=>en(e.node(n))),e.edges().forEach(n=>{let r=e.edge(n);r.points.forEach(en),Object.hasOwn(r,"y")&&en(r)})}(e),("lr"===n||"rl"===n)&&(function(e){e.nodes().forEach(n=>er(e.node(n))),e.edges().forEach(n=>{let r=e.edge(n);r.points.forEach(er),Object.hasOwn(r,"x")&&er(r)})}(e),ee(e))}};function ee(e){e.nodes().forEach(n=>et(e.node(n))),e.edges().forEach(n=>et(e.edge(n)))}function et(e){let n=e.width;e.width=e.height,e.height=n}function en(e){e.y=-e.y}function er(e){let n=e.x;e.x=e.y,e.y=n}var ei=function(e,n){let r=0;for(let i=1;i<n.length;++i)r+=function(e,n,r){let i=I(r,r.map((e,n)=>n)),o=n.flatMap(n=>e.outEdges(n).map(n=>({pos:i[n.w],weight:e.edge(n).weight})).sort((e,n)=>e.pos-n.pos)),a=1;for(;a<r.length;)a<<=1;let s=2*a-1;a-=1;let l=Array(s).fill(0),u=0;return o.forEach(e=>{let n=e.pos+a;l[n]+=e.weight;let r=0;for(;n>0;)n%2&&(r+=l[n+1]),n=n-1>>1,l[n]+=e.weight;u+=e.weight*r}),u}(e,n[i-1],n[i]);return r};function eo(e,n,r){let i;for(;n.length&&(i=n[n.length-1]).i<=r;)n.pop(),e.push(i.vs),r++;return r}var ea=function e(n,r){if(r&&"function"==typeof r.customOrder){r.customOrder(n,e);return}let o=b.maxRank(n),a=es(n,b.range(1,o+1),"inEdges"),s=es(n,b.range(o-1,-1,-1),"outEdges"),l=function(e){let n={},r=e.nodes().filter(n=>!e.children(n).length),i=r.map(n=>e.node(n).rank),o=b.applyWithChunking(Math.max,i),a=b.range(o+1).map(()=>[]);return r.sort((n,r)=>e.node(n).rank-e.node(r).rank).forEach(function r(i){if(!n[i])n[i]=!0,a[e.node(i).rank].push(i),e.successors(i).forEach(r)}),a}(n);if(el(n,l),r&&r.disableOptimalOrderHeuristic)return;let u=Number.POSITIVE_INFINITY,c;for(let e=0,r=0;r<4;++e,++r){(function(e,n){let r=new i.Graph;e.forEach(function(e){let i=e.graph().root,o=function e(n,r,i,o){let a=n.children(r),s=n.node(r),l=s?s.borderLeft:void 0,u=s?s.borderRight:void 0,c={};l&&(a=a.filter(e=>e!==l&&e!==u));let d=function(e,n=[]){return n.map(n=>{let r=e.inEdges(n);if(!r.length)return{v:n};{let i=r.reduce((n,r)=>{let i=e.edge(r),o=e.node(r.v);return{sum:n.sum+i.weight*o.order,weight:n.weight+i.weight}},{sum:0,weight:0});return{v:n,barycenter:i.sum/i.weight,weight:i.weight}}})}(n,a);d.forEach(r=>{if(n.children(r.v).length){let a=e(n,r.v,i,o);c[r.v]=a,Object.hasOwn(a,"barycenter")&&function(e,n){void 0!==e.barycenter?(e.barycenter=(e.barycenter*e.weight+n.barycenter*n.weight)/(e.weight+n.weight),e.weight+=n.weight):(e.barycenter=n.barycenter,e.weight=n.weight)}(r,a)}});let h=function(e,n){let r={};return e.forEach((e,n)=>{let i=r[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:n};void 0!==e.barycenter&&(i.barycenter=e.barycenter,i.weight=e.weight)}),n.edges().forEach(e=>{let n=r[e.v],i=r[e.w];void 0!==n&&void 0!==i&&(i.indegree++,n.out.push(r[e.w]))}),function(e){let n=[];for(;e.length;){let r=e.pop();n.push(r),r.in.reverse().forEach(function(e){return n=>{!n.merged&&(void 0===n.barycenter||void 0===e.barycenter||n.barycenter>=e.barycenter)&&function(e,n){let r=0,i=0;e.weight&&(r+=e.barycenter*e.weight,i+=e.weight),n.weight&&(r+=n.barycenter*n.weight,i+=n.weight),e.vs=n.vs.concat(e.vs),e.barycenter=r/i,e.weight=i,e.i=Math.min(n.i,e.i),n.merged=!0}(e,n)}}(r)),r.out.forEach(function(n){return r=>{r.in.push(n),0==--r.indegree&&e.push(r)}}(r))}return n.filter(e=>!e.merged).map(e=>b.pick(e,["vs","i","barycenter","weight"]))}(Object.values(r).filter(e=>!e.indegree))}(d,i);(function(e,n){e.forEach(e=>{e.vs=e.vs.flatMap(e=>n[e]?n[e].vs:e)})})(h,c);let f=function(e,n){let r=b.partition(e,e=>Object.hasOwn(e,"barycenter")),i=r.lhs,o=r.rhs.sort((e,n)=>n.i-e.i),a=[],s=0,l=0,u=0;i.sort(function(e){return(n,r)=>n.barycenter<r.barycenter?-1:n.barycenter>r.barycenter?1:e?r.i-n.i:n.i-r.i}(!!n)),u=eo(a,o,u),i.forEach(e=>{u+=e.vs.length,a.push(e.vs),s+=e.barycenter*e.weight,l+=e.weight,u=eo(a,o,u)});let c={vs:a.flat(!0)};return l&&(c.barycenter=s/l,c.weight=l),c}(h,o);if(l&&(f.vs=[l,f.vs,u].flat(!0),n.predecessors(l).length)){let e=n.node(n.predecessors(l)[0]),r=n.node(n.predecessors(u)[0]);!Object.hasOwn(f,"barycenter")&&(f.barycenter=0,f.weight=0),f.barycenter=(f.barycenter*f.weight+e.order+r.order)/(f.weight+2),f.weight+=2}return f}(e,i,r,n);o.vs.forEach((n,r)=>e.node(n).order=r),function(e,n,r){let i={},o;r.forEach(r=>{let a=e.parent(r),s,l;for(;a;){if((s=e.parent(a))?(l=i[s],i[s]=a):(l=o,o=a),l&&l!==a){n.setEdge(l,a);return}a=s}})}(e,r,o.vs)})})(e%2?a:s,e%4>=2),l=b.buildLayerMatrix(n);let o=ei(n,l);o<u&&(r=0,c=Object.assign({},l),u=o)}el(n,c)};function es(e,n,r){return n.map(function(n){return function(e,n,r){let o=function(e){for(var n;e.hasNode(n=b.uniqueId("_root")););return n}(e),a=new i.Graph({compound:!0}).setGraph({root:o}).setDefaultNodeLabel(n=>e.node(n));return e.nodes().forEach(i=>{let s=e.node(i),l=e.parent(i);(s.rank===n||s.minRank<=n&&n<=s.maxRank)&&(a.setNode(i),a.setParent(i,l||o),e[r](i).forEach(n=>{let r=n.v===i?n.w:n.v,o=a.edge(r,i),s=void 0!==o?o.weight:0;a.setEdge(r,i,{weight:e.edge(n).weight+s})}),Object.hasOwn(s,"minRank")&&a.setNode(i,{borderLeft:s.borderLeft[n],borderRight:s.borderRight[n]}))}),a}(e,n,r)})}function el(e,n){Object.values(n).forEach(n=>n.forEach((n,r)=>e.node(n).order=r))}function eu(e,n,r){if(n>r){let e=n;n=r,r=e}let i=e[n];!i&&(e[n]=i={}),i[r]=!0}var ec=function(e){var n,r,o,a,s,l,u,c;let d,h,f,p,g,y,m,_,w;(function(e){let n=b.buildLayerMatrix(e),r=e.graph().ranksep,i=0;n.forEach(n=>{let o=n.reduce((n,r)=>{let i=e.node(r).height;return n>i?n:i},0);n.forEach(n=>e.node(n).y=i+o/2),i+=o+r})})(e=b.asNonCompoundGraph(e));Object.entries((n=e,h=b.buildLayerMatrix(n),p=Object.assign((r=n,f={},(o=h).length&&o.reduce(function(e,n){let i=0,o=0,a=e.length,s=n[n.length-1];return n.forEach((e,l)=>{let u=function(e,n){if(e.node(n).dummy)return e.predecessors(n).find(n=>e.node(n).dummy)}(r,e),c=u?r.node(u).order:a;(u||e===s)&&(n.slice(o,l+1).forEach(e=>{r.predecessors(e).forEach(n=>{let o=r.node(n),a=o.order;(a<i||c<a)&&!(o.dummy&&r.node(e).dummy)&&eu(f,n,e)})}),o=l+1,i=c)}),n}),f),function(e,n){let r={};function i(n,i,o,a,s){let l;b.range(i,o).forEach(i=>{l=n[i],e.node(l).dummy&&e.predecessors(l).forEach(n=>{let i=e.node(n);i.dummy&&(i.order<a||i.order>s)&&eu(r,n,l)})})}return n.length&&n.reduce(function(n,r){let o=-1,a,s=0;return r.forEach((l,u)=>{if("border"===e.node(l).dummy){let n=e.predecessors(l);n.length&&(i(r,s,u,o,a=e.node(n[0]).order),s=u,o=a)}i(r,s,r.length,a,n.length)}),r}),r}(n,h)),g={},["u","d"].forEach(e=>{d="u"===e?h:Object.values(h).reverse(),["l","r"].forEach(r=>{var o,a,s,l;let u,c,h;"r"===r&&(d=d.map(e=>Object.values(e).reverse()));let f=("u"===e?n.predecessors:n.successors).bind(n);let y=(o=0,a=d,s=p,l=f,u={},c={},h={},a.forEach(e=>{e.forEach((e,n)=>{u[e]=e,c[e]=e,h[e]=n})}),a.forEach(e=>{let n=-1;e.forEach(e=>{let r=l(e);if(r.length){let i=((r=r.sort((e,n)=>h[e]-h[n])).length-1)/2;for(let o=Math.floor(i),a=Math.ceil(i);o<=a;++o){let i=r[o];c[e]===e&&n<h[i]&&!function(e,n,r){if(n>r){let e=n;n=r,r=e}return!!e[n]&&Object.hasOwn(e[n],r)}(s,e,i)&&(c[i]=e,c[e]=u[e]=u[i],n=h[i])}}})}),{root:u,align:c}),m=function(e,n,r,o,a){let s={},l=function(e,n,r,o){let a=new i.Graph,s=e.graph(),l=function(e,n,r){return(i,o,a)=>{let s,l,u=i.node(o),c=i.node(a);if(s=0+u.width/2,Object.hasOwn(u,"labelpos"))switch(u.labelpos.toLowerCase()){case"l":l=-u.width/2;break;case"r":l=u.width/2}if(l&&(s+=r?l:-l),l=0,s+=(u.dummy?n:e)/2+(c.dummy?n:e)/2+c.width/2,Object.hasOwn(c,"labelpos"))switch(c.labelpos.toLowerCase()){case"l":l=c.width/2;break;case"r":l=-c.width/2}return l&&(s+=r?l:-l),l=0,s}}(s.nodesep,s.edgesep,o);return n.forEach(n=>{let i;n.forEach(n=>{let o=r[n];if(a.setNode(o),i){var s=r[i],u=a.edge(s,o);a.setEdge(s,o,Math.max(l(e,n,i),u||0))}i=n})}),a}(e,n,r,a),u=a?"borderLeft":"borderRight";function c(e,n){let r=l.nodes(),i=r.pop(),o={};for(;i;)o[i]?e(i):(o[i]=!0,r.push(i),r=r.concat(n(i))),i=r.pop()}return c(function(e){s[e]=l.inEdges(e).reduce((e,n)=>Math.max(e,s[n.v]+l.edge(n)),0)},l.predecessors.bind(l)),c(function(n){let r=l.outEdges(n).reduce((e,n)=>Math.min(e,s[n.w]-l.edge(n)),Number.POSITIVE_INFINITY),i=e.node(n);r!==Number.POSITIVE_INFINITY&&i.borderType!==u&&(s[n]=Math.max(s[n],r))},l.successors.bind(l)),Object.keys(o).forEach(e=>s[e]=s[r[e]]),s}(n,d,y.root,y.align,"r"===r);"r"===r&&(m=b.mapValues(m,e=>-e)),g[e+r]=m})}),y=(a=n,Object.values(g).reduce((e,n)=>{let r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;Object.entries(n).forEach(([e,n])=>{let o=function(e,n){return e.node(n).width}(a,e)/2;r=Math.max(n+o,r),i=Math.min(n-o,i)});let o=r-i;return o<e[0]&&(e=[o,n]),e},[Number.POSITIVE_INFINITY,null])[1]),s=g,m=Object.values(l=y),_=b.applyWithChunking(Math.min,m),w=b.applyWithChunking(Math.max,m),["u","d"].forEach(e=>{["l","r"].forEach(n=>{let r=e+n,i=s[r];if(i===l)return;let o=Object.values(i),a=_-b.applyWithChunking(Math.min,o);"l"!==n&&(a=w-b.applyWithChunking(Math.max,o)),a&&(s[r]=b.mapValues(i,e=>e+a))})}),u=g,c=n.graph().align,b.mapValues(u.ul,(e,n)=>{if(c)return u[c.toLowerCase()][n];{let e=Object.values(u).map(e=>e[n]).sort((e,n)=>e-n);return(e[1]+e[2])/2}}))).forEach(([n,r])=>e.node(n).x=r)};function ed(e,n){e.nodes().forEach(r=>{let i=e.node(r),o=n.node(r);i&&(i.x=o.x,i.y=o.y,i.rank=o.rank,n.children(r).length&&(i.width=o.width,i.height=o.height))}),e.edges().forEach(r=>{let i=e.edge(r),o=n.edge(r);i.points=o.points,Object.hasOwn(o,"x")&&(i.x=o.x,i.y=o.y)}),e.graph().width=n.graph().width,e.graph().height=n.graph().height}var eh=["nodesep","edgesep","ranksep","marginx","marginy"],ef={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},ep=["acyclicer","ranker","rankdir","align"],eg=["width","height"],ey={width:0,height:0},em=["minlen","weight","width","height","labeloffset"],ev={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},eb=["labelpos"];function e_(e){let n=new i.Graph({multigraph:!0,compound:!0}),r=ek(e.graph());return n.setGraph(Object.assign({},ef,eT(r,eh),b.pick(r,ep))),e.nodes().forEach(r=>{let i=ek(e.node(r)),o=eT(i,eg);Object.keys(ey).forEach(e=>{void 0===o[e]&&(o[e]=ey[e])}),n.setNode(r,o),n.setParent(r,e.parent(r))}),e.edges().forEach(r=>{let i=ek(e.edge(r));n.setEdge(r,Object.assign({},ev,eT(i,em),b.pick(i,eb)))}),n}function ew(e){let n=e.graph();n.ranksep/=2,e.edges().forEach(r=>{let i=e.edge(r);i.minlen*=2,"c"!==i.labelpos.toLowerCase()&&("TB"===n.rankdir||"BT"===n.rankdir?i.width+=i.labeloffset:i.height+=i.labeloffset)})}function eE(e){e.edges().forEach(n=>{let r=e.edge(n);if(r.width&&r.height){let r=e.node(n.v),i={rank:(e.node(n.w).rank-r.rank)/2+r.rank,e:n};b.addDummyNode(e,"edge-proxy",i,"_ep")}})}function ex(e){let n=0;e.nodes().forEach(r=>{let i=e.node(r);i.borderTop&&(i.minRank=e.node(i.borderTop).rank,i.maxRank=e.node(i.borderBottom).rank,n=Math.max(n,i.maxRank))}),e.graph().maxRank=n}function eC(e){e.nodes().forEach(n=>{let r=e.node(n);"edge-proxy"===r.dummy&&(e.edge(r.e).labelRank=r.rank,e.removeNode(n))})}function eS(e){let n=Number.POSITIVE_INFINITY,r=0,i=Number.POSITIVE_INFINITY,o=0,a=e.graph(),s=a.marginx||0,l=a.marginy||0;function u(e){let a=e.x,s=e.y,l=e.width,u=e.height;n=Math.min(n,a-l/2),r=Math.max(r,a+l/2),i=Math.min(i,s-u/2),o=Math.max(o,s+u/2)}e.nodes().forEach(n=>u(e.node(n))),e.edges().forEach(n=>{let r=e.edge(n);Object.hasOwn(r,"x")&&u(r)}),n-=s,i-=l,e.nodes().forEach(r=>{let o=e.node(r);o.x-=n,o.y-=i}),e.edges().forEach(r=>{let o=e.edge(r);o.points.forEach(e=>{e.x-=n,e.y-=i}),Object.hasOwn(o,"x")&&(o.x-=n),Object.hasOwn(o,"y")&&(o.y-=i)}),a.width=r-n+s,a.height=o-i+l}function eO(e){e.edges().forEach(n=>{let r,i,o=e.edge(n),a=e.node(n.v),s=e.node(n.w);o.points?(r=o.points[0],i=o.points[o.points.length-1]):(o.points=[],r=s,i=a),o.points.unshift(b.intersectRect(a,r)),o.points.push(b.intersectRect(s,i))})}function eM(e){e.edges().forEach(n=>{let r=e.edge(n);if(Object.hasOwn(r,"x"))switch(("l"===r.labelpos||"r"===r.labelpos)&&(r.width-=r.labeloffset),r.labelpos){case"l":r.x-=r.width/2+r.labeloffset;break;case"r":r.x+=r.width/2+r.labeloffset}})}function eP(e){e.edges().forEach(n=>{let r=e.edge(n);r.reversed&&r.points.reverse()})}function eD(e){e.nodes().forEach(n=>{if(e.children(n).length){let r=e.node(n),i=e.node(r.borderTop),o=e.node(r.borderBottom),a=e.node(r.borderLeft[r.borderLeft.length-1]),s=e.node(r.borderRight[r.borderRight.length-1]);r.width=Math.abs(s.x-a.x),r.height=Math.abs(o.y-i.y),r.x=a.x+r.width/2,r.y=i.y+r.height/2}}),e.nodes().forEach(n=>{"border"===e.node(n).dummy&&e.removeNode(n)})}function eI(e){e.edges().forEach(n=>{if(n.v===n.w){var r=e.node(n.v);!r.selfEdges&&(r.selfEdges=[]),r.selfEdges.push({e:n,label:e.edge(n)}),e.removeEdge(n)}})}function ej(e){b.buildLayerMatrix(e).forEach(n=>{var r=0;n.forEach((n,i)=>{var o=e.node(n);o.order=i+r,(o.selfEdges||[]).forEach(n=>{b.addDummyNode(e,"selfedge",{width:n.label.width,height:n.label.height,rank:o.rank,order:i+ ++r,e:n.e,label:n.label},"_se")}),delete o.selfEdges})})}function eN(e){e.nodes().forEach(n=>{var r=e.node(n);if("selfedge"===r.dummy){var i=e.node(r.e.v),o=i.x+i.width/2,a=i.y,s=r.x-o,l=i.height/2;e.setEdge(r.e,r.label),e.removeNode(n),r.label.points=[{x:o+2*s/3,y:a-l},{x:o+5*s/6,y:a-l},{x:o+s,y:a},{x:o+5*s/6,y:a+l},{x:o+2*s/3,y:a+l}],r.label.x=r.x,r.label.y=r.y}})}function eT(e,n){return b.mapValues(b.pick(e,n),Number)}function ek(e){var n={};return e&&Object.entries(e).forEach(([e,r])=>{"string"==typeof e&&(e=e.toLowerCase()),n[e]=r}),n}var eA={layout:function(e,n){let r=n&&n.debugTiming?b.time:b.notime;r("layout",()=>{let i=r("  buildLayoutGraph",()=>e_(e));r("  runLayout",()=>(function(e,n,r){n("    makeSpaceForEdgeLabels",()=>ew(e)),n("    removeSelfEdges",()=>eI(e)),n("    acyclic",()=>j.run(e)),n("    nestingGraph.run",()=>Z.run(e)),n("    rank",()=>K(b.asNonCompoundGraph(e))),n("    injectEdgeLabelProxies",()=>eE(e)),n("    removeEmptyRanks",()=>x(e)),n("    nestingGraph.cleanup",()=>Z.cleanup(e)),n("    normalizeRanks",()=>E(e)),n("    assignRankMinMax",()=>ex(e)),n("    removeEdgeLabelProxies",()=>eC(e)),n("    normalize.run",()=>N.run(e)),n("    parentDummyChains",()=>X(e)),n("    addBorderSegments",()=>Q(e)),n("    order",()=>ea(e,r)),n("    insertSelfEdges",()=>ej(e)),n("    adjustCoordinateSystem",()=>J.adjust(e)),n("    position",()=>ec(e)),n("    positionSelfEdges",()=>eN(e)),n("    removeBorderNodes",()=>eD(e)),n("    normalize.undo",()=>N.undo(e)),n("    fixupEdgeLabelCoords",()=>eM(e)),n("    undoCoordinateSystem",()=>J.undo(e)),n("    translateGraph",()=>eS(e)),n("    assignNodeIntersects",()=>eO(e)),n("    reversePoints",()=>eP(e)),n("    acyclic.undo",()=>j.undo(e))})(i,r,n)),r("  updateInputGraph",()=>ed(e,i))})},buildLayoutGraph:e_,updateInputGraph:ed,makeSpaceForEdgeLabels:ew,removeSelfEdges:eI,acyclic:j,nestingGraph:Z,rank:K,util:b,injectEdgeLabelProxies:eE,removeEmptyRanks:x,normalizeRanks:E,assignRankMinMax:ex,removeEdgeLabelProxies:eC,normalize:N,parentDummyChains:X,addBorderSegments:Q,order:ea,insertSelfEdges:ej,coordinateSystem:J,position:ec,positionSelfEdges:eN,removeBorderNodes:eD,fixupEdgeLabelCoords:eM,translateGraph:eS,assignNodeIntersects:eO,reversePointsForReversedEdges:eP},eR=class{constructor(){this.init=!1}get initialized(){return this.init}getNode(e){return this.store.nodes.get(e)}getNodeByIndex(e){let n=this.indexMap.get(e);return n?this.getNode(n):void 0}getEdge(e){return this.store.edges.get(e)}get nodes(){return Array.from(this.store.nodes.values())}get edges(){return Array.from(this.store.edges.values())}create(e){this.store=this.createStore(e),this.indexMap=this.createIndexMap(),this.init=!0}createStore(e){let{nodes:n,edges:r}=e,i={nodes:new Map,edges:new Map};return n.forEach((e,n)=>{let{bounds:r}=e.getData(l.FlowNodeTransformData),o={id:e.id,entity:e,index:"",rank:-1,order:-1,position:{x:r.center.x,y:r.center.y},offset:{x:0,y:0},size:{width:r.width,height:r.height},hasChildren:e.collapsedChildren?.length>0};i.nodes.set(o.id,o)}),r.forEach(e=>{let{from:n,to:r}=e.info;if(!n||!r||e.vertical)return;let o={id:e.id,entity:e,from:n,to:r,fromIndex:"",toIndex:"",name:e.id};i.edges.set(o.id,o)}),i}createIndexMap(){let e=this.sortNodes(),n=new Map;e.forEach((e,r)=>{let i=this.getNode(e);if(!i)return;let o=String(1e5+r);n.set(i.id,o),i.index=o}),this.edges.forEach(e=>{let r=n.get(e.from),i=n.get(e.to);if(!r||!i){this.store.edges.delete(e.id);return}e.fromIndex=r,e.toIndex=i});let r=new Map;return n.forEach((e,n)=>{r.set(e,n)}),r}sortNodes(){let e=[];this.nodes.forEach(n=>{e.push(n.id)});let n=new Map;this.edges.forEach(r=>{if(e.push(r.to),r.entity.info.fromPort){let e=n.get(r.from)||[];n.set(r.from,[...e,r])}}),n.forEach((n,r)=>{let i=n.sort((e,n)=>{let r=e.entity.fromPort,i=n.entity.fromPort;return r&&i?r.point.y-i.point.y:0});i.forEach(n=>{e.push(n.to)})});let r=e.reduceRight((e,n)=>(!e.includes(n)&&e.unshift(n),e),[]);return r}},eL=class{constructor(e){this.store=e}async position(){return new Promise(e=>{(0,o.startTween)({from:{d:0},to:{d:100},duration:300,onUpdate:e=>{this.store.nodes.forEach(n=>{this.updateNodePosition({layoutNode:n,step:e.d})})},onComplete:()=>{e()}})})}updateNodePosition(e){let{layoutNode:n,step:r}=e,i=n.entity.getData(o.TransformData),a={x:n.position.x+n.offset.x,y:n.position.y+n.offset.y},s=(a.x-i.position.x)*r/100,u=(a.y-i.bounds.height/2-i.position.y)*r/100;n.hasChildren&&n.entity.collapsedChildren.forEach(e=>{let n=e.getData(l.FlowNodeTransformData);n.fireChange()}),i.update({position:{x:i.position.x+s,y:i.position.y+u}})}},eF={rankdir:"LR",nodesep:100,ranksep:100,ranker:"network-simplex"},ez=class{constructor(e){this.store=e,this.graph=this.createGraph()}layout(){this.graphSetData(),this.dagreLayout(),this.layoutSetPosition()}dagreLayout(){let e=eA.buildLayoutGraph(this.graph);this.runLayout(e),eA.updateInputGraph(this.graph,e)}runLayout(e){eA.makeSpaceForEdgeLabels(e),eA.removeSelfEdges(e),eA.acyclic.run(e),eA.nestingGraph.run(e),eA.rank(eA.util.asNonCompoundGraph(e)),eA.injectEdgeLabelProxies(e),eA.removeEmptyRanks(e),eA.nestingGraph.cleanup(e),eA.normalizeRanks(e),eA.assignRankMinMax(e),eA.removeEdgeLabelProxies(e),eA.normalize.run(e),eA.parentDummyChains(e),eA.addBorderSegments(e),eA.order(e),this.setOrderAndRank(e),eA.insertSelfEdges(e),eA.coordinateSystem.adjust(e),eA.position(e),eA.positionSelfEdges(e),eA.removeBorderNodes(e),eA.normalize.undo(e),eA.fixupEdgeLabelCoords(e),eA.coordinateSystem.undo(e),eA.translateGraph(e),eA.assignNodeIntersects(e),eA.reversePointsForReversedEdges(e),eA.acyclic.undo(e)}createGraph(){let e=new i.Graph({multigraph:!0});return e.setDefaultEdgeLabel(()=>({})),e.setGraph(eF),e}graphSetData(){let e=Array.from(this.store.nodes.values()),n=Array.from(this.store.edges.values()).sort((e,n)=>e.fromIndex===n.fromIndex?e.toIndex<n.toIndex?-1:1:e.fromIndex<n.fromIndex?-1:1);e.forEach(e=>{this.graph.setNode(e.index,{originID:e.id,width:e.size.width,height:e.size.height})}),n.forEach(e=>{this.graph.setEdge({v:e.fromIndex,w:e.toIndex,name:e.name})})}layoutSetPosition(){this.store.nodes.forEach(e=>{let n=this.getOffsetX(e),r=this.graph.node(e.index);if(!r){e.rank=-1,e.position={x:e.position.x+n,y:e.position.y};return}e.rank=r.rank??-1,e.position={x:this.normalizeNumber(r.x)+n,y:this.normalizeNumber(r.y)}})}normalizeNumber(e){return Number.isNaN(e)?0:e}getOffsetX(e){if(!e.hasChildren)return 0;let n=e.entity.getData(l.FlowNodeTransformData),{bounds:r,padding:i}=n,o=-r.width/2+i.left;return o}setOrderAndRank(e){return this.followAdjust(e),this.normalizeOrder(e),e}followAdjust(e){let n=this.rankGroup(e);e.nodes().forEach(r=>{let i=e.node(r),o=this.store.getNodeByIndex(r);if(!i||!o?.followedBy)return;let{followedBy:a}=o,{rank:s,order:l}=i,u=a.map(e=>this.store.getNode(e)?.index).filter(Boolean),c=new Set(u),d=n.get(s);if(!d)return;let h=Array.from(d).filter(n=>{if(c.has(n))return!1;let r=e.node(n);return r.order>l});h.forEach(n=>{let r=e.node(n);r.order=r.order+a.length}),u.forEach((r,i)=>{let o=e.node(r);o.order=l+i+1;let a=o.rank;o.rank=s,n.get(a)?.delete(r),n.get(s)?.add(r)})})}normalizeOrder(e){let n=this.rankGroup(e);n.forEach((n,r)=>{let i=Array.from(n).map(n=>e.node(n));i.sort((e,n)=>e.order-n.order),i.forEach((e,n)=>{e.order=n})})}rankGroup(e){let n=new Map;return e.nodes().forEach(r=>{let i=e.node(r),o=i.rank;!n.has(o)&&n.set(o,new Set),n.get(o)?.add(r)}),n}},eB=class{constructor(){this._store=new eR,this._layout=new ez(this._store),this._position=new eL(this._store)}init(e,n={}){this._store.create(e),this.setFollowNode(n.getFollowNode)}layout(){this._store.initialized&&this._layout.layout()}async position(){if(this._store.initialized)return await this._position.position()}setFollowNode(e){if(!e)return;let n={store:this._store};this._store.nodes.forEach(r=>{let i=e(r,n)?.followTo;if(!i)return;let o=this._store.getNode(i);o&&(!o.followedBy&&(o.followedBy=[]),o.followedBy.push(r.id),r.followTo=i)})}},eV=class{async layout(e={}){await this.layoutNode(this.document.root,e)}async layoutNode(e,n){let r=e.collapsedChildren;if(!r||!Array.isArray(r)||!r.length)return;let i=e.collapsedChildren.map(e=>{let n=e.getData(s.WorkflowNodeLinesData);return n.outputLines.filter(Boolean)}).flat();await Promise.all(r.map(async e=>this.layoutNode(e,n)));let o=new eB;o.init({nodes:r,edges:i},n),o.layout(),await o.position()}};d([(0,a.inject)(s.WorkflowDocument)],eV.prototype,"document",2),eV=d([(0,a.injectable)()],eV);var e$=(0,o.definePluginCreator)({onBind:({bind:e})=>{e(eV).toSelf().inSingletonScope()}})},57954:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{FreeHistoryConfig:function(){return _},FreeHistoryRegisters:function(){return A},FreeOperationType:function(){return m},createFreeHistoryPlugin:function(){return L}});var i,o=r("93665"),a=r.es(r("90670"),n),s=r("53168"),l=r("91516"),u=r("85870"),c=r("41474"),d=r("69540"),h=r("97752");r("56144");var f=Object.defineProperty,p=Object.getOwnPropertyDescriptor,g=(e,n,r,i)=>{for(var o=i>1?void 0:i?p(n,r):n,a,s=e.length-1;s>=0;s--)(a=e[s])&&(o=(i?a(n,r,o):a(o))||o);return i&&o&&f(n,r,o),o},y=class{constructor(){this._entityDataValues=new Map,this._toDispose=new u.DisposableCollection}addEntityData(e){this._entityDataValues.set(e,(0,s.cloneDeep)(e.toJSON())),this._toDispose.push(e.onWillChange(n=>{let r=n.toJSON(),i=this._entityDataValues.get(e);!(0,s.isEqual)(r,i)&&this._entityDataValues.set(e,(0,s.cloneDeep)(r))}))}getValue(e){return this._entityDataValues.get(e)}setValue(e,n){return this._entityDataValues.set(e,n)}dispose(){this._entityDataValues.clear(),this._toDispose.dispose()}};y=g([(0,l.injectable)()],y);var m=((i=m||{}).addLine="addLine",i.deleteLine="deleteLine",i.moveNode="moveNode",i.addNode="addNode",i.deleteNode="deleteNode",i.changeNodeData="changeNodeData",i.resetLayout="resetLayout",i.dragNodes="dragNodes",i),b=class{handle(e){"onDragEnd"===e.type&&!e.altKey&&this._dragNode(e)}_dragNode(e){this._historyService.pushOperation({type:"dragNodes",value:{ids:e.nodes.map(e=>e.id),value:e.nodes.map(e=>{let{x:n,y:r}=e.getData(o.TransformData).position;return{x:n,y:r}}),oldValue:e.startPositions}},{noApply:!0})}};g([(0,l.inject)(a.HistoryService)],b.prototype,"_historyService",2),b=g([(0,l.injectable)()],b);var _=class{constructor(){this.enable=!1,this.nodeToJSON=e=>e.toJSON(),this.getNodeLabelById=e=>e,this.getNodeLabel=e=>e.id,this.getBlockLabel=e=>e.id,this.getNodeURI=e=>`node:${e}`,this.getLineURI=e=>`line:${e}`}init(e,n){this.enable=!!n?.enable,n.nodeToJSON&&(this.nodeToJSON=n.nodeToJSON(e)),n.getNodeLabelById&&(this.getNodeLabelById=n.getNodeLabelById(e)),n.getNodeLabel&&(this.getNodeLabel=n.getNodeLabel(e)),n.getBlockLabel&&(this.getBlockLabel=n.getBlockLabel(e)),n.getNodeURI&&(this.getNodeURI=n.getNodeURI(e)),n.getLineURI&&(this.getLineURI=n.getLineURI(e))}};_=g([(0,l.injectable)()],_);var w=class{handle(e){let{path:n,value:r,initialized:i,node:o}=e,a=o.getData(c.FlowNodeFormData),l=this._entityManager.getValue(a),u=n.split("/").filter(Boolean).join("."),d=u?(0,s.get)(l,u):l;if(!(0,s.isEqual)(r,d)){if(i){let e=n,i=(0,s.cloneDeep)(r),a=d;if("/"!==n){let o=(0,s.cloneDeep)(l);(0,s.set)(o,u,r),e=n.split("/").filter(Boolean)[0],i=(0,s.get)(o,e),a=(0,s.get)(l,e)}this._historyService.pushOperation({type:"changeNodeData",value:{id:o.id,path:e,value:i,oldValue:a},uri:this._config.getNodeURI(o.id)},{noApply:!0})}u?(0,s.set)(l,u,(0,s.cloneDeep)(r)):this._entityManager.setValue(a,(0,s.cloneDeep)(r))}}};g([(0,l.inject)(a.HistoryService)],w.prototype,"_historyService",2),g([(0,l.inject)(d.WorkflowDocument)],w.prototype,"document",2),g([(0,l.inject)(y)],w.prototype,"_entityManager",2),g([(0,l.inject)(_)],w.prototype,"_config",2),w=g([(0,l.injectable)()],w);var E={type:d.WorkflowContentChangeType.DELETE_NODE,toOperation:async(e,n)=>{let r=n.get(_),i=n.get(d.WorkflowDocument),o=e.entity,a=await i.toNodeJSON(o),s=o.parent?.id;return await (0,d.delay)(0),{type:"deleteNode",value:{node:a,parentID:s},uri:r.getNodeURI(o.id)}}},x={type:d.WorkflowContentChangeType.DELETE_LINE,toOperation:(e,n)=>{let r=n.get(_),i=e.entity,o={from:i.info.from,to:i.info.to||"",fromPort:i.info.fromPort||"",toPort:i.info.toPort||"",id:i.id};return{type:"deleteLine",value:o,uri:r.getNodeURI(i.id)}}},C={type:d.WorkflowContentChangeType.ADD_NODE,toOperation:async(e,n)=>{let r=n.get(_),i=n.get(d.WorkflowDocument),o=e.entity,a=o.parent?.id;await (0,d.delay)(10);let s=await i.toNodeJSON(o);return{type:"addNode",value:{node:s,parentID:a},uri:r.getNodeURI(o.id)}}},S=[{type:d.WorkflowContentChangeType.ADD_LINE,toOperation:(e,n)=>{let r=n.get(_),i=e.entity,o={from:i.info.from,to:i.info.to||"",fromPort:i.info.fromPort||"",toPort:i.info.toPort||"",id:i.id};return{type:"addLine",value:o,uri:r.getLineURI(i.id)}}},x,C,E],O=class{async handle(e,n){if(!this._historyService.undoRedoService.canPush())return;let r=S.find(n=>n.type===e.type);if(!r)return;let i=await r.toOperation(e,n);i&&this._historyService.pushOperation(i,{noApply:!0})}};g([(0,l.inject)(a.HistoryService)],O.prototype,"_historyService",2),O=g([(0,l.injectable)()],O);var M={shouldMerge:(e,n,r)=>!!n&&(!!(Date.now()-r.getTimestamp()<500)||!1)},P={...M,type:"resetLayout",inverse:e=>({...e,value:{...e.value,value:e.value.oldValue,oldValue:e.value.value}}),apply:async(e,n)=>{let r=n.get(d.WorkflowResetLayoutService);await r.layoutToPositions(e.value.ids,e.value.value)},shouldMerge:()=>!1},D={...M,type:"dragNodes",inverse:e=>({...e,value:{...e.value,value:e.value.oldValue,oldValue:e.value.value}}),apply:(e,n)=>{e.value.ids.forEach((r,i)=>{let a=n.get(d.WorkflowDocument),s=a.getNode(r);if(!s)return;let l=s.getData(o.TransformData),u=e.value.value[i];l.update({position:{x:u.x,y:u.y}}),s.collapsedChildren?.length>0&&s.collapsedChildren.forEach(e=>{let n=e.getData(h.FlowNodeTransformData);n.fireChange()})})},shouldMerge:()=>!1},I={...M,type:"deleteNode",inverse:e=>({...e,type:"addNode"}),apply:(e,n)=>{let r=n.get(d.WorkflowDocument),i=r.getNode(e.value.node.id);i&&i.dispose()},getLabel:(e,n)=>{let r=n.get(_);return`Delete Node ${r.getNodeLabel(e.value.node)}`},getDescription:(e,n)=>{let r=n.get(_),i=`Delete Node ${r.getNodeLabel(e.value.node)}`;return e.value.node.meta?.position&&(i+=` at ${e.value.node.meta.position.x},${e.value.node.meta.position.y}`),i}},j={...M,type:"deleteLine",inverse:e=>({...e,type:"addLine"}),apply:(e,n)=>{let r=n.get(d.WorkflowDocument);r.removeNode(e.value.id)},getLabel:(e,n)=>"Delete Line",getDescription:(e,n)=>{let r=n.get(_),{value:i}=e;if(!i.from||!i.to)return"Delete Line";let o=r.getNodeLabelById(i.from),a=r.getNodeLabelById(i.to);return`Delete Line from ${o} to ${a}`}},N={...M,type:"changeNodeData",inverse:e=>({...e,value:{...e.value,value:e.value.oldValue,oldValue:e.value.value}}),apply:(e,n)=>{let r=n.get(d.WorkflowDocument),i=r.getNode(e.value.id);if(!i)return;let o=i.getData(c.FlowNodeFormData);if(!o)return;let{path:a}=e.value;a.endsWith("/")&&"/"!==a&&(a=a.slice(0,-1)),!a.startsWith("/")&&(a=`/${a}`);let s=o.formModel.getFormItemByPath(a);s&&(s.value=e.value.value)},shouldMerge:(e,n,r)=>{if(!n)return!1;if(Date.now()-r.getTimestamp()<500)return e.type!==n.type||e.value.id!==n.value.id||e.value?.path!==n.value?.path||{type:e.type,value:{...e.value,value:e.value.value,oldValue:n.value.oldValue}};return!1}},T={...M,type:"addNode",inverse:e=>({...e,type:"deleteNode"}),apply:async(e,n)=>{let r=n.get(d.WorkflowDocument);await r.createWorkflowNode((0,s.cloneDeep)(e.value.node),!1,e.value.parentID)},getLabel:(e,n)=>{let r=n.get(_);return`Create Node ${r.getNodeLabel(e.value.node)}`},getDescription:(e,n)=>{let r=n.get(_),i=`Create Node ${r.getNodeLabel(e.value.node)}`;return e.value.node.meta?.position&&(i+=` at ${e.value.node.meta.position.x},${e.value.node.meta.position.y}`),i}},k=[{...M,type:"addLine",inverse:e=>({...e,type:"deleteLine"}),apply:(e,n)=>{let r=n.get(d.WorkflowLinesManager);r.createLine({...e.value,key:e.value.id})},getLabel:(e,n)=>"Create Line",getDescription:(e,n)=>{let r=n.get(_),{value:i}=e;if(!i.from||!i.to)return"Create Line";let o=r.getNodeLabelById(i.from),a=r.getNodeLabelById(i.to);return`Create Line from ${o} to ${a}`}},j,T,I,N,P,D],A=class{registerOperationMeta(e){k.forEach(n=>{e.registerOperationMeta(n)})}};A=g([(0,l.injectable)()],A);var R=class{constructor(){this._toDispose=new u.DisposableCollection}onInit(e,n){let r=e.get(d.WorkflowDocument),i=e.get(a.HistoryService),l=e.get(d.WorkflowDragService),u=e.get(d.WorkflowResetLayoutService);n?.limit&&i.limit(n.limit),i.context.source=e,this._toDispose.pushAll([l.onNodesDrag(async e=>{"onDragEnd"===e.type&&this._dragNodesHandler.handle(e)}),r.onNodeCreate(({node:e,data:n})=>{let r=e.getData(o.PositionData);r&&this._entityManager.addEntityData(r)}),this._formManager.onFormModelWillInit(({model:e,data:n})=>{let r=e.flowNodeEntity,i=r.getData(c.FlowNodeFormData);i&&(this._entityManager.setValue(i,(0,s.cloneDeep)(n)),this._toDispose.push(i.onDetailChange(e=>{this._changeNodeDataHandler.handle({...e,node:r})})))}),r.onContentChange(async n=>{await this._changeContentHandler.handle(n,e)}),r.onReload(e=>{i.clear()}),u.onResetLayout(e=>{i.pushOperation({type:"resetLayout",value:{ids:e.nodeIds,value:e.positionMap,oldValue:e.oldPositionMap}},{noApply:!0})})])}dispose(){this._entityManager.dispose(),this._toDispose.dispose()}};g([(0,l.inject)(b)],R.prototype,"_dragNodesHandler",2),g([(0,l.inject)(w)],R.prototype,"_changeNodeDataHandler",2),g([(0,l.inject)(O)],R.prototype,"_changeContentHandler",2),g([(0,l.inject)(y)],R.prototype,"_entityManager",2),g([(0,l.inject)(c.FormManager)],R.prototype,"_formManager",2),R=g([(0,l.injectable)()],R);var L=(0,o.definePluginCreator)({onBind:({bind:e})=>{(0,o.bindContributions)(e,A,[a.OperationContribution]),e(_).toSelf().inSingletonScope(),e(R).toSelf().inSingletonScope(),e(y).toSelf().inSingletonScope(),e(b).toSelf().inSingletonScope(),e(w).toSelf().inSingletonScope(),e(O).toSelf().inSingletonScope()},onInit(e,n){e.get(_).init(e,n),n.enable&&e.get(R).onInit(e,n)},onDispose(e){e.get(y).dispose()},containerModules:[a.HistoryContainerModule]})},23400:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"createFreeHoverPlugin",{enumerable:!0,get:function(){return g}});var i,o=r("93665"),a=r("91516"),s=r("30322"),l=r("97752"),u=r("69540"),c=r("85870"),d=Object.defineProperty,h=Object.getOwnPropertyDescriptor,f=(e,n,r,i)=>{for(var o=i>1?void 0:i?h(n,r):n,a,s=e.length-1;s>=0;s--)(a=e[s])&&(o=(i?a(n,r,o):a(o))||o);return i&&o&&d(n,r,o),o};(i||(i={})).DEFAULT={canHovered:()=>!0};var p=class extends o.Layer{constructor(){super(...arguments),this.nodeTransformsWithSort=[]}autorun(){let{activatedNode:e}=this.selectionService;this.nodeTransformsWithSort=this.nodeTransforms.filter(e=>"root"!==e.entity.id).reverse().sort(n=>n.entity===e?-1:0)}get isDrawing(){return this.linesManager.isDrawing}onReady(){this.options={...i.DEFAULT,...this.options},this.toDispose.pushAll([this.listenPlaygroundEvent("mousemove",e=>{if(this.hoverService.hoveredPos=this.config.getPosFromMouseEvent(e),!this.isEnabled()||!this.options.canHovered(e,this.hoverService))return;let n=this.config.getPosFromMouseEvent(e);this.updateHoveredState(n,e?.target)}),this.selectionService.onSelectionChanged(()=>this.autorun()),this.listenPlaygroundEvent("mousedown",e=>{if(!this.isEnabled()||this.isDrawing)return;let{hoveredNode:n}=this.hoverService;if(n&&n instanceof u.WorkflowLineEntity)return this.dragService.resetLine(n,e),!0;if(n&&n instanceof u.WorkflowPortEntity&&"input"!==n.portType&&!n.disabled&&1!==e.button)return e.stopPropagation(),e.preventDefault(),this.dragService.startDrawingLine(n,e),!0;let r=this.config.getPosFromMouseEvent(e),i=function(e,n){let r=e.filter(e=>e instanceof l.FlowNodeEntity);return!r?.length||n&&1===r.length&&r[0].childrenLength<=1?c.Rectangle.EMPTY:c.Rectangle.enlarge(r.map(e=>e.getData(l.FlowNodeTransformData).bounds)).pad(2)}(this.selectionService.selection,!0);if(i.width>0&&i.contains(r.x,r.y))return this.dragService.startDragSelectedNodes(e).then(r=>{!r&&(n&&n instanceof u.WorkflowNodeEntity?e.metaKey||e.shiftKey||e.ctrlKey?this.selectionService.toggleSelect(n):this.selectionService.selectNode(n):this.selectionService.clear())}),!0;!n&&this.selectionService.clear()})])}updateHoveredState(e,n){let{hoverService:r}=this,i=this.nodeTransformsWithSort,a=this.linesManager.getPortFromMousePos(e),s=this.playgroundNode.querySelectorAll(".gedit-flow-activity-line"),l=[...s].some(e=>e.contains(n));if(a){if("output"===a.portType)r.updateHoveredKey(a.id);else if(l||n?.className?.includes?.("workflow-port-bg")){let n=this.linesManager.getCloseInLineFromMousePos(e);n&&this.updateHoveredKey(n.id)}return}if(this.isDrawing)return;let u=i.find(n=>n.bounds.contains(e.x,e.y))?.entity,c=this.playgroundNode.querySelectorAll(".gedit-flow-activity-node"),d=[...c].some(e=>e.contains(n));(u||d)&&u?.id&&this.updateHoveredKey(u.id);let h=!!(u?.parent&&"root"!==u.parent.flowNodeType),f=l?this.linesManager.getCloseInLineFromMousePos(e):void 0,p=!!f?.inContainer;if(u&&h){this.updateHoveredKey(u.id);return}if(f&&p){this.updateHoveredKey(f.id);return}if(u){this.updateHoveredKey(u.id);return}if(f){this.hoverService.updateHoveredKey(f.id);return}r.clearHovered();let g=this.editorStateConfig.getCurrentState(),y=g===o.EditorState.STATE_MOUSE_FRIENDLY_SELECT;y&&!this.editorStateConfig.isPressingShift&&this.configEntity.updateCursor("grab")}updateHoveredKey(e){this.configEntity.updateCursor("default"),this.hoverService.updateHoveredKey(e)}isEnabled(){let e=this.editorStateConfig.getCurrentState();return(e===o.EditorState.STATE_SELECT||e===o.EditorState.STATE_MOUSE_FRIENDLY_SELECT)&&!this.selectorBoxConfigEntity.isStart&&!this.dragService.isDragging}};p.type="HoverLayer",f([(0,a.inject)(u.WorkflowDocument)],p.prototype,"document",2),f([(0,a.inject)(u.WorkflowSelectService)],p.prototype,"selectionService",2),f([(0,a.inject)(u.WorkflowDragService)],p.prototype,"dragService",2),f([(0,a.inject)(u.WorkflowHoverService)],p.prototype,"hoverService",2),f([(0,a.inject)(u.WorkflowLinesManager)],p.prototype,"linesManager",2),f([(0,o.observeEntity)(o.EditorStateConfigEntity)],p.prototype,"editorStateConfig",2),f([(0,o.observeEntity)(s.SelectorBoxConfigEntity)],p.prototype,"selectorBoxConfigEntity",2),f([(0,a.inject)(o.PlaygroundConfigEntity)],p.prototype,"configEntity",2),f([(0,o.observeEntityDatas)(u.WorkflowNodeEntity,l.FlowNodeTransformData)],p.prototype,"nodeTransforms",2),f([(0,o.observeEntities)(u.WorkflowLineEntity)],p.prototype,"lines",2),p=f([(0,a.injectable)()],p);var g=(0,o.definePluginCreator)({onInit(e){e.playground.registerLayer(p)}})},34556:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"URLParams",{enumerable:!0,get:function(){return i}});var i=Symbol("")},35329:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"__decorateClass",{enumerable:!0,get:function(){return a}});var i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=(e,n,r,a)=>{for(var s=a>1?void 0:a?o(n,r):n,l,u=e.length-1;u>=0;u--)(l=e[u])&&(s=(a?l(n,r,s):l(s))||s);return a&&s&&i(n,r,s),s}},10736:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"WorkflowContentChangeType",{enumerable:!0,get:function(){return o}});var i,o=((i=o||{}).ADD_NODE="ADD_NODE",i.DELETE_NODE="DELETE_NODE",i.MOVE_NODE="MOVE_NODE",i.NODE_DATA_CHANGE="NODE_DATA_CHANGE",i.ADD_LINE="ADD_LINE",i.DELETE_LINE="DELETE_LINE",i.META_CHANGE="META_CHANGE",i)},17368:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{LineType:function(){return a},LineColors:function(){return s}});var i,o,a=((i=a||{})[i.BEZIER=0]="BEZIER",i[i.LINE_CHART=1]="LINE_CHART",i);var s=((o=s||{}).HIDDEN="transparent",o.DEFUALT="#4d53e8",o.DRAWING="#5DD6E3",o.HOVER="#37d0ff",o.ERROR="red",o)},69540:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{EditorCursorState:function(){return er},InteractiveType:function(){return ei},LINE_HOVER_DISTANCE:function(){return R},LineColors:function(){return u.LineColors},LineType:function(){return u.LineType},POINT_RADIUS:function(){return L},PORT_SIZE:function(){return I},WORKFLOW_LINE_ENTITY:function(){return M},WorkflowCommands:function(){return E},WorkflowContentChangeType:function(){return l.WorkflowContentChangeType},WorkflowDocument:function(){return X},WorkflowDocumentContainerModule:function(){return ea},WorkflowDocumentOptions:function(){return $},WorkflowDocumentOptionsDefault:function(){return U},WorkflowDocumentProvider:function(){return Y},WorkflowDragService:function(){return Q},WorkflowHoverService:function(){return V},WorkflowLineEntity:function(){return z},WorkflowLineRenderData:function(){return A},WorkflowLinesManager:function(){return H},WorkflowNodeEntity:function(){return D},WorkflowNodeLinesData:function(){return k},WorkflowNodePortsData:function(){return N},WorkflowPortEntity:function(){return j},WorkflowResetLayoutService:function(){return J},WorkflowSelectService:function(){return B},delay:function(){return m.delay},domReactToBounds:function(){return P},fitView:function(){return C},getAntiOverlapPosition:function(){return S},getPortEntityId:function(){return O},nanoid:function(){return x},useNodeRender:function(){return en},usePlayground:function(){return d.usePlayground},usePlaygroundContainer:function(){return d.usePlaygroundContainer},usePlaygroundReadonlyState:function(){return ee},useService:function(){return d.useService}});var i,o,a,s=r("34556"),l=r("10736"),u=r("17368"),c=r("35329"),d=r("93665"),h=r("56144"),f=r("23552"),p=r("62483"),g=r("97752"),y=r("91516"),m=r("85870"),b=r("57254"),_=r("96006"),w=r("41474");var E=((i=E||{}).DELETE_NODES="DELETE_NODES",i.COPY_NODES="COPY_NODES",i.PASTE_NODES="PASTE_NODES",i.ZOOM_IN="ZOOM_IN",i.ZOOM_OUT="ZOOM_OUT",i.UNDO="UNDO",i.REDO="REDO",i);function x(e){return(0,b.nanoid)(e)}var C=(e,n,r=!0)=>{let i=m.Rectangle.enlarge(e.getAllNodes().map(e=>e.getData(d.TransformData).bounds));return n.fitView(i,r,30)};function S(e,n,r){let{x:i,y:o}=n,a=r?r.collapsedChildren:e.getAllNodes(),s=a.map(e=>{let n=e.getData(d.TransformData);return{x:n.position.x,y:n.position.y}}).sort((e,n)=>e.y-n.y);for(let e of s){let{x:n,y:r}=e;if(o-r<-3)break;let a=Math.abs(i-n),s=Math.abs(o-r);a<=3&&s<=3&&(i+=30,o+=30)}return{x:i,y:o}}var O=(e,n,r="")=>`port_${n}_${e.id}_${r}`,M="WorkflowLineEntity";function P(e){return new m.Rectangle(e.x,e.y,e.width,e.height)}var D=g.FlowNodeEntity,I=24,j=class extends d.Entity{constructor(e){super(e),this.portID="",this._disabled=!1,this._hasError=!1,this._onErrorChangedEmitter=new m.Emitter,this.onErrorChanged=this._onErrorChangedEmitter.event,this.portID=e.portID||"",this.portType=e.type,this._disabled=e.disabled??!1,this.node=e.node,this.updateTargetElement(e.targetElement),this.toDispose.push(this.node.getData(d.TransformData).onDataChange(()=>this.fireChange())),this.toDispose.push(this.node.onDispose(this.dispose.bind(this)))}static getPortEntityId(e,n,r=""){return O(e,n,r)}get hasError(){return this._hasError}set hasError(e){this._hasError=e,this._onErrorChangedEmitter.fire()}validate(){let e=this.allLines.some(e=>!e.disposed&&!e.isHidden&&(e.validateSelf(),e.hasError)),n=this.node.document.isErrorPort(this);this.hasError=e||n}isErrorPort(){return this.node.document.isErrorPort(this)}get point(){let{targetElement:e}=this,{bounds:n}=this.node.getData(d.TransformData);if(e){let n=P(e.getBoundingClientRect()).center;return this.entityManager.getEntity(d.PlaygroundConfigEntity).getPosFromMouseEvent({clientX:n.x,clientY:n.y})}return"input"===this.portType?n.leftCenter:n.rightCenter}get bounds(){let{point:e}=this,n=I/2;return new m.Rectangle(e.x-n,e.y-n,I,I)}isHovered(e,n){return this.bounds.contains(e,n)}get relativePosition(){let{point:e}=this,{bounds:n}=this.node.getData(d.TransformData);return{x:e.x-n.x,y:e.y-n.y}}updateTargetElement(e){e!==this.targetElement&&(this.targetElement=e,this.fireChange())}get disabled(){let e=this.node.document;if("function"==typeof e.options.isDisabledPort)return e.options.isDisabledPort(this);if(this._disabled)return!0;let n=this.node.getNodeMeta();return"input"===this.portType?!!n.inputDisable:!!n.outputDisable}get lines(){return this.allLines.filter(e=>!e.isDrawing)}get allLines(){let e=[],n=this.entityManager.getEntities({type:M});return n.forEach(n=>{(n.toPort===this||n.fromPort===this)&&e.push(n)}),e}dispose(){this.lines.forEach(e=>e.dispose()),super.dispose()}};j.type="WorkflowPortEntity";var N=class extends d.EntityData{constructor(e){super(e),this._staticPorts=[],this._portIDSet=new Set,this.entity=e;let n=e.getNodeMeta(),r=n.useDynamicPort?[]:[{type:"input"},{type:"output"}];this._staticPorts=n.defaultPorts?.slice()||r,this.updatePorts(this._staticPorts),n.useDynamicPort&&this.toDispose.push(e.getData(d.SizeData).onDataChange(()=>{e.getData(d.SizeData).width&&e.getData(d.SizeData).height&&this.updateDynamicPorts()})),this.onDispose(()=>{this.allPorts.forEach(e=>e.dispose())})}getDefaultData(){return{}}updateStaticPorts(e){let n=this.entity.getNodeMeta();this._staticPorts=e,n.useDynamicPort?this.updateDynamicPorts():this.updatePorts(this._staticPorts)}updateDynamicPorts(){let e=this.entity.getData(g.FlowNodeRenderData).node,n=e.querySelectorAll("[data-port-id]"),r=this._staticPorts,i=[];n.length>0&&i.push(...Array.from(n).map(e=>({portID:e.getAttribute("data-port-id"),type:e.getAttribute("data-port-type"),targetElement:e}))),this.updatePorts(r.concat(i))}getPortEntityByKey(e,n){let r=this.getOrCreatePortEntity({type:e,portID:n});return r}updatePorts(e){if(!(0,_.isEqual)(this._prePorts,e)){let n=e.map(e=>this.getPortId(e.type,e.portID));this._portIDSet.forEach(e=>{!n.includes(e)&&this.getPortEntity(e)?.dispose()}),e.forEach(e=>this.updatePortEntity(e)),this._prePorts=e,this.fireChange()}this.allPorts.forEach(e=>{e.allLines.forEach(e=>{e.validate()}),e.validate()})}get allPorts(){return Array.from(this._portIDSet).map(e=>this.getPortEntity(e)).filter(Boolean)}get inputPorts(){return this.allPorts.filter(e=>"input"===e.portType)}get outputPorts(){return this.allPorts.filter(e=>"output"===e.portType)}get inputPoints(){return this.inputPorts.map(e=>e.point)}get outputPoints(){return this.inputPorts.map(e=>e.point)}getInputPoint(e){return this.getPortEntityByKey("input",e).point}getOutputPoint(e){return this.getPortEntityByKey("output",e).point}getPortEntity(e){if(this._portIDSet.has(e))return this.entity.entityManager.getEntityById(e)}getPortId(e,n=""){return O(this.entity,e,n)}createPortEntity(e){let n=this.getPortId(e.type,e.portID),r=this.entity.entityManager.getEntityById(n);return!r&&(r=this.entity.entityManager.createEntity(j,{id:n,node:this.entity,...e})),r.onDispose(()=>{this._portIDSet.delete(n)}),this._portIDSet.add(n),r}getOrCreatePortEntity(e){let n=this.getPortId(e.type,e.portID);return this.getPortEntity(n)??this.createPortEntity(e)}updatePortEntity(e){let n=this.getOrCreatePortEntity(e);return e.targetElement&&n.updateTargetElement(e.targetElement),n}};N.type="WorkflowNodePortsData";var T=class e extends d.EntityData{getDefaultData(){return{inputLines:[],outputLines:[]}}constructor(e){super(e),this.entity=e,this.toDispose.push(m.Disposable.create(()=>{this.inputLines.slice().forEach(e=>e.dispose()),this.outputLines.slice().forEach(e=>e.dispose())}))}get inputLines(){return this.data.inputLines}get outputLines(){return this.data.outputLines}get inputNodes(){return this.inputLines.map(e=>e.from).filter(Boolean)}get allInputNodes(){let n=new Set,r=i=>{if(n.has(i))return;n.add(i);let{inputNodes:o}=i.getData(e);o&&o.length&&o.forEach(e=>{e?.parent!==i&&i?.parent!==e&&r(e)})};return r(this.entity),n.delete(this.entity),Array.from(n)}get outputNodes(){return this.outputLines.map(e=>e.to).filter(Boolean)}get allOutputNodes(){let n=new Set,r=i=>{if(n.has(i))return;n.add(i);let{outputNodes:o}=i.getData(e);o&&o.length&&o.forEach(e=>{e?.parent!==i&&i?.parent!==e&&r(e)})};return r(this.entity),n.delete(this.entity),Array.from(n)}addLine(e){e.from===this.entity?this.outputLines.push(e):this.inputLines.push(e),this.fireChange()}removeLine(e){let{inputLines:n,outputLines:r}=this,i=n.indexOf(e),o=r.indexOf(e);-1!==i&&(n.splice(i,1),this.fireChange()),-1!==o&&(r.splice(o,1),this.fireChange())}};T.type="WorkflowNodeLinesData";var k=T,A=class extends d.EntityData{constructor(e){super(e),this.syncContributions()}getDefaultData(){return{version:"",contributions:new Map,position:{from:{x:0,y:0},to:{x:0,y:0}}}}get renderVersion(){return this.data.version}get position(){return this.data.position}get path(){return this.currentLine?.path??""}calcDistance(e){return this.currentLine?.calcDistance(e)??Number.MAX_SAFE_INTEGER}get bounds(){return this.currentLine?.bounds??new m.Rectangle}update(){this.syncContributions();let e=this.data.version;this.updatePosition();let n=this.data.version;e!==n&&(this.data.version=n,this.currentLine?.update({fromPos:this.data.position.from,toPos:this.data.position.to}))}get lineType(){return this.entity.renderType??this.entity.linesManager.lineType}updatePosition(){this.data.position.from=this.entity.from.getData(N).getOutputPoint(this.entity.info.fromPort),this.data.position.to=this.entity.info.drawingTo??this.entity.to?.getData(N)?.getInputPoint(this.entity.info.toPort)??{x:this.data.position.from.x,y:this.data.position.from.y},this.data.version=[this.lineType,this.data.position.from.x,this.data.position.from.y,this.data.position.to.x,this.data.position.to.y].join("-")}get currentLine(){return this.data.contributions.get(this.lineType)}syncContributions(){this.entity.linesManager.contributionFactories.length!==this.data.contributions.size&&this.entity.linesManager.contributionFactories.forEach(e=>{this.registerContribution(e)})}registerContribution(e){if(this.data.contributions.has(e.type))return;let n=new e(this.entity);this.data.contributions.set(e.type,n)}};A.type="WorkflowLineRenderData";var R=8,L=10,F=class e extends d.Entity{constructor(e){super(e),this._processing=!1,this._hasError=!1,this.info={from:""},this.document=e.document,this.linesManager=e.linesManager,this.initInfo({from:e.from,to:e.to,drawingTo:e.drawingTo,fromPort:e.fromPort,toPort:e.toPort}),e.drawingTo&&(this.isDrawing=!0)}static portInfoToLineId(e){let{from:n,to:r,fromPort:i,toPort:o}=e;return`${n}_${i||""}-${r||""}_${o||""}`}get from(){return this._from}get to(){return this._to}get isHidden(){return this.highlightColor===this.linesManager.lineColor.hidden}get inContainer(){let e=e=>!!e?.parent&&"root"!==e.parent.flowNodeType;return e(this.from)||e(this.to)}get processing(){return this._processing}set processing(e){this._processing!==e&&(this._processing=e,this.fireChange())}get hasError(){return this._hasError}set hasError(e){this._hasError!==e&&(this._hasError=e,this.fireChange()),this._node&&(this._node.dataset.hasError=this.hasError?"true":"false")}setToPort(e){if(!this.isDrawing)throw Error("[setToPort] only support drawing line.");if(this.toPort!==e){if(e&&"input"===e.portType&&this.linesManager.canAddLine(this.fromPort,e,!0)){let{node:n,portID:r}=e;this._to=n,this.info.drawingTo=void 0,this.info.isDefaultLine=!1,this.info.to=n.id,this.info.toPort=r}else this._to=void 0,this.info.to=void 0,this.info.toPort="";this.fireChange()}}set drawingTo(e){let n=this.info.drawingTo;if(!e){this.info.drawingTo=void 0,this.fireChange();return}(!n||e.x!==n.x||e.y!==n.y)&&(this.info.to=void 0,this.info.isDefaultLine=!1,this.info.drawingTo=e,this.fireChange())}get drawingTo(){return this.info.drawingTo}get highlightColor(){return this.info.highlightColor||""}set highlightColor(e){this.info.highlightColor!==e&&(this.info.highlightColor=e,this.fireChange())}get bounds(){return this.getData(A).bounds}getHoverDist(e){return this.getData(A).calcDistance(e)}get fromPort(){return this.from.getData(N).getPortEntityByKey("output",this.info.fromPort)}get toPort(){if(this.to)return this.to.getData(N).getPortEntityByKey("input",this.info.toPort)}get position(){return this.getData(A).position}get reverse(){return this.linesManager.isReverseLine(this)}get hideArrow(){return this.linesManager.isHideArrowLine(this)}get flowing(){return this.linesManager.isFlowingLine(this)}get disabled(){return this.linesManager.isDisabledLine(this)}get vertical(){return this.linesManager.isVerticalLine(this)}get renderType(){return this.linesManager.setLineRenderType(this)}get className(){return this.linesManager.setLineClassName(this)??""}get color(){return this.linesManager.getLineColor(this)}initInfo(e){!(0,_.isEqual)(e,this.info)&&(this.info=e,this._from=this.document.getNode(e.from),this._to=e.to?this.document.getNode(e.to):void 0,this.fireChange())}validate(){let{fromPort:e,toPort:n}=this;this.validateSelf(),e?.validate(),n?.validate()}validateSelf(){let{fromPort:e,toPort:n}=this;e&&(this.hasError=this.linesManager.isErrorLine(e,n))}is(n){return n instanceof e?this===n:e.portInfoToLineId(n)===this.id}canRemove(e){return this.linesManager.canRemove(this,e)}get node(){return this._node?this._node:(this._node=m.domUtils.createDivWithClass("gedit-flow-activity-line"),this._node.dataset.testid="sdk.workflow.canvas.line",this._node.dataset.lineId=this.id,this._node.dataset.fromNodeId=this.from.id,this._node.dataset.fromPortId=this.fromPort?.id??"",this._node.dataset.toNodeId=this.to?.id??"",this._node.dataset.toPortId=this.toPort?.id??"",this._node.dataset.hasError=this.hasError?"true":"false",this._node)}toJSON(){let e={sourceNodeID:this.info.from,targetNodeID:this.info.to,sourcePortID:this.info.fromPort,targetPortID:this.info.toPort};return!e.sourcePortID&&delete e.sourcePortID,!e.targetPortID&&delete e.targetPortID,e}fireRender(){this.fireChange()}};F.type=M;var z=F,B=class{get onSelectionChanged(){return this.selectionService.onSelectionChanged}get selection(){return this.selectionService.selection}set selection(e){this.selectionService.selection=e}get activatedNode(){let{selectedNodes:e}=this;if(1===e.length)return e[0]}isSelected(e){return this.selectionService.selection.some(n=>n.id===e)}isActivated(e){return this.activatedNode?.id===e}get selectedNodes(){return this.selectionService.selection.filter(e=>e instanceof D)}selectNode(e){this.selectionService.selection=[e]}toggleSelect(e){this.selectionService.selection.includes(e)?this.selectionService.selection=this.selectionService.selection.filter(n=>n!==e):this.selectionService.selection=this.selectionService.selection.concat(e)}select(e){this.selectionService.selection=[e]}clear(){this.selectionService.selection=[]}async selectNodeAndScrollToView(e,n){this.selectNodeAndFocus(e);await (0,m.delay)(30);let r={entities:[e]};if(n){let n=m.Rectangle.enlarge([e.getData(d.TransformData).bounds]).pad(30,30),i=this.playground.config.getViewport(!1),o=m.SizeSchema.fixSize(n,i);r.zoom=o,r.scrollToCenter=!0,r.easing=!0}return this.playground.config.scrollToView(r)}selectNodeAndFocus(e){this.select(e),this.playground.node.focus()}};(0,c.__decorateClass)([(0,y.inject)(d.SelectionService)],B.prototype,"selectionService",2),(0,c.__decorateClass)([(0,y.inject)(d.Playground)],B.prototype,"playground",2),B=(0,c.__decorateClass)([(0,y.injectable)()],B);var V=class{constructor(){this.onHoveredChangeEmitter=new m.Emitter,this.onHoveredChange=this.onHoveredChangeEmitter.event,this.hoveredPos={x:0,y:0},this.hoveredKey=""}updateHoveredKey(e){this.hoveredKey!==e&&(this.hoveredKey=e,this.onHoveredChangeEmitter.fire(e))}clearHovered(){this.updateHoveredKey("")}isHovered(e){return e===this.hoveredKey}isSomeHovered(){return!!this.hoveredKey}get hoveredNode(){return this.entityManager.getEntityById(this.hoveredKey)}};(0,c.__decorateClass)([(0,y.inject)(d.EntityManager)],V.prototype,"entityManager",2),V=(0,c.__decorateClass)([(0,y.injectable)()],V);var $=Symbol("WorkflowDocumentOptions"),U={cursors:{grab:'url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjEiIHZpZXdCb3g9IjAgMCAyMCAyMSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMC40ODczIDIuNjIzNzhDOS45MDczMSAyLjYyMzc4IDkuNDM3MTMgMy4wOTM5NiA5LjQzNzEzIDMuNjczOTZWNS4xNDM3NkM5LjM5NDI4IDQuNDAyNzQgOC43Nzk3OCAzLjgxNTA0IDguMDI4MDIgMy44MTUwNEM3LjI0ODQ4IDMuODE1MDQgNi42MTY1MyA0LjQ0Njk5IDYuNjE2NTMgNS4yMjY1M1YxMS44Mjg5TDUuNjc0MTggMTEuMDA0OUM1LjE1NDg3IDEwLjU1MDkgNC40MDk1IDEwLjQ2MzYgMy43OTkzOCAxMC43ODU1TDMuNjk2OTQgMTAuODM5NkMzLjA2MjE3IDExLjE3NDUgMi45MjI2IDEyLjAyMjggMy40MTY2MiAxMi41NDM0TDcuMzM5NTkgMTYuNjc3NVYxNy4zMjU5QzcuMzM5NTkgMTcuNzg2MiA3LjcxMjY5IDE4LjE1OTMgOC4xNzI5MiAxOC4xNTkzSDEzLjgwODRDMTQuMjY4NyAxOC4xNTkzIDE0LjY0MTcgMTcuNzg2MiAxNC42NDE3IDE3LjMyNTlWMTYuNzkzNUMxNS44MDk0IDE1LjY0ODUgMTYuNDY3MyAxNC4wODE5IDE2LjQ2NzMgMTIuNDQ2NVYxMS40OTY3TDE2LjQ2NzEgNi42MzY4NUMxNi40NjcxIDUuOTU2MyAxNS45MTU0IDUuNDA0NjEgMTUuMjM0OCA1LjQwNDYxQzE0LjU1NDMgNS40MDQ2MSAxNC4wMDI2IDUuOTU2MyAxNC4wMDI2IDYuNjM2ODVMMTQuMDAyMSA1LjA0NzI4QzE0LjAwMjEgNC4zNjY3MyAxMy40NTA0IDMuODE1MDQgMTIuNzY5OCAzLjgxNTA0QzEyLjA4OTMgMy44MTUwNCAxMS41Mzc2IDQuMzY2NzMgMTEuNTM3NiA1LjA0NzI4TDExLjUzNzUgMy42NzM5NUMxMS41Mzc1IDMuMDkzOTYgMTEuMDY3MyAyLjYyMzc4IDEwLjQ4NzMgMi42MjM3OFoiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTAuNDg3NCAxLjM3NDAyQzExLjM2MTIgMS4zNzQwMiAxMi4xMjExIDEuODYxMTggMTIuNTEwNSAyLjU3ODY4QzEyLjU5NTggMi41Njk4MyAxMi42ODIzIDIuNTY1MjggMTIuNzcgMi41NjUyOEMxMy44Mjc4IDIuNTY1MjggMTQuNzMxMSAzLjIyNzAxIDE1LjA4ODUgNC4xNTkxMUMxNS4xMzcgNC4xNTYyOSAxNS4xODU4IDQuMTU0ODYgMTUuMjM1IDQuMTU0ODZDMTYuNjA1OSA0LjE1NDg2IDE3LjcxNzIgNS4yNjYxOSAxNy43MTcyIDYuNjM3MDlMMTcuNzE3NCAxMi40NDY3QzE3LjcxNzQgMTQuMjM1NSAxNy4wNjQ0IDE1Ljk1NTkgMTUuODkxOSAxNy4yOTA0VjE3LjMyNjJDMTUuODkxOSAxOC40NzY4IDE0Ljk1OTEgMTkuNDA5NSAxMy44MDg1IDE5LjQwOTVIOC4xNzMwNkM3LjAyMjQ3IDE5LjQwOTUgNi4wODk3MyAxOC40NzY4IDYuMDg5NzMgMTcuMzI2MlYxNy4xNzY0TDIuNTEwMDMgMTMuNDA0MUMxLjQ0NTk5IDEyLjI4MjggMS43NDY2IDEwLjQ1NTUgMy4xMTM3OSA5LjczNDI0TDMuMjE2MjQgOS42ODAxOUMzLjg5MTY4IDkuMzIzODMgNC42NjE4NSA5LjI1NDAxIDUuMzY2NjYgOS40NTE5OFY1LjIyNjc4QzUuMzY2NjYgMy43NTY4NyA2LjU1ODI2IDIuNTY1MjggOC4wMjgxNiAyLjU2NTI4QzguMTcyOTMgMi41NjUyOCA4LjMxNDk5IDIuNTc2ODQgOC40NTM0NyAyLjU5OTA3QzguODM5NDMgMS44NzA0MiA5LjYwNTQ2IDEuMzc0MDIgMTAuNDg3NCAxLjM3NDAyWk0xMi40NDc2IDMuODU3ODdWOS40NzY0NkMxMi40NDc2IDkuNzI4NTIgMTIuMjQzMyA5LjkzMjg1IDExLjk5MTMgOS45MzI4NUMxMS43MzkyIDkuOTMyODUgMTEuNTM0OSA5LjcyODUyIDExLjUzNDkgOS40NzY0NlYzLjc5NjU1QzExLjUzNDkgMy43Nzk1NiAxMS41MzU4IDMuNzYyNzcgMTEuNTM3NiAzLjc0NjI2VjMuNjc0MkMxMS41Mzc2IDMuNDMyODIgMTEuNDU2MiAzLjIxMDQ2IDExLjMxOTMgMy4wMzMwOUMxMS4xMjcyIDIuNzg0MjggMTAuODI2MSAyLjYyNDAyIDEwLjQ4NzQgMi42MjQwMkMxMC4xMjM4IDIuNjI0MDIgOS44MDMzMiAyLjgwODg2IDkuNjE0ODMgMy4wODk3QzkuNTAyNjkgMy4yNTY3OSA5LjQzNzI2IDMuNDU3ODUgOS40MzcyNiAzLjY3NDJWMy43ODU3M0M5LjQzNzM1IDMuNzg5MzMgOS40MzczOSAzLjc5Mjk0IDkuNDM3MzkgMy43OTY1NVY5LjkwMTdDOS40MzczOSAxMC4xNTM3IDkuMjMzMDYgMTAuMzU4MSA4Ljk4MTAxIDEwLjM1ODFDOC43Mjg5NSAxMC4zNTgxIDguNTI0NjIgMTAuMTUzNyA4LjUyNDYyIDkuOTAxN1YzLjkwNTA3QzguNDE3NzMgMy44NjQ5IDguMzA0NjggMy44MzczMiA4LjE4NzI2IDMuODI0MTVDOC4xMzUwNCAzLjgxODI5IDguMDgxOTUgMy44MTUyOCA4LjAyODE2IDMuODE1MjhDNy4yNDg2MSAzLjgxNTI4IDYuNjE2NjYgNC40NDcyMyA2LjYxNjY2IDUuMjI2NzhWMTEuODI5Mkw1LjY3NDMxIDExLjAwNTJDNS41Nzg2OCAxMC45MjE2IDUuNDc1MzcgMTAuODUwNCA1LjM2NjY2IDEwLjc5MTlDNC44ODUwNiAxMC41MzI5IDQuMjk3MjggMTAuNTIzMSAzLjc5OTUyIDEwLjc4NThMMy42OTcwNyAxMC44Mzk4QzMuMDYyMzEgMTEuMTc0NyAyLjkyMjczIDEyLjAyMzEgMy40MTY3NSAxMi41NDM3TDcuMzM5NzMgMTYuNjc3N1YxNy4zMjYyQzcuMzM5NzMgMTcuNzg2NCA3LjcxMjgyIDE4LjE1OTUgOC4xNzMwNiAxOC4xNTk1SDEzLjgwODVDMTQuMjY4OCAxOC4xNTk1IDE0LjY0MTkgMTcuNzg2NCAxNC42NDE5IDE3LjMyNjJWMTYuNzkzOEMxNS43Mzc5IDE1LjcxOSAxNi4zODQ3IDE0LjI3MjggMTYuNDYgMTIuNzQ3QzE2LjQ2NDEgMTIuNjY0MSAxNi40NjY1IDEyLjU4MDkgMTYuNDY3MiAxMi40OTc1TDE2LjQ2NzQgMTIuNDQ2N0wxNi40NjcyIDYuNjM3MDlDMTYuNDY3MiA1Ljk2MjMgMTUuOTI0OCA1LjQxNDE5IDE1LjI1MjIgNS40MDQ5N0wxNS4yMzUgNS40MDQ4NkMxNS4xMjQ2IDUuNDA0ODYgMTUuMDE3NyA1LjQxOTM2IDE0LjkxNTkgNS40NDY1NlY5LjYwMjI2QzE0LjkxNTkgOS44NTQzMSAxNC43MTE2IDEwLjA1ODYgMTQuNDU5NSAxMC4wNTg2QzE0LjIwNzUgMTAuMDU4NiAxNC4wMDMxIDkuODU0MzEgMTQuMDAzMSA5LjYwMjI2VjYuNjA1MTRDMTQuMDAyOSA2LjYxNTc2IDE0LjAwMjcgNi42MjY0MSAxNC4wMDI3IDYuNjM3MDlWOS4yNzcwNUwxNC4wMDIyIDUuMDQ3NTJDMTQuMDAyMiA0Ljg2OTEzIDEzLjk2NDMgNC42OTk2IDEzLjg5NjEgNC41NDY1M0MxMy43MDY0IDQuMTIwNzIgMTMuMjgyMiAzLjgyMjM1IDEyLjc4NzYgMy44MTU0MUwxMi43NyAzLjgxNTI4QzEyLjY1ODQgMy44MTUyOCAxMi41NTA0IDMuODMwMSAxMi40NDc2IDMuODU3ODdaIiBmaWxsPSIjMUQxQzIzIi8+Cjwvc3ZnPg=="), auto',grabbing:'url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjEiIHZpZXdCb3g9IjAgMCAyMCAyMSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02LjYxODE3IDUuNTk4NzVDNi42MTgxNyA0LjgxOTIgNy4yNTAxMiA0LjE4NzI2IDguMDI5NjcgNC4xODcyNkM4Ljc3ODczIDQuMTg3MjYgOS4zOTE1MiA0Ljc3MDc1IDkuNDM4MjkgNS41MDgwMUM5LjQ1OTkyIDQuOTQ3MSA5LjkyMTQ3IDQuNDk5MDIgMTAuNDg3NyA0LjQ5OTAyQzExLjA2NzcgNC40OTkwMiAxMS41Mzc4IDQuOTY5MiAxMS41Mzc4IDUuNTQ5MTlWOC43NjI0NkwxMS41Mzc5IDYuNzExNUMxMS41Mzc5IDYuMDMwOTUgMTIuMDg5NiA1LjQ3OTI2IDEyLjc3MDIgNS40NzkyNkMxMy40NTA3IDUuNDc5MjYgMTQuMDAyNCA2LjAzMDk1IDE0LjAwMjQgNi43MTE1TDE0LjAwMjQgOC43NjI0NkwxNC4wMDI5IDguMDE5ODNDMTQuMDAyOSA3LjMzOTI5IDE0LjU1NDYgNi43ODc1OSAxNS4yMzUyIDYuNzg3NTlDMTUuOTE1NyA2Ljc4NzU5IDE2LjQ2NzQgNy4zMzkyOCAxNi40Njc0IDguMDE5ODNWMTEuNDk3TDE2LjQ2NzUgMTIuNDQ2N0MxNi40Njc1IDE0LjA4MjEgMTUuODA5NiAxNS42NDg3IDE0LjY0MiAxNi43OTM4VjE3LjMyNjJDMTQuNjQyIDE3Ljc4NjQgMTQuMjY4OSAxOC4xNTk1IDEzLjgwODcgMTguMTU5NUg4LjE3MzE3QzcuNzEyOTMgMTguMTU5NSA3LjMzOTg0IDE3Ljc4NjQgNy4zMzk4NCAxNy4zMjYyVjE1Ljk0MjRMNS4zNDU2MiAxNC43NTM0QzQuNTg5MjQgMTQuMzAyNCA0LjEyNTkxIDEzLjQ4NjcgNC4xMjU4OSAxMi42MDYxTDQuMTI1ODMgOS4yODM4M0M0LjEyNTgyIDguOTU0MjcgNC4zMjAwMyA4LjY1NTY2IDQuNjIxMjkgOC41MjIwNUw2LjYxODE3IDcuNjM2MzRWNS41OTg3NVoiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTAuNDg3OCAzLjI0OTAyQzExLjI3OTYgMy4yNDkwMiAxMS45Nzc4IDMuNjQ5MDIgMTIuMzkxNyA0LjI1Nzk2QzEyLjUxNTEgNC4yMzkwNiAxMi42NDE2IDQuMjI5MjYgMTIuNzcwMyA0LjIyOTI2QzEzLjcyMjQgNC4yMjkyNiAxNC41NDkzIDQuNzY1MzEgMTQuOTY1NyA1LjU1MjA3QzE1LjA1NDMgNS41NDI1IDE1LjE0NDIgNS41Mzc1OSAxNS4yMzUzIDUuNTM3NTlDMTYuNjA2MiA1LjUzNzU5IDE3LjcxNzYgNi42NDg5MyAxNy43MTc2IDguMDE5ODNMMTcuNzE3NyAxMi40NDY3QzE3LjcxNzcgMTQuMjM1NSAxNy4wNjQ3IDE1Ljk1NTkgMTUuODkyMSAxNy4yOTA0VjE3LjMyNjJDMTUuODkyMSAxOC40NzY4IDE0Ljk1OTQgMTkuNDA5NSAxMy44MDg4IDE5LjQwOTVIOC4xNzMzMkM3LjAyMjczIDE5LjQwOTUgNi4wODk5OCAxOC40NzY4IDYuMDg5OTggMTcuMzI2MlYxNi42NTI0TDQuNzA1NjMgMTUuODI3QzMuNTcxMDYgMTUuMTUwNSAyLjg3NjA3IDEzLjkyNzEgMi44NzYwNCAxMi42MDYxTDIuODc1OTggOS4yODM4NUMyLjg3NTk2IDguNDU5OTYgMy4zNjE0OSA3LjcxMzQ1IDQuMTE0NjIgNy4zNzk0TDUuMzY4MzIgNi44MjMzM1Y1LjU5ODc1QzUuMzY4MzIgNC4xMjg4NSA2LjU1OTkxIDIuOTM3MjYgOC4wMjk4MiAyLjkzNzI2QzguNjA4MzEgMi45MzcyNiA5LjE0MzU1IDMuMTIxNyA5LjU4MDA1IDMuNDM1MDVDOS44NTg1MyAzLjMxNTMyIDEwLjE2NTQgMy4yNDkwMiAxMC40ODc4IDMuMjQ5MDJaTTEyLjQ0NzkgNS41MjE4NlY5LjQ3NTU3QzEyLjQ0NzkgOS43Mjc2MiAxMi4yNDM2IDkuOTMxOTUgMTEuOTkxNiA5LjkzMTk1QzExLjc1NjggOS45MzE5NSAxMS41NjM0IDkuNzU0NjUgMTEuNTM4IDkuNTI2NjNDMTEuNTM2MSA5LjUwOTg3IDExLjUzNTIgOS40OTI4MyAxMS41MzUyIDkuNDc1NTdWNS40NzE1OEMxMS41MTU0IDUuMjAwODMgMTEuMzkzIDQuOTU4NTggMTEuMjA2NiA0Ljc4MzU4QzExLjAxODggNC42MDcxMSAxMC43NjU5IDQuNDk5MDIgMTAuNDg3OCA0LjQ5OTAyQzEwLjQ3NjYgNC40OTkwMiAxMC40NjU0IDQuNDk5MTkgMTAuNDU0MiA0LjQ5OTU0QzkuOTAzNDcgNC41MTY4NCA5LjQ1OTY0IDQuOTU4MjQgOS40Mzg0NCA1LjUwODAxQzkuNDM4MiA1LjUwNDMgOS40Mzc5NSA1LjUwMDU4IDkuNDM3NjkgNS40OTY4OFY5LjkwMjQzQzkuNDM3NjkgMTAuMTU0NSA5LjIzMzM2IDEwLjM1ODggOC45ODEzMSAxMC4zNTg4QzguNzI5MjUgMTAuMzU4OCA4LjUyNDkyIDEwLjE1NDUgOC41MjQ5MiA5LjkwMjQzVjQuMjc2NTNDOC4zNzA4NiA0LjIxODgyIDguMjA0MDIgNC4xODcyNiA4LjAyOTgyIDQuMTg3MjZDNy4yNTAyNyA0LjE4NzI2IDYuNjE4MzIgNC44MTkyIDYuNjE4MzIgNS41OTg3NUw2LjYxODI3IDkuOTc1OTlDNi42MTgyNyAxMC4yMjggNi40MTM5NCAxMC40MzI0IDYuMTYxODkgMTAuNDMyNEM1LjkwOTgzIDEwLjQzMjQgNS43MDU1IDEwLjIyOCA1LjcwNTUgOS45NzU5OVY4LjA0MTIyTDQuNjIxNDQgOC41MjIwNUM0LjMyMDE4IDguNjU1NjYgNC4xMjU5NyA4Ljk1NDI3IDQuMTI1OTggOS4yODM4M0w0LjEyNjA0IDEyLjYwNjFDNC4xMjYwNiAxMy40ODY3IDQuNTg5MzkgMTQuMzAyNCA1LjM0NTc2IDE0Ljc1MzRMNy4zMzk5OCAxNS45NDI0VjE3LjMyNjJDNy4zMzk5OCAxNy43ODY0IDcuNzEzMDggMTguMTU5NSA4LjE3MzMyIDE4LjE1OTVIMTMuODA4OEMxNC4yNjkgMTguMTU5NSAxNC42NDIxIDE3Ljc4NjQgMTQuNjQyMSAxNy4zMjYyVjE2Ljc5MzhDMTUuNzM4MSAxNS43MTkgMTYuMzg1IDE0LjI3MjggMTYuNDYwMyAxMi43NDdDMTYuNDY0NiAxMi42NiAxNi40NjcgMTIuNTcyOCAxNi40Njc2IDEyLjQ4NTRMMTYuNDY3NyAxMi40NDY3TDE2LjQ2NzYgOC4wMTk4M0MxNi40Njc2IDcuMzQ1MDQgMTUuOTI1MiA2Ljc5NjkzIDE1LjI1MjUgNi43ODc3MUwxNS4yMzUzIDYuNzg3NTlDMTUuMTI1IDYuNzg3NTkgMTUuMDE4IDYuODAyMSAxNC45MTYyIDYuODI5MzFWOS42MDEzNkMxNC45MTYyIDkuODUzNDIgMTQuNzExOSAxMC4wNTc3IDE0LjQ1OTggMTAuMDU3N0MxNC4yMDc4IDEwLjA1NzcgMTQuMDAzNCA5Ljg1MzQxIDE0LjAwMzQgOS42MDEzNlY3Ljk4OTg1QzE0LjAwMzIgNy45OTk4MiAxNC4wMDMxIDguMDA5ODEgMTQuMDAzMSA4LjAxOTgzTDE0LjAwMzQgOS42MDEzNkwxNC4wMDI1IDYuNzExNUMxNC4wMDI1IDYuNDQ5NzQgMTMuOTIwOSA2LjIwNzA1IDEzLjc4MTggNi4wMDc0OEMxMy41NjIgNS42OTI0MiAxMy4xOTg5IDUuNDg0ODMgMTIuNzg3IDUuNDc5MzdMMTIuNzcwMyA1LjQ3OTI2QzEyLjY1ODggNS40NzkyNiAxMi41NTA3IDUuNDk0MDggMTIuNDQ3OSA1LjUyMTg2WiIgZmlsbD0iIzFEMUMyMyIvPgo8L3N2Zz4="), auto'},fromNodeJSON(e,n){!function(e,n){let r=e.getData(w.FlowNodeFormData),i=e.getNodeRegistry(),{formMeta:o}=i;r&&o&&(r.createForm(o,n.data),r.onDataChange(()=>{e.document.fireContentChange({type:"NODE_DATA_CHANGE",toJSON:()=>r.toJSON(),entity:e})}))}(e,n)},toNodeJSON(e){let n=e.getData(w.FlowNodeErrorData)?.getError();if(n)throw n;let r=e.getData(d.TransformData),i=function(e){let n=e.getData(w.FlowNodeFormData);if(n&&e.getNodeRegistry().formMeta)return n.toJSON()}(e),o={},a=e.getNodeMeta(),s=a.subCanvas?.(e);if(s?.isCanvas===!1){let e=s.canvasNode.getData(g.FlowNodeTransformData),{x:n,y:r}=e.transform.position;o.canvasPosition={x:n,y:r}}let l={id:e.id,type:e.flowNodeType,meta:{position:{x:r.position.x,y:r.position.y},...o},data:i};return l}},H=class{constructor(){this.toDispose=new m.DisposableCollection,this._lineType=0,this.onAvailableLinesChangeEmitter=new m.Emitter,this.onForceUpdateEmitter=new m.Emitter,this.onAvailableLinesChange=this.onAvailableLinesChangeEmitter.event,this.onForceUpdate=this.onForceUpdateEmitter.event,this.contributionFactories=[],this.isDrawing=!1}init(e){this.document=e}forceUpdate(){this.onForceUpdateEmitter.fire()}get lineType(){return this._lineType}get lineColor(){let e={default:"#4d53e8",error:"red",hidden:"transparent",drawing:"#5DD6E3",hovered:"#37d0ff",selected:"#37d0ff"};return this.options.lineColor&&Object.assign(e,this.options.lineColor),e}switchLineType(e){return void 0===e&&(e=0===this._lineType?1:0),e!==this._lineType&&(this._lineType=e,this.getAllLines().forEach(e=>{e.getData(A).update()}),window.requestAnimationFrame(()=>{this.entityManager.fireEntityChanged(z.type)})),this._lineType}getAllLines(){return this.entityManager.getEntities(z)}hasLine(e){return!!this.entityManager.getEntityById(z.portInfoToLineId(e))}getLine(e){return this.entityManager.getEntityById(z.portInfoToLineId(e))}replaceLine(e,n){let r=this.getLine(e);return r&&r.dispose(),this.createLine(n)}createLine(e){let{from:n,to:r,drawingTo:i,fromPort:o,toPort:a}=e,s=!!(n&&r),l=e.key||z.portInfoToLineId(e),u=this.entityManager.getEntityById(l);if(u)return u.highlightColor="",u.validate(),u;let c=this.entityManager.getEntityById(n)?.getData(k),d=r?this.entityManager.getEntityById(r).getData(k):void 0;if(c)return this.isDrawing=!!i,u=this.entityManager.createEntity(z,{id:l,document:this.document,linesManager:this,from:n,fromPort:o,toPort:a,to:r,drawingTo:i}),this.registerData(u),c.addLine(u),d?.addLine(u),u.onDispose(()=>{i&&(this.isDrawing=!1),c.removeLine(u),d?.removeLine(u),u.validate()}),u.toDispose.push(m.Disposable.create(()=>{s&&this.onAvailableLinesChangeEmitter.fire({type:"DELETE_LINE",toJSON:()=>u.toJSON(),entity:u})})),s&&this.onAvailableLinesChangeEmitter.fire({type:"ADD_LINE",toJSON:()=>u.toJSON(),entity:u}),u.validate(),u}getCloseInLineFromMousePos(e,n=R){let r,i;return this.getAllLines().forEach(o=>{let a=o.getHoverDist(e);a<=n&&(!i||i>=a)&&(i=a,r=o)}),r}dispose(){this.toDispose.dispose()}get disposed(){return this.toDispose.disposed}isErrorLine(e,n){return!!this.options.isErrorLine&&this.options.isErrorLine(e,n,this)}isReverseLine(e){return!!this.options.isReverseLine&&this.options.isReverseLine(e)}isHideArrowLine(e){return!!this.options.isHideArrowLine&&this.options.isHideArrowLine(e)}isFlowingLine(e){return!!this.options.isFlowingLine&&this.options.isFlowingLine(e)}isDisabledLine(e){return!!this.options.isDisabledLine&&this.options.isDisabledLine(e)}isVerticalLine(e){return!!this.options.isVerticalLine&&this.options.isVerticalLine(e)}setLineRenderType(e){if(this.options.setLineRenderType)return this.options.setLineRenderType(e)}setLineClassName(e){if(this.options.setLineClassName)return this.options.setLineClassName(e)}getLineColor(e){return e.isHidden?this.lineColor.hidden:e.hasError?this.lineColor.error:e.highlightColor?e.highlightColor:e.drawingTo?this.lineColor.drawing:this.hoverService.isHovered(e.id)?this.lineColor.hovered:this.selectService.isSelected(e.id)?this.lineColor.selected:this.lineColor.default}canAddLine(e,n,r){return e!==n&&e.node!==n.node&&"output"===e.portType&&"input"===n.portType&&!n.disabled&&(this.options.canAddLine?this.options.canAddLine(e,n,this,r):e.node!==n.node)}toJSON(){return this.getAllLines().filter(e=>!e.isDrawing).map(e=>e.toJSON())}getPortById(e){return this.entityManager.getEntityById(e)}canRemove(e,n,r){return(!this.options||!this.options.canDeleteLine||!!this.options.canDeleteLine(e,n,r))&&!0}canReset(e,n,r){return(!this.options||!this.options.canResetLine||!!this.options.canResetLine(e,n,r,this))&&!0}getPortFromMousePos(e){let n=this.entityManager.getEntities(j).filter(e=>"root"!==e.node.flowNodeType),r=n.find(n=>n.isHovered(e.x,e.y));if(r){let n=this.document.getAllNodes().slice().reverse().filter(e=>r.node?.parent?.id!==e.id).find(n=>n.getData(d.TransformData).contains(e.x,e.y));if(n&&n!==r.node)return}return r}getNodeFromMousePos(e){let n=this.document.getAllNodes(),r=[],{selection:i}=this.selectService,o=this.entityManager.getEntity(d.PlaygroundConfigEntity)?.config?.zoom||1;if(n.forEach(n=>{let{bounds:i}=n.getData(g.FlowNodeTransformData);i.clone().pad(4/o).contains(e.x,e.y)&&r.push(n)}),i?.length){let e=r.filter(e=>i.some(n=>e.id===n.id));if(e?.length)return(0,_.last)(e)}return(0,_.last)(r)}registerContribution(e){return this.contributionFactories.push(e),this}registerData(e){e.addData(A)}};(0,c.__decorateClass)([(0,y.inject)(V)],H.prototype,"hoverService",2),(0,c.__decorateClass)([(0,y.inject)(B)],H.prototype,"selectService",2),(0,c.__decorateClass)([(0,y.inject)(d.EntityManager)],H.prototype,"entityManager",2),(0,c.__decorateClass)([(0,y.inject)($)],H.prototype,"options",2),H=(0,c.__decorateClass)([(0,y.injectable)()],H);var W="free-layout",K=class{constructor(){this.name=W}get document(){return this.documentProvider()}update(){this.document.root.getData(g.FlowNodeTransformData)?.localDirty&&this.document.root.clearMemoGlobal()}syncTransform(e){let n=e.getData(g.FlowNodeTransformData);if(!n.localDirty)return;if(e.clearMemoGlobal(),e.clearMemoLocal(),n.transform.update({size:n.data.size}),!e.parent)return;e.parent.clearMemoGlobal(),e.parent.clearMemoLocal();let r=e.parent.getData(g.FlowNodeTransformData);r.transform.fireChange()}getPadding(e){let{padding:n}=e.getNodeMeta(),r=e.getData(g.FlowNodeTransformData);return n?"function"==typeof n?n(r):n:m.PaddingSchema.empty()}getInitScroll(e){let n=m.Rectangle.enlarge(this.document.getAllNodes().map(e=>e.getData(d.TransformData).bounds)).pad(30,30),r=this.playgroundConfig.getViewport(!1),i=m.SizeSchema.fixSize(n,r);return{scrollX:(n.x+n.width/2)*i-this.playgroundConfig.config.width/2,scrollY:(n.y+n.height/2)*i-this.playgroundConfig.config.height/2}}getDefaultInputPoint(e){return e.getData(d.TransformData).bounds.leftCenter}getDefaultOutputPoint(e){return e.getData(d.TransformData).bounds.rightCenter}getDefaultNodeOrigin(){return{x:.5,y:0}}};(0,c.__decorateClass)([(0,y.inject)(d.PlaygroundConfigEntity)],K.prototype,"playgroundConfig",2),(0,c.__decorateClass)([(0,y.inject)(g.FlowDocumentProvider)],K.prototype,"documentProvider",2),K=(0,c.__decorateClass)([(0,y.injectable)()],K);var G=(0,b.customAlphabet)("1234567890",5),Y=Symbol("WorkflowDocumentProvider"),X=class extends g.FlowDocument{constructor(){super(...arguments),this._onContentChangeEmitter=new m.Emitter,this.onLoadedEmitter=new m.Emitter,this.onContentChange=this._onContentChangeEmitter.event,this._onReloadEmitter=new m.Emitter,this.onReload=this._onReloadEmitter.event,this.disposed=!1,this.onLoaded=this.onLoadedEmitter.event,this._loading=!1,this.options={}}get loading(){return this._loading}async fitView(e){return C(this,this.playgroundConfig,e).then(()=>{this.linesManager.forceUpdate()})}init(){super.init(),this.currentLayoutKey=this.options.defaultLayout||W,this.linesManager.init(this),this.playgroundConfig.getCursors=()=>this.options.cursors,this.linesManager.onAvailableLinesChange(e=>this.fireContentChange(e)),this.playgroundConfig.onReadonlyOrDisabledChange(({readonly:e})=>{this.nodeEngineContext&&(this.nodeEngineContext.readonly=e)})}async load(){this._loading=!0,await super.load(),this._loading=!1,this.onLoadedEmitter.fire()}async reload(e,n=0){this._loading=!0,this.clear(),this.fromJSON(e),await (0,m.delay)(n),this._loading=!1,this._onReloadEmitter.fire(this)}fromJSON(e,n=!0){let{flattenJSON:r,nodeBlocks:i,nodeEdges:o}=this.flatJSON(e),a=this.nestJSON(r,i,o);this.entityManager.changeEntityLocked=!0,this.renderJSON(a),this.entityManager.changeEntityLocked=!1,this.transformer.loading=!1,n&&this.fireRender()}clear(){this.getAllNodes().map(e=>e.dispose()),this.linesManager.getAllLines().map(e=>e.dispose()),this.getAllPorts().map(e=>e.dispose()),this.selectServices.clear()}createWorkflowNode(e,n=!1,r){let i=this.getNode(e.id),o=this.getNode(r??this.root.id)??this.root,a=this.addNode({...e,parent:o},void 0,!0),s=a.getNodeRegistry(),{formMeta:l}=s,u=a.getNodeMeta(),c=a.getData(w.FlowNodeFormData),h=a.getData(g.FlowNodeTransformData),f=this.layout;h.onDataChange(()=>{f.syncTransform(a)});let{position:p}=u;!p&&(p=this.getNodeDefaultPosition(e.type)),a.getData(d.TransformData).update({position:p}),l&&c&&!c.formModel.initialized&&(c.createForm(l,e.data),c.onDataChange(()=>{this.fireContentChange({type:"NODE_DATA_CHANGE",toJSON:()=>c.toJSON(),entity:a})}));let y=a.getData(d.PositionData);y.onDataChange(()=>{this.fireContentChange({type:"MOVE_NODE",toJSON:()=>y.toJSON(),entity:a})});let b=this.getNodeSubCanvas(a);if(!i&&!b?.isCanvas&&(this.fireContentChange({type:"ADD_NODE",entity:a,toJSON:()=>this.toNodeJSON(a)}),a.toDispose.push(m.Disposable.create(()=>{this.fireContentChange({type:"DELETE_NODE",entity:a,toJSON:()=>this.toNodeJSON(a)})})),a.toDispose.push(m.Disposable.create(()=>{if(!a.parent||a.parent.flowNodeType===g.FlowNodeBaseType.ROOT)return;let e=a.parent.getData(g.FlowNodeTransformData);setTimeout(()=>{e.fireChange()},0)}))),e.blocks&&this.renderJSON({nodes:e.blocks,edges:e.edges??[]},{parent:a,isClone:n}),b){let e=b.canvasNode.getData(d.TransformData);e.update({position:b.parentNode.getNodeMeta()?.canvasPosition}),b.parentNode.onDispose(()=>{b.canvasNode.dispose()}),b.canvasNode.onDispose(()=>{b.parentNode.dispose()})}return this.onNodeCreateEmitter.fire({node:a,data:e}),a}getNodeDefaultPosition(e){let{size:n}=this.getNodeRegistry(e).meta||{},r=this.playgroundConfig.getViewport(!0).center;return n&&(r={x:r.x,y:r.y-n.height/2}),S(this,r)}createWorkflowNodeByType(e,n,r={},i){let o=r.id;if(void 0===o)do o=`1${G()}`;while(this.entityManager.getEntityById(o));else if(this.entityManager.getEntityById(o))throw Error(`[WorkflowDocument.createWorkflowNodeByType] Node Id "${o}" duplicated.`);return this.createWorkflowNode({...r,id:o,type:e,meta:{position:n,...r?.meta},data:r?.data,blocks:r?.blocks,edges:r?.edges},!1,i)}getAllNodes(){return this.entityManager.getEntities(D).filter(e=>e.id!==g.FlowNodeBaseType.ROOT)}getAllPorts(){return this.entityManager.getEntities(j).filter(e=>e.node.id!==g.FlowNodeBaseType.ROOT)}getAssociatedNodes(){let e=this.getAllNodes(),n=this.linesManager.getAllLines().filter(e=>e.from&&e.to).map(e=>({from:e.from.id,to:e.to.id})),r=e.find(e=>e.isStart).id,i=e.find(e=>e.isNodeEnd).id,o=e.filter(e=>e.parent?.flowNodeType===g.FlowNodeBaseType.SUB_CANVAS).map(e=>e.id),a=new Set([i,...o]),s=e=>{if(a.has(e))return;a.add(e);let r=n.reduce((n,{from:r,to:i})=>(r===e&&!a.has(i)&&n.push(i),n),[]);r.forEach(s)};s(r);let l=e.filter(e=>a.has(e.id));return l}fireRender(){this.entityManager.fireEntityChanged(D.type),this.entityManager.fireEntityChanged(z.type),this.entityManager.fireEntityChanged(j.type)}fireContentChange(e){!this._loading&&!this.disposed&&!this.entityManager.changeEntityLocked&&this._onContentChangeEmitter.fire(e)}toNodeJSON(e){let n=this.getNodeSubCanvas(e);if(n?.isCanvas===!0)return this.toNodeJSON(n.parentNode);let r=this.toNodeJSONFromOptions(e),i=this.getNodeChildren(e),o=i.map(e=>this.toNodeJSON(e)),a=new Map;i.forEach(e=>{let n=e.getData(k);[...n.inputLines,...n.outputLines].filter(Boolean).forEach(e=>{let n=this.toLineJSON(e);!(!n||a.has(e.id))&&a.set(e.id,n)})});let s=Array.from(a.values());return o.length>0&&(r.blocks=o),s.length>0&&(r.edges=s),r}toNodeJSONFromOptions(e){return this.options.toNodeJSON?this.options.toNodeJSON(e):U.toNodeJSON(e)}copyNode(e,n,r,i){let o=this.toNodeJSON(e);return r&&(o=r(o)),i=i||{x:o.meta.position.x+30,y:o.meta.position.y+30},this.createWorkflowNode({id:n||`1${G()}`,type:e.flowNodeType,meta:{...o.meta,position:i},data:o.data,blocks:o.blocks,edges:o.edges},!0,e.parent?.id)}copyNodeFromJSON(e,n,r,i,o){return i=i||{x:n.meta.position.x+30,y:n.meta.position.y+30},this.createWorkflowNode({id:r||`1${G()}`,type:e,meta:{...n.meta,position:i},data:n.data,blocks:n.blocks,edges:n.edges},!0,o)}canRemove(e,n){let r=e.getNodeMeta();return!r.deleteDisable&&(!this.options.canDeleteNode||!!this.options.canDeleteNode(e,n))&&!0}isErrorPort(e){return"function"==typeof this.options.isErrorPort&&this.options.isErrorPort(e)}toJSON(){let e=this.toNodeJSON(this.root);return{nodes:e.blocks??[],edges:e.edges??[]}}dispose(){!this.disposed&&(super.dispose(),this.disposed=!0,this._onReloadEmitter.dispose())}getEdgeID(e){return z.portInfoToLineId({from:e.sourceNodeID,to:e.targetNodeID,fromPort:e.sourcePortID,toPort:e.targetPortID})}flatJSON(e={nodes:[],edges:[]}){let n=new Map,r=new Map,i=e.nodes??[],o=e.edges??[],a=[...i],s=[...o],l=i.map(e=>e.id),u=o.map(e=>this.getEdgeID(e));return n.set(g.FlowNodeBaseType.ROOT,l),r.set(g.FlowNodeBaseType.ROOT,u),i.forEach(e=>{let{blocks:i,edges:o}=e;if(i){a.push(...i);let r=[];i.forEach(e=>{r.push(e.id)}),n.set(e.id,r),delete e.blocks}if(o){s.push(...o);let n=[];o.forEach(e=>{let r=this.getEdgeID(e);n.push(r)}),r.set(e.id,n),delete e.edges}}),{flattenJSON:{nodes:a,edges:s},nodeBlocks:n,nodeEdges:r}}nestJSON(e,n,r){let i={nodes:[],edges:[]},o=new Map,a=new Map,s=new Set(n.get(g.FlowNodeBaseType.ROOT)??[]),l=new Set(r.get(g.FlowNodeBaseType.ROOT)??[]);return e.nodes.forEach(e=>{o.set(e.id,e)}),e.edges.forEach(e=>{let n=this.getEdgeID(e);a.set(n,e)}),e.nodes.forEach(e=>{if(s.has(e.id)&&i.nodes.push(e),n.has(e.id)){let r=n.get(e.id),i=r.map(e=>o.get(e)).filter(Boolean);e.blocks=i}if(r.has(e.id)){let n=r.get(e.id),i=n.map(e=>a.get(e)).filter(Boolean);e.edges=i}}),e.edges.forEach(e=>{let n=this.getEdgeID(e);l.has(n)&&i.edges.push(e)}),i}renderJSON(e,n){let{parent:r=this.root,isClone:i=!1}=n??{},o=this.getNodeSubCanvas(r)?.canvasNode.id??r.id;e.nodes.forEach(e=>{this.createWorkflowNode(e,i,o)}),e.edges.forEach(e=>this.createWorkflowLine(e,o))}getNodeSubCanvas(e){if(!e)return;let n=e.getNodeMeta(),r=n.subCanvas?.(e);return r}getNodeChildren(e){if(!e)return[];let n=this.getNodeSubCanvas(e),r=n?n.canvasNode.collapsedChildren:e.collapsedChildren,i=r.filter(n=>{let r=n.getNodeMeta();return!r.subCanvas?.(e)?.isCanvas}).filter(Boolean);return i}toLineJSON(e){let n=e.toJSON();if(!e.to||!e.info.to||!e.toPort)return;let r=this.getNodeSubCanvas(e.from),i=this.getNodeSubCanvas(e.to);if(!r||r.isCanvas||!i||!i.isCanvas)return e.from===e.to.parent&&r?{...n,sourceNodeID:r.parentNode.id}:e.to===e.from.parent&&i?{...n,targetNodeID:i.parentNode.id}:n}createWorkflowLine(e,n){let r=this.getNode(e.sourceNodeID),i=this.getNode(e.targetNodeID);if(!r||!i)return;let o={from:e.sourceNodeID,fromPort:e.sourcePortID,to:e.targetNodeID,toPort:e.targetPortID};if(!n)return this.linesManager.createLine(o);let a=this.getNode(n);if(!a)return this.linesManager.createLine(o);let s=this.getNodeSubCanvas(a);return s?o.from===s.parentNode.id?this.linesManager.createLine({...o,from:s.canvasNode.id}):o.to===s.parentNode.id?this.linesManager.createLine({...o,to:s.canvasNode.id}):this.linesManager.createLine(o):this.linesManager.createLine(o)}};(0,c.__decorateClass)([(0,y.inject)(H)],X.prototype,"linesManager",2),(0,c.__decorateClass)([(0,y.inject)(d.PlaygroundConfigEntity)],X.prototype,"playgroundConfig",2),(0,c.__decorateClass)([(0,d.injectPlaygroundContext)()],X.prototype,"playgroundContext",2),(0,c.__decorateClass)([(0,y.inject)($)],X.prototype,"options",2),(0,c.__decorateClass)([(0,y.inject)(w.NodeEngineContext),(0,y.optional)()],X.prototype,"nodeEngineContext",2),(0,c.__decorateClass)([(0,y.inject)(B)],X.prototype,"selectServices",2),(0,c.__decorateClass)([(0,y.postConstruct)()],X.prototype,"init",1),X=(0,c.__decorateClass)([(0,y.injectable)()],X);function Z(e,n,r){return!!(!r||e>100||Math.abs(n.endPos.x-n.startPos.x)>=5||Math.abs(n.endPos.y-n.startPos.y)>=5)||!1}var Q=class{constructor(){this._onDragLineEventEmitter=new m.Emitter,this.onDragLineEventChange=this._onDragLineEventEmitter.event,this.isDragging=!1,this._nodesDragEmitter=new m.Emitter,this.onNodesDrag=this._nodesDragEmitter.event,this._toDispose=new m.DisposableCollection,this._droppableTransforms=[],this.posAdjusters=new Set,this._onDragLineEndCallbacks=new Map}init(){this._toDispose.pushAll([this._onDragLineEventEmitter,this._nodesDragEmitter]),this.options.onDragLineEnd&&this._toDispose.push(this.onDragLineEnd(this.options.onDragLineEnd))}dispose(){this._toDispose.dispose()}startDragSelectedNodes(e){let{selectedNodes:n}=this.selectService;if(0===n.length||this.playgroundConfig.readonly||this.playgroundConfig.disabled)return Promise.resolve(!1);let r=this.childrenOfContainer(n);r&&r.flowNodeType!==g.FlowNodeBaseType.ROOT&&(n=[r]);let{altKey:i}=e,o=this.getNodesPosition(n),a=n.map(e=>{let n=e.getData(d.TransformData);return{x:n.position.x,y:n.position.y}}),s=!1,l=Date.now(),u=new d.PlaygroundDrag({onDragStart:()=>{this.isDragging=!0},onDrag:e=>{if(!s&&Z(Date.now()-l,e)&&(s=!0,i)){let e=n;e.length>0&&(this.selectService.clear(),this.commandService.executeCommand("PASTE_NODES",e,!0).then(r=>{r&&Array.isArray(r)&&r.length>0&&(n=r,o=this.getNodesPosition(e),a=e.filter(e=>!e.getNodeMeta().copyDisable).map(e=>{let n=e.getData(d.TransformData);return{x:n.position.x,y:n.position.y}}))}))}let r=this.getDragPosOffset({event:e,selectedNodes:n,startPosition:o});n.forEach((e,n)=>{let i=e.getData(d.TransformData),o=a[n],s={x:o.x+r.x,y:o.y+r.y};e.collapsedChildren?.length>0&&e.collapsedChildren.forEach(e=>{let n=e.getData(g.FlowNodeTransformData);n.fireChange()}),i.update({position:s})})},onDragEnd:()=>{this.isDragging=!1,this._nodesDragEmitter.fire({type:"onDragEnd",nodes:n,startPositions:a,altKey:i})}});return u.start(e.clientX,e.clientY,this.playgroundConfig).then(()=>s)}async dropCard(e,n,r,i){let o=this.playgroundConfig.getPosFromMouseEvent(n);if(!this.playgroundConfig.getViewport().contains(o.x,o.y))return;let a=this.adjustSubNodePosition(e,i,o),s=await this.document.createWorkflowNodeByType(e,a,r,i?.id);return s}async startDragCard(e,n,r,i){let o;let a={x:0,y:0},s=new m.PromiseDeferred,l=new d.PlaygroundDrag({onDragStart:e=>{let r=n.currentTarget;o=i?i(e):r.cloneNode(!0);let s=r.getBoundingClientRect();a={x:s.left,y:s.top},m.domUtils.setStyle(o,{zIndex:1e3,position:"absolute",left:a.x,top:a.y,boxShadow:"0 6px 8px 0 rgba(28, 31, 35, .2)"}),document.body.appendChild(o),this.updateDroppableTransforms()},onDrag:e=>{let n=e.endPos.x-e.startPos.x,r=e.endPos.y-e.startPos.y,i=a.x+n,s=a.y+r;o.style.left=`${i}px`,o.style.top=`${s}px`;let{x:l,y:u}=this.playgroundConfig.getPosFromMouseEvent(e),c=new m.Rectangle(l,u,170,90),d=this._droppableTransforms.find(e=>{let{bounds:n,entity:r}=e,i=this.document.layout.getPadding(r),o=new m.Rectangle(n.x+i.left+i.right,n.y,n.width,n.height);return m.Rectangle.intersects(c,o)});this.updateDropNode(d?.entity)},onDragEnd:async n=>{let i=this._dropNode,l=await this.dropCard(e,n,r,i);if(this.clearDrop(),l)o.remove(),s.resolve(l);else{o.style.transition="all ease .2s",o.style.left=`${a.x}px`,o.style.top=`${a.y}px`;await (0,m.delay)(200),o.remove(),s.resolve()}}});return await l.start(n.clientX,n.clientY),s.promise}adjustSubNodePosition(e,n,r,i=!0){if(!r)return{x:0,y:0};if(!e||!n||n.flowNodeType===g.FlowNodeBaseType.ROOT)return r;let o=!n.children||0===n.children.length,a=this.document.layout.getPadding(n),s=n.getData(d.TransformData);return o&&i?{x:0,y:a.top}:{x:r.x-s.position.x,y:r.y-s.position.y}}registerPosAdjuster(e){return this.posAdjusters.add(e),{dispose:()=>this.posAdjusters.delete(e)}}getDragPosOffset(e){let{event:n,selectedNodes:r,startPosition:i}=e,{finalScale:o}=this.playgroundConfig,a={x:(n.endPos.x-n.startPos.x)/o,y:(n.endPos.y-n.startPos.y)/o},s={x:i.x+a.x,y:i.y+a.y},l=Array.from(this.posAdjusters.values()).map(e=>e({selectedNodes:r,position:s})),u=l.reduce((e,n)=>({x:e.x+n.x,y:e.y+n.y}),a);return u}updateDroppableTransforms(){this._droppableTransforms=this.document.getRenderDatas(g.FlowNodeTransformData,!1).filter(e=>{let{entity:n}=e;return n.originParent?this.nodeSelectable(n)&&this.nodeSelectable(n.originParent):this.nodeSelectable(n)}).filter(e=>{let{entity:n}=e;return n.flowNodeType===g.FlowNodeBaseType.SUB_CANVAS})}getNodesPosition(e){let n=m.Rectangle.enlarge(e.map(e=>e.getData(g.FlowNodeTransformData).bounds)),r={x:n.x,y:n.y};return r}nodeSelectable(e){let n=e.getNodeMeta().selectable;return"function"==typeof n?n(e):n}updateDropNode(e){if(this._dropNode){if(this._dropNode.id===e?.id)return;this.selectService.clear()}e&&this.selectService.selectNode(e),this._dropNode=e}clearDrop(){this._dropNode&&this.selectService.clear(),this._dropNode=void 0,this._droppableTransforms=[]}setLineColor(e,n){e.highlightColor=n,this.hoverService.clearHovered()}handleDragOnNode(e,n,r,i,o){return i&&(o?.toPort===i||"input"===i.portType&&this.linesManager.canAddLine(n,i,!0))?(this.hoverService.updateHoveredKey(i.id),r.setToPort(i),this._onDragLineEventEmitter.fire({type:"onDrag",onDragNodeId:e.id}),{hasError:!1}):e.flowNodeType===g.FlowNodeBaseType.SUB_CANVAS?{hasError:!1}:(this.setLineColor(r,this.linesManager.lineColor.error),{hasError:!0})}childrenOfContainer(e){if(0===e.length)return;let n=e[0]?.parent;if(!n||n.collapsedChildren.length!==e.length)return;let r=e.every(e=>e?.parent===n);if(r)return n}async startDrawingLine(e,n,r){let i=!r&&e.isErrorPort()&&e.disabled;if(r?.disabled||i||this.playgroundConfig.readonly||this.playgroundConfig.disabled)return{dragSuccess:!1,newLine:void 0};let o=this.playgroundConfig,a=new m.PromiseDeferred,s=o.cursor,l,u,c,h=!1,f=Date.now(),p=!1,y=new d.PlaygroundDrag({onDrag:i=>{if(!l&&Z(Date.now()-f,i,r)){if(r&&(r.highlightColor=this.linesManager.lineColor.hidden),p=!0,!(l=this.linesManager.createLine({from:e.node.id,fromPort:e.portID,drawingTo:o.getPosFromMouseEvent(n)})))return;o.updateCursor("grab"),l.highlightColor=this.linesManager.lineColor.drawing,this.hoverService.updateHoveredKey("")}if(!l)return;h=!1;let a=o.getPosFromMouseEvent(i);if(c=this.linesManager.getNodeFromMousePos(a),(u=this.linesManager.getPortFromMousePos(a))?this.linesManager.canAddLine(e,u,!0)?l.setToPort(u):(l.highlightColor=this.linesManager.lineColor.error,h=!0,l.setToPort(void 0)):l.setToPort(void 0),this._onDragLineEventEmitter.fire({type:"onDrag"}),this.setLineColor(l,this.linesManager.lineColor.drawing),c&&c.flowNodeType!==g.FlowNodeBaseType.SUB_CANVAS){let n=c.getData(N);u=n.inputPorts[0];let{hasError:i}=this.handleDragOnNode(c,e,l,u,r);h=i}l.toPort?l.drawingTo={x:l.toPort.point.x,y:l.toPort.point.y}:l.drawingTo={x:a.x,y:a.y},r?.validate(),l.validate()},onDragEnd:async n=>{let i=o.getPosFromMouseEvent(n),c=Array.from(this._onDragLineEndCallbacks.values());o.updateCursor(s),await Promise.all(c.map(o=>o({fromPort:e,toPort:u,mousePos:i,line:l,originLine:r,event:n}))),l?.dispose(),this._onDragLineEventEmitter.fire({type:"onDragEnd"}),r&&(r.highlightColor="");let d=()=>{r?.validate(),a.resolve({dragSuccess:p})};if(p){if(r&&r.toPort===u||u&&"input"!==u.portType)return d();let n=u?{from:e.node.id,fromPort:e.portID,to:u.node.id,toPort:u.portID}:void 0,i=r&&u;if(i&&!this.linesManager.canReset(r.fromPort,r.toPort,u))return d();if(r&&(!this.linesManager.canRemove(r,n,!1)||h))return d();r?.dispose();if(!u||!this.linesManager.canAddLine(e,u,!1))return d();let o=this.linesManager.createLine(n);!o&&d(),a.resolve({dragSuccess:p,newLine:o})}else d()}});return await y.start(n.clientX,n.clientY,o),a.promise}async resetLine(e,n){let{fromPort:r}=e,{dragSuccess:i}=await this.startDrawingLine(r,n,e);!i&&this.selectService.select(e)}onDragLineEnd(e){let n=(0,b.nanoid)();return this._onDragLineEndCallbacks.set(n,e),{dispose:()=>{this._onDragLineEndCallbacks.delete(n)}}}};(0,c.__decorateClass)([(0,y.inject)(d.PlaygroundConfigEntity)],Q.prototype,"playgroundConfig",2),(0,c.__decorateClass)([(0,y.inject)(V)],Q.prototype,"hoverService",2),(0,c.__decorateClass)([(0,y.inject)(X)],Q.prototype,"document",2),(0,c.__decorateClass)([(0,y.inject)(H)],Q.prototype,"linesManager",2),(0,c.__decorateClass)([(0,y.inject)(d.CommandService)],Q.prototype,"commandService",2),(0,c.__decorateClass)([(0,y.inject)(B)],Q.prototype,"selectService",2),(0,c.__decorateClass)([(0,y.inject)(g.FlowOperationBaseService)],Q.prototype,"operationService",2),(0,c.__decorateClass)([(0,y.inject)($)],Q.prototype,"options",2),(0,c.__decorateClass)([(0,y.postConstruct)()],Q.prototype,"init",1),Q=(0,c.__decorateClass)([(0,y.injectable)()],Q);var q=async(e,n)=>{let r={};return e.forEach(e=>{let n=e.getData(d.TransformData),i=e.getData(g.FlowNodeTransformData);r[e.id]={x:n.position.x,y:n.position.y+i.bounds.height/2}}),new Promise(i=>{(0,d.startTween)({from:{d:0},to:{d:100},duration:300,onUpdate:r=>{e.forEach(e=>{let i=e.getData(d.TransformData),o=(n[e.id].x-i.position.x)*r.d/100,a=(n[e.id].y-i.bounds.height/2-i.position.y)*r.d/100;e.collapsedChildren?.length>0&&e.collapsedChildren.forEach(e=>{let n=e.getData(g.FlowNodeTransformData);n.fireChange()}),i.update({position:{x:i.position.x+o,y:i.position.y+a}})})},onComplete:()=>{i(r)}})})},J=class{constructor(){this._resetLayoutEmitter=new m.Emitter,this.onResetLayout=this._resetLayoutEmitter.event,this._toDispose=new m.DisposableCollection}init(){this._toDispose.push(this._resetLayoutEmitter)}fireResetLayout(e,n,r){this._resetLayoutEmitter.fire({nodeIds:e,positionMap:n,oldPositionMap:r})}async layoutToPositions(e,n){let r=e.map(e=>this._entityManager.getEntityById(e)).filter(Boolean),i=await q(r,n);return C(this._document,this._config,!0),i}dispose(){this._toDispose.dispose()}};function ee(e){let n=(0,d.usePlayground)(),r=(0,d.useRefresh)();return(0,h.useEffect)(()=>{let i;return e&&(i=n.config.onReadonlyOrDisabledChange(()=>r())),()=>i?.dispose()},[e]),n.config.readonly}function et(e){return e&&"INPUT"!==e.tagName&&"TEXTAREA"!==e.tagName&&!e.closest(".flow-canvas-not-draggable")}function en(e){let n=e||(0,h.useContext)(d.PlaygroundEntityContext),r=n.getData(g.FlowNodeRenderData),i=n.getData(N),o=ee(),a=(0,d.useService)(Q),s=(0,d.useService)(B),l=(0,h.useRef)(!1),u=(0,h.useRef)(null),[c,y]=(0,h.useState)("");(0,h.useEffect)(()=>{let e=a.onDragLineEventChange(({type:e,onDragNodeId:n})=>{"onDrag"===e?y(n||""):y("")});return()=>{e.dispose()}},[]);let m=(0,h.useCallback)(e=>{e.preventDefault(),!s.isSelected(n.id)&&b(e),et(e.target)&&et(document.activeElement)&&(l.current=!0,a.startDragSelectedNodes(e).finally(()=>setTimeout(()=>{l.current=!1})))},[a,n]),b=(0,h.useCallback)(e=>{!l.current&&(e.metaKey||e.shiftKey||e.ctrlKey?s.toggleSelect(n):s.selectNode(n),e.target&&e.target.focus())},[n]),_=(0,h.useCallback)(()=>n.dispose(),[n]);(0,d.useListenEvents)(i.onDataChange);let w=navigator?.userAgent?.includes?.("Firefox"),E=(0,h.useCallback)(()=>{w&&u.current?.setAttribute("draggable","false")},[]),x=(0,h.useCallback)(()=>{w&&u.current?.setAttribute("draggable","true")},[]),C=(0,h.useCallback)(()=>n.getExtInfo(),[n]),S=(0,h.useCallback)(e=>{n.updateExtInfo(e)},[n]),O=(0,h.useMemo)(()=>(0,p.getNodeForm)(n),[n]),M=(0,f.useObserve)(O?.state),P=(0,h.useCallback)(()=>{r.toggleExpand()},[r]);return{node:n,selected:s.isSelected(n.id),activated:s.isActivated(n.id),expanded:r.expanded,startDrag:m,ports:i.allPorts,deleteNode:_,selectNode:b,readonly:o,linkingNodeId:c,nodeRef:u,onFocus:E,onBlur:x,getExtInfo:C,updateExtInfo:S,toggleExpand:P,get form(){if(!O)return;return{...O,get values(){return O.values},get state(){return M}}}}}(0,c.__decorateClass)([(0,y.inject)(d.PlaygroundConfigEntity)],J.prototype,"_config",2),(0,c.__decorateClass)([(0,y.inject)(X)],J.prototype,"_document",2),(0,c.__decorateClass)([(0,y.inject)(d.EntityManager)],J.prototype,"_entityManager",2),(0,c.__decorateClass)([(0,y.postConstruct)()],J.prototype,"init",1),J=(0,c.__decorateClass)([(0,y.injectable)()],J);var er=((o=er||{}).GRAB="GRAB",o.SELECT="SELECT",o);var ei=((a=ei||{}).MOUSE="MOUSE",a.PAD="PAD",a),eo=class{registerDocument(e){e.registerNodeDatas(g.FlowNodeTransformData,g.FlowNodeRenderData,N,k),e.registerLayout(this.freeLayout)}};(0,c.__decorateClass)([(0,y.inject)(K)],eo.prototype,"freeLayout",2),eo=(0,c.__decorateClass)([(0,y.injectable)()],eo);var ea=new y.ContainerModule((e,n,r,i)=>{e(X).toSelf().inSingletonScope(),e(H).toSelf().inSingletonScope(),e(K).toSelf().inSingletonScope(),e(Q).toSelf().inSingletonScope(),e(B).toSelf().inSingletonScope(),e(V).toSelf().inSingletonScope(),e(J).toSelf().inSingletonScope(),e(s.URLParams).toDynamicValue(()=>location.search.replace(/^\?/,"").split("&").reduce((e,n)=>{let[r,i]=n.split("=");return e[r]=i,e},{})).inSingletonScope(),(0,m.bindContributions)(e,eo,[g.FlowDocumentContribution]),e($).toConstantValue({...U}),i(g.FlowDocument).toService(X),e(Y).toDynamicValue(e=>()=>e.container.get(X)).inSingletonScope()});(class{constructor(e){this.entity=e}get path(){return this.data?.path??""}calcDistance(e){if(!this.data)return Number.MAX_SAFE_INTEGER;let[n,r]=this.data.points;return m.Point.getDistance(e,this.projectPointOnLine(e,n,r))}get bounds(){return this.data?this.data.bbox:new m.Rectangle}update(e){let{fromPos:n,toPos:r}=e,{vertical:i}=this.entity,o={x:i?0:L,y:i?L:0},a={x:i?0:-L,y:i?-L:0},s=[{x:n.x+o.x,y:n.y+o.y},{x:r.x+a.x,y:r.y+a.y}],l=m.Rectangle.createRectangleWithTwoPoints(s[0],s[1]),u=s.map(e=>({x:e.x-l.x+12,y:e.y-l.y+12})),c=`M ${u[0].x} ${u[0].y} L ${u[1].x} ${u[1].y}`;this.data={points:s,path:c,bbox:l}}projectPointOnLine(e,n,r){let i=r.x-n.x,o=r.y-n.y;if(0===i)return{x:n.x,y:e.y};if(0===o)return{x:e.x,y:n.y};let a=((e.x-n.x)*i+(e.y-n.y)*o)/(i*i+o*o),s=Math.max(0,Math.min(1,a));return{x:n.x+s*i,y:n.y+s*o}}}).type="WorkflowSimpleLineContribution"},95281:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{FreeLayoutEditorProvider:function(){return M},WorkflowNodeRenderer:function(){return P},createFreeLayoutPreset:function(){return O},useAutoLayout:function(){return A},useClientContext:function(){return R},usePlaygroundTools:function(){return L}}),r("11278");var i,o=r.es(r("93008"),n),a=r.es(r("69540"),n),s=r.ir(r("56144")),l=r.es(r("57954"),n),u=r("91084"),c=r.ir(r("43955")),d=r("83757"),h=r("23400"),f=r("41081"),p=r.ir(r("56401")),g=Object.defineProperty,y=Object.getOwnPropertyDescriptor,m=Object.getOwnPropertyNames,b=Object.prototype.hasOwnProperty,_=(e,n)=>{for(var r in n)g(e,r,{get:n[r],enumerable:!0})},w=(e,n,r,i)=>{if(n&&"object"==typeof n||"function"==typeof n)for(let o of m(n))!b.call(e,o)&&o!==r&&g(e,o,{get:()=>n[o],enumerable:!(i=y(n,o))||i.enumerable});return e},E=(e,n,r)=>(w(e,n,"default"),r&&w(r,n,"default")),x={};_(x,{FreeLayoutEditor:()=>D,FreeLayoutEditorProvider:()=>M,FreeLayoutProps:()=>i,WorkflowNodeRenderer:()=>P,WorkflowPortRender:()=>d.WorkflowPortRender,createFreeLayoutPreset:()=>O,useAutoLayout:()=>A,useClientContext:()=>R,usePlaygroundTools:()=>L});var C={};_(C,{FreeLayoutEditor:()=>D,FreeLayoutEditorProvider:()=>M,WorkflowNodeRenderer:()=>P,WorkflowPortRender:()=>d.WorkflowPortRender}),(i||(i={})).DEFAULT={...o.EditorProps.DEFAULT,fromNodeJSON(e,n){let r=e.getData(o.FlowNodeFormData);if(!r){n.data&&e.updateExtInfo(n.data),e.onExtInfoChange(()=>{e.document.fireContentChange({type:a.WorkflowContentChangeType.NODE_DATA_CHANGE,toJSON:()=>e.getExtInfo(),entity:e})});return}return a.WorkflowDocumentOptionsDefault.fromNodeJSON?.(e,n)},toNodeJSON(e){let n=e.getData(o.FlowNodeFormData),r=e.transform.position;return n?a.WorkflowDocumentOptionsDefault.toNodeJSON(e):{id:e.id,type:e.flowNodeType,meta:{position:{x:r.x,y:r.y}},data:e.getExtInfo()}}};var S=e=>{let n=e.get(c.StackingContextManager);if(n.node)return n.node};function O(e){return n=>{e={...i.DEFAULT,...e,playground:{...e.playground,get hoverService(){return n.get(a.WorkflowHoverService)}}};let r=[];return r.push((0,o.createShortcutsPlugin)({registerShortcuts(r){let i=n.get(o.SelectionService);if(r.addHandlers({commandId:a.WorkflowCommands.DELETE_NODES,shortcuts:["backspace","delete"],isEnabled:()=>i.selection.length>0&&!n.playground.config.readonlyOrDisabled,execute:()=>{i.selection.forEach(e=>{if(e instanceof a.WorkflowNodeEntity){if(!n.document.canRemove(e))return;let r=e.getNodeMeta(),i=r.subCanvas?.(e);if(i?.isCanvas){i.parentNode.dispose();return}e.dispose()}else if(e instanceof a.WorkflowLineEntity){if(!n.document.linesManager.canRemove(e))return;e.dispose()}}),i.selection=i.selection.filter(e=>!e.disposed)}}),e?.history?.enable){let i=n.get(l.HistoryService);!e.history.disableShortcuts&&(r.addHandlers({commandId:o.Command.Default.UNDO,shortcuts:["meta z","ctrl z"],isEnabled:()=>!0,execute:()=>{i.undo()}}),r.addHandlers({commandId:o.Command.Default.REDO,shortcuts:["meta shift z","ctrl shift z"],isEnabled:()=>!0,execute:()=>{i.redo()}}))}}})),r=(0,o.createDefaultPreset)(e,r)(n),e.variableEngine?.enable&&r.push((0,o.createVariablePlugin)({...e.variableEngine,layout:"free"})),e.history?.enable&&r.push((0,l.createFreeHistoryPlugin)(e.history)),r.push((0,o.createPlaygroundPlugin)({onBind:r=>{r.rebind(a.WorkflowDocumentOptions).toConstantValue({canAddLine:e.canAddLine?.bind(null,n),canDeleteLine:e.canDeleteLine?.bind(null,n),isErrorLine:e.isErrorLine?.bind(null,n),isErrorPort:e.isErrorPort?.bind(null,n),isDisabledPort:e.isDisabledPort?.bind(null,n),isReverseLine:e.isReverseLine?.bind(null,n),isHideArrowLine:e.isHideArrowLine?.bind(null,n),isFlowingLine:e.isFlowingLine?.bind(null,n),isDisabledLine:e.isDisabledLine?.bind(null,n),isVerticalLine:e.isVerticalLine?.bind(null,n),onDragLineEnd:e.onDragLineEnd?.bind(null,n),setLineRenderType:e.setLineRenderType?.bind(null,n),setLineClassName:e.setLineClassName?.bind(null,n),canDeleteNode:e.canDeleteNode?.bind(null,n),canResetLine:e.canResetLine?.bind(null,n),cursors:e.cursors??a.WorkflowDocumentOptionsDefault.cursors,lineColor:e.lineColor??a.WorkflowDocumentOptionsDefault.lineColor,allNodesDefaultExpanded:e.allNodesDefaultExpanded,toNodeJSON:e.toNodeJSON,fromNodeJSON:e.fromNodeJSON})},onInit:n=>{n.playground.registerLayer(o.FlowNodesContentLayer),n.playground.registerLayer(o.FlowNodesTransformLayer,{renderElement:()=>"function"==typeof S?S(n):S}),!e.scroll?.disableScrollLimit&&n.playground.registerLayer(o.FlowScrollLimitLayer),!e.scroll?.disableScrollBar&&n.playground.registerLayer(o.FlowScrollBarLayer),e.onContentChange&&n.document.onContentChange(r=>e.onContentChange(n,r))},containerModules:[a.WorkflowDocumentContainerModule]}),(0,c.createFreeStackPlugin)({}),(0,d.createFreeLinesPlugin)({}),(0,h.createFreeHoverPlugin)({}),(0,f.createFreeAutoLayoutPlugin)({}),(0,u.createSelectBoxPlugin)({canSelect:e=>{if(0!==e.button)return!1;let r=e.target;if(r){if(r.closest('[data-flow-editor-selectable="true"]'))return!0;if(r.closest('[data-flow-editor-selectable="false"]'))return!1}let i=n.get(a.WorkflowHoverService);return!i.isSomeHovered()&&!0},ignoreOneSelect:!0,...e.selectBox||{}})),r}}var M=(0,s.forwardRef)(function(e,n){let{children:r,...i}=e,u=(0,s.useMemo)(()=>O(i),[]),c=(0,s.useCallback)(e=>({...(0,o.createPluginContextDefault)(e),get document(){return e.get(a.WorkflowDocument)},get clipboard(){return e.get(o.ClipboardService)},get selection(){return e.get(o.SelectionService)},get history(){return e.get(l.HistoryService)}}),[]);return s.default.createElement(o.PlaygroundReactProvider,{ref:n,plugins:u,customPluginContext:c},r)}),P=e=>{let{selected:n,activated:r,startDrag:i,ports:o,selectNode:l,nodeRef:u,onFocus:c,onBlur:h}=(0,a.useNodeRender)(),f=(0,p.default)(e.className||"",{activated:r,selected:n});return s.default.createElement(s.default.Fragment,null,s.default.createElement("div",{className:f,style:e.style,ref:u,draggable:!0,onDragStart:i,onClick:l,onFocus:c,onBlur:h,"data-node-selected":String(n)},e.children),o.map(n=>s.default.createElement(d.WorkflowPortRender,{key:n.id,entity:n,onClick:e.onPortClick?r=>e.onPortClick(n,r):void 0,className:e.portClassName,style:e.portStyle})))},D=(0,s.forwardRef)(function(e,n){let{children:r,...i}=e;return s.default.createElement(M,{ref:n,...i},s.default.createElement(o.EditorRenderer,null,r))});E(C,c),E(x,C);var I=e=>{let n=e.getData(o.TransformData);return{x:n.position.x,y:n.position.y}},j=()=>{let e=(0,a.usePlaygroundContainer)();try{return e.get(l.HistoryService)}catch(e){return{pushOperation:()=>{}}}},N=()=>{let e=j(),n=(0,s.useCallback)(n=>{let{nodes:r,startPositions:i,endPositions:o}=n,a=r.map(e=>e.id);e.pushOperation({type:l.FreeOperationType.dragNodes,value:{ids:a,value:o,oldValue:i}},{noApply:!0})},[e]);return n},T=e=>{let{nodes:n,startPositions:r}=e;return()=>{n.forEach((e,n)=>{let i=e.getData(o.TransformData),a=r[n];i.update({position:a})})}},k=()=>{let e=(0,a.useService)(a.WorkflowDocument),n=(0,a.useService)(f.AutoLayoutService),r=N(),i=(0,s.useCallback)(async i=>{let o=e.getAllNodes(),a=o.map(I);await n.layout(i);let s=o.map(I);return r({nodes:o,startPositions:a,endPositions:s}),T({nodes:o,startPositions:a})},[n,e,r]);return i},A=()=>{let e=(0,a.useService)(a.WorkflowDocument),n=(0,a.usePlayground)(),r=k(),i=(0,s.useCallback)(r=>{(0,a.fitView)(e,n.config,r)},[e,n]),o=(0,s.useCallback)(async e=>{i();let n=await r(e);return i(),n},[r]);return o};function R(){return(0,o.useService)(o.PluginContext)}function L(){let e=(0,a.usePlayground)(),n=(0,a.useService)(a.WorkflowDocument),[r,i]=(0,s.useState)(1),[l,u]=(0,s.useState)(n.linesManager.lineType),[c,d]=(0,s.useState)(a.EditorCursorState.SELECT),[h,f]=(0,s.useState)(a.InteractiveType.PAD),p=(0,s.useCallback)(n=>{!(r<.1)&&e?.config.zoomout(n)},[r,e]),g=(0,s.useCallback)(n=>{!(r>1.9)&&e?.config.zoomin(n)},[r,e]),y=(0,s.useCallback)(e=>{let r=n.linesManager.switchLineType(e);return u(r),r},[n]),m=(0,s.useCallback)(r=>{(0,a.fitView)(n,e.config,r)},[n,e]),b=A();return(0,s.useEffect)(()=>{let n=null;return e&&(n=e.onZoom(e=>i(e))),()=>{n&&n.dispose()}},[e]),(0,s.useEffect)(()=>{let n=e.editorState.onStateChange(e=>{d(e.state===o.EditorState.STATE_GRAB||e.state===o.EditorState.STATE_MOUSE_FRIENDLY_SELECT?a.EditorCursorState.GRAB:a.EditorCursorState.SELECT),f(e.state===o.EditorState.STATE_MOUSE_FRIENDLY_SELECT?a.InteractiveType.MOUSE:a.InteractiveType.PAD)});return()=>{n.dispose()}},[e]),{zoomin:g,zoomout:p,fitView:m,autoLayout:b,switchLineType:y,zoom:r,lineType:l,cursorState:c,setCursorState:function(n){let r;void 0!==(r="function"==typeof n?n({isPressingSpaceBar:e.editorState.isPressingSpaceBar,cursorState:c}):n)&&(r===a.EditorCursorState.GRAB?(e.editorState.changeState(o.EditorState.STATE_GRAB.id),d(r)):(r=a.EditorCursorState.SELECT)&&(e.editorState.changeState(o.EditorState.STATE_SELECT.id),d(r)))},interactiveType:h,setInteractiveType:function(n){n===a.InteractiveType.MOUSE?(e.editorState.changeState(o.EditorState.STATE_MOUSE_FRIENDLY_SELECT.id),d(a.EditorCursorState.GRAB)):n===a.InteractiveType.PAD&&(e.editorState.changeState(o.EditorState.STATE_SELECT.id),d(a.EditorCursorState.SELECT)),f(n)},setMouseScrollDelta:function(n){e.config.updateConfig({mouseScrollDelta:n})}}}},83757:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{LINE_OFFSET:function(){return x},LINE_PADDING:function(){return C},LinesLayer:function(){return P},WorkflowBezierLineContribution:function(){return N},WorkflowFoldLineContribution:function(){return T},WorkflowLinesLayer:function(){return P},WorkflowPortRender:function(){return E},createFreeLinesPlugin:function(){return k},getBezierHorizontalControlPoints:function(){return I},getBezierVerticalControlPoints:function(){return j}});var i,o,a=r.ir(r("48362")),s=r.ir(r("56144")),l=r.ir(r("56401")),u=r("69540"),c=r("93665"),d=r.ir(r("34394")),h=r("91516"),f=r("85870"),p=r("43955"),g=r("32646"),y=Object.defineProperty,m=Object.getOwnPropertyDescriptor,b=(e,n,r,i)=>{for(var o=i>1?void 0:i?m(n,r):n,a,s=e.length-1;s>=0;s--)(a=e[s])&&(o=(i?a(n,r,o):a(o))||o);return i&&o&&y(n,r,o),o},_=d.default.div`
  width: 20px;
  height: 20px;
  border-radius: 50%;
  margin-top: -10px;
  margin-left: -10px;
  left: 50%;
  top: 50%;
  position: absolute;
  // 非 hover 状态下的样式
  border: none;

  & > .symbol {
    opacity: 0;
  }

  .bg-circle {
    display: flex;
    align-items: center;
    justify-content: center;
    position: absolute;
    border-radius: 50%;
    width: 20px;
    height: 20px;
    background-color: #fff;
    transform: scale(0.5);
    transition: all 0.2s linear 0s;
  }

  .bg {
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background: #9197F1;
    transform: scale(0.4, 0.4);
    transition: all 0.2s linear 0s;

    &.hasError {
      background: red;
    }

    .symbol {
      position: absolute;
      width: 14px;
      height: 14px;
      opacity: 0;
      pointer-events: none;
      color: #fff;
      transition: opacity 0.2s linear 0s;

      & > svg {
        width: 14px;
        height: 14px;
      }
    }

    .focus-circle {
      position: absolute;
      display: flex;
      justify-content: center;
      align-items: center;
      width: 8px;
      height: 8px;
      opacity: 0;
      background: #9197f1;
      border-radius: 50%;
      transition: opacity 0.2s linear 0s;
    }
  }

  &.linked .bg:not(.hasError) {
    background: #4d53e8;
  }

  &.hovered .bg:not(.hasError) {
    border: none;
    cursor: crosshair;
    transform: scale(1, 1);
    background: #4d53e8;

    & > .symbol {
      opacity: 1;
    }
  }

  .cross-hair {
    position: relative;
    left: 2px;
    top: 2px;

    &::after,
    &::before {
      content: '';
      background: #fff;
      border-radius: 2px;
      position: absolute;
    }

    &::after {
      left: 4px;
      width: 2px;
      height: 6px;
      box-shadow: 0 4px #fff;
    }

    &::before {
      top: 4px;
      width: 6px;
      height: 2px;
      box-shadow: 4px 0 #fff;
    }
`;function w(){return s.default.createElement("div",{className:"symbol"},s.default.createElement("div",{className:"cross-hair"}))}var E=s.default.memo(e=>{let n=(0,c.useService)(u.WorkflowHoverService),r=(0,c.useService)(u.WorkflowLinesManager),{entity:i,onClick:o}=e,{portType:d,relativePosition:h,disabled:f}=i,[p,g]=(0,s.useState)(i.targetElement),[y,m]=(0,s.useState)(h.x),[b,E]=(0,s.useState)(h.y),[x,C]=(0,s.useState)(!1),[S,O]=(0,s.useState)(!!i?.lines?.length),[M,P]=(0,s.useState)(e.entity.hasError),D=(0,u.usePlaygroundReadonlyState)();(0,s.useEffect)(()=>{i.validate(),P(i.hasError);let e=i.onEntityChange(()=>{if(i.targetElement){i.targetElement!==p&&g(i.targetElement);return}let e=i.relativePosition;m(Math.round(e.x)),E(Math.round(e.y))}),o=n.onHoveredChange(e=>{C(n.isHovered(i.id))}),a=i.onErrorChanged(()=>{P(i.hasError)}),s=r.onAvailableLinesChange(()=>{setTimeout(()=>{!r.disposed&&!i.disposed&&O(!!i.lines.length)},0)});return()=>{e.dispose(),o.dispose(),a.dispose(),s.dispose()}},[n,i,p]);let I=(0,l.default)(e.className||"",{hovered:!D&&x&&!f&&"input"!==d,linked:S}),j=s.default.createElement(_,{className:I,style:p?e.style:{...e.style,left:y,top:b},onClick:o,"data-port-entity-id":i.id,"data-port-entity-type":i.portType,"data-testid":"sdk.workflow.canvas.node.port"},s.default.createElement("div",{className:(0,l.default)("bg-circle","workflow-bg-circle")}),s.default.createElement("div",{className:(0,l.default)({bg:!0,"workflow-port-bg":!0,"workflow-point-bg":!0,hasError:M})},s.default.createElement(w,null)),s.default.createElement("div",{className:"focus-circle"}));return p?a.default.createPortal(j,p):j}),x=6,C=12,S=d.default.div.attrs({className:"gedit-flow-activity-edge"})`
  position: absolute;

  @keyframes flowingDash {
    to {
      stroke-dashoffset: -13;
    }
  }

  .dashed-line {
    stroke-dasharray: 8, 5;
  }

  .flowing-line {
    animation: flowingDash 0.5s linear infinite;
  }
`;function O({id:e,pos:n,reverseArrow:r,strokeWidth:i,vertical:o,hide:a}){if(a)return null;let l=o?r?`M ${n.x-x},${n.y} L ${n.x},${n.y-x} L ${n.x+x},${n.y}`:`M ${n.x-x},${n.y-x} L ${n.x},${n.y} L ${n.x+x},${n.y-x}`:r?`M ${n.x},${n.y+x} L ${n.x-x},${n.y} L ${n.x},${n.y-x}`:`M ${n.x-x},${n.y-x} L ${n.x},${n.y} L ${n.x-x},${n.y+x}`;return s.default.createElement("path",{d:l,strokeLinecap:"round",stroke:`url(#${e})`,fill:"none",strokeWidth:i})}var M=(0,s.memo)(e=>{let{line:n,color:r,selected:i,children:o,strokePrefix:a}=e,{position:c,reverse:d,vertical:h,hideArrow:f}=n,p=n.getData(u.WorkflowLineRenderData),{bounds:g,path:y}=p,m=e=>({x:e.x-g.x+12,y:e.y-g.y+12}),b=m(c.from),_=m(c.to),w=h?{x:_.x,y:_.y-u.POINT_RADIUS}:{x:_.x-u.POINT_RADIUS,y:_.y},E=h?{x:b.x,y:b.y+u.POINT_RADIUS+x}:{x:b.x+u.POINT_RADIUS+x,y:b.y},C=i?3:2,M=a?`${a}-${n.id}`:n.id,P=s.default.createElement("path",{d:y,fill:"none",stroke:`url(#${M})`,strokeWidth:C,className:(0,l.default)(n.className,!n.className&&(n.processing||n.flowing?"dashed-line flowing-line":""))});return s.default.createElement(S,{style:{left:g.x-12,top:g.y-12,position:"absolute"}},o,s.default.createElement("svg",{width:g.width+24,height:g.height+24},s.default.createElement("defs",null,s.default.createElement("linearGradient",{x1:h?"100%":"0%",y1:h?"0%":"100%",x2:"100%",y2:"100%",id:M,gradientUnits:"userSpaceOnUse"},s.default.createElement("stop",{stopColor:r,offset:"0%"}),s.default.createElement("stop",{stopColor:r,offset:"100%"}))),s.default.createElement("g",null,P,s.default.createElement(O,{id:M,reverseArrow:d,pos:d?E:w,strokeWidth:C,vertical:h,hide:f}))))},(e,n)=>e.version===n.version),P=class extends c.Layer{constructor(){super(...arguments),this.layerID=(0,u.nanoid)(),this.mountedLines=new Map,this._version=0,this.node=f.domUtils.createDivWithClass("gedit-playground-layer gedit-flow-lines-layer")}onZoom(e){this.node.style.transform=`scale(${e})`}onReady(){this.pipelineNode.appendChild(this.node),this.toDispose.pushAll([this.selectService.onSelectionChanged(()=>this.render()),this.hoverService.onHoveredChange(()=>this.render()),this.workflowDocument.linesManager.onForceUpdate(()=>{this.mountedLines.clear(),this.bumpVersion(),this.render()})])}dispose(){this.mountedLines.clear()}render(){let[,e]=(0,s.useState)({});(0,s.useLayoutEffect)(()=>{let n=requestAnimationFrame(()=>{let n=!1;this.lines.forEach(e=>{let r=e.getData(u.WorkflowLineRenderData),i=r.renderVersion;r.update(),r.renderVersion!==i&&(n=!0)}),n&&e({})});return()=>cancelAnimationFrame(n)},[this.lines]);let n=this.lines.map(e=>this.renderLine(e));return s.default.createElement(s.default.Fragment,null,n)}bumpVersion(){this._version=this._version+1,this._version===Number.MAX_SAFE_INTEGER&&(this._version=0)}lineProps(e){let n=e.getData(u.WorkflowLineRenderData),{renderVersion:r}=n,{lineType:i}=this.workflowDocument.linesManager,o=this.selectService.isSelected(e.id),{version:a,color:s}=e,l=`${this._version}:${a}:${r}:${s}:${o}`;return{key:e.id,color:e.color,selected:o,line:e,lineType:i,version:l,strokePrefix:this.layerID}}lineComponent(e){let n=this.options.renderInsideLine??(()=>s.default.createElement(s.default.Fragment,null));return s.default.createElement(M,{...e},s.default.createElement(n,{...e}))}renderLine(e){let n=this.lineProps(e),r=this.mountedLines.get(e.id),i=void 0!==r,{portal:o,version:s}=r??{};if(i&&s===n.version)return o;!i&&(this.renderElement.appendChild(e.node),e.onDispose(()=>{this.mountedLines.delete(e.id),e.node.remove()}));let l=a.default.createPortal(this.lineComponent(n),e.node);return this.mountedLines.set(e.id,{line:e,portal:l,version:n.version}),l}get renderElement(){return this.stackContext.node}};P.type="WorkflowLinesLayer",b([(0,h.inject)(u.WorkflowHoverService)],P.prototype,"hoverService",2),b([(0,h.inject)(u.WorkflowSelectService)],P.prototype,"selectService",2),b([(0,h.inject)(p.StackingContextManager)],P.prototype,"stackContext",2),b([(0,c.observeEntities)(u.WorkflowLineEntity)],P.prototype,"lines",2),b([(0,c.observeEntities)(u.WorkflowPortEntity)],P.prototype,"ports",2),b([(0,c.observeEntityDatas)(u.WorkflowNodeEntity,c.TransformData)],P.prototype,"trans",2),b([(0,h.inject)(u.WorkflowDocument)],P.prototype,"workflowDocument",2),P=b([(0,h.injectable)()],P);var D=((i=D||{})[i.RIGHT_TOP=0]="RIGHT_TOP",i[i.RIGHT_BOTTOM=1]="RIGHT_BOTTOM",i[i.LEFT_TOP=2]="LEFT_TOP",i[i.LEFT_BOTTOM=3]="LEFT_BOTTOM",i);function I(e,n){let r,i;let o=f.Rectangle.createRectangleWithTwoPoints(e,n);switch(r=e.x<=n.x?e.y<=n.y?1:0:e.y<=n.y?3:2){case 0:i=[{x:o.rightBottom.x-o.width/2,y:o.rightBottom.y},{x:o.leftTop.x+o.width/2,y:o.leftTop.y}];break;case 1:i=[{x:o.rightTop.x-o.width/2,y:o.rightTop.y},{x:o.leftBottom.x+o.width/2,y:o.leftBottom.y}];break;case 2:i=[{x:o.rightBottom.x+Math.min(o.width,300),y:o.rightBottom.y},{x:o.leftTop.x-Math.min(o.width,300),y:o.leftTop.y}];break;case 3:i=[{x:o.rightTop.x+Math.min(o.width,300),y:o.rightTop.y},{x:o.leftBottom.x-Math.min(o.width,300),y:o.leftBottom.y}]}return i}function j(e,n){let r,i;let o=f.Rectangle.createRectangleWithTwoPoints(e,n);switch(r=e.y<=n.y?e.x<=n.x?1:3:e.x<=n.x?0:2){case 1:i=[{x:o.leftTop.x,y:o.leftTop.y+o.height/2},{x:o.rightBottom.x,y:o.rightBottom.y-o.height/2}];break;case 3:i=[{x:o.rightTop.x,y:o.rightTop.y+o.height/2},{x:o.leftBottom.x,y:o.leftBottom.y-o.height/2}];break;case 0:i=[{x:o.leftBottom.x,y:o.leftBottom.y+Math.min(o.height,300)},{x:o.rightTop.x,y:o.rightTop.y-Math.min(o.height,300)}];break;case 2:i=[{x:o.rightBottom.x,y:o.rightBottom.y+Math.min(o.height,300)},{x:o.leftTop.x,y:o.leftTop.y-Math.min(o.height,300)}]}return i}var N=class{constructor(e){this.entity=e}get path(){return this.data?.path??""}calcDistance(e){return this.data?f.Point.getDistance(e,this.data.bezier.project(e)):Number.MAX_SAFE_INTEGER}get bounds(){return this.data?this.data.bbox:new f.Rectangle}update(e){this.data=this.calcBezier(e.fromPos,e.toPos)}calcBezier(e,n){let r=this.entity.vertical?j(e,n):I(e,n),i=new g.Bezier([e,...r,n]),o=i.bbox(),a=new f.Rectangle(o.x.min,o.y.min,o.x.max-o.x.min,o.y.max-o.y.min),s=this.getPath({bbox:a,fromPos:e,toPos:n,controls:r});return this.data={fromPos:e,toPos:n,bezier:i,bbox:a,controls:r,path:s},this.data}getPath(e){let{bbox:n}=e,r=e=>({x:e.x-n.x+C,y:e.y-n.y+C}),i=r(e.fromPos),o=r(e.toPos),a=e.controls.map(e=>r(e)),s=this.entity.vertical?{x:o.x,y:o.y-u.POINT_RADIUS}:{x:o.x-u.POINT_RADIUS,y:o.y},l=(()=>{let e=a.map(e=>`${e.x} ${e.y}`).join(","),n=1===a.length?"S":"C";return this.entity.vertical?`M${i.x} ${i.y+u.POINT_RADIUS} ${n} ${e}, ${s.x} ${s.y}`:`M${i.x+u.POINT_RADIUS} ${i.y} ${n} ${e}, ${s.x} ${s.y}`})();return l}};N.type=u.LineType.BEZIER;(e=>{let n=({source:e,target:n})=>e.x<n.x?{x:1,y:0}:{x:-1,y:0};e.getPoints=function({source:e,target:r,vertical:i=!1}){let o,a;let s=i?{x:0,y:1}:{x:1,y:0},l=i?{x:0,y:-1}:{x:-1,y:0},u={x:e.x+20*s.x,y:e.y+20*s.y},c={x:r.x+20*l.x,y:r.y+20*l.y},d=i?{x:0,y:u.y<c.y?1:-1}:n({source:u,target:c}),h=0!==d.x?"x":"y",f=d[h],p=[],[g,y]=function({source:e,target:n}){let r=Math.abs(n.x-e.x)/2,i=n.x<e.x?n.x+r:n.x-r,o=Math.abs(n.y-e.y)/2,a=n.y<e.y?n.y+o:n.y-o;return[i,a]}({source:e,target:r});if(s[h]*l[h]==-1){o=g,a=y;let e=[{x:o,y:u.y},{x:o,y:c.y}],n=[{x:u.x,y:a},{x:c.x,y:a}];p=s[h]===f?"x"===h?e:n:"x"===h?n:e}else{let e=[{x:u.x,y:c.y}],n=[{x:c.x,y:u.y}];p="x"===h?s.x===f?n:e:s.y===f?e:n;let r="x"===h?"y":"x",i=s[h]===l[r],d=u[r]>c[r],g=u[r]<c[r],y=1===s[h]&&(!i&&d||i&&g)||1!==s[h]&&(!i&&g||i&&d);y&&(p="x"===h?e:n);let m={x:u.x,y:u.y},b={x:c.x,y:c.y},_=Math.max(Math.abs(m.x-p[0].x),Math.abs(b.x-p[0].x)),w=Math.max(Math.abs(m.y-p[0].y),Math.abs(b.y-p[0].y));_>=w?(o=(m.x+b.x)/2,a=p[0].y):(o=p[0].x,a=(m.y+b.y)/2)}let m=[e,{x:u.x,y:u.y},...p,{x:c.x,y:c.y},r];return m};function r(e){let n=e.map(e=>e.x),r=e.map(e=>e.y),i=Math.min(...n),o=Math.max(...n),a=Math.min(...r),s=Math.max(...r);return f.Rectangle.createRectangleWithTwoPoints({x:i,y:a},{x:o,y:s})}e.getSmoothStepPath=function(e){let n=e.reduce((n,r,i)=>{let o="";return n+=o=i>0&&i<e.length-1?function(e,n,r){let i=Math.min(f.Point.getDistance(e,n)/2,f.Point.getDistance(n,r)/2,5),{x:o,y:a}=n;if(e.x===o&&o===r.x||e.y===a&&a===r.y)return`L${o} ${a}`;if(e.y===a){let n=e.x<r.x?-1:1,s=e.y<r.y?1:-1;return`L ${o+i*n},${a}Q ${o},${a} ${o},${a+i*s}`}let s=e.x<r.x?1:-1,l=e.y<r.y?-1:1;return`L ${o},${a+i*l}Q ${o},${a} ${o+i*s},${a}`}(e[i-1],r,e[i+1]):`${0===i?"M":"L"}${r.x} ${r.y}`},"");return n},e.getBounds=r;e.getFoldLineToPointDistance=function(e,n){let i=r(e);if(i.contains(n.x,n.y)){let r=e.reduce((n,r,i)=>0===i?n:(n.push([e[i-1],r]),n),[]);return Math.min(...r.map(e=>(function(e,n,r){let i;if(e.x-n.x==0)i=Math.abs(r.x-e.x);else{let o=(e.y-n.y)/(e.x-n.x),a=e.y-o*e.x;i=Math.abs((o*r.x+a-r.y)/Math.sqrt(o*o+1))}return i})(...e,n)))}return Math.min(...e.map(e=>f.Point.getDistance(e,n)))}})(o||(o={}));var T=class{constructor(e){this.entity=e}get path(){return this.data?.path??""}calcDistance(e){return this.data?o.getFoldLineToPointDistance(this.data.points,e):Number.MAX_SAFE_INTEGER}get bounds(){return this.data?this.data.bbox:new f.Rectangle}update(e){let{fromPos:n,toPos:r}=e,{vertical:i}=this.entity,a={x:i?0:u.POINT_RADIUS,y:i?u.POINT_RADIUS:0},s={x:i?0:-u.POINT_RADIUS,y:i?-u.POINT_RADIUS:0},l=o.getPoints({source:{x:n.x+a.x,y:n.y+a.y},target:{x:r.x+s.x,y:r.y+s.y},vertical:i}),c=o.getBounds(l),d=l.map(e=>({x:e.x-c.x+C,y:e.y-c.y+C})),h=o.getSmoothStepPath(d);this.data={points:l,path:h,bbox:c}}};T.type=u.LineType.LINE_CHART;(class{constructor(e){this.entity=e}get path(){return this.data?.path??""}calcDistance(e){if(!this.data)return Number.MAX_SAFE_INTEGER;let[n,r]=this.data.points;return f.Point.getDistance(e,function(e,n,r){let i=r.x-n.x,o=r.y-n.y;if(0===i)return{x:n.x,y:e.y};if(0===o)return{x:e.x,y:n.y};let a=((e.x-n.x)*i+(e.y-n.y)*o)/(i*i+o*o),s=Math.max(0,Math.min(1,a));return{x:n.x+s*i,y:n.y+s*o}}(e,n,r))}get bounds(){return this.data?this.data.bbox:new f.Rectangle}update(e){let{fromPos:n,toPos:r}=e,{vertical:i}=this.entity,o={x:i?0:u.POINT_RADIUS,y:i?u.POINT_RADIUS:0},a={x:i?0:-u.POINT_RADIUS,y:i?-u.POINT_RADIUS:0},s=[{x:n.x+o.x,y:n.y+o.y},{x:r.x+a.x,y:r.y+a.y}],l=f.Rectangle.createRectangleWithTwoPoints(s[0],s[1]),c=s.map(e=>({x:e.x-l.x+C,y:e.y-l.y+C})),d=`M ${c[0].x} ${c[0].y} L ${c[1].x} ${c[1].y}`;this.data={points:s,path:d,bbox:l}}}).type="WorkflowStraightLineContribution",(class{constructor(e){this.entity=e}get path(){return this.data?.path??""}calcDistance(e){if(!this.data)return Number.MAX_SAFE_INTEGER;let{fromPos:n,toPos:r,bbox:i}=this.data;if(!i.contains(e.x,e.y)){let n=Math.max(i.x-e.x,0,e.x-(i.x+i.width)),r=Math.max(i.y-e.y,0,e.y-(i.y+i.height));return Math.sqrt(n*n+r*r)}let o={x:(n.x+r.x)/2,y:(n.y+r.y)/2},a=f.Point.getDistance(n,o),s=f.Point.getDistance(e,o);return Math.abs(s-a)}get bounds(){return this.data?this.data.bbox:new f.Rectangle}update(e){let{fromPos:n,toPos:r}=e,{vertical:i}=this.entity,o={x:i?0:u.POINT_RADIUS,y:i?u.POINT_RADIUS:0},a={x:i?0:-u.POINT_RADIUS,y:i?-u.POINT_RADIUS:0},s={x:n.x+o.x,y:n.y+o.y},l={x:r.x+a.x,y:r.y+a.y},c=this.calculateArcBBox(s,l),d=this.getArcPath(s,l,c);this.data={fromPos:s,toPos:l,path:d,bbox:c}}calculateArcBBox(e,n){let r=n.x-e.x,i=n.y-e.y,o=Math.sqrt(r*r+i*i)/2,a=(e.x+n.x)/2,s=(e.y+n.y)/2;return new f.Rectangle(a-o,s-o,2*o,2*o)}getArcPath(e,n,r){let i=n.x-e.x,o=n.y-e.y,a=Math.sqrt(i*i+o*o),s={x:e.x-r.x+C,y:e.y-r.y+C},l={x:n.x-r.x+C,y:n.y-r.y+C};return`M ${s.x} ${s.y} A ${a/2} ${a/2} 0 0 1 ${l.x} ${l.y}`}}).type="WorkflowArkLineContribution",(class{constructor(e){this.entity=e}get path(){return this.data?.path??""}calcDistance(e){return this.data?Math.min(...this.data.points.slice(1).map((n,r)=>{let i=this.data.points[r];return this.getDistanceToLineSegment(e,i,n)})):Number.MAX_SAFE_INTEGER}getDistanceToLineSegment(e,n,r){let i=r.x-n.x,o=r.y-n.y;if(0===i&&0===o)return f.Point.getDistance(e,n);let a=((e.x-n.x)*i+(e.y-n.y)*o)/(i*i+o*o);if(a<0)return f.Point.getDistance(e,n);if(a>1)return f.Point.getDistance(e,r);let s={x:n.x+a*i,y:n.y+a*o};return f.Point.getDistance(e,s)}get bounds(){return this.data?this.data.bbox:new f.Rectangle}update(e){let{fromPos:n,toPos:r}=e,{vertical:i}=this.entity,o={x:i?0:u.POINT_RADIUS,y:i?u.POINT_RADIUS:0},a={x:i?0:-u.POINT_RADIUS,y:i?-u.POINT_RADIUS:0},s=this.getManhattanPoints({source:{x:n.x+o.x,y:n.y+o.y},target:{x:r.x+a.x,y:r.y+a.y},vertical:i}),l=f.Rectangle.createRectangleWithTwoPoints(s.reduce((e,n)=>({x:Math.min(e.x,n.x),y:Math.min(e.y,n.y)}),s[0]),s.reduce((e,n)=>({x:Math.max(e.x,n.x),y:Math.max(e.y,n.y)}),s[0])),c=s.map(e=>({x:e.x-l.x+C,y:e.y-l.y+C})),d=this.getPathFromPoints(c);this.data={points:s,path:d,bbox:l}}getManhattanPoints(e){let{source:n,target:r,vertical:i}=e,o=[n];return i?(n.y!==r.y&&o.push({x:n.x,y:r.y}),n.x!==r.x&&o.push({x:r.x,y:r.y})):(n.x!==r.x&&o.push({x:r.x,y:n.y}),n.y!==r.y&&o.push({x:r.x,y:r.y})),o[o.length-1]!==r&&o.push(r),o}getPathFromPoints(e){return e.reduce((e,n,r)=>0===r?`M ${n.x} ${n.y}`:`${e} L ${n.x} ${n.y}`,"")}}).type="WorkflowManhattanLineContribution";var k=(0,c.definePluginCreator)({onInit:(e,n)=>{e.playground.registerLayer(P,{...n})},onReady:(e,n)=>{let r=e.container.get(u.WorkflowLinesManager);r.registerContribution(N).registerContribution(T),n.contributions&&n.contributions.forEach(e=>{r.registerContribution(e)}),n.defaultLineType&&r.switchLineType(n.defaultLineType)}})},39848:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{WorkflowNodePanelService:function(){return y},createFreeNodePanelPlugin:function(){return b}});var i=r("93665"),o=r("91516"),a=r("85870"),s=r("69540"),l=r("57954"),u=r("97752"),c=r.ir(r("56144")),d=Object.defineProperty,h=Object.getOwnPropertyDescriptor,f=(e,n,r,i)=>{for(var o=i>1?void 0:i?h(n,r):n,a,s=e.length-1;s>=0;s--)(a=e[s])&&(o=(i?a(n,r,o):a(o))||o);return i&&o&&d(n,r,o),o},p=(e,n)=>void 0!==e&&void 0!==n&&e-n>1e-5,g=(e,n)=>void 0!==e&&void 0!==n&&n-e>1e-5,y=class{constructor(){this.toDispose=new a.DisposableCollection,this.callNodePanel=async()=>void 0}dispose(){this.toDispose.dispose()}setCallNodePanel(e){this.callNodePanel=e}async call(e){let{panelPosition:n,fromPort:r,enableMultiAdd:i=!1,panelProps:o={},containerNode:a,afterAddNode:s}=e;if(!n||this.playgroundConfig.readonly)return;let l=[];return new Promise(u=>{this.callNodePanel({position:n,enableMultiAdd:i,panelProps:o,containerNode:this.getContainerNode({fromPort:r,containerNode:a}),onSelect:async n=>{let r=await this.addNode(e,n);s?.(r),i?r&&l.push(r):u(r)},onClose:()=>{u(i?l:void 0)}})})}async addNode(e,n){let{panelPosition:r,fromPort:i,toPort:o,canAddNode:s,autoOffsetPadding:l={x:100,y:100},enableBuildLine:u=!1,enableSelectPosition:c=!1,enableAutoOffset:d=!1,enableDragNode:h=!1}=e;if(!r||!n)return;let{nodeType:f,selectEvent:p,nodeJSON:g}=n,y=this.getContainerNode({fromPort:i,containerNode:e.containerNode});if(s){let e=s({nodeType:f,containerNode:y});if(!e)return}let m=this.playgroundConfig.getPosFromMouseEvent(p),b=e.customPosition?e.customPosition({nodeType:f,selectPosition:m}):this.adjustNodePosition({nodeType:f,position:c?m:r,fromPort:i,toPort:o,containerNode:y}),_=await this.document.createWorkflowNodeByType(f,b,g??{},y?.id);if(_){if(d&&i&&o){let e=this.subPositionOffset({node:_,fromPort:i,toPort:o,padding:l}),n=this.getSubsequentNodes(o.node);this.updateSubSequentNodesPosition({node:_,subsequentNodes:n,fromPort:i,toPort:o,containerNode:y,offset:e})}return u||h?(await (0,a.delay)(20),u&&this.buildLine({fromPort:i,node:_,toPort:o}),h&&(this.selectService.selectNode(_),this.dragService.startDragSelectedNodes(p)),_):_}}buildLine(e){let{fromPort:n,node:r,toPort:i}=e,o=r.getData(s.WorkflowNodePortsData);if(!o)return;let a=o.inputPorts?.length>0;if(n&&a){let e=o.inputPorts[0],i=1===o.inputPorts.length;this.linesManager.createLine({from:n.node.id,fromPort:n.portID,to:r.id,toPort:i?void 0:e.id})}let l=o.outputPorts?.length>0;if(i&&l){let e=o.outputPorts[0];this.linesManager.createLine({from:r.id,fromPort:e.portID,to:i.node.id,toPort:i.portID})}}adjustNodePosition(e){let{nodeType:n,position:r,fromPort:i,toPort:o,containerNode:a}=e,s=this.document.getNodeRegistry(n),l=s?.meta?.size,u=r;return u=l?i&&o?{x:r.x,y:r.y-l.height/2}:i&&!o?{x:r.x+l.width/2,y:r.y-l.height/2}:!i&&o?{x:r.x-l.width/2,y:r.y-l.height/2}:r:r,this.dragService.adjustSubNodePosition(n,a,u)}getContainerNode(e){let{fromPort:n,containerNode:r}=e;if(r)return r;let i=n?.node,o=i?.parent;return i?.flowNodeType===u.FlowNodeBaseType.SUB_CANVAS?i:o}getPortBox(e,n={x:0,y:0}){let r=e.node;if(r.flowNodeType===u.FlowNodeBaseType.SUB_CANVAS){let{point:r}=e;return"input"===e.portType?new a.Rectangle(r.x+n.x,r.y-50+n.y,300,100):new a.Rectangle(r.x-300,r.y-50,300,100)}let i=r.getData(u.FlowNodeTransformData).bounds;return i}subPositionOffset(e){let{node:n,fromPort:r,toPort:i,padding:o}=e,s=this.getPortBox(r),l=this.getPortBox(i),c=n.getData(u.FlowNodeTransformData),d=n.getNodeMeta()?.size??{width:c.bounds.width,height:c.bounds.height},h={x:d.width+o.x,y:d.height+o.y},f=this.rectDistance(s,l),y={x:p(f.x,h.x)?0:h.x-f.x,y:p(f.y,h.y)?0:h.y-f.y};if(0===y.x||0===y.y)return;let m={vertical:a.Rectangle.intersects(s,l,"horizontal"),horizontal:a.Rectangle.intersects(s,l,"vertical")},b=0,_=0;return!m.horizontal&&(p(l.center.y,s.center.y)?_=y.y:g(l.center.y,s.center.y)&&(_=-y.y)),!m.vertical&&(p(l.center.x,s.center.x)?b=y.x:g(l.center.x,s.center.x)&&(b=-y.x)),{x:b,y:_}}rectDistance(e,n){let r=Math.abs(Math.min(e.right,n.right)-Math.max(e.left,n.left)),i=Math.abs(Math.min(e.bottom,n.bottom)-Math.max(e.top,n.top));return a.Rectangle.intersects(e,n)?{x:-r,y:-i}:{x:r,y:i}}getSubsequentNodes(e){if(e.flowNodeType===u.FlowNodeBaseType.SUB_CANVAS)return[];let n=e.parent?.collapsedChildren??[],r=new Set,i=new Map;this.linesManager.getAllLines().forEach(e=>{!i.has(e.from.id)&&i.set(e.from.id,[]),e.to?.id&&e.to.flowNodeType!==u.FlowNodeBaseType.SUB_CANVAS&&i.get(e.from.id)?.push(e.to.id)});let o=e=>{if(r.has(e))return;r.add(e);let n=i.get(e)??[];n.forEach(o)};o(e.id);let a=n.filter(e=>r.has(e.id));return a}updateSubSequentNodesPosition(e){let{node:n,subsequentNodes:r,fromPort:o,toPort:a,containerNode:s,offset:u}=e;if(!u||!a)return;let c=r.map(e=>{let n=e.getData(i.TransformData);return{x:n.position.x,y:n.position.y}});this.historyService.pushOperation({type:l.FreeOperationType.dragNodes,value:{ids:r.map(e=>e.id),value:c.map(e=>({x:e.x+u.x,y:e.y+u.y})),oldValue:c}});let d=this.getPortBox(o),h=this.getPortBox(a,u),f=n.getData(i.TransformData),p={x:(d.center.x+h.center.x)/2,y:(d.y+h.y)/2};s&&(p=this.dragService.adjustSubNodePosition(n.flowNodeType,s,p)),this.historyService.pushOperation({type:l.FreeOperationType.dragNodes,value:{ids:[n.id],value:[p],oldValue:[{x:f.position.x,y:f.position.y}]}})}};f([(0,o.inject)(s.WorkflowDocument)],y.prototype,"document",2),f([(0,o.inject)(s.WorkflowDragService)],y.prototype,"dragService",2),f([(0,o.inject)(s.WorkflowSelectService)],y.prototype,"selectService",2),f([(0,o.inject)(s.WorkflowLinesManager)],y.prototype,"linesManager",2),f([(0,o.inject)(i.PlaygroundConfigEntity)],y.prototype,"playgroundConfig",2),f([(0,o.inject)(l.HistoryService)],y.prototype,"historyService",2),y=f([(0,o.injectable)()],y);var m=class extends i.Layer{constructor(){super(),this.node=a.domUtils.createDivWithClass("gedit-playground-layer gedit-node-panel-layer"),this.node.style.zIndex="9999",this.renderList=new Map}onReady(){this.service.setCallNodePanel(this.call.bind(this))}onZoom(e){this.node.style.transform=`scale(${e})`}render(){let e=this.options.renderer;return c.default.createElement(c.default.Fragment,null,Array.from(this.renderList.keys()).map(n=>{let r=this.renderList.get(n);return c.default.createElement(e,{key:n,...r})}))}async call(e){let n=(0,s.nanoid)(),{enableMultiAdd:r,onSelect:i,onClose:o}=e;return new Promise(a=>{let s=()=>{this.renderList.delete(n),this.render(),a()},l={...e,onSelect:e=>{i(e),!r&&s()},onClose:()=>{s(),o()}};this.renderList.set(n,l),this.render()})}};m.type="WorkflowNodePanelLayer",f([(0,o.inject)(y)],m.prototype,"service",2);var b=(0,i.definePluginCreator)({onBind({bind:e}){e(y).toSelf().inSingletonScope()},onInit:(e,n)=>{e.playground.registerLayer(m,{renderer:n.renderer})},onDispose:e=>{let n=e.get(y);n.dispose()}})},2203:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{WorkflowSnapService:function(){return _},createFreeSnapPlugin:function(){return E}});var i=r("93665"),o=r("91516"),a=r("97752"),s=r("69540"),l=r("85870"),u=r.ir(r("56144")),c=Object.defineProperty,d=Object.getOwnPropertyDescriptor,h=(e,n,r,i)=>{for(var o=i>1?void 0:i?d(n,r):n,a,s=e.length-1;s>=0;s--)(a=e[s])&&(o=(i?a(n,r,o):a(o))||o);return i&&o&&c(n,r,o),o},f={enableEdgeSnapping:!0,edgeThreshold:7,enableGridSnapping:!1,gridSize:20,enableMultiSnapping:!1,enableOnlyViewportSnapping:!0,edgeColor:"#4E40E5",alignColor:"#4E40E5",edgeLineWidth:2,alignLineWidth:2,alignCrossWidth:16},p=(e,n)=>void 0!==e&&void 0!==n&&1e-5>Math.abs(e-n),g=(e,n)=>void 0!==e&&void 0!==n&&n-e>1e-5,y=(e,n)=>void 0!==e&&void 0!==n&&e-n>1e-5,m=(e,n)=>p(e,n)||g(e,n),b=e=>"number"==typeof e&&!isNaN(e),_=class{constructor(){this.disposers=[],this.snapEmitter=new l.Emitter,this.onSnap=this.snapEmitter.event}init(e={}){this.options={...f,...e},this.mountListener()}dispose(){this.disposers.forEach(e=>e.dispose())}mountListener(){let e=this.dragService.registerPosAdjuster(e=>this.snapping({targetNodes:e.selectedNodes,position:e.position})),n=this.dragService.onNodesDrag(e=>{"onDragEnd"===e.type&&(this.options.enableGridSnapping&&this.gridSnapping({targetNodes:e.nodes,gridSize:this.options.gridSize}),this.options.enableEdgeSnapping&&this.clear())});this.disposers.push(e,n)}snapping(e){let{targetNodes:n,position:r}=e,i=!this.options.enableMultiSnapping&&1!==n.length;if(!this.options.enableEdgeSnapping||i)return{x:0,y:0};let o=this.getBounds(n),a=new l.Rectangle(r.x,r.y,o.width,o.height),s=this.getSnapNodeRects({targetNodes:n,targetRect:a}),{alignOffset:u,alignRects:c,alignSpacing:d}=this.calcAlignOffset({targetRect:a,alignThreshold:this.options.edgeThreshold,snapNodeRects:s}),{snapOffset:h,snapEdgeLines:f}=this.calcSnapOffset({targetRect:a,edgeThreshold:this.options.edgeThreshold,snapNodeRects:s}),p={x:h.x||u.x,y:h.y||u.y},g=new l.Rectangle(r.x+p.x,r.y+p.y,a.width,a.height);return this.snapEmitter.fire({snapRect:g,snapEdgeLines:f,alignRects:c,alignSpacing:d}),p}calcSnapOffset(e){let{snapNodeRects:n,edgeThreshold:r,targetRect:i}=e,o=this.getSnapLines({snapNodeRects:n}),a=o.horizontal.find(e=>m(Math.abs(e.y-i.top),r)),s=o.horizontal.find(e=>m(Math.abs(e.y-i.bottom),r)),l=o.vertical.find(e=>m(Math.abs(e.x-i.left),r)),u=o.vertical.find(e=>m(Math.abs(e.x-i.right),r)),c=o.midHorizontal.find(e=>m(Math.abs(e.y-i.center.y),r)),d=o.midVertical.find(e=>m(Math.abs(e.x-i.center.x),r)),h=a?.y,f=b(s?.y)?s.y-i.height:void 0,g=l?.x,y=b(u?.x)?u.x-i.width:void 0,_=b(c?.y)?c.y-i.height/2:void 0,w=b(d?.x)?d.x-i.width/2:void 0,E={x:w??g??y??i.x,y:_??h??f??i.y},x={x:E.x-i.x,y:E.y-i.y},C={top:p(h,E.y)?a:void 0,bottom:p(f,E.y)?s:void 0,left:p(g,E.x)?l:void 0,right:p(y,E.x)?u:void 0,midVertical:p(w,E.x)?d:void 0,midHorizontal:p(_,E.y)?c:void 0};return{snapOffset:x,snapEdgeLines:C}}gridSnapping(e){let{gridSize:n,targetNodes:r}=e,i=this.getBounds(r),o=e=>Math.round(e/n)*n,a={x:o(i.x),y:o(i.y)},s={x:a.x-i.x,y:a.y-i.y};r.forEach(e=>this.updateNodePositionWithOffset({node:e,offset:s}))}clear(){this.snapEmitter.fire({snapEdgeLines:{},snapRect:l.Rectangle.EMPTY,alignRects:{top:[],bottom:[],left:[],right:[]},alignSpacing:{}})}getSnapLines(e){let{snapNodeRects:n}=e,r=[],i=[],o=[],a=[];return n.forEach(e=>{let n=e.rect,s=n.center,l={y:n.top,sourceNodeId:e.id},u={y:n.bottom,sourceNodeId:e.id},c={x:n.left,sourceNodeId:e.id},d={x:n.right,sourceNodeId:e.id},h={y:s.y,sourceNodeId:e.id},f={x:s.x,sourceNodeId:e.id};r.push(l,u),i.push(c,d),o.push(h),a.push(f)}),{horizontal:r,vertical:i,midHorizontal:o,midVertical:a}}getAvailableNodes(e){let{targetNodes:n,targetRect:r}=e,i=r.center,o=n[0].parent?.id??this.document.root.id,s=n.map(e=>e.id);s.push(a.FlowNodeBaseType.ROOT);let l=this.nodes.filter(e=>e.parent?.id===o).filter(e=>!s.includes(e.id)).sort((e,n)=>{let r=e.getData(a.FlowNodeTransformData).bounds.center,o=n.getData(a.FlowNodeTransformData).bounds.center,s=Math.abs(r.x-i.x)+Math.abs(r.y-i.y),l=Math.abs(o.x-i.x)+Math.abs(o.y-i.y);return s-l});return l}viewRect(){let{width:e,height:n,scrollX:r,scrollY:i,zoom:o}=this.playgroundConfig.config;return new l.Rectangle(r/o,i/o,e/o,n/o)}getSnapNodeRects(e){let n=this.getAvailableNodes(e),r=this.viewRect();return n.map(e=>{let n={id:e.id,rect:e.getData(a.FlowNodeTransformData).bounds,entity:e};if(!this.options.enableOnlyViewportSnapping||e.parent?.flowNodeType!==a.FlowNodeBaseType.ROOT||l.Rectangle.intersects(r,n.rect))return n}).filter(Boolean)}get nodes(){return this.entityManager.getEntities(s.WorkflowNodeEntity)}getBounds(e){return 0===e.length?l.Rectangle.EMPTY:l.Rectangle.enlarge(e.map(e=>e.getData(a.FlowNodeTransformData).bounds))}updateNodePositionWithOffset(e){let{node:n,offset:r}=e,o=n.getData(i.TransformData),s={x:o.position.x+r.x,y:o.position.y+r.y};n.collapsedChildren?.length>0&&n.collapsedChildren.forEach(e=>{let n=e.getData(a.FlowNodeTransformData);n.fireChange()}),o.update({position:s})}calcAlignOffset(e){let n,r,i,o,a,s;let{snapNodeRects:l,targetRect:u,alignThreshold:c}=e,d=this.getAlignRects({targetRect:u,snapNodeRects:l}),h=this.calcAlignSpacing({targetRect:u,alignRects:d});if(h.top){let e=d.top[0].rect.bottom+h.top,r=m(Math.abs(u.top-e),c);r?n=e:h.top=void 0}if(h.bottom){let e=d.bottom[0].rect.top-h.bottom,n=g(Math.abs(u.bottom-e),c);n?r=e-u.height:h.bottom=void 0}if(h.left){let e=d.left[0].rect.right+h.left,n=m(Math.abs(u.left-e),c);n?i=e:h.left=void 0}if(h.right){let e=d.right[0].rect.left-h.right,n=m(Math.abs(u.right-e),c);n?o=e-u.width:h.right=void 0}if(h.midHorizontal){let e=d.left[0].rect.right+h.midHorizontal,n=m(Math.abs(u.left-e),c);n?s=e:h.midHorizontal=void 0}if(h.midVertical){let e=d.top[0].rect.bottom+h.midVertical,n=m(Math.abs(u.top-e),c);n?a=e:h.midVertical=void 0}let f={x:s??i??o??u.x,y:a??n??r??u.y},p={x:f.x-u.x,y:f.y-u.y};return{alignOffset:p,alignRects:d,alignSpacing:h}}calcAlignSpacing(e){let{targetRect:n,alignRects:r}=e,i=this.getDirectionAlignSpacing({rects:r.top,isHorizontal:!1}),o=this.getDirectionAlignSpacing({rects:r.bottom,isHorizontal:!1}),a=this.getDirectionAlignSpacing({rects:r.left,isHorizontal:!0}),s=this.getDirectionAlignSpacing({rects:r.right,isHorizontal:!0}),l=this.getMidAlignSpacing({rectA:r.left[0]?.rect,rectB:r.right[0]?.rect,targetRect:n,isHorizontal:!0}),u=this.getMidAlignSpacing({rectA:r.top[0]?.rect,rectB:r.bottom[0]?.rect,targetRect:n,isHorizontal:!1});return{top:i,bottom:o,left:a,right:s,midHorizontal:l,midVertical:u}}getAlignRects(e){let{targetRect:n,snapNodeRects:r}=e,i=[],o=[],a=[],s=[];return r.forEach(e=>{let r=e.rect,{isVerticalIntersection:l,isHorizontalIntersection:u,isIntersection:c}=this.intersection(r,n);if(!c)l?y(r.center.y,n.center.y)?o.push({rect:r,sourceNodeId:e.id}):i.push({rect:r,sourceNodeId:e.id}):u&&(y(r.center.x,n.center.x)?s.push({rect:r,sourceNodeId:e.id}):a.push({rect:r,sourceNodeId:e.id}))}),{top:i,bottom:o,left:a,right:s}}getMidAlignSpacing(e){let{rectA:n,rectB:r,targetRect:i,isHorizontal:o}=e;if(!n||!r)return;let{isVerticalIntersection:a,isHorizontalIntersection:s,isIntersection:l}=this.intersection(n,r);if(!l){if(o&&s&&!a){let e=Math.min(Math.abs(n.left-r.right),Math.abs(n.right-r.left));return(e-i.width)/2}else if(!o&&a&&!s){let e=Math.min(Math.abs(n.top-r.bottom),Math.abs(n.bottom-r.top));return(e-i.height)/2}}}getDirectionAlignSpacing(e){let{rects:n,isHorizontal:r}=e;if(n.length<2)return;let i=n[0].rect,o=n[1].rect,{isVerticalIntersection:a,isHorizontalIntersection:s,isIntersection:l}=this.intersection(i,o);if(!l){if(r&&s&&!a)return Math.min(Math.abs(i.left-o.right),Math.abs(i.right-o.left));else if(!r&&a&&!s)return Math.min(Math.abs(i.top-o.bottom),Math.abs(i.bottom-o.top))}}intersection(e,n){let r=g(e.left,n.right)&&y(e.right,n.left),i=g(e.top,n.bottom)&&y(e.bottom,n.top);return{isHorizontalIntersection:i,isVerticalIntersection:r,isIntersection:i&&r}}};h([(0,o.inject)(s.WorkflowDocument)],_.prototype,"document",2),h([(0,o.inject)(i.EntityManager)],_.prototype,"entityManager",2),h([(0,o.inject)(s.WorkflowDragService)],_.prototype,"dragService",2),h([(0,o.inject)(i.PlaygroundConfigEntity)],_.prototype,"playgroundConfig",2),_=h([(0,o.injectable)()],_);var w=class extends i.Layer{constructor(){super(...arguments),this.node=l.domUtils.createDivWithClass("gedit-playground-layer gedit-flow-snap-layer"),this.edgeLines=[],this.alignLines=[]}onReady(){this.node.style.zIndex="9999",this.toDispose.pushAll([this.service.onSnap(e=>{this.edgeLines=this.calcEdgeLines(e),this.alignLines=this.calcAlignLines(e),this.render()})])}render(){return u.default.createElement(u.default.Fragment,null,this.alignLines.length>0&&u.default.createElement("div",{className:"workflow-snap-align-lines"},this.renderAlignLines()),this.edgeLines.length>0&&u.default.createElement("div",{className:"workflow-snap-edge-lines"},this.renderEdgeLines()))}onZoom(e){this.node.style.transform=`scale(${e})`}renderEdgeLines(){return this.edgeLines.map(e=>{let{className:n,sourceNode:r,top:i,left:o,width:a,height:s,dashed:l}=e,c=`${n}-${r}-${i}-${o}-${a}-${s}`,d=a<s,h=`${this.options.edgeLineWidth}px ${l?"dashed":"solid"} ${this.options.edgeColor}`;return u.default.createElement("div",{className:`workflow-snap-edge-line ${n}`,"data-testid":"sdk.workflow.canvas.snap.edgeLine","data-snap-line-id":c,"data-snap-line-sourceNode":r,key:c,style:{top:i,left:o,width:a,height:s,position:"absolute",borderLeft:d?h:"none",borderTop:d?"none":h}})})}renderAlignLines(){return this.alignLines.map(e=>{let n=`${e.className}-${e.sourceNode}-${e.top}-${e.left}-${e.width}-${e.height}`,r=y(e.width,e.height),i=this.options.alignLineWidth,o=this.options.alignCrossWidth,a=r?e.top-i/2:e.top,s=r?e.left:e.left-i/2;return u.default.createElement("div",{className:`workflow-snap-align-line ${e.className}`,"data-testid":"sdk.workflow.canvas.snap.alignLine","data-snap-line-id":n,"data-snap-line-sourceNode":e.sourceNode,key:n,style:{position:"absolute"}},u.default.createElement("div",{style:{position:"absolute",top:a,left:s,width:r?e.width:i,height:r?i:e.height,backgroundColor:this.options.alignColor}}),u.default.createElement("div",{style:{position:"absolute",top:r?a-(o-i)/2:a,left:r?s:s-(o-i)/2,width:r?i:o,height:r?o:i,backgroundColor:this.options.alignColor}}),u.default.createElement("div",{style:{position:"absolute",top:r?a-(o-i)/2:a+e.height-i,left:r?s+e.width-i:s-(o-i)/2,width:r?i:o,height:r?o:i,backgroundColor:this.options.alignColor}}))})}calcEdgeLines(e){let{alignRects:n,snapRect:r,snapEdgeLines:i}=e,o=[],s=this.directionFullAlign({alignRects:n.top,targetRect:r,isVertical:!0}),l=this.directionFullAlign({alignRects:n.bottom,targetRect:r,isVertical:!0}),u=this.directionFullAlign({alignRects:n.left,targetRect:r,isVertical:!1}),c=this.directionFullAlign({alignRects:n.right,targetRect:r,isVertical:!1});if(s){let e=s.rect.top,n=l?r.bottom-r.height/2-e:r.bottom-e,i=this.options.edgeLineWidth,a={top:e,width:i,height:n};o.push({className:"edge-full-top-left",sourceNode:s.sourceNodeId,left:r.left,...a}),o.push({className:"edge-full-top-right",sourceNode:s.sourceNodeId,left:r.right,...a}),o.push({className:"edge-full-top-mid",sourceNode:s.sourceNodeId,left:r.left+r.width/2,dashed:!0,...a})}if(l){let e=s?r.top+r.height/2:r.top,n=l.rect.bottom-e,i=this.options.edgeLineWidth,a={top:e,width:i,height:n};o.push({className:"edge-full-bottom-left",sourceNode:l.sourceNodeId,left:r.left,...a}),o.push({className:"edge-full-bottom-right",sourceNode:l.sourceNodeId,left:r.right,...a}),o.push({className:"edge-full-bottom-mid",sourceNode:l.sourceNodeId,left:r.left+r.width/2,dashed:!0,...a})}if(u){let e=u.rect.left,n=c?r.right-r.width/2-e:r.right-e,i=this.options.edgeLineWidth,a={left:e,width:n,height:i};o.push({className:"edge-full-left-top",sourceNode:u.sourceNodeId,top:r.top,...a}),o.push({className:"edge-full-left-bottom",sourceNode:u.sourceNodeId,top:r.bottom,...a}),o.push({className:"edge-full-left-mid",sourceNode:u.sourceNodeId,top:r.top+r.height/2,dashed:!0,...a})}if(c){let e=u?r.left+r.width/2:r.left,n=c.rect.right-e,i=this.options.edgeLineWidth,a={left:e,width:n,height:i};o.push({className:"edge-full-right-top",sourceNode:c.sourceNodeId,top:r.top,...a}),o.push({className:"edge-full-right-bottom",sourceNode:c.sourceNodeId,top:r.bottom,...a}),o.push({className:"edge-full-right-mid",sourceNode:c.sourceNodeId,top:r.top+r.height/2,dashed:!0,...a})}let d=Object.entries(i).map(([e,n])=>{if(!n)return;let i=this.document.getNode(n.sourceNodeId);if(!i)return;let o=i.getData(a.FlowNodeTransformData).bounds;if(b(n.x)){let i=Math.min(o.top,r.top),a=Math.max(o.bottom,r.bottom),u=n.x,c=this.options.edgeLineWidth,d={className:`edge-snapped-${e}`,sourceNode:n.sourceNodeId,top:i,left:u,width:c,height:a-i,dashed:"midVertical"===e},h=i===o.top;if(h&&s||!h&&l)return;return d}if(b(n.y)){let i=Math.min(o.left,r.left),a=Math.max(o.right,r.right),s=n.y,l=this.options.edgeLineWidth,d={className:`edge-snapped-${e}`,sourceNode:n.sourceNodeId,top:s,left:i,width:a-i,height:l,dashed:"midHorizontal"===e},h=i===o.left;if(h&&u||!h&&c)return;return d}}).filter(Boolean);return o.push(...d),o}directionFullAlign(e){let{alignRects:n,targetRect:r,isVertical:i}=e,o=-1;for(let e=0;e<n.length;e++){let a=n[e],s=n[e-1]?.rect??r,l=this.rectFullAlign(a.rect,s,i);if(!l)break;o=e}let a=n[o];return a}rectFullAlign(e,n,r){return r?p(e.left,n.left)&&p(e.right,n.right):p(e.top,n.top)&&p(e.bottom,n.bottom)}calcAlignLines(e){let{alignRects:n,alignSpacing:r,snapRect:i}=e,o=this.calcDirectionAlignLines({alignRects:n.top,targetRect:i,isVertical:!0,spacing:r.midVertical??r.top}),a=this.calcDirectionAlignLines({alignRects:n.bottom,targetRect:i,isVertical:!0,spacing:r.midVertical??r.bottom}),s=this.calcDirectionAlignLines({alignRects:n.left,targetRect:i,isVertical:!1,spacing:r.midHorizontal??r.left}),l=this.calcDirectionAlignLines({alignRects:n.right,targetRect:i,isVertical:!1,spacing:r.midHorizontal??r.right});return[...o,...a,...s,...l]}calcDirectionAlignLines(e){let{alignRects:n,targetRect:r,isVertical:i,spacing:o}=e,a=[];if(!o)return a;for(let e=0;e<n.length;e++){let s=n[e],l=s.rect,u=n[e-1]?.rect??r,c=i?Math.min(Math.abs(u.top-l.bottom),Math.abs(u.bottom-l.top)):Math.min(Math.abs(u.left-l.right),Math.abs(u.right-l.left));if(!p(c,o))break;if(i){let e=this.calcHorizontalIntersectionCenter(l,r);a.push({className:"align-vertical",sourceNode:s.sourceNodeId,top:Math.min(l.bottom,u.bottom),left:e,width:1,height:o})}else{let e=this.calcVerticalIntersectionCenter(l,r);a.push({className:"align-horizontal",sourceNode:s.sourceNodeId,top:e,left:Math.min(l.right,u.right),width:o,height:1})}}return a}calcVerticalIntersectionCenter(e,n){let r=Math.max(e.top,n.top),i=Math.min(e.bottom,n.bottom);return(r+i)/2}calcHorizontalIntersectionCenter(e,n){let r=Math.max(e.left,n.left),i=Math.min(e.right,n.right);return(r+i)/2}};w.type="WorkflowSnapLayer",h([(0,o.inject)(s.WorkflowDocument)],w.prototype,"document",2),h([(0,o.inject)(_)],w.prototype,"service",2),w=h([(0,o.injectable)()],w);var E=(0,i.definePluginCreator)({onBind({bind:e}){e(_).toSelf().inSingletonScope()},onInit(e,n){let r={...f,...n};e.playground.registerLayer(w,r);let i=e.get(_);i.init(r)},onDispose(e){let n=e.get(_);n.dispose()}})},43955:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{StackingBaseIndex:function(){return E},StackingComputeMode:function(){return O},StackingComputing:function(){return b},StackingConfig:function(){return S},StackingContextManager:function(){return P},StackingItem:function(){return _},StackingType:function(){return w},createFreeStackPlugin:function(){return D},layersComputing:function(){return M}});var i,o,a,s,l,u=r("93665"),c=r("53168"),d=r("91516"),h=r("97752"),f=r("69540"),p=r("85870"),g=Object.defineProperty,y=Object.getOwnPropertyDescriptor,m=(e,n,r,i)=>{for(var o=i>1?void 0:i?y(n,r):n,a,s=e.length-1;s>=0;s--)(a=e[s])&&(o=(i?a(n,r,o):a(o))||o);return i&&o&&g(n,r,o),o},b=class{compute(e){this.clearCache();let{root:n,nodes:r,context:i}=e;return this.context=i,this.nodeIndexes=this.computeNodeIndexesMap(r),this.topLevel=this.computeTopLevel(r),this.maxLevel=2*this.topLevel,this.layerHandler(n.collapsedChildren),{nodeLevel:this.nodeLevel,lineLevel:this.lineLevel,topLevel:this.topLevel,maxLevel:this.maxLevel}}clearCache(){this.currentLevel=0,this.topLevel=0,this.maxLevel=0,this.nodeIndexes=new Map,this.nodeLevel=new Map,this.lineLevel=new Map}computeNodeIndexesMap(e){let n=new Map;return e.forEach((e,r)=>{n.set(e.id,r)}),n}computeTopLevel(e){let n=e.filter(e=>e.id!==h.FlowNodeBaseType.ROOT),r=n.reduce((e,n)=>n.collapsedChildren.length>0?e+1:e,0);return n.length+r+1}layerHandler(e,n=!1){let r=e.sort((e,n)=>{let r=this.nodeIndexes.get(e.id),i=this.nodeIndexes.get(n.id);return void 0===r||void 0===i?0:r-i}),i=e.map(e=>{let n=e.getData(f.WorkflowNodeLinesData),r=n.outputLines.filter(Boolean),i=n.inputLines.filter(Boolean);return[...r,...i]}).flat();i.forEach(e=>{e.isDrawing||this.context.hoveredEntityID===e.id||this.context.selectedIDs.includes(e.id)?this.lineLevel.set(e.id,this.maxLevel):this.lineLevel.set(e.id,this.getLevel(n))}),this.levelIncrease(),r.forEach(e=>{let r=this.context.selectedIDs.includes(e.id);r?this.nodeLevel.set(e.id,this.topLevel):this.nodeLevel.set(e.id,this.getLevel(n)),this.levelIncrease(),e.collapsedChildren.length>0&&this.layerHandler(e.collapsedChildren,n||r)})}getLevel(e){return e?this.topLevel+this.currentLevel:this.currentLevel}levelIncrease(){this.currentLevel+=1}};var _=((i=_||{}).Line="line",i.Node="node",i);var w=((o=w||{}).Line="line",o.Node="node",o),E={line:0,node:1},x=Object.keys(w).length,C=4,S={startIndex:8,allowLevel:2,levelIndexStep:x,maxLevel:C,maxIndex:8+C*x};var O=((a=O||{}).Stacking="stacking",a.Layers="layers",a);(e=>{e.compute=(i,o)=>{let a=n(i,o),s=r(i);s.style.position="absolute",s.style.zIndex=(0,e.zIndexStringify)(a)},e.stackingIndex=(e,n)=>{if(n<1)return;let r=E[e],i=S.startIndex+S.levelIndexStep*(n-1)+r;return i},e.nodeStackingLevel=(e,n,r=!1)=>{let i=[],o=e;for(;o;)i.push(o),o=o.parent;let a=i.reverse(),s=a.length-1,l=a.findIndex(e=>!!n.selectedIDs.includes(e.id)||!1),u=S.allowLevel+(a.length-l);return r||-1===l?s:u},e.zIndexStringify=e=>void 0===e?"auto":e.toString();let n=(n,r)=>{let i=(0,e.nodeStackingLevel)(n,r),o=(0,e.stackingIndex)("node",i);return o},r=e=>{let n=e.getData(h.FlowNodeRenderData);return n.node}})(s||(s={})),(e=>{e.compute=(e,n)=>{let i=r(e,n),o=e.node;o.style.position="absolute",o.style.zIndex=s.zIndexStringify(i)};let n=(e,n)=>{if(e.isDrawing||n.hoveredEntityID===e.id||n.selectedIDs.includes(e.id))return S.maxLevel+1;let r=s.nodeStackingLevel(e.from,n,!0);if(!e.to)return r;let i=s.nodeStackingLevel(e.to,n,!0),o=Math.min(r,i);return o},r=(e,r)=>{let i=n(e,r),o=s.stackingIndex("line",i);return o}})(l||(l={}));var M=e=>{let{nodes:n,lines:r,context:i}=e;n.forEach(e=>{s.compute(e,i)}),r.forEach(e=>{l.compute(e,i)})},P=class{constructor(){this.node=p.domUtils.createDivWithClass("gedit-playground-layer gedit-flow-render-layer"),this.disposers=[],this.mode="stacking",this.compute=(0,c.debounce)(this._compute,10)}init(e){e&&(this.mode=e),this.pipelineRenderer.node.appendChild(this.node),this.mountListener()}ready(){this.compute()}dispose(){this.disposers.forEach(e=>e.dispose())}_compute(){return"stacking"===this.mode?this.stackingCompute():M({nodes:this.nodes,lines:this.lines,context:this.context})}stackingCompute(){let e=this.context,n=new b,{nodeLevel:r,lineLevel:i}=n.compute({root:this.document.root,nodes:this.nodes,context:e});this.nodes.forEach(e=>{let n=r.get(e.id),i=e.getData(h.FlowNodeRenderData),o=i.node;if(o.style.position="absolute",!n){o.style.zIndex="auto";return}o.style.zIndex=String(S.startIndex+n)}),this.lines.forEach(e=>{let n=i.get(e.id),r=e.node;if(r.style.position="absolute",!n){r.style.zIndex="auto";return}r.style.zIndex=String(S.startIndex+n)})}get nodes(){return this.entityManager.getEntities(f.WorkflowNodeEntity)}get lines(){return this.entityManager.getEntities(f.WorkflowLineEntity)}get context(){return{hoveredEntity:this.hoverService.hoveredNode,hoveredEntityID:this.hoverService.hoveredNode?.id,selectedEntities:this.selectService.selection,selectedIDs:this.selectService.selection.map(e=>e.id)}}mountListener(){let e=this.onEntityChange(),n=this.onZoom(),r=this.onHover(),i=this.onSelect();this.disposers=[e,n,r,i]}onZoom(){return this.pipelineRegistry.onZoom(e=>{this.node.style.transform=`scale(${e})`})}onHover(){return this.hoverService.onHoveredChange(()=>{this.compute()})}onEntityChange(){return this.entityManager.onEntityChange(()=>{this.compute()})}onSelect(){return this.selectService.onSelectionChanged(()=>{this.compute()})}};m([(0,d.inject)(f.WorkflowDocument)],P.prototype,"document",2),m([(0,d.inject)(u.EntityManager)],P.prototype,"entityManager",2),m([(0,d.inject)(u.PipelineRenderer)],P.prototype,"pipelineRenderer",2),m([(0,d.inject)(u.PipelineRegistry)],P.prototype,"pipelineRegistry",2),m([(0,d.inject)(f.WorkflowHoverService)],P.prototype,"hoverService",2),m([(0,d.inject)(f.WorkflowSelectService)],P.prototype,"selectService",2),P=m([(0,d.injectable)()],P);var D=(0,u.definePluginCreator)({onBind({bind:e}){e(P).toSelf().inSingletonScope()},onInit(e,n){let r=e.get(P);r.init(n?.mode)},onReady(e){let n=e.get(P);n.ready()},onDispose(e){let n=e.get(P);n.dispose()}})},25396:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"createHistoryNodePlugin",{enumerable:!0,get:function(){return y}});var i=r("97752"),o=r("93665"),a=r("90670"),s=r("53168"),l=r("62483"),u=r("41474"),c=r("91516"),d=Object.defineProperty,h=Object.getOwnPropertyDescriptor;function f(e){if(!e)return;let n=e?.getData(u.FlowNodeFormData)?.getFormModel();if(n&&(0,l.isFormModelV2)(n))return n}var p=[{type:"changeFormValues",inverse:e=>({...e,value:{...e.value,value:e.value.oldValue,oldValue:e.value.value}}),apply:({value:{value:e,path:n,id:r}},o)=>{let a=o.get(i.FlowDocument),s=f(a.getNode(r));s&&s.setValueIn(n,e)},shouldMerge:function(e,n,r){if(!n)return!1;if(Date.now()-r.getTimestamp()<500)return e.type!==n.type||e.value?.id!==n.value?.id||e.value?.path!==n.value?.path||{type:e.type,value:{...e.value,value:e.value?.value,oldValue:n.value?.oldValue}};return!1}}],g=class{registerOperationMeta(e){p.forEach(n=>{e.registerOperationMeta(n)})}};g=((e,n,r,i)=>{for(var o=i>1?void 0:i?h(n,r):n,a,s=e.length-1;s>=0;s--)(a=e[s])&&(o=(i?a(n,r,o):a(o))||o);return i&&o&&d(n,r,o),o})([(0,c.injectable)()],g);var y=(0,o.definePluginCreator)({onBind:({bind:e})=>{(0,o.bindContributions)(e,g,[a.OperationContribution])},onInit:(e,n)=>{let r=e.get(i.FlowDocument),o=e.get(a.HistoryService);r.onNodeCreate(({node:e})=>{let n=f(e);n&&!function(e,n,r){e.onFormValuesChange(e=>{r.pushOperation({type:"changeFormValues",value:{id:n.id,path:e.name,value:(0,s.get)(e.values,e.name),oldValue:(0,s.get)(e.prevValues,e.name)}},{noApply:!0})})}(n,e,o)})},containerModules:[a.HistoryContainerModule]})},90670:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{HistoryConfig:function(){return b},HistoryContainerModule:function(){return D},HistoryContext:function(){return m},HistoryManager:function(){return M},HistoryService:function(){return P},HistoryStack:function(){return O},OperationContribution:function(){return g},OperationRegistry:function(){return y},OperationService:function(){return _},StackOperation:function(){return S},UndoRedoService:function(){return C}});var i,o,a,s=r("91516"),l=r("85870"),u=r("57254"),c=r("53168"),d=r("93665"),h=Object.defineProperty,f=Object.getOwnPropertyDescriptor,p=(e,n,r,i)=>{for(var o=i>1?void 0:i?f(n,r):n,a,s=e.length-1;s>=0;s--)(a=e[s])&&(o=(i?a(n,r,o):a(o))||o);return i&&o&&h(n,r,o),o},g=Symbol("OperationContribution"),y=class{constructor(){this._operationMetas=new Map,this.contributions=[]}init(){for(let e of this.contributions)e.registerOperationMeta?.(this)}registerOperationMeta(e){if(this._operationMetas.has(e.type))return console.warn(`A operation meta ${e.type} is already registered.`),l.Disposable.NULL;let n=new l.DisposableCollection(this._doRegisterOperationMetaMeta(e));return n}getOperationMeta(e){return this._operationMetas.get(e)}_doRegisterOperationMetaMeta(e){return this._operationMetas.set(e.type,e),{dispose:()=>{this._operationMetas.delete(e.type)}}}};p([(0,s.multiInject)(g),(0,s.optional)()],y.prototype,"contributions",2),p([(0,s.postConstruct)()],y.prototype,"init",1),y=p([(0,s.injectable)()],y);var m=class{};m=p([(0,s.injectable)()],m);var b=class{constructor(){this.generateId=()=>(0,u.nanoid)(),this.getSnapshot=()=>""}};b=p([(0,s.injectable)()],b);var _=class{constructor(){this.applyEmitter=new l.Emitter,this.onApply=this.applyEmitter.event,this._toDispose=new l.DisposableCollection}init(){this._toDispose.push(this.applyEmitter)}applyOperation(e,n){let r;let i=this.operationRegistry.getOperationMeta(e.type);if(!i)throw Error(`Operation meta ${e.type} has not registered.`);return!n?.noApply&&(r=i.apply(e,this.context.source)),this.applyEmitter.fire(e),r}getOperationLabel(e){let n=this.operationRegistry.getOperationMeta(e.type);if(n&&n.getLabel)return n.getLabel(e,this.context.source)}getOperationDescription(e){let n=this.operationRegistry.getOperationMeta(e.type);if(n&&n.getDescription)return n.getDescription(e,this.context.source)}inverseOperations(e){return e.map(e=>this.inverseOperation(e)).reverse()}inverseOperation(e){let n=this.operationRegistry.getOperationMeta(e.type);if(!n)throw Error(`Operation meta ${e.type} has not registered.`);return n.inverse(e)}dispose(){this._toDispose.dispose()}};p([(0,s.inject)(y)],_.prototype,"operationRegistry",2),p([(0,s.inject)(m)],_.prototype,"context",2),p([(0,s.inject)(b)],_.prototype,"config",2),p([(0,s.postConstruct)()],_.prototype,"init",1),_=p([(0,s.injectable)()],_);var w=((i=w||{}).UNDO="undo",i.REDO="redo",i.PUSH="push",i.CLEAR="clear",i);var E=((o=E||{}).ADD="add",o.UPDATE="update",o.CLEAR="clear",o.ADD_OPERATION="add_operation",o.UPDATE_OPERATION="update_operation",o);var x=((a=x||{}).ADD="ADD",a.UPDATE="UPDATE",a),C=class{constructor(){this._undoing=!1,this._redoing=!1,this._limit=100,this.onChangeEmitter=new l.Emitter,this.onChange=this.onChangeEmitter.event,this._toDispose=new l.DisposableCollection,this._undoStack=[],this._redoStack=[],this._toDispose.push(this.onChangeEmitter)}setLimit(e){this._limit=e}pushElement(e){this._redoStack=[],this._stackPush(this._undoStack,e),this._toDispose.push(e),this._emitChange("push",e)}getUndoStack(){return this._undoStack}getRedoStack(){return this._redoStack}getLastElement(){return this._undoStack[this._undoStack.length-1]}async undo(){if(!this.canUndo()||this._undoing)return;this._undoing=!0;let e=this._undoStack.pop();try{await e.undo()}finally{this._stackPush(this._redoStack,e),this._emitChange("undo",e),this._undoing=!1}}async redo(){if(!this.canRedo()||this._redoing)return;this._redoing=!0;let e=this._redoStack.pop();try{await e.redo()}finally{this._stackPush(this._undoStack,e),this._emitChange("redo",e),this._redoing=!1}}canUndo(){return this._undoStack.length>0}canRedo(){return this._redoStack.length>0}canPush(){return!this._redoing&&!this._undoing}clear(){this.clearRedoStack(),this.clearUndoStack(),this._emitChange("clear")}clearRedoStack(){this._redoStack.forEach(e=>{e.dispose()}),this._redoStack=[]}clearUndoStack(){this._undoStack.forEach(e=>{e.dispose()}),this._undoStack=[]}dispose(){this.clear(),this._toDispose.dispose()}_stackPush(e,n){e.push(n),e.length>this._limit&&e.shift()}_emitChange(e,n){n?this.onChangeEmitter.fire({type:e,element:n}):this.onChangeEmitter.fire({type:e})}};C=p([(0,s.injectable)()],C);var S=class{constructor(e,n=[]){this._toDispose=new l.DisposableCollection,this._timestamp=Date.now(),this._operationService=e,this._operations=n.map(e=>this._operation(e)),this._id=e.config.generateId()}get id(){return this._id}getTimestamp(){return this._timestamp}pushOperation(e){let n=this._operation(e);return this._operations.push(n),n}getOperations(){return this._operations}getChangeOperations(e){return"undo"===e?this._operationService.inverseOperations(this._operations):this._operations}getFirstOperation(){return this._operations[0]}getLastOperation(){return this._operations[this._operations.length-1]}async undo(){let e=this._operationService.inverseOperations(this._operations);for(let n of e)await this._apply(n)}async redo(){for(let e of this._operations)await this._apply(e)}revert(e){let n=this._operations;for(let r of("undo"!==e&&(n=this._operations.map(e=>this._inverse(e)).reverse()),n))this._apply(r)}_inverse(e){return this._operationService.inverseOperation(e)}async _apply(e){await this._operationService.applyOperation(e)}_operation(e){return{...e,value:(0,c.cloneDeep)(e.value),id:this._operationService.config.generateId()}}dispose(){this._toDispose.dispose()}},O=class{constructor(){this._items=[],this.onChangeEmitter=new l.Emitter,this.onChange=this.onChangeEmitter.event,this._toDispose=new l.DisposableCollection,this.limit=100,this._toDispose.push(this.onChangeEmitter)}get items(){return this._items}add(e,n){let r=this._getHistoryItem(e,n);return this._items.unshift(r),this._items.length>this.limit&&this._items.pop(),this.onChangeEmitter.fire({type:"add",value:r,service:e}),r}findById(e){return this._items.find(n=>n.id===e)}changeByIndex(e,n,r){let i=this._getHistoryItem(n,r);this._items[e]=i,this.onChangeEmitter.fire({type:"update",value:i,service:n})}addOperation(e,n,r){let i=this._items.find(e=>e.id===n);if(!i){console.warn("no history item found");return}let o=this._getHistoryOperation(e,r);i.operations.push(o),this.onChangeEmitter.fire({type:"add_operation",value:{historyItem:i,operation:o},service:e})}updateOperation(e,n,r){let i=this._items.find(e=>e.id===n);if(!i){console.warn("no history item found");return}let o=i.operations.findIndex(e=>e.id==e.id);if(o<0){console.warn("no operation found");return}let a=this._getHistoryOperation(e,r);i.operations.splice(o,1,a),this.onChangeEmitter.fire({type:"update_operation",value:{historyItem:i,operation:a},service:e})}clear(){this._items=[]}dispose(){this._items=[],this._toDispose.dispose()}_getHistoryItem(e,n){return{...n,uri:e.context.uri,time:O.dateFormat(n.timestamp),operations:n.operations.map(r=>this._getHistoryOperation(e,r,"push"!==n.type))}}_getHistoryOperation(e,n,r=!1){let i;if(r)i=this.historyConfig.generateId();else{let e=n.id;if(!e)throw Error("no operation id found");i=e}return{...(0,c.cloneDeep)(n),id:i,label:e.operationService.getOperationLabel(n),description:e.operationService.getOperationDescription(n),timestamp:Date.now()}}static dateFormat(e){return new Date(e).toLocaleString()}};p([(0,s.inject)(b)],O.prototype,"historyConfig",2),O=p([(0,s.injectable)()],O);var M=class{constructor(){this._historyServices=new Map,this._toDispose=new l.DisposableCollection}registerHistoryService(e){let n=new l.DisposableCollection;n.pushAll([e.undoRedoService.onChange(n=>{if("clear"===n.type)return;let{type:r,element:i}=n,o=i.getChangeOperations(r),a={id:"push"===r?i.id:this.historyConfig.generateId(),type:r,uri:e.context.uri,operations:o,timestamp:Date.now()};this.historyStack.add(e,a)}),e.onMerge(n=>{this._handleMerge(e,n)})]),this._historyServices.set(e,n),this._toDispose.push(e.onWillDispose(()=>{this.unregisterHistoryService(e)}))}unregisterHistoryService(e){let n=this._historyServices.get(e);n&&(n.dispose(),this._historyServices.delete(e))}getHistoryServiceByURI(e){for(let n of this._historyServices.keys())if(n.context.uri===e)return n}getFirstHistoryService(){for(let e of this._historyServices.keys())return e}dispose(){this._toDispose.dispose(),this.historyStack.dispose(),this._historyServices.forEach(e=>e.dispose()),this._historyServices.clear()}_handleMerge(e,n){let{element:r,operation:i}=n.value,o=this.historyStack.findById(r.id);if(o){if(!i.id){console.warn("no operation id found");return}"UPDATE"===n.type&&this.historyStack.updateOperation(e,r.id,i),"ADD"===n.type&&this.historyStack.addOperation(e,r.id,i)}}};p([(0,s.inject)(O)],M.prototype,"historyStack",2),p([(0,s.inject)(b)],M.prototype,"historyConfig",2),M=p([(0,s.injectable)()],M);var P=class{constructor(){this._toDispose=new l.DisposableCollection,this._transacting=!1,this._transactOperation=null,this._locked=!1,this._willDisposeEmitter=new l.Emitter,this._mergeEmitter=new l.Emitter,this.onWillDispose=this._willDisposeEmitter.event,this.onMerge=this._mergeEmitter.event}get onApply(){return this.operationService.onApply}init(){this._toDispose.push(this._willDisposeEmitter),this._toDispose.push(this._mergeEmitter)}start(){this._locked=!1}stop(){this._locked=!0}limit(e){this.undoRedoService.setLimit(e)}startTransaction(){if(this._transacting)return;this._transacting=!0;let e=new S(this.operationService,[]);this._transactOperation=e}endTransaction(){let e=this._transactOperation;if(e){if(0===e.getOperations().length)throw Error("no operation be pushed");this._pushStackOperation(e),this._transactOperation=null,this._transacting=!1}}transact(e){!this._transacting&&(this.startTransaction(),e(),this.endTransaction())}pushOperation(e,n){if(!this._canPush())return;let r=this._transactOperation||this.undoRedoService.getLastElement(),i=this.operationRegistry.getOperationMeta(e.type);if(!i)throw Error(`Operation meta ${e.type} has not registered.`);if(i.shouldSave&&!i.shouldSave(e))return i.apply(e,this.context.source);let o=this.operationService.applyOperation(e,{noApply:n?.noApply});i.getURI&&!e.uri&&(e.uri=i.getURI(e,this.context.source));let a=this._shouldMerge(e,r,i);if(a){if("object"==typeof a){let e=r.getLastOperation();e.value=a.value,this._mergeEmitter.fire({type:"UPDATE",value:{element:r,operation:e,value:a.value}})}else{let n=r.pushOperation(e);this._mergeEmitter.fire({type:"ADD",value:{element:r,operation:n}})}}else{let n=new S(this.operationService,[e]);this._pushStackOperation(n)}return o}getHistoryOperations(){return this.historyManager.historyStack.items.reverse().map(e=>e.operations.map(e=>({...(0,c.pick)(e,["type","value"]),label:e.label||e.type}))).flat()}async undo(){await this.undoRedoService.undo()}async redo(){await this.undoRedoService.redo()}canUndo(){return this.undoRedoService.canUndo()}canRedo(){return this.undoRedoService.canRedo()}getSnapshot(){return this.config.getSnapshot()}getRecords(){throw Error("Method not implemented.")}restore(e){throw Error("Method not implemented.")}clear(){this.undoRedoService.clear()}dispose(){this._willDisposeEmitter.fire(this),this._toDispose.dispose()}_canPush(){return!this._locked&&this.undoRedoService.canPush()}_pushStackOperation(e){this.undoRedoService.pushElement(e),this.undoRedoService.clearRedoStack()}_shouldMerge(e,n,r){return!!n&&(!!this._transacting||r.shouldMerge&&r.shouldMerge(e,n.getLastOperation(),n))}};p([(0,s.inject)(C)],P.prototype,"undoRedoService",2),p([(0,s.inject)(y)],P.prototype,"operationRegistry",2),p([(0,s.inject)(_)],P.prototype,"operationService",2),p([(0,s.inject)(m)],P.prototype,"context",2),p([(0,s.inject)(b)],P.prototype,"config",2),p([(0,s.inject)(M)],P.prototype,"historyManager",2),p([(0,s.postConstruct)()],P.prototype,"init",1),P=p([(0,s.injectable)()],P);var D=new s.ContainerModule((e,n,r,i,o,a,s)=>{e(y).toSelf().inSingletonScope(),e(_).toSelf().inSingletonScope(),e(C).toSelf().inSingletonScope(),e(P).toSelf().inSingletonScope(),e(m).toSelf().inSingletonScope(),e(M).toSelf().inSingletonScope(),e(O).toSelf().inSingletonScope(),e(b).toSelf().inSingletonScope(),a(P,(e,n)=>{let r=e.container?.parent?.get(M)||e.container.get(M);return r?(n.historyManager=r,r.registerHistoryService(n),n):n})});(0,d.definePluginCreator)({onInit:(e,n)=>{n.onApply&&e.get(_).onApply(n.onApply.bind(null,e))},containerModules:[D]})},69354:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"createI18nPlugin",{enumerable:!0,get:function(){return o}});var i=r("47042"),o=(0,r("93665").definePluginCreator)({onInit:(e,n)=>{n.onLanguageChange&&e.playground.toDispose.push(i.I18n.onLanguageChange(n.onLanguageChange)),n.languages&&n.languages.forEach(e=>i.I18n.addLanguage(e)),n.localLanguage&&i.I18n.setLocalLanguage(n.localLanguage)}})},47042:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"I18n",{enumerable:!0,get:function(){return o}});var i=r("85870"),o=new class{constructor(e){this._languages=new Map,this._localLanguage="en-US",this._onLanguageChangeEmitter=new i.Emitter,this.onLanguageChange=this._onLanguageChangeEmitter.event,e.forEach(e=>this.addLanguage(e))}t(e,n){let r=this._languages.get(this._localLanguage)?.contents||{};return r[e]?r[e]:n?.disableReturnKey?"":e}getLocalLanguage(){return this._localLanguage}setLocalLanguage(e){e!==this._localLanguage&&(this._localLanguage=e,this._onLanguageChangeEmitter.fire(e))}getLangauges(){return this._languages}addLanguage(e){let n=this._languages.get(e.languageId);n?this._languages.set(e.languageId,{...n,...e,contents:{...n.contents,...e.contents}}):this._languages.set(e.languageId,e)}}([{languageId:"en-US",languageName:"English",localizedLanguageName:"English",contents:{Yes:"Yes",No:"No"}},{languageId:"zh-CN",languageName:"Chinese",localizedLanguageName:"中文(中国)",contents:{Yes:"是",No:"否"}}])},53575:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"createMaterialsPlugin",{enumerable:!0,get:function(){return o}});var i=r("30322"),o=(0,r("93665").definePluginCreator)({onInit(e,n){let r=e.get(i.FlowRendererRegistry);r.registerReactComponent(i.FlowRendererKey.NODE_RENDER,n.renderDefaultNode||(()=>null)),n.renderTexts&&r.registerText(n.renderTexts),n.renderNodes&&Object.keys(n.renderNodes).forEach(e=>r.registerReactComponent(e,n.renderNodes[e]))}})},61400:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{FlowMinimapLayer:function(){return w},FlowMinimapService:function(){return _},MinimapDefaultCanvasStyle:function(){return g},MinimapDefaultInactiveStyle:function(){return y},MinimapDefaultOptions:function(){return m},MinimapRender:function(){return b},createMinimapPlugin:function(){return E}});var i,o,a=r.ir(r("56144")),s=r("93665"),l=r("53168"),u=r("91516"),c=r("85870"),d=r("97752"),h=Object.defineProperty,f=Object.getOwnPropertyDescriptor,p=(e,n,r,i)=>{for(var o=i>1?void 0:i?f(n,r):n,a,s=e.length-1;s>=0;s--)(a=e[s])&&(o=(i?a(n,r,o):a(o))||o);return i&&o&&h(n,r,o),o},g={canvasWidth:250,canvasHeight:250,canvasPadding:50,canvasBackground:"rgba(242, 243, 245, 1)",canvasBorderRadius:10,viewportBackground:"rgba(255, 255, 255, 1)",viewportBorderRadius:4,viewportBorderColor:"rgba(6, 7, 9, 0.10)",viewportBorderWidth:1,viewportBorderDashLength:void 0,nodeColor:"rgba(0, 0, 0, 0.10)",nodeBorderRadius:2,nodeBorderWidth:.145,nodeBorderColor:"rgba(6, 7, 9, 0.10)",overlayColor:"rgba(255, 255, 255, 0.55)"},y={scale:.7,opacity:1,translateX:15,translateY:15},m={canvasStyle:g,canvasClassName:"gedit-minimap-canvas",enableActiveDebounce:!1,enableInactiveDebounce:!0,enableDisplayAllNodes:!1,activeDebounceTime:0,inactiveDebounceTime:5},b=e=>{let{service:n,panelStyles:r={},containerStyles:i={},inactiveStyle:o={}}=e,s={...y,...o},l=(0,a.useRef)(null),[u,c]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e=l.current;e&&n.canvas&&e.appendChild(n.canvas);let r=n.onActive(e=>{c(e)});return()=>{r.dispose()}},[]);let d=u?1:s.scale,h=u?1:s.opacity,f=u?0:s.translateX,p=u?0:s.translateY;return a.default.createElement("div",{className:"minimap-container",style:{position:"fixed",right:30,bottom:70,transition:"all 0.3s ease",transform:`scale(${d}) translate(${f}px, ${p}px)`,opacity:h,transformOrigin:"bottom right",...i}},a.default.createElement("div",{className:"minimap-panel",style:{display:"flex",width:"100%",height:"100%",borderRadius:"10px",backgroundColor:"rgba(255, 255, 255, 1)",border:"0.572px solid rgba(6, 7, 9, 0.10)",overflow:"hidden",boxShadow:"0px 2.289px 6.867px 0px rgba(0, 0, 0, 0.08), 0px 4.578px 13.733px 0px rgba(0, 0, 0, 0.04)",padding:8,...r},"data-flow-editor-selectable":"false",ref:l,onMouseEnter:()=>{n.setActivate(!0)},onMouseLeave:()=>{n.setActivate(!1)}}))};(i=o||(o={})).clear=e=>{let{canvas:n,context:r}=e;r.clearRect(0,0,n.width,n.height)},i.backgroundColor=e=>{let{canvas:n,context:r,color:i}=e;r.fillStyle=i,r.fillRect(0,0,n.width,n.height)},i.rectangle=e=>{let{context:n,rect:r,color:i}=e;n.fillStyle=i,n.fillRect(r.x,r.y,r.width,r.height)},i.roundRectangle=e=>{let{context:n,rect:r,color:i,radius:o,borderColor:a,borderDashLength:s,borderWidth:l=0}=e,{x:u,y:c,width:d,height:h}=r;n.beginPath();n.moveTo(u+o,c),n.lineTo(u+d-o,c),n.quadraticCurveTo(u+d,c,u+d,c+o),n.lineTo(u+d,c+h-o),n.quadraticCurveTo(u+d,c+h,u+d-o,c+h),n.lineTo(u+o,c+h),n.quadraticCurveTo(u,c+h,u,c+h-o),n.lineTo(u,c+o),n.quadraticCurveTo(u,c,u+o,c),n.closePath(),n.fillStyle=i,n.fill(),a&&l>0&&(n.strokeStyle=a,n.lineWidth=l,s?n.setLineDash([s,s]):n.setLineDash([]),n.stroke(),n.setLineDash([]))},i.overlay=e=>{let{canvas:n,context:r,offset:i,scale:o,rect:a,color:s}=e;r.fillStyle=s,r.fillRect(0,0,n.width,(a.y+i.y)*o),r.fillRect(0,(a.y+a.height+i.y)*o,n.width,n.height-(a.y+a.height+i.y)*o),r.fillRect(0,(a.y+i.y)*o,(a.x+i.x)*o,a.height*o),r.fillRect((a.x+a.width+i.x)*o,(a.y+i.y)*o,n.width-(a.x+a.width+i.x)*o,a.height*o)};var _=class{constructor(){this.onActive=e=>(this.onActiveCallbacks.add(e),{dispose:()=>{this.onActiveCallbacks.delete(e)}}),this.render=this._render,this.handleWheel=e=>{},this.handleStartDrag=e=>{e.preventDefault(),e.stopPropagation();let n=this.createRenderContext(),{viewRect:r,scale:i,offset:o}=n,a=this.canvas.getBoundingClientRect(),s={x:e.clientX-a.left,y:e.clientY-a.top},l=this.rectOnCanvas({rect:r,scale:i,offset:o});this.isPointInRect({point:s,rect:l})&&(this.isDragging=!0,this.dragStart=s,document.addEventListener("mousemove",this.handleDragging),document.addEventListener("mouseup",this.handleEndDrag))},this.handleDragging=e=>{if(!this.isDragging||!this.dragStart)return;e.preventDefault(),e.stopPropagation();let n=this.createRenderContext(),{scale:r}=n,i=this.canvas.getBoundingClientRect(),o=e.clientX-i.left,a=e.clientY-i.top,s=(o-this.dragStart.x)/r,l=(a-this.dragStart.y)/r;this.updateScrollPosition(s,l),this.dragStart={x:o,y:a},this.render()},this.handleEndDrag=e=>{e.preventDefault(),e.stopPropagation(),document.removeEventListener("mousemove",this.handleDragging),document.removeEventListener("mouseup",this.handleEndDrag),this.isDragging=!1,this.dragStart=void 0,this.setActivate(this.isMouseInCanvas(e))},this.handleCursor=e=>{if(!this.activated)return;let n=this.createRenderContext(),{viewRect:r,scale:i,offset:o}=n,a=this.canvas.getBoundingClientRect(),s={x:e.clientX-a.left,y:e.clientY-a.top},l=this.rectOnCanvas({rect:r,scale:i,offset:o});this.isPointInRect({point:s,rect:l})?this.canvas.style.cursor="grab":this.canvas.style.cursor="default"},this.canvas=document.createElement("canvas"),this.context2D=this.canvas.getContext("2d"),this.initialized=!!this.context2D,this.onActiveCallbacks=new Set,this.toDispose=new c.DisposableCollection,this.render=this._render,this.activated=!1,this.isDragging=!1}init(e){this.options=m,Object.assign(this.options,e),this.setDebounce({enableDebounce:this.options.enableInactiveDebounce,debounceTime:this.options.inactiveDebounceTime}),this.initStyle(),this.mountListener()}dispose(){this.toDispose.dispose(),this.initialized=!1,this.activated=!1,this.removeEventListeners()}setActivate(e){if(e!==this.activated)(e||!this.isDragging)&&(this.activated=e,e?(this.setDebounce({enableDebounce:this.options.enableActiveDebounce,debounceTime:this.options.activeDebounceTime}),this.addEventListeners()):(this.setDebounce({enableDebounce:this.options.enableInactiveDebounce,debounceTime:this.options.inactiveDebounceTime}),this.removeEventListeners()),this.render(),this.onActiveCallbacks.forEach(n=>n(e)))}initStyle(){if(!this.initialized)return;let{canvasClassName:e,canvasStyle:n}=this.options;this.canvas.className=e,this.style={...g,...n},this.canvas.width=this.style.canvasWidth,this.canvas.height=this.style.canvasHeight,this.canvas.style.borderRadius=this.style.canvasBorderRadius?`${this.style.canvasBorderRadius}px`:"unset"}setDebounce(e){let{enableDebounce:n,debounceTime:r}=e;n?this.render=(0,l.debounce)(this._render,r):this.render=this._render}_render(){if(!this.initialized)return;let e=this.createRenderContext();this.renderCanvas(e)}createRenderContext(){let{canvas:e,context2D:n,nodes:r}=this,i=this.nodeTransforms(r),o=i.map(e=>e.bounds),a=this.viewRect(),s=this.renderRect(o).withPadding({top:this.style.canvasPadding,bottom:this.style.canvasPadding,left:this.style.canvasPadding,right:this.style.canvasPadding}),l=c.Rectangle.enlarge([a,s]),{scale:u,offset:d}=this.calculateScaleAndOffset({canvasRect:l});return{canvas:e,context2D:n,nodeRects:o,canvasRect:l,viewRect:a,renderRect:s,scale:u,offset:d}}renderCanvas(e){let{canvas:n,context2D:r,nodeRects:i,viewRect:a,scale:s,offset:l}=e;o.clear({canvas:n,context:r}),o.backgroundColor({canvas:n,context:r,color:this.style.canvasBackground}),o.roundRectangle({context:r,rect:this.rectOnCanvas({rect:a,scale:s,offset:l}),color:this.style.viewportBackground,radius:this.style.viewportBorderRadius}),i.forEach(e=>{o.roundRectangle({context:r,rect:this.rectOnCanvas({rect:e,scale:s,offset:l}),color:this.style.nodeColor,radius:this.style.nodeBorderRadius,borderWidth:this.style.nodeBorderWidth,borderColor:this.style.nodeBorderColor})}),o.roundRectangle({context:r,rect:this.rectOnCanvas({rect:a,scale:s,offset:l}),color:"rgba(255, 255, 255, 0)",radius:this.style.viewportBorderRadius,borderColor:this.style.viewportBorderColor,borderWidth:this.style.viewportBorderWidth,borderDashLength:this.style.viewportBorderDashLength}),o.overlay({canvas:n,context:r,offset:l,scale:s,rect:a,color:this.style.overlayColor})}calculateScaleAndOffset(e){let{canvasRect:n}=e,{width:r,height:i}=this.canvas,o=r/n.width,a=i/n.height,s=Math.min(o,a),l=n.width*s,u=n.height*s,c={x:(r-l)/2/s-n.x,y:(i-u)/2/s-n.y};return{scale:s,offset:c}}get nodes(){return this.document.getAllNodes().filter(e=>!e.hidden&&(e.flowNodeType===d.FlowNodeBaseType.ROOT?void 0:!!this.options.enableDisplayAllNodes||!e.parent||e.parent.flowNodeType===d.FlowNodeBaseType.ROOT||void 0))}nodeTransforms(e){return e.map(e=>e.getData(d.FlowNodeTransformData)).filter(Boolean)}renderRect(e){return c.Rectangle.enlarge(e)}viewRect(){let{width:e,height:n,scrollX:r,scrollY:i,zoom:o}=this.playgroundConfig.config;return new c.Rectangle(r/o,i/o,e/o,n/o)}mountListener(){let e=this.entityManager.onEntityChange(()=>this.render());this.toDispose.push(e)}rectOnCanvas(e){let{rect:n,scale:r,offset:i}=e;return new c.Rectangle((n.x+i.x)*r,(n.y+i.y)*r,n.width*r,n.height*r)}isPointInRect(e){let{point:n,rect:r}=e;return n.x>=r.x&&n.x<=r.x+r.width&&n.y>=r.y&&n.y<=r.y+r.height}addEventListeners(){this.canvas.addEventListener("wheel",this.handleWheel),this.canvas.addEventListener("mousedown",this.handleStartDrag),this.canvas.addEventListener("mousemove",this.handleCursor)}removeEventListeners(){this.canvas.removeEventListener("wheel",this.handleWheel),this.canvas.removeEventListener("mousedown",this.handleStartDrag),this.canvas.removeEventListener("mousemove",this.handleCursor)}isMouseInCanvas(e){let n=this.canvas.getBoundingClientRect();return e.clientX>=n.left&&e.clientX<=n.right&&e.clientY>=n.top&&e.clientY<=n.bottom}updateScrollPosition(e,n){let{scrollX:r,scrollY:i,zoom:o}=this.playgroundConfig.config;this.playgroundConfig.updateConfig({scrollX:r+e*o,scrollY:i+n*o})}};p([(0,u.inject)(d.FlowDocument)],_.prototype,"document",2),p([(0,u.inject)(s.EntityManager)],_.prototype,"entityManager",2),p([(0,u.inject)(s.PlaygroundConfigEntity)],_.prototype,"playgroundConfig",2),_=p([(0,u.injectable)()],_);var w=class extends s.Layer{constructor(){super(),this.className="gedit-minimap-layer gedit-playground-layer",this.node=c.domUtils.createDivWithClass(this.className),this.node.style.zIndex="9999"}render(){return this.options.disableLayer?a.default.createElement(a.default.Fragment,null):a.default.createElement(b,{service:this.service,panelStyles:this.options.panelStyles,containerStyles:this.options.containerStyles,inactiveStyle:this.options.inactiveStyle})}};w.type="FlowMinimapLayer",p([(0,u.inject)(_)],w.prototype,"service",2),w=p([(0,u.injectable)()],w);var E=(0,s.definePluginCreator)({onBind:({bind:e})=>{e(_).toSelf().inSingletonScope()},onInit:(e,n)=>{e.playground.registerLayer(w,n),e.get(_).init(n)},onDispose:e=>{e.get(_).dispose()}})},59021:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{createNodeCorePlugin:function(){return u},registerNodeMaterial:function(){return l}});var i=r("62483"),o=r("41474"),a=r("97752"),s=r("93665");function l({nodeManager:e,formManager:n,material:r}){let{setters:i=[],decorators:a=[],effects:s=[],validators:l=[],nodeErrorRender:u,nodePlaceholderRender:c}=r;u&&(0,o.registerNodeErrorRender)(e,u),c&&(0,o.registerNodePlaceholderRender)(e,c),i.forEach(e=>{n.registerAbilityExtension(o.SetterAbility.type,e)}),a.forEach(e=>{n.registerAbilityExtension(o.DecoratorAbility.type,e)}),s.forEach(e=>{n.registerAbilityExtension(o.EffectAbility.type,e)}),l.forEach(e=>{n.registerAbilityExtension(o.ValidationAbility.type,e)})}var u=(0,s.definePluginCreator)({onInit(e,n){e.get(a.FlowDocument).registerNodeDatas(...(0,o.createNodeEntityDatas)());let r=e=>new i.FormModelV2(e),u=e.get(s.EntityManager);if(u.registerEntityData(o.FlowNodeFormData,()=>({formModelFactory:r})),!n.materials)return;let c=e.get(o.NodeManager),d=e.get(o.FormManager);if(!c||!d)throw Error("NodeCorePlugin Error: nodeManager or formManager not found");l({nodeManager:c,formManager:d,material:n.materials})},onDispose(e){e.get(o.FormManager)?.dispose()},containerModules:(0,o.createNodeContainerModules)()})},35734:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{PublicScopeProvider:function(){return u},createNodeVariablePlugin:function(){return d}});var i=r("41474"),o=r("93665"),a=r.ir(r("56144")),s=r("66650"),l=r("62483"),u=({children:e})=>{let n=(0,o.useEntityFromContext)(),r=(0,a.useMemo)(()=>n.getData(s.FlowNodeVariableData).public,[n]);return a.default.createElement(s.ScopeProvider,{value:{scope:r}},e)},c=e=>n=>a.default.createElement(u,null,a.default.createElement(e,{...n})),d=(0,o.definePluginCreator)({onInit(e){let n=e.get(i.NodeManager);n.registerNodeRenderHoc(c)}});(0,l.defineFormPluginCreator)("VariableProviderPlugin",{onInit:(e,n)=>{},effect:{arr:[{event:l.DataEvent.onValueInitOrChange,effect:()=>{}}]},onDispose:(e,n)=>{}})},62483:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{DataEvent:function(){return h},FormModelV2:function(){return m},FormPlugin:function(){return b},defineFormPluginCreator:function(){return _},getNodeForm:function(){return w},isFormModelV2:function(){return f}});var i,o=r("53168"),a=r("85870"),s=r("41474"),l=r("65322"),u=r("93665"),c=r.ir(r("56144")),d=r("57254");var h=((i=h||{}).onValueChange="onValueChange",i.onValueInit="onValueInit",i.onValueInitOrChange="onValueInitOrChange",i.onArrayAppend="onArrayAppend",i.onArrayDelete="onArrayDelete",i);function f(e){return"onFormValuesChange"in e}function p(e){if(e.startsWith("/")){let n=s.FormPathService.normalize(e).slice(1).split("/");return n.join(".")}return e}var g=({formModel:e})=>e?.formControl?c.default.createElement(c.default.Fragment,null,c.default.createElement(l.Form,{control:e?.formControl,keepModelOnUnMount:!0},e.formMeta.render)):null,y={EFFECT_MAP:{},EFFECT_RETURN_MAP:new Map([["onValueInitOrChange",{}],["onValueChange",{}],["onValueInit",{}],["onArrayAppend",{}],["onArrayDelete",{}]]),FORM_FEEDBACKS:[],VALID:null},m=class extends s.FormModel{constructor(e){super(),this.effectMap=y.EFFECT_MAP,this.effectReturnMap=y.EFFECT_RETURN_MAP,this.plugins=[],this.formFeedbacks=y.FORM_FEEDBACKS,this.onInitializedEmitter=new a.Emitter,this.onValidateEmitter=new a.Emitter,this.onValidate=this.onValidateEmitter.event,this.onInitialized=this.onInitializedEmitter.event,this.onDisposeEmitter=new a.Emitter,this.onDispose=this.onDisposeEmitter.event,this.toDispose=new a.DisposableCollection,this.onFormValuesChangeEmitter=new a.Emitter,this.onFormValuesChange=this.onFormValuesChangeEmitter.event,this.onValidChangeEmitter=new a.Emitter,this.onValidChange=this.onValidChangeEmitter.event,this.onFeedbacksChangeEmitter=new a.Emitter,this.onFeedbacksChange=this.onFeedbacksChangeEmitter.event,this._valid=y.VALID,this._feedbacks=[],this._initialized=!1,this.node=e,this.toDispose.pushAll([this.onInitializedEmitter,this.onValidateEmitter,this.onValidChangeEmitter,this.onFeedbacksChangeEmitter,this.onFormValuesChangeEmitter])}get valid(){return this._valid}set valid(e){this._valid=e,this.onValidChangeEmitter.fire(e)}get flowNodeEntity(){return this.node}get formManager(){return this.node.getService(s.FormManager)}get formControl(){return this._formControl}get formMeta(){return this.node.getNodeRegistry().formMeta}get feedbacks(){return this._feedbacks}set feedbacks(e){this._feedbacks=e,this.onFeedbacksChangeEmitter.fire(e)}get formItemPathMap(){return new Map}get initialized(){return this._initialized}get nodeContext(){return{node:this.node,playgroundContext:this.node.getService(u.PlaygroundContext)}}get nativeFormModel(){return this._formControl?._formModel}render(){var e;return e=this,c.default.createElement(g,{formModel:e})}initPlugins(e){e.length&&(this.plugins=e,e.forEach(e=>{if(e.init(this),e.config?.effect){var n,r;n=this.effectMap,r=e.config.effect,(0,o.mergeWith)(n,r,function(e,n){return(e||[]).concat(n)})}}))}init(e,n){let r=this.node.getData(s.FlowNodeFormData);this.onFormValuesChange(()=>{this._valid=null,r.fireChange()});let{validateTrigger:i,validate:a,effect:u}=e;u&&(this.effectMap=u);let c="function"==typeof e.defaultValues?e.defaultValues(this.nodeContext):e.defaultValues,d=e.formatOnInit?e.formatOnInit(n,this.nodeContext):n,{control:h}=(0,l.createForm)({initialValues:d||c,validateTrigger:i,context:this.nodeContext,validate:a,disableAutoInit:!0});this._formControl=h;let f=h._formModel;this.toDispose.push(f),f.onFormValuesChange(e=>{this.onFormValuesChangeEmitter.fire(e)}),e.plugins&&this.initPlugins(e.plugins),f.onFormValuesChange(({values:e,prevValues:n,name:r})=>{let i=Object.keys(this.effectMap).filter(e=>l.Glob.isMatchOrParent(e,r));i.forEach(i=>{let a=this.effectMap[i];a.forEach(({effect:a,event:s})=>{if("onValueChange"===s||"onValueInitOrChange"===s){let u=l.Glob.getParentPathByPattern(i,r),c=this.effectReturnMap.get(s)?.[u];c&&c();let d=a({name:u,value:(0,o.get)(e,u),prevValue:(0,o.get)(n,u),formValues:e,context:this.nodeContext});if(d&&"function"==typeof d&&this.effectReturnMap.has(s)){let e=this.effectReturnMap.get(s);e[u]=d}}})})}),f.onFormValuesInit(({values:e,name:n,prevValues:r})=>{Object.keys(this.effectMap).forEach(i=>{let a=l.Glob.findMatchPaths(e,i),s=this.effectMap[i];s.forEach(({event:i,effect:s})=>{("onValueInit"===i||"onValueInitOrChange"===i)&&a.forEach(a=>{if(l.Glob.isMatchOrParent(n,a)||n===a){let n=this.effectReturnMap.get(i)?.[a];n&&n();let l=s({name:a,value:(0,o.get)(e,a),formValues:e,prevValue:(0,o.get)(r,a),context:this.nodeContext});if(l&&"function"==typeof l&&this.effectReturnMap.has(i)){let e=this.effectReturnMap.get(i);e[a]=l}}})})})}),f.onFieldModelCreate(e=>{let n=function(e,n){if(!n)return;if(n[e.name])return n[e.name];let r=(0,o.find)(Object.keys(n),n=>{if(n.startsWith("regex:")){let r=RegExp(n.split(":")[1]);return r.test(e.name)}return!1});if(r)return n[r]}(e,this.effectMap);if(n?.length){let r=(0,o.groupBy)(n,"event");(0,o.mapKeys)(r,(n,r)=>{let i=e=>{n.forEach(({effect:n})=>n({...e,formValues:f.values,context:this.nodeContext}))};switch(r){case"onArrayAppend":e instanceof l.FieldArrayModel&&e.onAppend(i);break;case"onArrayDelete":e instanceof l.FieldArrayModel&&e.onDelete(i)}})}}),this._formControl.init(),this._initialized=!0,this.onInitializedEmitter.fire(this),this.onDispose(()=>{this._initialized=!1,this.effectMap={},f.dispose()})}toJSON(){return this.formMeta.formatOnSubmit?this.formMeta.formatOnSubmit(this.nativeFormModel?.values,this.nodeContext):this.nativeFormModel?.values}clearValid(){null!==this.valid&&(this.valid=null)}async validate(){return this.formFeedbacks=await this.nativeFormModel?.validate(),this.valid=(0,o.isEmpty)(this.formFeedbacks?.filter(e=>"error"===e.level)),this.onValidateEmitter.fire(this),this.valid}getValues(){return this._formControl?._formModel.values}getField(e){let n=e.includes("/")?p(e):e;return this.formControl?.getField(n)}getValueIn(e){let n=e.includes("/")?p(e):e;return this.nativeFormModel?.getValueIn(n)}setValueIn(e,n){let r=e.includes("/")?p(e):e;this.nativeFormModel?.setValueIn(r,n)}onFormValueChangeIn(e,n){if(!this._initialized)throw Error("[NodeEngine] FormModel Error: onFormValueChangeIn can not be called before initialized");this.formControl._formModel.onFormValuesChange(({name:r,values:i,prevValues:a})=>{r===e&&n({value:(0,o.get)(i,e),prevValue:(0,o.get)(a,e),formValues:i,prevFormValues:a})})}getFormItemValueByPath(e){if(!e)return;if("/"===e)return this._formControl?._formModel.values;let n=p(e);return this.getValueIn(n)}async validateWithFeedbacks(){return await this.validate(),this.formFeedbacks.map(e=>({feedbackStatus:e.level,feedbackText:e.message,path:e.name}))}getFormItemByPath(e){if(!this.nativeFormModel)return;let n=this;if("/"===e)return{get value(){return n.nativeFormModel.values},set value(v){n.nativeFormModel.values=v}};let r=p(e),i=n.getValueIn(r);return{get value(){return i},set value(v){n.setValueIn(r,v)}}}dispose(){this.onDisposeEmitter.fire(),this.effectReturnMap.forEach(e=>{Object.values(e).forEach(e=>{e()})}),this.effectMap=y.EFFECT_MAP,this.effectReturnMap=y.EFFECT_RETURN_MAP,this.plugins.forEach(e=>{e.dispose()}),this.plugins=[],this.formFeedbacks=y.FORM_FEEDBACKS,this._valid=y.VALID,this._formControl=void 0,this._initialized=!1,this.toDispose.dispose()}},b=class{constructor(e,n,r){this.name=e,this.pluginId=`${e}__${(0,d.nanoid)()}`,this.config=n,this.opts=r}get formModel(){return this._formModel}get ctx(){return{formModel:this.formModel,node:this.formModel.nodeContext.node,playgroundContext:this.formModel.nodeContext.playgroundContext}}init(e){this._formModel=e,this.config?.onInit?.(this.ctx,this.opts)}dispose(){this.config?.onDispose&&this.config?.onDispose(this.ctx,this.opts)}};function _(e,n){return function(r){return new b(e,n,r)}}function w(e){let n=e.getData(s.FlowNodeFormData)?.getFormModel(),r=n?.nativeFormModel;if(!n||!r)return;let i={initialValues:r.initialValues,get values(){return r.values},state:r.state,getValueIn:e=>r.getValueIn(e),setValueIn:(e,n)=>r.setValueIn(e,n),render:()=>c.default.createElement(s.NodeRender,{node:e}),onFormValuesChange:n.onFormValuesChange.bind(n),onFormValueChangeIn:n.onFormValueChangeIn.bind(n),onValidate:n.nativeFormModel.onValidate,validate:n.validate.bind(n)};return Object.defineProperty(i,"_formModel",{enumerable:!1,get:()=>n}),i}},45614:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"createPlaygroundReactPreset",{enumerable:!0,get:function(){return h}}),r("11278");var i=r("85870"),o=r.es(r("93665"),n),a=r.ir(r("56144")),s=r("95104"),l=r("97572"),u=r("91516"),c=Object.defineProperty,d=Object.getOwnPropertyDescriptor;function h(e,n=[]){return r=>(n=n.slice(),e.shortcuts&&n.push((0,s.createShortcutsPlugin)({registerShortcuts:n=>e.shortcuts(n,r)})),e.plugins&&n.push(...e.plugins(r)),n.push((0,o.createPlaygroundPlugin)({onBind:n=>{e.onBind?.(n)},onInit:n=>{let r=n.get(o.PlaygroundConfig);e.playground&&(void 0!==e.playground.autoFocus&&(r.autoFocus=e.playground.autoFocus),void 0!==e.playground.autoResize&&(r.autoResize=e.playground.autoResize)),r.autoFocus=!1,n.playground.registerLayer(o.PlaygroundLayer,e.playground),e.layers&&n.playground.registerLayers(...e.layers),e.onInit&&e.onInit(n)},onReady(n){e.onReady&&e.onReady(n)},onAllLayersRendered(){e.onAllLayersRendered&&e.onAllLayersRendered(r)},onDispose(){e.onDispose&&e.onDispose(r)},containerModules:e.containerModules||[]})),(e.background||void 0===e.background)&&n.push((0,l.createBackgroundPlugin)(e.background||{})),n)}var f=class extends o.Layer{constructor(){super(...arguments),this.node=i.domUtils.createDivWithClass("gedit-playground-layer gedit-playground-content-layer")}onZoom(e){this.node.style.transform=`scale(${e})`}onReady(){this.node.style.left="0px",this.node.style.top="0px"}updateOptions(e){this.options=e,this.render()}render(){return a.default.createElement("div",{className:this.options.className,style:{position:"absolute",...this.options.style}},this.options.children)}};f.type="PlaygroundContentLayer",f=((e,n,r,i)=>{for(var o=i>1?void 0:i?d(n,r):n,a,s=e.length-1;s>=0;s--)(a=e[s])&&(o=(i?a(n,r,o):a(o))||o);return i&&o&&c(n,r,o),o})([(0,u.injectable)()],f),(0,a.forwardRef)(function(e,n){let{parentContainer:r,children:i,...s}=e,l=(0,a.useMemo)(()=>(0,o.createPlaygroundPlugin)({onInit(e){e.playground.registerLayer(f)}}),[]),u=(0,a.useMemo)(()=>h(s,[l]),[]);return a.default.createElement(o.PlaygroundReactProvider,{ref:n,plugins:u,parentContainer:r},a.default.createElement(o.PlaygroundReactRenderer,null,i))})},23552:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{ReactiveBaseState:function(){return s},ReactiveState:function(){return c},useObserve:function(){return d},useReadonlyReactiveState:function(){return h}});var i,o=r("56144"),a=r("85870");(e=>{let n,r=[],i=[],o=!1,a=!1,s=!1;let l=!1;function u(e,n){if(l)throw n;console.error(`[Tracker error] ${e}`,n)}function c(e){if(function(){return a}())throw Error("Can't call Tracker.flush while flushing");if(s)throw Error("Can't flush inside Tracker.autorun");a=!0,o=!0,l=!!(e=e||{}).throwFirstError;var n=0,h=!1;try{for(;r.length||i.length;){for(;r.length;){var f=r.shift();if(f._recompute(),f._needsRecompute()&&r.unshift(f),!e.finishSynchronously&&++n>100){h=!0;return}}if(i.length){var p=i.shift();try{p()}catch(e){u("afterFlush",e)}}}h=!0}finally{if(!h&&(a=!1,c({finishSynchronously:e.finishSynchronously,throwFirstError:!1})),o=!1,a=!1,r.length||i.length){if(e.finishSynchronously)throw Error("still have more to do?");setTimeout(d,10)}}}function d(){!o&&(setTimeout(c,0),o=!0)}function h(e){let r=n;n=void 0;try{return e(void 0)}finally{n=r}}function f(){return!!n}e.withComputation=function(e,r){let i=n;n=e;try{return r.call(null,e)}finally{n=i}},e.withoutComputation=h,e.isActive=f;e.getCurrentComputation=function(){return n};e.autorun=function(r,i){var o=new g(r,n,i?.onError);return f()&&e.onInvalidate(function(){o.stop()}),o};function p(){return a}e.onInvalidate=function(e){if(!n)throw Error("Tracker.onInvalidate requires a currentComputation");n.onInvalidate(e)},e.inFlush=p;e.flush=function(e){c({finishSynchronously:!0,throwFirstError:e&&e.throwFirstError})};e.afterFlush=function(e){i.push(e),d()};class g{constructor(e,n,r){this._fn=e,this.parent=n,this._onError=r,this._onInvalidateCallbacks=[],this._onStopCallbacks=[],this._recomputing=!1,this.stopped=!1,this.invalidated=!1,this.firstRun=!0;let i=!0;try{this._compute(),i=!1}finally{this.firstRun=!1,i&&this.stop()}}onInvalidate(e){this.invalidated?h(e.bind(null,this)):this._onInvalidateCallbacks.push(e)}invalidate(){if(!this.invalidated){!this._recomputing&&!this.stopped&&(d(),r.push(this)),this.invalidated=!0;for(var e,n=0;e=this._onInvalidateCallbacks[n];n++)h(e.bind(null,this));this._onInvalidateCallbacks=[]}}stop(){if(!this.stopped){this.stopped=!0,this.invalidate();for(let e=0,n;n=this._onStopCallbacks[e];e++)h(n.bind(null,this));this._onStopCallbacks=[]}}onStop(e){this.stopped?h(e.bind(null,this)):this._onStopCallbacks.push(e)}_compute(){this.invalidated=!1;var n=s;s=!0;try{this._result=e.withComputation(this,this._fn)}finally{s=n}}_needsRecompute(){return this.invalidated&&!this.stopped}_recompute(){this._recomputing=!0;try{if(this._needsRecompute())try{this._compute()}catch(e){this._onError?this._onError(e):u("recompute",e)}}finally{this._recomputing=!1}}flush(){!this._recomputing&&this._recompute()}run(){this.invalidate(),this.flush()}get result(){return this._result}}e.Computation=g;e.Dependency=class e{constructor(){this._dependents=new Set}depend(e){if(!e){if(!f())return!1;e=n}return!this._dependents.has(e)&&(this._dependents.add(e),e.onInvalidate(()=>{this._dependents.delete(e)}),!0)}changed(){for(let e of this._dependents)e.invalidate()}hasDependents(){return 0!==this._dependents.size}}})(i||(i={}));var s=class{constructor(e,n){this._dep=new i.Dependency,this._isEqual=(e,n)=>e==n,this._value=e,n?.isEqual&&(this._isEqual=n.isEqual)}_addDepend(e){i.isActive()&&e.depend()}hasDependents(){return this._dep.hasDependents()}get value(){return this._addDepend(this._dep),this._value}set value(e){!this._isEqual(this._value,e)&&(this._value=e,this._dep.changed())}};function l(e,n){if("Proxy"in window)return new Proxy(e,n);let r={};for(let i in e)Object.defineProperty(r,i,{enumerable:!0,get:n.get?()=>n.get(e,i):void 0,set:n.set?r=>n.set(e,i,r):void 0});return r}var u=i.Dependency,c=class extends s{constructor(){super(...arguments),this._keyDeps=new Map}set(e,n){this._ensureKey(e);let r=this._value[e];return!this._isEqual(r,n)&&(this._value[e]=n,this._keyDeps.get(e).changed(),!0)}get(e){return this._ensureKey(e),this._addDepend(this._keyDeps.get(e)),this._value[e]}_ensureKey(e){!this._keyDeps.has(e)&&this._keyDeps.set(e,new u)}hasDependents(){if(this._dep.hasDependents())return!0;for(let e of this._keyDeps.values())if(e.hasDependents())return!0;return!1}keys(){return Object.keys(this._value)}set value(e){!this._isEqual(this._value,e)&&(this._value=e,this._keyDeps.clear(),this._dep.changed())}get value(){return this._addDepend(this._dep),!this._proxyValue&&(this._proxyValue=l(this._value,{get:(e,n)=>this.get(n),set:(e,n,r)=>(this.set(n,r),!0)})),this._proxyValue}get readonlyValue(){return this._addDepend(this._dep),!this._proxyReadonlyValue&&(this._proxyReadonlyValue=l(this._value,{get:(e,n)=>this.get(n),set:(e,n)=>{throw Error(`[ReactiveState] Cannnot set readonly field "${n}"`)}})),this._proxyReadonlyValue}};function d(e){let n=(0,a.useRefresh)(),r=(0,o.useMemo)(()=>new Map,[]),s=(0,o.useCallback)(()=>{r.forEach(e=>e.stop()),r.clear()},[]);return(0,o.useEffect)(()=>s,[]),s(),(0,o.useMemo)(()=>void 0===e?{}:l(e,{get(o,a){let s=r.get(a);return!s&&(s=new i.Computation(r=>{if(!r.firstRun){n();return}return e[a]}),r.set(a,s)),e[a]}}),[e])}function h(e){return d(e.readonlyValue)}var{Dependency:f,Computation:p}=i},36824:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{ECSConnector:function(){return d},createReduxDevToolPlugin:function(){return f}});var i=r("93665"),o=r("91516"),a=r("21231"),s=Object.defineProperty,l=Object.getOwnPropertyDescriptor,u=(e,n,r,i)=>{for(var o=i>1?void 0:i?l(n,r):n,a,u=e.length-1;u>=0;u--)(a=e[u])&&(o=(i?a(n,r,o):a(o))||o);return i&&o&&s(n,r,o),o},c=class{constructor(){this.devTools=window.__REDUX_DEVTOOLS_EXTENSION__?.connect({name:this.getName()})}init(){this.devTools&&(this.devTools.init(this.getState()),this.devTools.subscribe(e=>{e?.payload?.type==="COMMIT"&&this.devTools.init(this.getState())}),this.onInit())}send(e,n){this.devTools&&this.devTools.send(e,n||this.getState())}};u([(0,o.postConstruct)()],c.prototype,"init",1),c=u([(0,o.injectable)()],c);var d=class extends c{getName(){return"@flowgram.ai/EntityManager"}getState(){return this.entityManager.storeState({configOnly:!1})}onInit(){this.entityManager.onEntityLifeCycleChange(e=>{this.send(`${e.type}/${e.entity.type}/${e.entity.id}`)})}};u([(0,o.inject)(i.EntityManager)],d.prototype,"entityManager",2),d=u([(0,o.injectable)()],d);var h=class extends c{constructor(){super(...arguments),this.scopes={}}getName(){return"@flowgram.ai/VariableEngine"}getState(){return{scopes:this.scopes,variables:this.variableEngine.globalVariableTable.variables}}getScopeState(e){return{ast:e?.ast.toJSON(),output:e.output.variables,available:e.available.variables}}onInit(){this.variableEngine.onScopeChange(e=>{let{scope:n,type:r}=e;"delete"===r?delete this.scopes[n.id]:this.scopes={...this.scopes,[n.id]:this.getScopeState(n)},this.send(`${r}/${n.id}`)})}};u([(0,o.inject)(a.VariableEngine)],h.prototype,"variableEngine",2),h=u([(0,o.injectable)()],h);var f=(0,i.definePluginCreator)({onBind({bind:e},n){let{enable:r}=n;r&&(e(d).toSelf().inSingletonScope(),e(h).toSelf().inSingletonScope())},onInit(e,n){let{enable:r,ecs:i=!0,variable:o=!1}=n;r&&(i&&e.get(d),o&&e.get(h))}})},30322:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{FlowNodesContentLayer:function(){return F},FlowNodesTransformLayer:function(){return j},FlowRendererContainerModule:function(){return ep},FlowRendererKey:function(){return k},FlowRendererRegistry:function(){return L},FlowScrollBarLayer:function(){return el},FlowScrollLimitLayer:function(){return ef},FlowSelectorBoundsLayer:function(){return ed},FlowSelectorBoxLayer:function(){return ec},SelectorBoxConfigEntity:function(){return M}});var i,o,a,s,l=r("97752"),u=r("93665"),c=r("85870"),d=r("53168"),h=r("91516"),f=r.ir(r("48362")),p=r.ir(r("56144")),g=r("47042"),y=Object.defineProperty,m=Object.getOwnPropertyDescriptor,b=(e,n,r,i)=>{for(var o=i>1?void 0:i?m(n,r):n,a,s=e.length-1;s>=0;s--)(a=e[s])&&(o=(i?a(n,r,o):a(o))||o);return i&&o&&y(n,r,o),o},_="#BBBFC4";function w(){let e=(0,u.useService)(l.FlowDocumentOptions);return{baseColor:e.constants?.[l.ConstantKeys.BASE_COLOR]||_,baseActivatedColor:e.constants?.[l.ConstantKeys.BASE_ACTIVATED_COLOR]||"#82A7FC"}}var E={stroke:_,fill:"transparent",strokeLinecap:"round",strokeLinejoin:"round"};function x(e){let{isVertical:n}=e.entity;if(n){let n=e.entity.next?.firstChild&&!e.entity.next.isInlineBlocks?e.entity.next.firstChild.getData(l.FlowNodeTransformData).size.width:e.entity.next?.getData(l.FlowNodeTransformData).size.width,r=Math.max(e.entity.getData(l.FlowNodeTransformData)?.size.width??l.DEFAULT_SPACING[l.DefaultSpacingKey.HOVER_AREA_WIDTH],n||0);return r}return e.transform.next?e.transform.next.inputPoint.x-e.transform.outputPoint.x:32}function C(e){let{isVertical:n}=e.entity;if(n)return e.transform.next?e.transform.next.inputPoint.y-e.transform.outputPoint.y:32;let r=e.entity.next?.firstChild&&!e.entity.next.isInlineBlocks?e.entity.next.firstChild.getData(l.FlowNodeTransformData).size.height:e.entity.next?.getData(l.FlowNodeTransformData).size.height,i=Math.max(e.entity.getData(l.FlowNodeTransformData)?.size.height||280,r||0);return i}var S=class extends u.ConfigEntity{constructor(e){super(e),this.containerX=0,this.containerY=0,this.playgroundConfigEntity=this.entityManager.getEntity(u.PlaygroundConfigEntity,!0)}get hasScroll(){return!!(this._scrollXInterval||this._scrollYInterval)}isCollision(e,n,r){let i=this.playgroundConfigEntity.finalScale||0;return r?this.isBranchCollision(e,n,i):this.isNodeCollision(e,n,i)}isNodeCollision(e,n,r){let{labels:i}=e,{isVertical:o}=e.entity,a=i.some(i=>{if(!i||![l.FlowTransitionLabelEnum.ADDER_LABEL,l.FlowTransitionLabelEnum.COLLAPSE_ADDER_LABEL].includes(i.type))return!1;let a=o?e.transform.bounds.width:32,s=o?32:e.transform.bounds.height,u=new c.Rectangle((i.offset.x-a/2)*r,(i.offset.y-s/2)*r,a*r,s*r);return c.Rectangle.intersects(u,n)});return{hasCollision:a,labelOffsetType:void 0}}isBranchCollision(e,n,r){let{labels:i}=e,{isVertical:o}=e.entity,a=l.LABEL_SIDE_TYPE.NORMAL_BRANCH,s=i.some(e=>{if(!e||e.type!==l.FlowTransitionLabelEnum.BRANCH_DRAGGING_LABEL)return!1;let i=o?64:e.width||0,s=o?e.width||0:64,u=new c.Rectangle((e.offset.x-s/2)*r,(e.offset.y-i/2)*r,s*r,i*r),d=c.Rectangle.intersects(u,n);return d&&(a=e.props.side),d});return{hasCollision:s,labelOffsetType:a}}_startScrollX(e,n){if(this._scrollXInterval)return;let r=window.setInterval(()=>{let e=this._scrollXInterval;if(!e)return;let r=e.origin=n?e.origin+4:e.origin-4;this.playgroundConfigEntity.updateConfig({scrollX:r});let i=this.playgroundConfigEntity.config;i?.scrollX===r&&(n?this.containerX+=4:this.containerX-=4,this.setDomStyle())},20);this._scrollXInterval={interval:r,origin:e}}_stopScrollX(){this._scrollXInterval&&(clearInterval(this._scrollXInterval.interval),this._scrollXInterval=void 0)}_startScrollY(e,n){if(this._scrollYInterval)return;let r=window.setInterval(()=>{let e=this._scrollYInterval;if(!e)return;let r=e.origin=n?e.origin+4:e.origin-4;this.playgroundConfigEntity.updateConfig({scrollY:r});let i=this.playgroundConfigEntity.config;i?.scrollY===r&&(n?this.containerY+=4:this.containerY-=4,this.setDomStyle())},20);this._scrollYInterval={interval:r,origin:e}}_stopScrollY(){this._scrollYInterval&&(clearInterval(this._scrollYInterval.interval),this._scrollYInterval=void 0)}stopAllScroll(){this._stopScrollX(),this._stopScrollY()}setDomStyle(){this.containerDom.style.left=`${this.containerX}px`,this.containerDom.style.top=`${this.containerY}px`}scrollDirection(e,n,r,i){let o=this.playgroundConfigEntity.config,a=o.scrollX,s=o.scrollY;this.containerDom=n,this.containerX=r,this.containerY=i;let l=o.height+o.clientY-e.clientY;if(l<20)return this._startScrollY(s,!0),1;let u=e.clientY-o.clientY;if(u<20)return this._startScrollY(s,!1),0;this._stopScrollY();let c=o.width+o.clientX-e.clientX;if(c<20)return this._startScrollX(a,!0),3;let d=e.clientX-o.clientX;if(d<80)return this._startScrollX(a,!1),2;this._stopScrollX()}dispose(){this.toDispose.dispose()}};S.type="FlowDragEntity";var O=class extends u.ConfigEntity{constructor(){super(...arguments),this.boundsPadding=10}getDefaultConfig(){return{selectedNodes:[]}}get selectedNodes(){return this.config.selectedNodes}set selectedNodes(e){((e=function(e){if(0===e.length)return[];let n=e.map(e=>(function(e){let n=[e];for(e=e.parent;e;)n.push(e),e=e.parent;return n.reverse()})(e)),r=Math.min(...n.map(e=>e.length)),i=0,o=[];for(;i<r&&!((o=(0,d.uniq)(n.map(e=>e[i]))).length>1);){;i+=1}return(0,d.uniq)(o.map(e=>(function(e){for(;e.originParent;)e=e.originParent;return e})(e)))}(e)).length!==this.config.selectedNodes.length||e.some(e=>!this.config.selectedNodes.includes(e)))&&(this.config.selectedNodes.forEach(n=>{!e.includes(n)&&(n.getData(l.FlowNodeRenderData).activated=!1)}),e.forEach(e=>{e.getData(l.FlowNodeRenderData).activated=!0}),c.Compare.isArrayShallowChanged(this.config.selectedNodes,e)&&this.updateConfig({selectedNodes:e}))}clearSelectedNodes(){0!==this.config.selectedNodes.length&&(this.config.selectedNodes.forEach(e=>{e.getData(l.FlowNodeRenderData).activated=!1}),this.updateConfig({selectedNodes:[]}))}selectFromBounds(e,n){let r=[];n.forEach(n=>{c.Rectangle.intersects(e,n.bounds)&&(n.entity.originParent?r.push(n.entity.originParent):r.push(n.entity))}),this.selectedNodes=r}getSelectedBounds(){let e=this.selectedNodes;return 0===e.length?c.Rectangle.EMPTY:c.Rectangle.enlarge(e.map(e=>e.getData(l.FlowNodeTransformData).bounds)).pad(this.boundsPadding)}};O.type="FlowSelectConfigEntity";var M=class extends u.ConfigEntity{get dragInfo(){return this.config}setDragInfo(e){this.updateConfig(e)}get disabled(){return this.config&&!!this.config.disabled}set disabled(e){this.updateConfig({disabled:e})}get isStart(){return this.dragInfo.isStart}get isMoving(){return this.dragInfo.isMoving}get position(){let{dragInfo:e}=this;return{x:e.startPos.x<e.endPos.x?e.startPos.x:e.endPos.x,y:e.startPos.y<e.endPos.y?e.startPos.y:e.endPos.y}}get size(){let{dragInfo:e}=this;return{width:Math.abs(e.startPos.x-e.endPos.x),height:Math.abs(e.startPos.y-e.endPos.y)}}get collapsed(){let{size:e}=this;return 0===e.width&&0===e.height}collapse(){this.setDragInfo({...this.dragInfo,isMoving:!1,isStart:!1})}toRectangle(e){let{position:n,size:r}=this;return new c.Rectangle(n.x/e,n.y/e,r.width/e,r.height/e)}};M.type="SelectorBoxConfigEntity";var P=e=>{let n=window.getComputedStyle(e);return(0,d.isNil)(e?.offsetParent)||n?.display==="none"},D=e=>!!e&&(0!==e.bottom||0!==e.height||0!==e.left||0!==e.right||0!==e.top||0!==e.width||0!==e.x||0!==e.y)||!1,I=class{observe(e,n){let r=new ResizeObserver(e=>{window.requestAnimationFrame(()=>{if(!Array.isArray(e)||!e.length)return;let r=e[0],{contentRect:i,target:o}=r,a=D(i),s=!o.parentNode,l=P(o.parentNode);a&&!s&&!l&&(n.size={width:Math.round(10*i.width)/10,height:Math.round(10*i.height)/10})})});return r.observe(e),c.Disposable.create(()=>{r.unobserve(e)})}};I=b([(0,h.injectable)()],I);var j=class extends u.Layer{constructor(){super(...arguments),this.node=c.domUtils.createDivWithClass("gedit-flow-nodes-layer"),this.renderCache=c.Cache.create(e=>{let n;let{renderState:r}=e,{node:i}=r,{entity:o}=e;return i.id=o.id,(()=>{!n&&(this.renderElement.appendChild(i),n=this.resizeObserver.observe(i,e))})(),{dispose:()=>{n&&(i.parentElement&&this.renderElement.removeChild(i),n.dispose(),n=void 0)},updateBounds:()=>{let{bounds:n}=e;(i.style.left!==`${n.x}px`||i.style.top!==`${n.y}px`)&&(i.style.left=`${n.x}px`,i.style.top=`${n.y}px`)}}})}get transformVisibles(){return this.document.getRenderDatas(l.FlowNodeTransformData,!1)}onZoom(e){this.node.style.transform=`scale(${e})`}dispose(){this.renderCache.dispose(),super.dispose()}onReady(){this.node.style.zIndex="10"}get visibeBounds(){return this.transformVisibles.map(e=>e.bounds)}updateNodesBounds(){this.renderCache.getMoreByItems(this.transformVisibles).forEach(e=>e.updateBounds())}autorun(){!this.documentTransformer.loading&&(this.documentTransformer.refresh(),this.updateNodesBounds())}get renderElement(){if("function"==typeof this.options.renderElement){let e=this.options.renderElement();if(e)return e}else if(void 0!==this.options.renderElement)return this.options.renderElement;return this.node}};b([(0,h.inject)(l.FlowDocument)],j.prototype,"document",2),b([(0,h.inject)(I)],j.prototype,"resizeObserver",2),b([(0,u.observeEntity)(l.FlowDocumentTransformerEntity)],j.prototype,"documentTransformer",2),b([(0,u.observeEntityDatas)(l.FlowNodeEntity,l.FlowNodeTransformData)],j.prototype,"_transforms",2),j=b([(0,h.injectable)()],j);var N=Symbol("FlowRendererContribution");var T=((i=T||{})[i.REACT=0]="REACT",i[i.DOM=1]="DOM",i[i.TEXT=2]="TEXT",i);var k=((o=k||{}).NODE_RENDER="node-render",o.ADDER="adder",o.COLLAPSE="collapse",o.BRANCH_ADDER="branch-adder",o.TRY_CATCH_COLLAPSE="try-catch-collapse",o.DRAG_NODE="drag-node",o.DRAGGABLE_ADDER="draggable-adder",o.DRAG_HIGHLIGHT_ADDER="drag-highlight-adder",o.DRAG_BRANCH_HIGHLIGHT_ADDER="drag-branch-highlight-adder",o.SELECTOR_BOX_POPOVER="selector-box-popover",o.CONTEXT_MENU_POPOVER="context-menu-popover",o.SUB_CANVAS="sub-canvas",o.MARKER_ARROW="marker-arrow",o.MARKER_ACTIVATE_ARROW="marker-active-arrow",o);var A=((a=A||{}).LOOP_END_TEXT="loop-end-text",a.LOOP_TRAVERSE_TEXT="loop-traverse-text",a.LOOP_WHILE_TEXT="loop-while-text",a.TRY_START_TEXT="try-start-text",a.TRY_END_TEXT="try-end-text",a.CATCH_TEXT="catch-text",a);var R=((s=R||{}).SELECTOR_BOX="SELECTOR_BOX",s),L=class{constructor(){this.componentsMap=new Map,this.textMap=new Map,this.contribs=[]}init(){this.contribs.forEach(e=>e.registerRenderer?.(this))}registerRendererComponents(e,n){this.componentsMap.set(e,n)}registerReactComponent(e,n){this.componentsMap.set(e,{type:0,renderer:n})}registerText(e){Object.entries(e).forEach(([e,n])=>{this.textMap.set(e,n)})}getText(e){return g.I18n.t(e,{disableReturnKey:!0})||this.textMap.get(e)}getRendererComponent(e){let n=this.componentsMap.get(e);if(!n)throw Error(`Unknown render key ${e}`);return n}tryToGetRendererComponent(e){return this.componentsMap.get(e)}registerLayers(...e){e.forEach(e=>this.pipeline.registerLayer(e))}registerLayer(e,n){this.pipeline.registerLayer(e,n)}};b([(0,h.multiInject)(N),(0,h.optional)()],L.prototype,"contribs",2),b([(0,h.inject)(u.PipelineRegistry)],L.prototype,"pipeline",2),L=b([(0,h.injectable)()],L);var F=class extends u.Layer{constructor(){super(...arguments),this.renderMemoCache=new WeakMap,this.node=c.domUtils.createDivWithClass("gedit-flow-nodes-layer"),this.reactPortals=c.Cache.create(e=>{let{node:n,entity:r}=e,{config:i}=this,o=this.getPortalRenderer(e);return{id:n.id||r.id,dispose:()=>{},Portal:function(){return p.default.useEffect(()=>{if(n.clientWidth&&n.clientHeight){let e=r.getData(l.FlowNodeTransformData);e&&(e.size={width:n.clientWidth,height:n.clientHeight})}},[]),f.default.createPortal(p.default.createElement(u.PlaygroundEntityContext.Provider,{value:r},p.default.createElement(o,{node:r,version:e?.version,activated:e?.activated,readonly:i.readonly,disabled:i.disabled})),n)}}})}get renderStatesVisible(){return this.document.getRenderDatas(l.FlowNodeRenderData,!1)}getPortalRenderer(e){let n=e.entity.getNodeMeta(),r=this.rendererRegistry.getRendererComponent(n.renderKey||"node-render"),i=r.renderer,o=this.renderMemoCache.get(i);return!o&&(o=p.default.memo(i),this.renderMemoCache.set(i,o)),o}onZoom(e){this.node.style.transform=`scale(${e})`}dispose(){this.reactPortals.dispose(),super.dispose()}onReady(){this.node.style.zIndex="10"}onReadonlyOrDisabledChange(){this.render()}getPortals(){return this.reactPortals.getMoreByItems(this.renderStatesVisible)}render(){return this.documentTransformer.loading?p.default.createElement(p.default.Fragment,null):(this.documentTransformer.refresh(),p.default.createElement(p.default.Fragment,null,this.getPortals().map(e=>p.default.createElement(e.Portal,{key:e.id}))))}};b([(0,h.inject)(l.FlowDocument)],F.prototype,"document",2),b([(0,h.inject)(L)],F.prototype,"rendererRegistry",2),b([(0,u.observeEntity)(l.FlowDocumentTransformerEntity)],F.prototype,"documentTransformer",2),b([(0,u.observeEntityDatas)(l.FlowNodeEntity,l.FlowNodeRenderData)],F.prototype,"_renderStates",2),F=b([(0,h.injectable)()],F);var z="line-marker-arrow",B=`url(#${z})`,V=function(){let{baseColor:e}=w();return p.default.createElement("marker",{id:z,markerWidth:"11",markerHeight:"14",refX:"10",refY:"7",orient:"auto"},p.default.createElement("path",{d:"M9.6 5.2C10.8 6.1 10.8 7.9 9.6 8.8L3.6 13.3C2.11672 14.4125 0 13.3541 0 11.5L0 2.5C0 0.645898 2.11672 -0.412461 3.6 0.7L9.6 5.2Z",fill:e}))},$="line-marker-arrow-activated",U=`url(#${$})`,H=function(){let{baseActivatedColor:e}=w();return p.default.createElement("marker",{id:$,markerWidth:"11",markerHeight:"14",refX:"10",refY:"7",orient:"auto"},p.default.createElement("path",{d:"M9.6 5.2C10.8 6.1 10.8 7.9 9.6 8.8L3.6 13.3C2.11672 14.4125 0 13.3541 0 11.5L0 2.5C0 0.645898 2.11672 -0.412461 3.6 0.7L9.6 5.2Z",fill:e}))},W=function(e){let{from:n,to:r,activated:i,style:o}=e,{baseColor:a,baseActivatedColor:s}=w();return p.default.createElement("path",{d:`M ${n.x} ${n.y} L ${r.x} ${r.y}`,...E,stroke:i?s:a,style:o})},K=function(e){let{vertices:n,radius:r=16,hide:i,xRadius:o,yRadius:a,...s}=e,{from:u,to:h,arrow:f,activated:g,style:y}=s||{},{baseActivatedColor:m,baseColor:b}=w(),_=n||(e.isHorizontal?function(e,n=16,r=20){let{from:i,to:o,type:a}=e||{},s=Math.abs(o.y-i.y),u=Math.abs(o.x-i.x),c=u/n,d=s/r,h=[];if(c<1)return[];switch(a){case l.FlowTransitionLineEnum.DIVERGE_LINE:case l.FlowTransitionLineEnum.DRAGGING_LINE:if(c<=1)return[{x:o.x,y:i.y,radiusX:u}];if(h=[{x:i.x+r,y:i.y},{x:i.x+r,y:o.y}],c<2){let e=u-r;h=[{x:i.x+e,y:i.y,radiusX:e},{x:i.x+e,y:o.y}]}return d<2&&(h[0].moveY=s/2,h[1].moveY=s/2),h;case l.FlowTransitionLineEnum.MERGE_LINE:if(c<2)return[{x:o.x,y:i.y}];return h=[{x:o.x-r,y:i.y},{x:o.x-r,y:o.y}],d<2&&(h[0].moveY=s/2,h[1].moveY=s/2),h}return[]}(s,o,a):function(e,n=16,r=20){let{from:i,to:o,type:a}=e||{},s=Math.abs(o.y-i.y),u=Math.abs(o.x-i.x),c=s/r,d=u/n,h=[];if(c<1)return[];switch(a){case l.FlowTransitionLineEnum.DIVERGE_LINE:case l.FlowTransitionLineEnum.DRAGGING_LINE:if(c<=1)return[{x:o.x,y:i.y,radiusY:s}];if(h=[{x:i.x,y:i.y+r},{x:o.x,y:i.y+r}],c<2){let e=s-r;h=[{x:i.x,y:i.y+e,radiusY:e},{x:o.x,y:i.y+e}]}return d<2&&(h[0].moveX=u/2,h[1].moveX=u/2),h;case l.FlowTransitionLineEnum.MERGE_LINE:if(c<2)return[{x:i.x,y:o.y}];return h=[{x:i.x,y:o.y-r},{x:o.x,y:o.y-r}],d<2&&(h[0].moveX=u/2,h[1].moveX=u/2),h}return[]}(s,o,a)),x=(0,p.useMemo)(()=>_.map((e,n)=>{let i=_[n-1]||u,o=_[n+1]||h,a={x:Math.abs(i.x-e.x),y:Math.abs(i.y-e.y)},s={x:Math.abs(o.x-e.x),y:Math.abs(o.y-e.y)},l=0===a.x&&0===s.y,f=0===a.y&&0===s.x;!(l||f)&&console.error(`vertex ${e.x},${e.y} is not right angle`);let p=new c.Point().copyFrom(e),g=new c.Point().copyFrom(e),y=(0,d.isNil)(e.radiusX)?r:e.radiusX,m=(0,d.isNil)(e.radiusY)?r:e.radiusY,b=y,w=m;if(l){w=Math.min(a.y,m);let n=(0,d.isNil)(e.moveY)?w:e.moveY;p.y+=u.y<e.y?-n:+n,b=Math.min(s.x,y);let r=(0,d.isNil)(e.moveX)?b:e.moveX;g.x+=h.x<e.x?-r:+r}if(f){b=Math.min(a.x,y);let n=(0,d.isNil)(e.moveX)?b:e.moveX;p.x+=u.x<e.x?-n:+n,w=Math.min(s.y,m);let r=(0,d.isNil)(e.moveY)?w:e.moveY;g.y+=h.y<e.y?-r:+r}let E=(e.x-p.x)*(g.y-p.y)-(e.y-p.y)*(g.x-p.x);return`L ${p.x} ${p.y} A ${b} ${w} 0 0 ${E>0?1:0} ${g.x} ${g.y}`}).join(" "),[_]);if(i)return null;let C=`M ${u.x} ${u.y} ${x} L ${h.x} ${h.y}`;return p.default.createElement("path",{d:C,...E,stroke:g?m:b,...f?{markerEnd:g?U:B}:{},style:y})},G=function(e){let{renderKey:n,rendererRegistry:r,...i}=e;if(!n)return p.default.createElement(p.default.Fragment,null);let o=r.getRendererComponent(n);if(!o)return p.default.createElement(p.default.Fragment,null);let a=o.renderer;return p.default.createElement(a,{...i})},Y=class extends u.Layer{constructor(){super(...arguments),this.node=c.domUtils.createDivWithClass("gedit-flow-lines-layer"),this.onViewportChange=(0,d.throttle)(()=>{this.render()},100)}get transitions(){return this.document.getRenderDatas(l.FlowNodeTransitionData)}onZoom(){let e=this.node.querySelector("svg.flow-lines-container");e?.setAttribute?.("viewBox",this.viewBox)}onReady(){this.node.style.zIndex="1"}get viewBox(){let e=1e3/this.config.finalScale;return`0 0 ${e} ${e}`}render(){let e=[],n=this.config.isViewportVisible.bind(this.config);if(this.documentTransformer.loading)return p.default.createElement(p.default.Fragment,null);this.documentTransformer.refresh(),this.transitions.forEach(r=>{!function(e){let{data:n,rendererRegistry:r,linesSave:i,dragService:o}=e,{lines:a,entity:s}=n||{},u=(0,l.getDefaultSpacing)(s,l.DefaultSpacingKey.ROUNDED_LINE_X_RADIUS),d=(0,l.getDefaultSpacing)(s,l.DefaultSpacingKey.ROUNDED_LINE_Y_RADIUS),h=(e,i)=>{let{renderData:a}=n,{isVertical:s}=n.entity,{lineActivated:c}=a||{},h=e.type===l.FlowTransitionLineEnum.DRAGGING_LINE&&!o.isDroppableBranch(n.entity,e.side),f=e.type===l.FlowTransitionLineEnum.DRAGGING_LINE&&n.entity?.id===o.dropNodeId&&e.side===o.labelSide;switch(e.type){case l.FlowTransitionLineEnum.STRAIGHT_LINE:return p.default.createElement(W,{key:`${n.entity.id}${i}`,activated:c,...e});case l.FlowTransitionLineEnum.DIVERGE_LINE:case l.FlowTransitionLineEnum.DRAGGING_LINE:case l.FlowTransitionLineEnum.MERGE_LINE:case l.FlowTransitionLineEnum.ROUNDED_LINE:return p.default.createElement(K,{key:`${n.entity.id}${i}`,isHorizontal:!s,activated:c||f,...e,xRadius:u,yRadius:d,hide:h});case l.FlowTransitionLineEnum.CUSTOM_LINE:return p.default.createElement(G,{key:`${n.entity.id}${i}`,...e,rendererRegistry:r})}};a.forEach((n,r)=>{let o=c.Rectangle.createRectangleWithTwoPoints(n.from,n.to).pad(10);if(e.isViewportVisible(o)){let e=h(n,r);e&&i.push(e)}})}({data:r,rendererRegistry:this.rendererRegistry,isViewportVisible:n,linesSave:e,dragService:this.dragService})});let{activateLines:r=[],normalLines:i=[]}=(0,d.groupBy)(e,e=>e.props.activated?"activateLines":"normalLines"),o=[...i,...r],a=this.rendererRegistry.tryToGetRendererComponent("marker-arrow"),s=this.rendererRegistry.tryToGetRendererComponent("marker-active-arrow"),u=a?p.default.createElement(a.renderer):null,h=s?p.default.createElement(s.renderer):null;return p.default.createElement("svg",{className:"flow-lines-container",width:"1000",height:"1000",overflow:"visible",viewBox:this.viewBox,xmlns:"http://www.w3.org/2000/svg"},p.default.createElement("defs",null,a?u:p.default.createElement(V,null),h||p.default.createElement(H,null)),o)}};function X(e){let{data:n,rendererRegistry:r,forceVisible:i,hoverHeight:o=C(n),hoverWidth:a=x(n),wrapperStyle:s,...u}=e,{activateNode:c}=u,[d,h]=(0,p.useState)(!1),f=c?.getData(l.FlowNodeRenderData),g=(0,p.useCallback)(()=>{h(!0),f?.toggleMouseEnter()},[]),y=(0,p.useCallback)(()=>{h(!1),f?.toggleMouseLeave()},[]),m=r.getRendererComponent("collapse"),b=n.entity,_=p.default.createElement(m.renderer,{node:b,collapseNode:b,...u,hoverActivated:d}),w=n.collapsed||f?.hovered||d||i;return p.default.createElement("div",{className:"flow-canvas-collapse",onMouseEnter:g,onMouseLeave:y,style:{width:a,height:o,display:"flex",justifyContent:"center",alignItems:"center",...s}},w?_:null)}b([(0,h.inject)(l.FlowDocument)],Y.prototype,"document",2),b([(0,h.inject)(l.FlowDragService)],Y.prototype,"dragService",2),b([(0,h.inject)(L)],Y.prototype,"rendererRegistry",2),b([(0,u.observeEntity)(l.FlowDocumentTransformerEntity)],Y.prototype,"documentTransformer",2),b([(0,u.observeEntity)(l.FlowRendererStateEntity)],Y.prototype,"flowRenderState",2),b([(0,u.observeEntityDatas)(l.FlowNodeEntity,l.FlowNodeTransitionData)],Y.prototype,"_transitions",2),Y=b([(0,h.injectable)()],Y);var Z=(e,{dragService:n})=>{if(n&&n.dragging&&n.isDroppableNode(e))return n.dropNodeId===e.id?"drag-highlight-adder":"draggable-adder";return"adder"};function Q(e){let{data:n,rendererRegistry:r,hoverHeight:i=C(n),hoverWidth:o=x(n),...a}=e,[s,c]=(0,p.useState)(!1),d=(0,p.useCallback)(()=>c(!0),[]),h=(0,p.useCallback)(()=>c(!1),[]),f=n.entity,g=(0,u.useService)(l.FlowDragService),y=Z(f,{dragService:g}),m=r.getRendererComponent(y),b=n.entity.document.renderTree.getOriginInfo(f).next,_=f.next,w=p.default.createElement(m.renderer,{node:f,from:f,to:b,renderTo:_,hoverActivated:s,setHoverActivated:c,hoverWidth:o,hoverHeight:i,...a});return p.default.createElement("div",{className:"flow-canvas-adder","data-testid":"sdk.flowcanvas.line.adder","data-from":f.id,"data-to":b?.id??"",onMouseEnter:d,onMouseLeave:h,style:{width:o,height:i,display:"flex",justifyContent:"center",alignItems:"center"}},w)}function q(e){let{data:n,rendererRegistry:r,...i}=e,{activateNode:o}=i,[a,s]=(0,p.useState)(!1),u=o?.getData(l.FlowNodeRenderData),c=(0,p.useCallback)(()=>{s(!0)},[]),d=(0,p.useCallback)(()=>{s(!1)},[]),h=o?.isVertical,f=u?.hovered||a;return h?p.default.createElement("div",{className:"flow-canvas-collapse-adder",onMouseEnter:c,onMouseLeave:d},(f||n.collapsed)&&p.default.createElement(X,{forceVisible:!0,...e,wrapperStyle:{alignItems:"flex-end"},hoverHeight:20}),!n.collapsed&&p.default.createElement(Q,{...e,hoverHeight:f?20:40,hoverActivated:f})):p.default.createElement("div",{className:"flow-canvas-collapse-adder",onMouseEnter:c,onMouseLeave:d,style:{display:n.collapsed?"block":"flex"}},(f||n.collapsed)&&p.default.createElement(X,{forceVisible:!0,...e,wrapperStyle:{justifyContent:"flex-end"},hoverWidth:20}),!n.collapsed&&p.default.createElement(Q,{...e,hoverWidth:f?20:40,hoverActivated:f}))}var J=(e,{dragService:n,side:r})=>{if(n.isDragBranch&&r&&n.labelSide===r&&n.isDroppableBranch(e,r))return n.dropNodeId===e.id?"drag-branch-highlight-adder":"draggable-adder";return""};function ee(e){let{data:n,rendererRegistry:r,side:i,...o}=e,a=n.entity,s=(0,u.useService)(l.FlowDragService),c=J(a,{side:i,dragService:s});if(!c)return null;let d=r.getRendererComponent(c),h=n.entity.document.renderTree.getOriginInfo(a).next,f=a.next,g=p.default.createElement(d.renderer,{node:a,from:a,to:h,renderTo:f,...o});return p.default.createElement("div",{className:"flow-canvas-branch-draggable-adder"},g)}var et={fontSize:12,color:"#8F959E",textAlign:"center",whiteSpace:"nowrap",backgroundColor:"var(--g-editor-background)",lineHeight:"20px"},en=class extends u.Layer{constructor(){super(...arguments),this.node=c.domUtils.createDivWithClass("gedit-flow-labels-layer"),this.onViewportChange=(0,d.throttle)(()=>{this.render()},100)}get transitions(){return this.document.getRenderDatas(l.FlowNodeTransitionData)}onZoom(e){this.node.style.transform=`scale(${e})`}onReady(){this.node.style.zIndex="9"}onReadonlyOrDisabledChange(){this.render()}render(){let e=[];if(this.documentTransformer?.loading)return p.default.createElement(p.default.Fragment,null);this.documentTransformer?.refresh?.();let{baseActivatedColor:n,baseColor:r}=w(),i=this.config.isViewportVisible.bind(this.config);return this.transitions.forEach(o=>{!function(e){let{data:n,rendererRegistry:r,labelsSave:i,getLabelColor:o}=e,{labels:a,renderData:s}=n||{},{activated:u}=s||{},d=(e,i)=>{let{offset:a,renderKey:s,props:c,rotate:d,type:h}=e||{},f=a.x,g=a.y,y=null;switch(h){case l.FlowTransitionLabelEnum.BRANCH_DRAGGING_LABEL:y=p.default.createElement(ee,{rendererRegistry:r,data:n,...c});break;case l.FlowTransitionLabelEnum.ADDER_LABEL:y=p.default.createElement(Q,{rendererRegistry:r,data:n,...c});break;case l.FlowTransitionLabelEnum.COLLAPSE_LABEL:y=p.default.createElement(X,{rendererRegistry:r,data:n,...c});break;case l.FlowTransitionLabelEnum.COLLAPSE_ADDER_LABEL:y=p.default.createElement(q,{rendererRegistry:r,data:n,...c});break;case l.FlowTransitionLabelEnum.TEXT_LABEL:if(!s)return null;let m=r.getText(s)||s;y=p.default.createElement("div",{style:{...et,...c?.style,color:o(u),transform:d?`rotate(${d})`:void 0}},m);break;case l.FlowTransitionLabelEnum.CUSTOM_LABEL:if(!s)return null;try{let e=r.getRendererComponent(s);y=p.default.createElement(e.renderer,{node:n.entity,...c})}catch(e){console.error(e),y=s}}return p.default.createElement("div",{key:`${n.entity.id}${i}`,style:{position:"absolute",left:f,top:g,transform:"translate(-50%, -50%)"}},y)};a.forEach((n,r)=>{var o;if(e.isViewportVisible((o=n.offset,new c.Rectangle(o.x-75,o.y-30,150,60))))i.push(d(n,r))})}({data:o,rendererRegistry:this.rendererRegistry,isViewportVisible:i,labelsSave:e,getLabelColor:e=>e?n:r})}),p.default.createElement(p.default.Fragment,null,e)}};b([(0,h.inject)(l.FlowDocument)],en.prototype,"document",2),b([(0,h.inject)(L)],en.prototype,"rendererRegistry",2),b([(0,u.observeEntity)(l.FlowDocumentTransformerEntity)],en.prototype,"documentTransformer",2),b([(0,u.observeEntity)(l.FlowRendererStateEntity)],en.prototype,"flowRenderState",2),b([(0,u.observeEntityDatas)(l.FlowNodeEntity,l.FlowNodeTransitionData)],en.prototype,"_transitions",2),en=b([(0,h.injectable)()],en);function er(e,n){let r=n.finalScale;return new c.Rectangle(e.scrollX/r,e.scrollY/r,n.config.width/r,n.config.height/r).pad(-120/r,-120/r)}var ei=Symbol("ScrollBarEvents"),eo=0;function ea(e){let n=Math.min(e/10*255,255);eo+=1;let r=eo%3,i=()=>Math.floor(Math.random()*n);return`rgb(${0===r?i():0}, ${1===r?i():0}, ${2===r?i():0})`}var es=class extends u.Layer{constructor(){super(...arguments),this.node=document.createElement("div"),this.viewport=c.domUtils.createDivWithClass("gedit-flow-debug-bounds"),this.boundsNodes=c.domUtils.createDivWithClass("gedit-flow-debug-bounds"),this.pointsNodes=c.domUtils.createDivWithClass("gedit-flow-debug-points"),this.versionNodes=c.domUtils.createDivWithClass("gedit-flow-debug-versions gedit-hidden"),this.filterKey=window.location.search.match(/debug=([^&]+)/)?.[1]||"",this.originLine=document.createElement("div"),this.domCache=new WeakMap}get transforms(){return this.document.getRenderDatas(l.FlowNodeTransformData)}onReady(){this.node.style.zIndex="20",c.domUtils.setStyle(this.originLine,{position:"absolute",width:1,height:"100%",left:this.pipelineNode.style.left,top:0,borderLeft:"1px dashed rgba(255, 0, 0, 0.5)"}),this.pipelineNode.parentElement.appendChild(this.originLine),this.node.appendChild(this.viewport),this.node.appendChild(this.versionNodes),this.node.appendChild(this.boundsNodes),this.node.appendChild(this.pointsNodes),this.renderScrollViewportBounds()}onScroll(){this.originLine.style.left=this.pipelineNode.style.left,this.renderScrollViewportBounds()}onResize(){this.renderScrollViewportBounds()}onZoom(e){this.node.style.transform=`scale(${e})`,this.renderScrollViewportBounds()}createBounds(e,n,r){if(this.filterKey&&-1===e.key.indexOf(this.filterKey))return;let i=this.domCache.get(e),{bounds:o,inputPoint:a,outputPoint:s}=e;if(!i){let r=c.domUtils.createDivWithClass(""),o=c.domUtils.createDivWithClass(""),a=c.domUtils.createDivWithClass(""),s=c.domUtils.createDivWithClass("");r.title=e.key,o.title=e.key+"(input)",a.title=e.key+"(output)",s.title=e.key,this.boundsNodes.appendChild(r),this.pointsNodes.appendChild(o),this.pointsNodes.appendChild(a),this.versionNodes.appendChild(s),e.onDispose(()=>{r.remove(),o.remove(),a.remove()}),i={bbox:r,input:o,output:a,version:s,color:n},this.domCache.set(e,i)}c.domUtils.setStyle(i.version,{position:"absolute",marginLeft:"-9px",marginTop:"-10px",borderRadius:12,background:"#f54a45",padding:4,color:"navajowhite",display:e.renderState.hidden?"none":"block",zIndex:r+1e3,left:o.center.x,top:o.center.y}),i.version.innerHTML=e.version.toString(),c.domUtils.setStyle(i.input,{position:"absolute",width:10,height:10,marginLeft:-5,marginTop:-5,borderRadius:5,left:a.x,top:a.y,opacity:.4,zIndex:r,backgroundColor:i.color,whiteSpace:"nowrap",overflow:"visible"}),i.input.innerHTML=`${a.x},${a.y}`,c.domUtils.setStyle(i.output,{position:"absolute",width:10,height:10,marginLeft:-5,marginTop:-5,borderRadius:5,left:s.x,top:s.y,opacity:.4,zIndex:r,backgroundColor:i.color,whiteSpace:"nowrap",overflow:"visible"}),i.output.innerHTML=`${s.x},${s.y}`,c.domUtils.setStyle(i.bbox,{position:"absolute",width:o.width,height:o.height,left:o.left,top:o.top,opacity:`${r/30}`,backgroundColor:i.color})}renderScrollViewportBounds(){let e=er({scrollX:this.config.config.scrollX,scrollY:this.config.config.scrollY},this.config);c.domUtils.setStyle(this.viewport,{position:"absolute",width:e.width-2,height:e.height-2,left:e.left+1,top:e.top+1,border:"1px solid rgba(200, 200, 255, 0.5)"})}autorun(){if(this.documentTransformer.loading)return;this.documentTransformer.refresh();let e=ea(0);this.document.traverse((n,r)=>{let i=n.getData(l.FlowNodeTransformData);e=ea(r),this.createBounds(i,e,r)}),this.renderScrollViewportBounds()}};b([(0,h.inject)(l.FlowDocument)],es.prototype,"document",2),b([(0,u.observeEntity)(l.FlowDocumentTransformerEntity)],es.prototype,"documentTransformer",2),b([(0,u.observeEntityDatas)(l.FlowNodeEntity,l.FlowNodeTransformData)],es.prototype,"_transforms",2),es=b([(0,h.injectable)()],es);var el=class extends u.Layer{constructor(){super(...arguments),this.rightScrollBar=c.domUtils.createDivWithClass("gedit-playground-scroll-right"),this.rightScrollBarBlock=c.domUtils.createDivWithClass("gedit-playground-scroll-right-block"),this.bottomScrollBar=c.domUtils.createDivWithClass("gedit-playground-scroll-bottom"),this.bottomScrollBarBlock=c.domUtils.createDivWithClass("gedit-playground-scroll-bottom-block"),this.sum=0,this.initialScrollX=0,this.initialScrollY=0,this.bottomGrabDragger=new u.PlaygroundDrag({onDragStart:e=>{this.config.updateCursor("grabbing"),this.sum=0,this.initialScrollX=this.config.getViewport().x,this.onBoardingToast()},onDrag:e=>{this.sum+=e.movingDelta.x,this.playgroundConfigEntity.scroll({scrollX:(this.initialScrollX+this.sum*this.viewportFullWidth/(this.clientViewportWidth-this.scrollBottomWidth))*this.scale},!1)},onDragEnd:e=>{this.config.updateCursor("default")}}),this.rightGrabDragger=new u.PlaygroundDrag({onDragStart:e=>{this.config.updateCursor("grabbing"),this.sum=0,this.initialScrollY=this.config.getViewport().y,this.onBoardingToast()},onDrag:e=>{this.sum+=e.movingDelta.y,this.playgroundConfigEntity.scroll({scrollY:(this.initialScrollY+this.sum*this.viewportFullHeight/(this.clientViewportHeight-this.scrollRightHeight))*this.scale},!1)},onDragEnd:e=>{this.config.updateCursor("default")}})}get clientViewportWidth(){return this.viewportWidth*this.scale-11}get clientViewportHeight(){return this.viewportHeight*this.scale-11}get viewportFullWidth(){return this.mostLeft-this.mostRight}get viewportFullHeight(){return this.mostTop-this.mostBottom}get viewportMoveWidth(){return this.mostLeft-this.mostRight+this.width}get viewportMoveHeight(){return this.mostTop-this.mostBottom+this.height}getToLeft(e){return(e-this.mostRight)/this.viewportMoveWidth*this.clientViewportWidth}getToTop(e){return(e-this.mostBottom)/this.viewportMoveHeight*this.clientViewportHeight}clickRightScrollBar(e){e.preventDefault(),e.stopPropagation();let n=1-(e?.y||0)/this.clientViewportHeight,r=(this.mostTop-this.viewportFullHeight*n)*this.scale;this.playgroundConfigEntity.scroll({scrollY:r},!1)}clickBottomScrollBar(e){e.preventDefault(),e.stopPropagation();let n=1-(e?.x||0)/this.clientViewportWidth,r=(this.mostLeft-this.viewportFullWidth*n)*this.scale;this.playgroundConfigEntity.scroll({scrollX:r},!1)}onBoardingToast(){this.events?.dragStart()}changeScrollBarVisibility(e,n){c.domUtils.addClass(e,"show"===n?"gedit-playground-scroll-show":"gedit-playground-scroll-hidden"),c.domUtils.delClass(e,"show"===n?"gedit-playground-scroll-hidden":"gedit-playground-scroll-show")}onReady(){!this.options.getBounds&&(this.options={getBounds:()=>{let e=this.flowDocument;return e?(e.transformer.refresh(),e.root.getData(l.FlowNodeTransformData).bounds):c.Rectangle.EMPTY},showScrollBars:"whenScrolling"}),this.pipelineNode.parentNode.appendChild(this.rightScrollBar),this.pipelineNode.parentNode.appendChild(this.rightScrollBarBlock),this.pipelineNode.parentNode.appendChild(this.bottomScrollBar),this.pipelineNode.parentNode.appendChild(this.bottomScrollBarBlock),this.rightScrollBar.onclick=this.clickRightScrollBar.bind(this),this.bottomScrollBar.onclick=this.clickBottomScrollBar.bind(this),"whenScrolling"===this.options.showScrollBars&&(this.rightScrollBar.addEventListener("mouseenter",e=>{this.changeScrollBarVisibility(this.rightScrollBarBlock,"show")}),this.rightScrollBar.addEventListener("mouseleave",e=>{this.changeScrollBarVisibility(this.rightScrollBarBlock,"hidden")}),this.bottomScrollBar.addEventListener("mouseenter",e=>{this.changeScrollBarVisibility(this.bottomScrollBarBlock,"show")}),this.bottomScrollBar.addEventListener("mouseleave",e=>{this.changeScrollBarVisibility(this.bottomScrollBarBlock,"hidden")})),this.bottomScrollBarBlock.addEventListener("mousedown",e=>{this.bottomGrabDragger.start(e.clientX,e.clientY),e.stopPropagation()}),this.rightScrollBarBlock.addEventListener("mousedown",e=>{this.rightGrabDragger.start(e.clientX,e.clientY),e.stopPropagation()})}autorun(){this.hideTimeout&&clearTimeout(this.hideTimeout);let e=er({scrollX:this.config.config.scrollX,scrollY:this.config.config.scrollY},this.config),n=this.config.getViewport();this.viewportWidth=n.width,this.viewportHeight=n.height;let r=this.options.getBounds();this.width=r?.width||0,this.height=r?.height||0;let i=(this.viewportWidth-e.width)/2-2,o=(this.viewportHeight-e.height)/2-2,a=this.width+e.width,s=this.height+e.height,l=r.x,u=r.y;this.mostLeft=this.width+l-i,this.mostRight=this.mostLeft-a,this.mostTop=this.height+u-o,this.mostBottom=this.mostTop-s,this.scale=this.config.finalScale;let d=this.clientViewportWidth,h=this.clientViewportHeight;this.scrollBottomWidth=d-d*(this.mostLeft-this.mostRight)/this.viewportMoveWidth,this.scrollRightHeight=h-h*(this.mostTop-this.mostBottom)/this.viewportMoveHeight;let f=this.getToLeft(n.x),p=this.getToTop(n.y);c.domUtils.setStyle(this.rightScrollBarBlock,{right:2,top:p,background:"#1F2329",zIndex:10,height:this.scrollRightHeight,width:"7px"}),c.domUtils.setStyle(this.bottomScrollBarBlock,{left:f,bottom:2,background:"#1F2329",zIndex:10,height:"7px",width:this.scrollBottomWidth}),this.changeScrollBarVisibility(this.rightScrollBarBlock,"show"),this.changeScrollBarVisibility(this.bottomScrollBarBlock,"show"),"whenScrolling"===this.options.showScrollBars&&(this.hideTimeout=window.setTimeout(()=>{this.changeScrollBarVisibility(this.rightScrollBarBlock,"hidden"),this.changeScrollBarVisibility(this.bottomScrollBarBlock,"hidden"),this.hideTimeout=void 0},1e3))}};b([(0,h.optional)(),(0,h.inject)(ei)],el.prototype,"events",2),b([(0,h.inject)(l.FlowDocument),(0,h.optional)()],el.prototype,"flowDocument",2),b([(0,u.observeEntity)(u.PlaygroundConfigEntity)],el.prototype,"playgroundConfigEntity",2),el=b([(0,h.injectable)()],el);var eu=class extends u.Layer{constructor(){super(...arguments),this.dragOffset={x:8,y:8},this.containerRef=p.default.createRef(),this.draggingNodeMask=document.createElement("div"),this._dragger=new u.PlaygroundDrag({onDrag:e=>{this.handleMouseMove(e)},onDragEnd:()=>{this.handleMouseUp()},stopGlobalEventNames:["contextmenu"]})}get transitions(){let e=[];return this.document.traverse(n=>{e.push(n.getData(l.FlowNodeTransitionData))}),e}get dragStartEntity(){return this.flowRenderStateEntity.getDragStartEntity()}set dragStartEntity(e){this.flowRenderStateEntity.setDragStartEntity(e)}get dragEntities(){return this.flowRenderStateEntity.getDragEntities()}set dragEntities(e){this.flowRenderStateEntity.setDragEntities(e)}isGrab(){let e=this.editorStateConfig.getCurrentState();return e===u.EditorState.STATE_GRAB}setDraggingStatus(e){this.service.nodeDragIdsWithChildren.length&&this.service.nodeDragIdsWithChildren.forEach(n=>{let r=this.entityManager.getEntityById(n),i=r?.getData(l.FlowNodeRenderData);i.dragging=e})}dragEnable(e){return Math.abs(e.clientX-this.initialPosition.x)>10||Math.abs(e.clientY-this.initialPosition.y)>10}handleMouseMove(e){if(this.dragStartEntity&&this.dragEnable(e)){this.setDraggingStatus(!0);let n=this.playgroundConfigEntity.finalScale;if(this.containerRef.current){let r;let i=this.containerRef.current.children?.[0],o=e.clientX-(this.pipelineNode.offsetLeft||0)-this.playgroundConfigEntity.config.clientX-(i.clientWidth-this.dragOffset.x)*n,a=e.clientY-(this.pipelineNode.offsetTop||0)-this.playgroundConfigEntity.config.clientY-(i.clientHeight-this.dragOffset.y)*n,s=this.service.isDragBranch,l=new c.Rectangle(o,a,i.clientWidth*n,i.clientHeight*n),u=this.transitions.find(e=>{if(e?.entity?.parent?.collapsed)return!1;let{hasCollision:n,labelOffsetType:i}=this.flowDragConfigEntity.isCollision(e,l,s);return r=i,n});u&&(s?this.service.isDroppableBranch(u.entity,r):this.service.isDroppableNode(u.entity))&&(!this.options.canDrop||this.options.canDrop({dragNodes:this.dragEntities,dropNode:u.entity,isBranch:s}))?this.flowRenderStateEntity.setNodeDroppingId(u.entity.id):this.flowRenderStateEntity.setNodeDroppingId(""),this.flowRenderStateEntity.setDragLabelSide(r),this.containerRef.current.style.visibility="visible",this.pipelineNode.parentElement.appendChild(this.draggingNodeMask),this.containerRef.current.style.left=`${o}px`,this.containerRef.current.style.top=`${a}px`,this.containerRef.current.style.transformOrigin="top left",this.containerRef.current.style.transform=`scale(${n})`,this.flowDragConfigEntity.scrollDirection(e,this.containerRef.current,o,a)}}}handleMouseUp(){if(this.setDraggingStatus(!1),this.dragStartEntity){let e=this.service.dropNodeId;e&&(this.service.isDragBranch?this.service.dropBranch():(this.service.dropNode(),this.selectConfigEntity.clearSelectedNodes())),this.flowRenderStateEntity.setNodeDroppingId(""),this.flowRenderStateEntity.setDragLabelSide(),this.dragStartEntity=void 0,this.dragEntities=[],this.flowDragConfigEntity.stopAllScroll()}this.containerRef.current&&(this.containerRef.current.style.visibility="hidden",this.pipelineNode.parentElement.contains(this.draggingNodeMask)&&this.pipelineNode.parentElement.removeChild(this.draggingNodeMask))}async startDrag(e,{dragStartEntity:n,dragEntities:r},i){if(this.isGrab()||this.config.disabled||this.config.readonly)return;this.dragOffset.x=i?.dragOffsetX||8,this.dragOffset.y=i?.dragOffsetY||8;let o=n.flowNodeType===l.FlowNodeBaseType.BLOCK_ICON,a=n.flowNodeType===l.FlowNodeBaseType.BLOCK_ORDER_ICON,s=o||a?n.parent:n;if(s.getData(l.FlowNodeRenderData).draggable)return this.initialPosition={x:e.clientX,y:e.clientY},this.dragStartEntity=s,this.dragEntities=r||[this.dragStartEntity],this._dragger.start(e.clientX,e.clientY)}onReady(){this.draggingNodeMask.style.width="100%",this.draggingNodeMask.style.height="100%",this.draggingNodeMask.style.position="absolute",this.draggingNodeMask.classList.add("dragging-node"),this.draggingNodeMask.style.zIndex="99",this.draggingNodeMask.style.cursor="pointer",this.dragNodeComp=this.rendererRegistry.getRendererComponent("drag-node"),this.options.onDrop&&this.toDispose.push(this.service.onDrop(this.options.onDrop))}render(){let e=this.dragNodeComp.renderer;return p.default.createElement("div",{ref:this.containerRef,style:{position:"absolute",zIndex:99999,visibility:"hidden"},onMouseEnter:e=>e.stopPropagation()},p.default.createElement(e,{dragStart:this.dragStartEntity,dragNodes:this.dragEntities}))}};b([(0,h.inject)(l.FlowDocument)],eu.prototype,"document",2),b([(0,h.inject)(l.FlowDragService)],eu.prototype,"service",2),b([(0,u.observeEntityDatas)(l.FlowNodeEntity,l.FlowNodeTransformData)],eu.prototype,"transforms",2),b([(0,u.observeEntity)(u.EditorStateConfigEntity)],eu.prototype,"editorStateConfig",2),b([(0,u.observeEntity)(u.PlaygroundConfigEntity)],eu.prototype,"playgroundConfigEntity",2),b([(0,u.observeEntity)(S)],eu.prototype,"flowDragConfigEntity",2),b([(0,u.observeEntity)(l.FlowRendererStateEntity)],eu.prototype,"flowRenderStateEntity",2),b([(0,u.observeEntity)(O)],eu.prototype,"selectConfigEntity",2),b([(0,h.inject)(L)],eu.prototype,"rendererRegistry",2),eu=b([(0,h.injectable)()],eu);var ec=class extends u.Layer{constructor(){super(...arguments),this.node=c.domUtils.createDivWithClass("gedit-selector-box-layer"),this.selectorBox=this.createDOMCache("gedit-selector-box"),this.selectorBoxBlock=this.createDOMCache("gedit-selector-box-block"),this.selectboxDragger=new u.PlaygroundDrag({onDragStart:e=>{this.selectConfigEntity.clearSelectedNodes();let n=this.playgroundConfigEntity.getPosFromMouseEvent(e);this.transformVisibles=this.flowDocument.getRenderDatas(l.FlowNodeTransformData,!1).filter(e=>{let{entity:r}=e;return r.originParent?this.nodeSelectable(r,n)&&this.nodeSelectable(r.originParent,n):this.nodeSelectable(r,n)}),this.selectorBoxConfigEntity.setDragInfo(e),this.updateSelectorBox(this.selectorBoxConfigEntity)},onDrag:e=>{this.selectorBoxConfigEntity.setDragInfo(e),this.selectConfigEntity.selectFromBounds(this.selectorBoxConfigEntity.toRectangle(this.playgroundConfigEntity.finalScale),this.transformVisibles),this.updateSelectorBox(this.selectorBoxConfigEntity)},onDragEnd:e=>{this.selectorBoxConfigEntity.setDragInfo(e),this.transformVisibles.length=0,this.updateSelectorBox(this.selectorBoxConfigEntity)}})}onReady(){!this.options.canSelect&&(this.options.canSelect=e=>{let n=e.target;return n===this.pipelineNode||n===this.playgroundNode}),this.toDispose.pushAll([this.selectConfigEntity.onConfigChanged(()=>{this.selectionService.selection=this.selectConfigEntity.selectedNodes}),this.selectionService.onSelectionChanged(()=>{let e=this.selectionService.selection.filter(e=>e instanceof l.FlowNodeEntity);this.selectConfigEntity.selectedNodes=e})]),this.listenPlaygroundEvent("mousedown",e=>{if(!this.isEnabled()||this.options.canSelect&&!this.options.canSelect(e,this.selectorBoxConfigEntity))return;let n=this.editorStateConfig.getCurrentState();return n===u.EditorState.STATE_MOUSE_FRIENDLY_SELECT&&this.selectConfigEntity.clearSelectedNodes(),this.selectboxDragger.start(e.clientX,e.clientY,this.config),!0},u.PipelineLayerPriority.BASE_LAYER)}isEnabled(){let e=this.editorStateConfig.getCurrentState(),n=e===u.EditorState.STATE_MOUSE_FRIENDLY_SELECT;return!this.config.disabled&&!this.config.readonly&&(n&&this.editorStateConfig.isPressingShift||e===u.EditorState.STATE_SELECT)&&!this.selectorBoxConfigEntity.disabled}dispose(){this.selectorBox.dispose(),this.selectorBoxBlock.dispose(),super.dispose()}updateSelectorBox(e){let n=this.selectorBox.get(),r=this.selectorBoxBlock.get();!this.isEnabled()&&e.isMoving&&this.selectorBoxConfigEntity.collapse(),this.isEnabled()&&e.isMoving?(n.setStyle({display:"block",left:e.position.x,top:e.position.y,width:e.size.width,height:e.size.height}),r.setStyle({display:"block",left:e.position.x-10,top:e.position.y-10,width:e.size.width+20,height:e.size.height+20})):(n.setStyle({display:"none"}),r.setStyle({display:"none"}))}nodeSelectable(e,n){let r=e.getNodeMeta().selectable;return"function"==typeof r?r(e,n):r}};b([(0,h.inject)(l.FlowDocument)],ec.prototype,"flowDocument",2),b([(0,h.inject)(u.ContextMenuService)],ec.prototype,"contextMenuService",2),b([(0,u.observeEntity)(u.PlaygroundConfigEntity)],ec.prototype,"playgroundConfigEntity",2),b([(0,h.inject)(u.SelectionService)],ec.prototype,"selectionService",2),b([(0,u.observeEntity)(M)],ec.prototype,"selectorBoxConfigEntity",2),b([(0,u.observeEntity)(O)],ec.prototype,"selectConfigEntity",2),b([(0,u.observeEntity)(u.EditorStateConfigEntity)],ec.prototype,"editorStateConfig",2),ec=b([(0,h.injectable)()],ec);var ed=class extends u.Layer{constructor(){super(...arguments),this.node=c.domUtils.createDivWithClass("gedit-selector-bounds-layer"),this.selectBoundsBackground=c.domUtils.createDivWithClass("gedit-selector-bounds-background")}onReady(){this.node.style.zIndex="20";let{firstChild:e}=this.pipelineNode;void 0!==this.options.boundsPadding&&(this.flowSelectConfigEntity.boundsPadding=this.options.boundsPadding),this.options.backgroundClassName&&this.selectBoundsBackground.classList.add(this.options.backgroundClassName);let n=c.domUtils.createDivWithClass("gedit-playground-layer");n.appendChild(this.selectBoundsBackground),this.pipelineNode.insertBefore(n,e)}onZoom(e){this.node.style.transform=`scale(${e})`,this.selectBoundsBackground.parentElement.style.transform=`scale(${e})`}onViewportChange(){this.render()}isEnabled(){let e=this.editorStateConfig.getCurrentState();return e===u.EditorState.STATE_SELECT}render(){let{ignoreOneSelect:e,SelectorBoxPopover:n,disableBackground:r,CustomBoundsRenderer:i}=this.options,o=this.flowSelectConfigEntity.getSelectedBounds(),a=this.flowSelectConfigEntity.selectedNodes,s=this.selectBoundsBackground,l=!this.selectorBoxConfigEntity.isStart;if(0===o.width||0===o.height||e&&1===a.length&&a[0].childrenLength<=1)return c.domUtils.setStyle(s,{display:"none"}),p.default.createElement(p.default.Fragment,null);if(i)return p.default.createElement(i,{bounds:o,config:this.config,flowSelectConfig:this.flowSelectConfigEntity,commandRegistry:this.commandRegistry});let u={display:"block",left:o.left,top:o.top,width:o.width,height:o.height};!r&&c.domUtils.setStyle(s,u);let d="gedit-selector-bounds-foreground";this.options.foregroundClassName&&(d+=" "+this.options.foregroundClassName);let h=n||this.rendererRegistry.tryToGetRendererComponent("selector-box-popover")?.renderer;return l&&h?p.default.createElement(h,{bounds:o,config:this.config,flowSelectConfig:this.flowSelectConfigEntity,commandRegistry:this.commandRegistry},p.default.createElement("div",{className:d,style:u})):p.default.createElement("div",{className:d,style:u})}};b([(0,h.inject)(L)],ed.prototype,"rendererRegistry",2),b([(0,h.inject)(u.CommandRegistry)],ed.prototype,"commandRegistry",2),b([(0,u.observeEntity)(O)],ed.prototype,"flowSelectConfigEntity",2),b([(0,u.observeEntity)(u.EditorStateConfigEntity)],ed.prototype,"editorStateConfig",2),b([(0,u.observeEntity)(M)],ed.prototype,"selectorBoxConfigEntity",2),b([(0,u.observeEntityDatas)(l.FlowNodeEntity,l.FlowNodeRenderData)],ed.prototype,"renderStates",2),b([(0,u.observeEntityDatas)(l.FlowNodeEntity,l.FlowNodeTransformData)],ed.prototype,"_transforms",2),ed=b([(0,h.injectable)()],ed);var eh=class extends u.Layer{constructor(){super(...arguments),this.node=c.domUtils.createDivWithClass("gedit-context-menu-layer"),this.nodeRef=p.default.createRef()}isEnabled(){let e=this.editorStateConfig.getCurrentState();return!this.config.disabled&&!this.config.readonly&&e===u.EditorState.STATE_SELECT&&!this.selectorBoxConfigEntity.disabled}onReady(){this.node.style.zIndex="30",this.node.style.display="block",this.toDispose.pushAll([this.listenPlaygroundEvent("contextmenu",e=>{if(!this.isEnabled())return;this.contextMenuService.rightPanelVisible=!0;let n=this.flowSelectConfigEntity.getSelectedBounds();if(0===n.width||0===n.height)return;e.stopPropagation(),e.preventDefault(),this.nodeRef.current?.setVisible(!0);let r=e.clientX-(this.pipelineNode.offsetLeft||0)-this.playgroundConfigEntity.config.clientX,i=e.clientY-(this.pipelineNode.offsetTop||0)-this.playgroundConfigEntity.config.clientY;this.node.style.left=`${r}px`,this.node.style.top=`${i}px`},u.PipelineLayerPriority.BASE_LAYER),this.listenPlaygroundEvent("mousedown",()=>{this.nodeRef.current?.setVisible(!1),this.contextMenuService.rightPanelVisible=!1})])}onScroll(){this.nodeRef.current?.setVisible(!1)}onZoom(){this.nodeRef.current?.setVisible(!1)}dispose(){super.dispose()}renderCommandMenus(){return this.commandRegistry.commands.filter(e=>"SELECTOR_BOX"===e.category).map(e=>{let n=this.rendererRegistry.getRendererComponent(e.icon||e.id)?.renderer;return p.default.createElement(n,{key:e.id,command:e,isContextMenu:!0,disabled:!this.commandRegistry.isEnabled(e.id),onClick:n=>this.commandRegistry.executeCommand(e.id,n)})}).filter(e=>e)}render(){let e=this.rendererRegistry.getRendererComponent("context-menu-popover").renderer;return p.default.createElement(e,{ref:this.nodeRef,content:this.renderCommandMenus()})}};b([(0,h.inject)(u.CommandRegistry)],eh.prototype,"commandRegistry",2),b([(0,h.inject)(L)],eh.prototype,"rendererRegistry",2),b([(0,h.inject)(u.ContextMenuService)],eh.prototype,"contextMenuService",2),b([(0,u.observeEntity)(O)],eh.prototype,"flowSelectConfigEntity",2),b([(0,h.inject)(u.SelectionService)],eh.prototype,"selectionService",2),b([(0,u.observeEntity)(u.PlaygroundConfigEntity)],eh.prototype,"playgroundConfigEntity",2),b([(0,u.observeEntity)(u.EditorStateConfigEntity)],eh.prototype,"editorStateConfig",2),b([(0,u.observeEntity)(M)],eh.prototype,"selectorBoxConfigEntity",2),eh=b([(0,h.injectable)()],eh);var ef=class extends u.Layer{getInitScroll(){return this.document.layout.getInitScroll(this.pipelineNode.getBoundingClientRect())}onReady(){let e=()=>this.getInitScroll();this.config.updateConfig(e()),this.config.addScrollLimit(n=>(function(e,n,r,i){e={...e};let o=r.config,a={scrollX:o.scrollX,scrollY:o.scrollY};if(0===n.length||0===o.width||0===o.height)return e;let s=er(e,r),l=n.find(e=>c.Rectangle.isViewportVisible(e,s));if(!l){let e=er(a,r),o=n.find(n=>c.Rectangle.isViewportVisible(n,e));return o?a:i()}return e})(n,[this.document.root.getData(l.FlowNodeTransformData).bounds],this.config,e))}};b([(0,h.inject)(l.FlowDocument)],ef.prototype,"document",2),ef=b([(0,h.injectable)()],ef);var ep=new h.ContainerModule(e=>{e(L).toSelf().inSingletonScope(),e(I).toSelf().inSingletonScope()})},91084:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"createSelectBoxPlugin",{enumerable:!0,get:function(){return o}});var i=r("30322"),o=(0,r("93665").definePluginCreator)({onInit(e,n){!1!==n.enable&&(e.playground.registerLayer(i.FlowSelectorBoundsLayer,n),e.playground.registerLayer(i.FlowSelectorBoxLayer,{canSelect:n.canSelect}))}})},95104:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{ShortcutsContribution:function(){return u},ShortcutsRegistry:function(){return c},createShortcutsPlugin:function(){return p}});var i=r("93665"),o=r("91516"),a=Object.defineProperty,s=Object.getOwnPropertyDescriptor,l=(e,n,r,i)=>{for(var o=i>1?void 0:i?s(n,r):n,l,u=e.length-1;u>=0;u--)(l=e[u])&&(o=(i?l(n,r,o):l(o))||o);return i&&o&&a(n,r,o),o},u=Symbol("ShortcutsContribution"),c=class{constructor(){this.shortcutsHandlers=[]}addHandlers(...e){e.forEach(e=>{this.commandRegistry.getCommand(e.commandId)?this.commandRegistry.registerHandler(e.commandId,{execute:e.execute,isEnabled:e.isEnabled}):this.commandRegistry.registerCommand({id:e.commandId,...e.commandDetail||{}},{execute:e.execute,isEnabled:e.isEnabled})}),this.shortcutsHandlers.push(...e)}addHandlersIfNotFound(...e){e.forEach(e=>{!this.has(e.commandId)&&this.addHandlers(e)})}has(e){return this.shortcutsHandlers.some(n=>n.commandId===e)}init(){this.contribs?.forEach(e=>e.registerShortcuts(this))}};l([(0,o.inject)(i.ContributionProvider),(0,o.named)(u),(0,o.optional)()],c.prototype,"contribs",2),l([(0,o.inject)(i.CommandRegistry)],c.prototype,"commandRegistry",2),l([(0,o.postConstruct)()],c.prototype,"init",1),c=l([(0,o.injectable)()],c);var d={0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,pausebreak:19,capslock:20,esc:27,space:32,pageup:33,pagedown:34,end:35,home:36,leftarrow:37,uparrow:38,rightarrow:39,downarrow:40,insert:45,delete:46,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,leftwindowkey:91,rightwindowkey:92,meta:/(mac|iphone|ipod|ipad)/i.test("undefined"!=typeof navigator?navigator?.platform:"")?[91,93]:[91,92],selectkey:93,numpad0:96,numpad1:97,numpad2:98,numpad3:99,numpad4:100,numpad5:101,numpad6:102,numpad7:103,numpad8:104,numpad9:105,multiply:106,add:107,subtract:109,decimalpoint:110,divide:111,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,numlock:144,scrolllock:145,semicolon:186,equalsign:187,"=":187,comma:188,dash:189,"-":189,period:190,forwardslash:191,graveaccent:192,openbracket:219,backslash:220,closebracket:221,singlequote:222},h={ctrl:e=>e.ctrlKey,shift:e=>e.shiftKey,alt:e=>e.altKey,meta:e=>"keyup"===e.type?d.meta.includes(e.keyCode):e.metaKey},f=class extends i.Layer{onReady(){this.shortcuts.addHandlersIfNotFound({commandId:i.Command.Default.ZOOM_IN,shortcuts:["meta =","ctrl ="],execute:()=>{this.config.zoomin()}},{commandId:i.Command.Default.ZOOM_OUT,shortcuts:["meta -","ctrl -"],execute:()=>{this.config.zoomout()}}),this.toDispose.pushAll([this.listenPlaygroundEvent("keydown",e=>{this.isFocused&&e.target===this.playgroundNode&&this.shortcuts.shortcutsHandlers.some(n=>{var r;if(r=e,n.shortcuts.some(e=>(function(e,n,r=!0){if(!e.key||!n)return!1;let i=n.split(/\s+/),o=0;for(let n of i){let r=h[n],i=d[n.toLowerCase()];(r&&r(e)||i&&i===e.keyCode)&&o++}return r?o===i.length&&function(e){let n=Object.keys(h).reduce((n,r)=>h[r](e)?n+1:n,0);return[16,17,18,91,92].includes(e.keyCode)?n:n+1}(e)===i.length:o===i.length})(r,e))&&(!n.isEnabled||n.isEnabled(e)))return n.execute(e),e.preventDefault(),!0})})])}};f.type="ShortcutsLayer",l([(0,o.inject)(c)],f.prototype,"shortcuts",2),l([(0,o.inject)(i.SelectionService)],f.prototype,"selection",2),f=l([(0,o.injectable)()],f);var p=(0,i.definePluginCreator)({onBind:({bind:e})=>{e(c).toSelf().inSingletonScope(),(0,i.bindContributionProvider)(e,u)},onInit:e=>{e.playground.registerLayer(f)},contributionKeys:[u]})},85870:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{Angle:function(){return f},Cache:function(){return b},Circle:function(){return z},Compare:function(){return m},ContributionProvider:function(){return em},Disposable:function(){return g},DisposableCollection:function(){return J},DisposableImpl:function(){return q},Emitter:function(){return Q},Matrix:function(){return B},NOOP:function(){return Y},OpacitySchemaDecoration:function(){return eh},OriginSchemaDecoration:function(){return ea},PI:function(){return D},PI_2:function(){return I},PaddingSchema:function(){return C},Point:function(){return k},PositionSchemaDecoration:function(){return es},PromiseDeferred:function(){return er},RAD_TO_DEG:function(){return j},Rectangle:function(){return A},RotationSchemaDecoration:function(){return el},ScaleSchemaDecoration:function(){return eu},Schema:function(){return w},SizeSchema:function(){return x},SizeSchemaDecoration:function(){return eo},SkewSchemaDecoration:function(){return ec},TransformSchema:function(){return E},TransformSchemaDecoration:function(){return ed},bindContributionProvider:function(){return eb},bindContributions:function(){return ey},cancelled:function(){return en},delay:function(){return ei},domUtils:function(){return O},generateLocalId:function(){return eg},useRefresh:function(){return e_}});var i,o,a,s,l,u,c,d,h,f,p,g,y,m,b,_,w,E,x,C,S,O,M=r.ir(r("56401")),P=r("56144"),{PI:D}=Math,I=2*D,j=180/D;var N=((i=N||{})[i.POLY=0]="POLY",i[i.RECT=1]="RECT",i[i.CIRC=2]="CIRC",i[i.ELIP=3]="ELIP",i[i.RREC=4]="RREC",i),T=class e{constructor(e=0,n=0){this.x=e,this.y=n}sub(n){return new e(this.x-n.x,this.y-n.y)}dot(e){return this.x*e.x+this.y*e.y}},k=class e{constructor(e=0,n=0){this.x=e,this.y=n}clone(){return new e(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.x=this.x,e.y=this.y,e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,n=e){return this.x=e,this.y=n,this}};(e=>{e.EMPTY={x:0,y:0};e.getDistance=function(e,n){return Math.sqrt((e.x-n.x)**2+(e.y-n.y)**2)};function n(e,n,r){return{x:e.x+r*(n.x-e.x),y:e.y+r*(n.y-e.y)}}e.getMiddlePoint=function(e,r){return n(e,r,.5)},e.getRatioPoint=n;e.fixZero=function(e){return 0===e.x&&(e.x=0),0===e.y&&(e.y=0),e};e.move=function(e,n){return{x:e.x+(n.x||0),y:e.y+(n.y||0)}};e.moveDistanceToDirection=function(e,n,r){let i=n.x-e.x,o=n.y-e.y,a=0===i?0:Math.sqrt(r**2/(1+o**2/i**2)),s=0===i?r:Math.abs(a*o/i);return{x:e.x+(i>0?a:-a),y:e.y+(o>0?s:-s)}}})(k||(k={}));var A=class e{constructor(e=0,n=0,r=0,i=0){this.x=e,this.y=n,this.width=r,this.height=i,this.type=1}static get EMPTY(){return new e(0,0,0,0)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}clone(){return new e(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,n){return!(this.width<=0)&&!(this.height<=0)&&(!!(e>=this.x)&&!!(e<=this.right)&&!!(n>=this.y)&&!!(n<=this.bottom)||!1)}isEqual(e){return this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height}containsRectangle(e){return e.left>=this.left&&e.right<=this.right&&e.top>=this.top&&e.bottom<=this.bottom}pad(e=0,n=e){return this.x-=e,this.y-=n,this.width+=2*e,this.height+=2*n,this}fit(e){let n=Math.max(this.x,e.x),r=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),o=Math.min(this.y+this.height,e.y+e.height);return this.x=n,this.width=Math.max(r-n,0),this.y=i,this.height=Math.max(o-i,0),this}ceil(e=1,n=.001){let r=Math.ceil((this.x+this.width-n)*e)/e,i=Math.ceil((this.y+this.height-n)*e)/e;return this.x=Math.floor((this.x+n)*e)/e,this.y=Math.floor((this.y+n)*e)/e,this.width=r-this.x,this.height=i-this.y,this}enlarge(e){let n=Math.min(this.x,e.x),r=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),o=Math.max(this.y+this.height,e.y+e.height);return this.x=n,this.width=r-n,this.y=i,this.height=o-i,this}get center(){return{x:this.x+this.width/2,y:this.y+this.height/2}}get rightBottom(){return{x:this.right,y:this.bottom}}get leftBottom(){return{x:this.left,y:this.bottom}}get rightTop(){return{x:this.right,y:this.top}}get leftTop(){return{x:this.left,y:this.top}}get bottomCenter(){return{x:this.x+this.width/2,y:this.bottom}}get topCenter(){return{x:this.x+this.width/2,y:this.top}}get rightCenter(){return{x:this.right,y:this.y+this.height/2}}get leftCenter(){return{x:this.left,y:this.y+this.height/2}}update(e){return e(this)}get crossDistance(){return k.getDistance(this.leftTop,this.rightBottom)}toStyleStr(){return`left: ${this.x}px; top: ${this.y}px; width: ${this.width}px; height: ${this.height}px;`}withPadding(e){return this.x-=e.left,this.y-=e.top,this.width+=e.left+e.right,this.height+=e.top+e.bottom,this}withoutPadding(e){return this.x+=e.left,this.y+=e.top,this.width=this.width-e.left-e.right,this.height=this.height-e.top-e.bottom,this}withHeight(e){return this.height=e,this}clearSpace(){return this.width=0,this.height=0,this}};var R=((o=R||{}).ALIGN_LEFT="align-left",o.ALIGN_CENTER="align-center",o.ALIGN_RIGHT="align-right",o.ALIGN_TOP="align-top",o.ALIGN_MIDDLE="align-middle",o.ALIGN_BOTTOM="align-bottom",o.DISTRIBUTE_HORIZONTAL="distribute-horizontal",o.DISTRIBUTE_VERTICAL="distribute-vertical",o);var L=((a=L||{}).ALIGN_LEFT="左对齐",a.ALIGN_CENTER="左右居中对齐",a.ALIGN_RIGHT="右对齐",a.ALIGN_TOP="上对齐",a.ALIGN_MIDDLE="上下居中对齐",a.ALIGN_BOTTOM="下对齐",a.DISTRIBUTE_HORIZONTAL="水平平均分布",a.DISTRIBUTE_VERTICAL="垂直平均分布",a);(e=>{function n(n){let r=e.EMPTY.clone();if(!n.length)return r;let i=[],o=[],a=[],s=[];n.forEach(e=>{i.push(e.left),a.push(e.right),s.push(e.bottom),o.push(e.top)});let l=Math.min.apply(Math,i),u=Math.max.apply(Math,a),c=Math.min.apply(Math,o),d=Math.max.apply(Math,s);return r.x=l,r.width=u-l,r.y=c,r.height=d-c,r}e.align=function(e,r){if(e.length<=1)return e;switch(r){case"align-bottom":let i=Math.max(...e.map(e=>e.bottom));e.forEach(e=>{e.y=i-e.height});break;case"align-center":let o=n(e).center.x;e.forEach(e=>{e.x=o-e.width/2});break;case"align-left":let a=Math.min(...e.map(e=>e.left));e.forEach(e=>{e.x=a});break;case"align-middle":let s=n(e).center.y;e.forEach(e=>{e.y=s-e.height/2});break;case"align-right":let l=Math.max(...e.map(e=>e.right));e.forEach(e=>{e.x=l-e.width});break;case"align-top":let u=Math.min(...e.map(e=>e.top));e.forEach(e=>{e.y=u});break;case"distribute-horizontal":if(e.length<=2)break;let c=e.slice().sort((e,n)=>e.left-n.left),d=n(e),h=e.reduce((e,n)=>e-n.width,d.width)/(e.length-1);c.reduce((e,n)=>(n.x=e,e+n.width+h),d.x);break;case"distribute-vertical":if(e.length<=2)break;let f=e.slice().sort((e,n)=>e.top-n.top),p=n(e),g=e.reduce((e,n)=>e-n.height,p.height)/(e.length-1);f.reduce((e,n)=>(n.y=e,e+n.height+g),p.y)}return e},e.enlarge=n;e.intersects=function(e,n,r){let i=e.left,o=e.top,a=e.right,s=e.bottom,l=n.left,u=n.top,c=n.right,d=n.bottom;return"horizontal"===r?a>l&&i<c:"vertical"===r?s>u&&o<d:!!(a>l)&&!!(i<c)&&!!(s>u)&&!!(o<d)||!1};e.intersectsWithRotation=function(e,n,r,i){let o=new F(e.center,e.width,e.height,n),a=new F(r.center,r.width,r.height,i),s=o.centerPoint.sub(a.centerPoint),l=o.axesX;if(o.getProjectionRadius(l)+a.getProjectionRadius(l)<=Math.abs(s.dot(l)))return!1;let u=o.axesY;if(o.getProjectionRadius(u)+a.getProjectionRadius(u)<=Math.abs(s.dot(u)))return!1;let c=a.axesX;if(o.getProjectionRadius(c)+a.getProjectionRadius(c)<=Math.abs(s.dot(c)))return!1;let d=a.axesY;return!(o.getProjectionRadius(d)+a.getProjectionRadius(d)<=Math.abs(s.dot(d)))&&!0};e.isViewportVisible=function(n,r,i=0,o=!1){return o?r.containsRectangle(n):0===i?e.intersects(n,r):e.intersectsWithRotation(n,i,r,0)};e.setViewportVisible=function(e,n,r=0){let{left:i,right:o,top:a,bottom:s,width:l,height:u}=e,{left:c,right:d,top:h,bottom:f}=n;return i<=c?e.x=c+r:o>=d&&(e.x=d-r-l),a<=h?e.y=h+r:s>=f&&(e.y=f-r-u),e};e.createRectangleWithTwoPoints=function(n,r){let i=n.x<r.x?n.x:r.x,o=n.y<r.y?n.y:r.y,a=Math.abs(n.x-r.x),s=Math.abs(n.y-r.y);return new e(i,o,a,s)}})(A||(A={}));var F=class{constructor(e,n,r,i){this.width=n,this.height=r,this.centerPoint=new T(e.x,e.y),this.axesX=new T(Math.cos(i),Math.sin(i)),this.axesY=new T(-1*this.axesX.y,this.axesX.x)}getProjectionRadius(e){return this.width/2*Math.abs(e.dot(this.axesX))+this.height/2*Math.abs(e.dot(this.axesY))}},z=class e{constructor(e=0,n=0,r=0){this.x=e,this.y=n,this.radius=r,this.type=2}clone(){return new e(this.x,this.y,this.radius)}contains(e,n){if(this.radius<=0)return!1;let r=this.radius*this.radius,i=this.x-e,o=this.y-n;return i*=i,o*=o,i+o<=r}getBounds(){return new A(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)}},B=class e{constructor(e=1,n=0,r=0,i=1,o=0,a=0){this.a=e,this.b=n,this.c=r,this.d=i,this.tx=o,this.ty=a,this.array=null}static get IDENTITY(){return new e}static get TEMP_MATRIX(){return new e}fromArray(e){return e.length<6?this:(this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5],this)}set(e,n,r,i,o,a){return this.a=e,this.b=n,this.c=r,this.d=i,this.tx=o,this.ty=a,this}toArray(e,n){!this.array&&(this.array=new Float32Array(9));let r=n||this.array;return e?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r}apply(e,n){n=n||{x:0,y:0};let{x:r,y:i}=e;return n.x=this.a*r+this.c*i+this.tx,n.y=this.b*r+this.d*i+this.ty,n}applyInverse(e,n){n=n||{x:0,y:0};let r=1/(this.a*this.d+-(this.c*this.b)),{x:i}=e,{y:o}=e;return n.x=this.d*r*i+-this.c*r*o+(this.ty*this.c-this.tx*this.d)*r,n.y=this.a*r*o+-this.b*r*i+(-this.ty*this.a+this.tx*this.b)*r,n}translate(e,n){return this.tx+=e,this.ty+=n,this}scale(e,n){return this.a*=e,this.d*=n,this.c*=e,this.b*=n,this.tx*=e,this.ty*=n,this}rotate(e){let n=Math.cos(e),r=Math.sin(e),i=this.a,o=this.c,a=this.tx;return this.a=i*n-this.b*r,this.b=i*r+this.b*n,this.c=o*n-this.d*r,this.d=o*r+this.d*n,this.tx=a*n-this.ty*r,this.ty=a*r+this.ty*n,this}append(e){let n=this.a,r=this.b,i=this.c,o=this.d;return this.a=e.a*n+e.b*i,this.b=e.a*r+e.b*o,this.c=e.c*n+e.d*i,this.d=e.c*r+e.d*o,this.tx=e.tx*n+e.ty*i+this.tx,this.ty=e.tx*r+e.ty*o+this.ty,this}setTransform(e,n,r,i,o,a,s,l,u){return this.a=Math.cos(s+u)*o,this.b=Math.sin(s+u)*o,this.c=-Math.sin(s-l)*a,this.d=Math.cos(s-l)*a,this.tx=e-(r*this.a+i*this.c),this.ty=n-(r*this.b+i*this.d),this}prepend(e){let n=this.tx;if(1!==e.a||0!==e.b||0!==e.c||1!==e.d){let n=this.a,r=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=r*e.a+this.d*e.c,this.d=r*e.b+this.d*e.d}return this.tx=n*e.a+this.ty*e.c+e.tx,this.ty=n*e.b+this.ty*e.d+e.ty,this}decompose(e){let{a:n}=this,{b:r}=this,{c:i}=this,{d:o}=this,a=-Math.atan2(-i,o),s=Math.atan2(r,n),l=Math.abs(a+s);return l<1e-5||1e-5>Math.abs(I-l)?(e.rotation=s,e.skew.x=0,e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=s),e.scale.x=Math.sqrt(n*n+r*r),e.scale.y=Math.sqrt(i*i+o*o),e.position.x=this.tx,e.position.y=this.ty,e}invert(){let e=this.a,n=this.b,r=this.c,i=this.d,o=this.tx,a=e*i-n*r;return this.a=i/a,this.b=-n/a,this.c=-r/a,this.d=e/a,this.tx=(r*this.ty-i*o)/a,this.ty=-(e*this.ty-n*o)/a,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}isSimple(){return 1===this.a&&0===this.b&&0===this.c&&1===this.d}clone(){let n=new e;return n.a=this.a,n.b=this.b,n.c=this.c,n.d=this.d,n.tx=this.tx,n.ty=this.ty,n}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}},V=class e{constructor(e,n,r=0,i=0){this._x=r,this._y=i,this.cb=e,this.scope=n}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}clone(n=this.cb,r=this.scope){return new e(n,r,this._x,this._y)}set(e=0,n=e){return(this._x!==e||this._y!==n)&&(this._x=e,this._y=n,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.x=this._x,e.y=this._y,e}equals(e){return e.x===this._x&&e.y===this._y}},$=class{constructor(){this.worldTransform=new B,this.localTransform=new B,this.position=new V(this.onChange,this,0,0),this.scale=new V(this.onChange,this,1,1),this.pivot=new V(this.onChange,this,0,0),this.skew=new V(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){let e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(e){let n=this.localTransform;if(this._localID!==this._currentLocalID&&(n.a=this._cx*this.scale.x,n.b=this._sx*this.scale.x,n.c=this._cy*this.scale.y,n.d=this._sy*this.scale.y,n.tx=this.position.x-(this.pivot.x*n.a+this.pivot.y*n.c),n.ty=this.position.y-(this.pivot.x*n.b+this.pivot.y*n.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){let r=e.worldTransform,i=this.worldTransform;i.a=n.a*r.a+n.b*r.c,i.b=n.a*r.b+n.b*r.d,i.c=n.c*r.a+n.d*r.c,i.d=n.c*r.b+n.d*r.d,i.tx=n.tx*r.a+n.ty*r.c+r.tx,i.ty=n.tx*r.b+n.ty*r.d+r.ty,this._parentID=e._worldID,this._worldID++}}setFromMatrix(e){e.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())}};function U(e,n,r){let i=r-n;return n+((e-n)%i+i)%i}$.IDENTITY=new $,(s=f||(f={})).wrap=function(e){return U(e,-Math.PI,Math.PI)},s.wrapDegrees=function(e){return U(e,-180,180)},s.betweenPoints=function(e,n,r={x:0,y:0}){let i={x:e.x-r.x,y:e.y-r.y},o={x:n.x-r.x,y:n.y-r.y};return Math.atan2(i.x*o.y-i.y*o.x,i.x*o.x+i.y*o.y)};var{keys:H}=Object;Object.prototype.hasOwnProperty;var W=(e,n)=>H(e).forEach(r=>n(e[r],r)),K=(e,n,r={})=>H(e).reduce((r,i)=>n(r,e[i],i),r),G=(e,n)=>K(e,(e,r,i)=>Object.assign(e,{[i]:n(r,i)})),Y=()=>{};Object.prototype.toString;var X=Object.freeze({dispose:Y});(p||(p={})).None=()=>X;var Z=class e{constructor(){this._disposed=!1}get event(){return!this._event&&(this._event=(n,r)=>{if(this._disposed)return X;!this._listeners&&(this._listeners=[]);let i=r?n.bind(r):n;this._listeners.length>=e.LEAK_WARNING_THRESHHOLD&&console.warn(`[Emitter] Listeners length >= ${e.LEAK_WARNING_THRESHHOLD}`),this._listeners.push(i);let o={dispose:()=>{if(o.dispose=Y,!this._disposed){let e=this._listeners.indexOf(i);-1!==e&&this._listeners.splice(e,1)}}};return o}),this._event}fire(e){this._listeners&&this._listeners.forEach(n=>n(e))}get disposed(){return this._disposed}dispose(){this._listeners&&(this._listeners=void 0),this._disposed=!0}};Z.LEAK_WARNING_THRESHHOLD=175;var Q=Z;(e=>{function n(e){return{dispose:e}}e.is=function(e){return"object"==typeof e&&null!==e&&"function"==typeof e.dispose},e.create=n,e.NULL=Object.freeze(n(()=>{}))})(g||(g={}));var q=class{constructor(){this.toDispose=new J}dispose(){this.toDispose.dispose()}get disposed(){return this.toDispose.disposed}get onDispose(){return this.toDispose.onDispose}},J=class{constructor(...e){this.disposables=[],this.onDisposeEmitter=new Q,this._disposed=!1,e.forEach(e=>this.push(e))}get onDispose(){return this.onDisposeEmitter.event}get disposed(){return this._disposed}dispose(){!this.disposed&&(this._disposed=!0,this.disposables.slice().reverse().forEach(e=>{try{e.dispose()}catch(e){console.error(e)}}),this.onDisposeEmitter.fire(void 0),this.onDisposeEmitter.dispose())}push(e){let n;if(this.disposed)return g.NULL;let{disposables:r}=this;if(r.find(n=>n._origin===e))return g.NULL;let i=g.create(()=>{let e=r.indexOf(n);-1!==e&&r.splice(e,1)});return n={dispose:()=>{i.dispose(),e.dispose()},_origin:e},r.push(n),i}pushAll(e){return e.map(e=>this.push(e))}},ee=Object.freeze(function(e,n){let r=setTimeout(e.bind(n),0);return{dispose(){clearTimeout(r)}}});(l=y||(y={})).isCancellationToken=function(e){return e===l.None||e===l.Cancelled||e instanceof et||!!e&&"object"==typeof e&&"boolean"==typeof e.isCancellationRequested&&"function"==typeof e.onCancellationRequested},l.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:p.None}),l.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:ee});var et=class{constructor(){this._isCancelled=!1}cancel(){!this._isCancelled&&(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?ee:(!this._emitter&&(this._emitter=new Q),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}};function en(){return Error("Cancelled")}var er=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};function ei(e,n=y.None){let r=new er,i=setTimeout(()=>r.resolve(),e);return n.onCancellationRequested(()=>{clearTimeout(i),r.reject(en())}),r.promise}(e=>{function n(e,r,i=1,o=!0){if(e===r)return!1;if(0===i||"object"!=typeof e||"object"!=typeof r)return e!==r;let a=Object.keys(r);if(!o){let n=Object.keys(e);if(a.length!==n.length)return!0}for(let s=0,l=a.length;s<l;s++){let l=a[s];if(n(e[l],r[l],i-1,o))return!0}return!1}e.isChanged=n;e.isDeepChanged=function(e,r,i){return n(e,r,1/0,i)};e.isArrayShallowChanged=function(e,n){if(e.length!==n.length)return!0;for(let r=0,i=e.length;r<i;r++)if(e[r]!==n[r])return!0;return!1}})(m||(m={})),(u=b||(b={})).create=function(e,n={}){let r=[];return{getFromCache:()=>r,getMore(i,o=!0){if(i===r.length);else if(i>r.length){let n=i-r.length;for(;n>0;)r.push(e()),n--}else if(o){let e=n.deleteLimit??0;if(r.length-i>e){let e=r.splice(i);e.forEach(e=>e.dispose&&e.dispose())}}return r.slice(0,i)},getMoreByItemKeys(n){let i=[],o=new Map;return r.forEach(e=>{let r=n.find(n=>n.key===e.key);r?o.set(e.key,e):e.dispose?.()}),n.forEach(n=>{if(!n.key)throw Error("getMoreByItemKeys need a key");let r=o.get(n.key);r?i.push(r):i.push(e(n))}),r=i},getMoreByItems(n){let i=[],o=new Map;return r.forEach(e=>{let r=n.find(n=>n===e.key);r?o.set(e.key,e):e.dispose?.()}),n.forEach(n=>{let r=o.get(n);r?i.push(r):i.push({...e(n),key:n})}),r=i},get:()=>r.length>0?r[0]:(r.push(e()),r[0]),getFromCacheByKey:e=>r.find(n=>n.key===e),dispose(){r.forEach(e=>e.dispose&&e.dispose()),r.length=0},clear(){this.dispose()}}},u.assign=function(e,n){return Object.assign(e,n)},u.createShortCache=function(e=1e3){let n,r;function i(){r&&clearTimeout(r),r=setTimeout(()=>{r=void 0,n=void 0},e)}return{get:e=>n?(i(),n):(n=e(),i(),n)}},u.createWeakCache=function(){let e=new WeakMap;return{get:n=>e.get(n),save:(n,r)=>e.set(n,r),isChanged:(n,r)=>m.isChanged(e.get(n),r)}},(_||(_={})).create=function(e,n,r){return{type:"object",properties:{...n?.properties,...e},mixinDefaults:{...n?.mixinDefaults,...r}}},(c=w||(w={})).createDefault=function e(n,r,i){r={...n.mixinDefaults,...r};let o=i?`${i}.`:"";return n.properties?G(n.properties,(n,i)=>{let a=o+i;return r&&void 0!==r[a]?r[a]:e(n,r,a)}):"function"==typeof n.default?n.default():n.default},c.isBaseType=function(e){return"string"===e.type||"float"===e.type||"integer"===e.type||"boolean"===e.type||"enum"===e.type||"color"===e.type||"range"===e.type};var eo={label:"大小",properties:{width:{label:"宽",default:0,type:"float"},height:{label:"高",default:0,type:"float"},locked:{label:"等比锁",default:!1,type:"boolean"}},type:"object"},ea={label:"原点",description:"用于设置旋转的中心位置",properties:{x:{label:"x",default:.5,type:"float"},y:{label:"y",default:.5,type:"float"}},type:"object"},es={label:"位置",properties:{x:{label:"x",default:0,type:"float"},y:{label:"y",default:0,type:"float"}},type:"object"},el={label:"旋转",type:"float",default:0},eu={label:"缩放",properties:{x:{label:"x",default:1,type:"float"},y:{label:"y",default:1,type:"float"}},type:"object"},ec={label:"倾斜",properties:{x:{label:"x",default:0,type:"float"},y:{label:"y",default:0,type:"float"}},type:"object"},ed={properties:{position:es,size:eo,origin:ea,scale:eu,skew:ec,rotation:el},type:"object"};(d=E||(E={})).createDefault=function(){return w.createDefault(ed)},d.toJSON=function(e){return{position:{x:e.position.x,y:e.position.y},size:{width:e.size.width,height:e.size.height,locked:e.size.locked},origin:{x:e.origin.x,y:e.origin.y},scale:{x:e.scale.x,y:e.scale.y},skew:{x:e.skew.x,y:e.skew.y},rotation:e.rotation}},d.getDelta=function(e,n){return{position:{x:n.position.x-e.position.x,y:n.position.y-e.position.y},size:{width:n.size.width-e.size.width,height:n.size.height-e.size.height},origin:{x:n.origin.x-e.origin.x,y:n.origin.y-e.origin.y},scale:{x:n.scale.x-e.scale.x,y:n.scale.y-e.scale.y},skew:{x:n.skew.x-e.skew.x,y:n.skew.y-e.skew.y},rotation:n.rotation-e.rotation}},d.mergeDelta=function(e,n,r){let i=void 0!==r?e=>Math.round(100*e)/100:e=>e;return{position:{x:i(n.position.x+e.position.x),y:i(n.position.y+e.position.y)},size:{width:i(n.size.width+e.size.width),height:i(n.size.height+e.size.height),locked:e.size.locked},origin:{x:i(n.origin.x+e.origin.x),y:i(n.origin.y+e.origin.y)},scale:{x:i(n.scale.x+e.scale.x),y:i(n.scale.y+e.scale.y)},skew:{x:i(n.skew.x+e.skew.x),y:i(n.skew.y+e.skew.y)},rotation:n.rotation+e.rotation}},d.is=function(e){return e&&e.position&&e.size&&"number"==typeof e.position.x&&"number"==typeof e.size.width},(h=x||(x={})).fixSize=function(e,n){if(e.width<=n.width&&e.height<=n.height)return 1;let r=e.width/n.width,i=e.height/n.height;return 1/(r>i?r:i)},h.coverSize=function(e,n){let r=e.width/n.width,i=e.height/n.height;return 1/(r<i?r:i)},h.empty=function(){return{width:0,height:0}},(C||(C={})).empty=()=>({left:0,right:0,top:0,bottom:0}),(S||(S={})).isEmpty=function(e){return!e||void 0===e.topLeft&&void 0===e.topRight&&void 0===e.bottomLeft&&void 0===e.bottomRight};var eh={label:"透明度",type:"float",min:0,max:1,default:1},ef=e=>e.replace(/([A-Z])/,e=>`-${e.toLowerCase()}`);(e=>{function n(e){return`${e}px`}e.toPixel=n;e.fromPercent=function(e){return parseFloat(e.substring(0,e.length-1))};e.toPercent=function(e){return`${e}%`};e.enableEvent=function(e){e.style.pointerEvents="all"};function r(e,...n){let i=document.createElement(e);return n.length>0&&(i.className=(0,M.default)(n)),i}e.disableEvent=function(e){e.style.pointerEvents="none"},e.createElement=r;e.createDivWithClass=function(...e){return r("div",...e)};e.addClass=function(e,...n){e.className=(0,M.default)(n.concat(e.className.split(" ")))};e.delClass=function(e,...n){n.forEach(n=>{e.classList.remove(n)}),e.className=e.classList.toString()};e.coverClass=function(e,...n){e.className=(0,M.default)(n)};e.clearChildren=function(e){e.innerHTML=""};e.translatePercent=function(e,n,r){e.style.transform=`translate(${n}%, ${r}%)`};e.translateXPercent=function(e,n){e.style.transform=`translateX(${n}%)`};e.translateYPercent=function(e,n){e.style.transform=`translateY(${n}%)`};e.setStyle=function(e,r){let i=[];W(r,(e,r)=>{void 0!==e&&("number"==typeof e&&"opacity"!==r&&"zIndex"!==r&&"scale"!==r&&(e=n(e)),i.push(`${ef(r)}:${e}`))});let o=e.getAttribute("style"),a=i.join(";");o!==a&&e.setAttribute("style",a)};e.classNameWithPrefix=function(e){return(n,r)=>(0,M.default)(n.split(/\s+/).map(n=>`${e}-${n}`).join(" "),r)};e.addStandardDisposableListener=function(e,n,r,i){return e.addEventListener(n,r,i),g.create(()=>{e.removeEventListener(n,r)})};e.createDOMCache=function(n,r,i){return b.create(()=>{let o="string"==typeof r?e.createDivWithClass(r):r();return i&&(o.innerHTML=i),n.appendChild(o),Object.assign(o,{dispose:()=>{let{parentNode:e}=o;e&&e.removeChild(o)},setStyle:n=>{e.setStyle(o,n)}})})}})(O||(O={}));var ep=0;function eg(){return ep===Number.MAX_SAFE_INTEGER&&(ep=0),ep++}function ey(e,n,r){e(n).toSelf().inSingletonScope(),r.forEach(r=>e(r).toService(n))}var em=Symbol("ContributionProvider"),ev=class{constructor(e,n){this.container=e,this.identifier=n}forEach(e){this.getContributions().forEach(e)}getContributions(){if(!this.services){let e=[],{container:n}=this;if(n.isBound(this.identifier))try{e.push(...n.getAll(this.identifier))}catch(e){console.error(e)}this.services=e}return this.services}};function eb(e,n){e(em).toDynamicValue(e=>new ev(e.container,n)).inSingletonScope().whenTargetNamed(n)}function e_(e){let[,n]=(0,P.useState)(e);return(0,P.useCallback)(e=>n(void 0!==e?e:{}),[])}new class{isDevEnv(){return!1}info(...e){if(this.isDevEnv())return console.info(e)}log(...e){if(this.isDevEnv())return console.log(...e)}error(...e){return console.error(...e)}warn(...e){return console.warn(...e)}}},21231:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{ASTFactory:function(){return s},ASTKind:function(){return O},ASTNode:function(){return N},ASTRegisters:function(){return J},ArrayType:function(){return k},BaseExpression:function(){return U},BaseType:function(){return T},BaseVariableField:function(){return G},BooleanType:function(){return L},CustomType:function(){return V},DataNode:function(){return Q},EnumerateExpression:function(){return K},ExpressionList:function(){return H},IntegerType:function(){return R},KeyPathExpression:function(){return W},MapNode:function(){return q},MapType:function(){return z},NumberType:function(){return F},ObjectType:function(){return B},Property:function(){return Z},Scope:function(){return ei},ScopeChain:function(){return S},ScopeOutputData:function(){return et},ScopeProvider:function(){return eu},StringType:function(){return A},VariableContainerModule:function(){return es},VariableDeclaration:function(){return Y},VariableDeclarationList:function(){return X},VariableEngine:function(){return eo},VariableEngineProvider:function(){return x},VariableFieldKeyRenameService:function(){return ea},VariableTable:function(){return ee},isMatchAST:function(){return I},useCurrentScope:function(){return ec},useScopeAvailable:function(){return ed}});var i,o,a,s,l=r("91516"),u=r("18449"),c=r("85870"),d=r("53168"),h=r("57254"),f=r("69589"),p=r("56144"),g=r("93665"),y=Object.defineProperty,m=Object.getOwnPropertyDescriptor,b=(e,n,r,i)=>{for(var o=i>1?void 0:i?m(n,r):n,a,s=e.length-1;s>=0;s--)(a=e[s])&&(o=(i?a(n,r,o):a(o))||o);return i&&o&&y(n,r,o),o},_=(e,n)=>(r,i)=>n(r,i,e);function w(e){return c.Disposable.create(()=>e.unsubscribe())}var E=()=>{let e=new Map,n=(n,r)=>{if(e.has(n))return e.get(n);let i=r();return e.set(n,i),i};return n.clear=n=>{n?e.delete(n):e.clear()},n},x=Symbol("DynamicVariableEngine"),C=Symbol("ContainerProvider"),S=class{constructor(){this.toDispose=new c.DisposableCollection}get variableEngine(){return this.variableEngineProvider()}refreshAllChange(){this.variableEngine.getAllScopes().forEach(e=>{e.refreshCovers(),e.refreshDeps()})}dispose(){this.toDispose.dispose()}get disposed(){return this.toDispose.disposed}get onDispose(){return this.toDispose.onDispose}};b([(0,l.inject)(x)],S.prototype,"variableEngineProvider",2),S=b([(0,l.injectable)()],S);var O=((i=O||{}).String="String",i.Number="Number",i.Integer="Integer",i.Boolean="Boolean",i.Object="Object",i.Array="Array",i.Map="Map",i.Union="Union",i.Any="Any",i.CustomType="CustomType",i.Property="Property",i.VariableDeclaration="VariableDeclaration",i.VariableDeclarationList="VariableDeclarationList",i.KeyPathExpression="KeyPathExpression",i.EnumerateExpression="EnumerateExpression",i.ExpressionList="ExpressionList",i.ListNode="ListNode",i.DataNode="DataNode",i.MapNode="MapNode",i),M=Symbol("post_construct_ast");function P({getChildNode:e,updateChildNode:n,removeChildNode:r,nextJSON:i}){let o=e(),a=o?.kind!==i?.kind,s=i?.key&&i?.key!==o?.key;if(a||s){if(o&&(o.dispose(),r()),i){let e=this.createChildNode(i);return n(e),this.fireChange(),e}this.fireChange()}else i&&o?.fromJSON(i);return o}function D(e){return"string"==typeof e?{kind:e}:e}function I(e,n){return e?.kind===n?.kind}var j=((o=j||{})[o.None=0]="None",o[o.VariableField=1]="VariableField",o[o.Expression=4]="Expression",o[o.BasicType=8]="BasicType",o[o.DrilldownType=16]="DrilldownType",o[o.EnumerateType=32]="EnumerateType",o[o.UnionType=64]="UnionType",o[o.VariableType=120]="VariableType",o),N=class e{constructor({key:e,parent:n,scope:r},i){this.flags=0,this._version=0,this.changeLocked=!1,this._batch={batching:!1,hasChangesInBatch:!1},this.value$=new u.BehaviorSubject(this),this._children=new Set,this.toDispose=new c.DisposableCollection(c.Disposable.create(()=>{this.parent?.fireChange(),this.children.forEach(e=>e.dispose())})),this.onDispose=this.toDispose.onDispose,this.scope=r,this.parent=n,this.opts=i,this.key=e||(0,h.nanoid)(),this.fromJSON=this.withBatchUpdate(this.fromJSON.bind(this)),this.dispatchGlobalEvent({type:"NewAST"})}get kind(){if(!this.constructor.kind)throw Error(`ASTNode Registry need a kind: ${this.constructor.name}`);return this.constructor.kind}get children(){return Array.from(this._children)}toJSON(){return console.warn("[VariableEngine] Please Implement toJSON method for "+this.kind),{kind:this.kind}}createChildNode(e){let n=this.scope.variableEngine.astRegisters,r=n.createAST(e,{parent:this,scope:this.scope});return this._children.add(r),r.toDispose.push(c.Disposable.create(()=>{this._children.delete(r)})),r}updateChildNodeByKey(e,n){this.withBatchUpdate(P).call(this,{getChildNode:()=>this[e],updateChildNode:n=>this[e]=n,removeChildNode:()=>this[e]=void 0,nextJSON:n})}withBatchUpdate(e){return(...n)=>{if(this._batch.batching)return e.call(this,...n);this._batch.hasChangesInBatch=!1,this._batch.batching=!0;let r=e.call(this,...n);return this._batch.batching=!1,this._batch.hasChangesInBatch&&this.fireChange(),this._batch.hasChangesInBatch=!1,r}}fireChange(){if(!this.changeLocked&&!this.disposed){if(this._batch.batching){this._batch.hasChangesInBatch=!0;return}this._version++,this.value$.next(this),this.dispatchGlobalEvent({type:"UpdateAST"}),this.parent?.fireChange()}}get version(){return this._version}get hash(){return`${this._version}${this.kind}${this.key}`}subscribe(n,{selector:r,debounceAnimation:i,triggerOnInit:o}={}){return w(this.value$.pipe((0,u.map)(()=>r?r(this):this),(0,u.distinctUntilChanged)((e,n)=>(0,f.shallowEqual)(e,n),n=>n instanceof e?n.hash:n),o?(0,u.tap)(()=>null):(0,u.skip)(1),i?(0,u.debounceTime)(0,u.animationFrameScheduler):(0,u.tap)(()=>null)).subscribe(n))}dispatchGlobalEvent(e){this.scope.event.dispatch({...e,ast:this})}dispose(){!this.toDispose.disposed&&(this.toDispose.dispose(),this.dispatchGlobalEvent({type:"DisposeAST"}),this.value$.complete(),this.value$.unsubscribe())}get disposed(){return this.toDispose.disposed}},T=class extends N{constructor(){super(...arguments),this.flags=8}isTypeEqual(e){let n=D(e);return n?.kind==="Union"?(n?.types||[])?.some(e=>this.isTypeEqual(e)):this.kind===n?.kind}getByKeyPath(e=[]){throw Error(`Get By Key Path is not implemented for Type: ${this.kind}`)}toJSON(){return{kind:this.kind}}},k=class extends T{constructor(){super(...arguments),this.flags=48}fromJSON({items:e}){this.updateChildNodeByKey("items",D(e))}get canDrilldownItems(){return!!(this.items?.flags&16)}getByKeyPath(e){let[n,...r]=e||[];if("0"===n&&this.canDrilldownItems)return this.items.getByKeyPath(r)}isTypeEqual(e){let n=D(e),r=super.isTypeEqual(e);return n?.weak||n?.kind==="Union"?r:n&&r&&(n?.weak||this.customStrongEqual(n))}customStrongEqual(e){return this.items?this.items?.isTypeEqual(e.items):!e?.items}toJSON(){return{kind:"Array",items:this.items?.toJSON()}}};k.kind="Array";var A=class extends T{constructor(){super(...arguments),this.flags=8}fromJSON(){}};A.kind="String";var R=class extends T{constructor(){super(...arguments),this.flags=8}fromJSON(){}};R.kind="Integer";var L=class extends T{fromJSON(){}};L.kind="Boolean";var F=class extends T{fromJSON(){}};F.kind="Number";var z=class extends T{fromJSON({keyType:e="String",valueType:n}){this.updateChildNodeByKey("keyType",D(e)),this.updateChildNodeByKey("valueType",D(n))}isTypeEqual(e){let n=D(e),r=super.isTypeEqual(e);return n?.weak||n?.kind==="Union"?r:n&&r&&(n?.weak||this.customStrongEqual(n))}customStrongEqual(e){let{keyType:n="String",valueType:r}=e,i=!r&&!this.valueType||this.valueType?.isTypeEqual(r);return i&&this.keyType?.isTypeEqual(n)}toJSON(){return{kind:"Map",keyType:this.keyType?.toJSON(),valueType:this.valueType?.toJSON()}}};z.kind="Map";var B=class extends T{constructor(){super(...arguments),this.flags=16,this.propertyTable=new Map}fromJSON({properties:e}){let n=new Set(this.propertyTable.keys()),r=[...this.properties||[]];this.properties=(e||[]).map(e=>{let r=this.propertyTable.get(e.key);if(n.delete(e.key),r)return r.fromJSON(e),r;{let n=this.createChildNode({...e,kind:"Property"});return this.fireChange(),this.propertyTable.set(e.key,n),n}}),n.forEach(e=>{let n=this.propertyTable.get(e);n?.dispose(),this.propertyTable.delete(e),this.fireChange()}),this.dispatchGlobalEvent({type:"ObjectPropertiesChange",payload:{prev:r,next:[...this.properties]}})}toJSON(){return{kind:"Object",properties:this.properties.map(e=>e.toJSON())}}getByKeyPath(e){let[n,...r]=e,i=this.propertyTable.get(n);return r.length?i?.type&&i?.type?.flags&16?i.type.getByKeyPath(r):void 0:i}isTypeEqual(e){let n=D(e),r=super.isTypeEqual(e);return n?.weak||n?.kind==="Union"?r:n&&r&&(n?.weak||this.customStrongEqual(n))}customStrongEqual(e){let n=e.properties||[],r=Array.from(this.propertyTable.keys()),i=n.map(e=>e.key),o=!(0,d.xor)(r,i).length;return o&&n.every(e=>{let n=this.propertyTable.get(e.key);return n&&n.key===e.key&&n.type?.isTypeEqual(e?.type)})}};B.kind="Object";var V=class extends T{get typeName(){return this._typeName}fromJSON(e){this._typeName!==e.typeName&&(this._typeName=e.typeName,this.fireChange())}isTypeEqual(e){let n=D(e);return n?.kind==="Union"?(n?.types||[])?.some(e=>this.isTypeEqual(e)):n?.kind===this.kind&&n?.typeName===this.typeName}};function $(e){let n=e.parent,r=[];for(;n;)1&n.flags&&r.push(n),n=n.parent;return r}V.kind="CustomType";var U=class extends N{constructor(e,n){super(e,n),this.flags=4,this._refs=[],this.refreshRefs$=new u.Subject,this.refs$=this.refreshRefs$.pipe((0,u.map)(()=>this.getRefFields()),(0,u.distinctUntilChanged)(f.shallowEqual),(0,u.switchMap)(e=>e?.length?(0,u.combineLatest)(e.map(e=>e?e.value$:(0,u.of)(void 0))):(0,u.of)([])),(0,u.share)()),this.toDispose.push(w(this.refs$.subscribe(e=>{this._refs=e,this.fireChange()})))}get globalVariableTable(){return this.scope.variableEngine.globalVariableTable}get parentFields(){return $(this)}get refs(){return this._refs}refreshRefs(){this.refreshRefs$.next()}},H=class extends N{fromJSON({expressions:e}){this.expressions=e.map((e,n)=>{let r=this.expressions[n];return r.kind!==e.kind?(r.dispose(),this.fireChange(),this.createChildNode(e)):(r.fromJSON(e),r)})}toJSON(){return{kind:"ExpressionList",properties:this.expressions.map(e=>e.toJSON())}}};H.kind="ExpressionList";var W=class extends U{constructor(e,n){super(e,n),this._keyPath=[],this.toDispose.pushAll([this.scope.available.onVariableListChange(()=>{this.refreshRefs()}),this.scope.available.onAnyVariableChange(e=>{e.key===this._keyPath[0]&&this.refreshRefs()})])}get keyPath(){return this._keyPath}getRefFields(){let e=this.scope.available.getByKeyPath(this._keyPath);return e?[e]:[]}get returnType(){let[e]=this._refs||[];if(e&&1&e.flags)return e.type}parseToKeyPath(e){return e.keyPath}fromJSON(e){let n=this.parseToKeyPath(e);!(0,f.shallowEqual)(n,this._keyPath)&&(this._keyPath=n,this.refreshRefs())}toJSON(){return{kind:"KeyPathExpression",keyPath:this._keyPath}}};W.kind="KeyPathExpression";var K=class extends U{get enumerateFor(){return this._enumerateFor}get returnType(){let e=this.enumerateFor?.returnType;if(e?.kind==="Array")return e.items}getRefFields(){return[]}fromJSON({enumerateFor:e}){this.updateChildNodeByKey("_enumerateFor",e)}toJSON(){return{kind:"EnumerateExpression",enumerateFor:this.enumerateFor?.toJSON()}}};K.kind="EnumerateExpression";(class extends U{constructor(e,n){super(e,n),this._keyPath=[],this.toDispose.pushAll([this.scope.available.onVariableListChange(()=>{this.refreshRefs()}),this.scope.available.onAnyVariableChange(e=>{e.key===this._keyPath[0]&&this.refreshRefs()}),w(this.refs$.subscribe(e=>{let[n]=this._refs;this.prevRefTypeHash!==n?.type?.hash&&(this.prevRefTypeHash=n?.type?.hash,this.updateChildNodeByKey("_returnType",this.getReturnTypeJSONByRef(n)))}))])}get keyPath(){return this._keyPath}getRefFields(){let e=this.scope.available.getByKeyPath(this._keyPath);return function(e,n){if(0===(0,d.intersection)(e.scope.coverScopes,n.map(e=>e?.scope).filter(Boolean)).length)return!1;let r=new Set,i=[...n];for(;i.length;){let e=i.shift();for(let n of(r.add(e),(function e(n){return[...n.children,...n.children.map(n=>e(n)).flat()]})(e).filter(e=>4&e.flags).map(e=>e.refs).flat().filter(Boolean).filter(e=>!r.has(e))))i.push(n)}return(0,d.intersection)(Array.from(r),$(e)).length>0}(this,[e])?(console.warn("[CustomKeyPathExpression] checkRefCycle: Reference Cycle Existed",this.parentFields.map(e=>e.key).reverse()),[]):e?[e]:[]}get returnType(){return this._returnType}parseToKeyPath(e){return e.keyPath}fromJSON(e){let n=this.parseToKeyPath(e);!(0,f.shallowEqual)(n,this._keyPath)&&(this._keyPath=n,this.refreshRefs())}getReturnTypeJSONByRef(e){return e?.type?.toJSON()}toJSON(){return{kind:"KeyPathExpression",keyPath:this._keyPath}}}).kind="KeyPathExpression";var G=class extends N{constructor(){super(...arguments),this.flags=1,this._meta={}}get parentFields(){return $(this)}get meta(){return this._meta}get type(){return this._initializer?.returnType||this._type}get initializer(){return this._initializer}fromJSON({type:e,initializer:n,meta:r}){this.updateType(e),this.updateInitializer(n),this.updateMeta(r)}updateType(e){let n="string"==typeof e?{kind:e}:e;this.updateChildNodeByKey("_type",n)}updateInitializer(e){this.updateChildNodeByKey("_initializer",e)}updateMeta(e){!(0,f.shallowEqual)(e,this._meta)&&(this._meta=e,this.fireChange())}getByKeyPath(e){if(this.type?.flags&16)return this.type.getByKeyPath(e)}onTypeChange(e){return this.subscribe(e,{selector:e=>e.type})}toJSON(){return{kind:this.kind,key:this.key,type:this.type?.toJSON(),initializer:this.initializer?.toJSON(),meta:this._meta}}},Y=class extends G{constructor(e){super(e),this._order=0,this.scope.output.addVariableToTable(this),this.toDispose.push(c.Disposable.create(()=>{this.scope.output.setHasChanges(),this.scope.output.removeVariableFromTable(this.key)}))}get order(){return this._order}fromJSON({order:e,...n}){this.updateOrder(e),super.fromJSON(n)}updateOrder(e=0){e!==this._order&&(this._order=e,this.scope.output.setHasChanges(),this.fireChange())}onTypeChange(e){return this.subscribe(e,{selector:e=>e.type})}};Y.kind="VariableDeclaration";var X=class extends N{constructor(){super(...arguments),this.declarationTable=new Map}fromJSON({declarations:e,startOrder:n}){let r=new Set(this.declarationTable.keys()),i=[...this.declarations||[]];this.declarations=(e||[]).map((e,i)=>{let o=(n||0)+i,a=e.key||this.declarations?.[i]?.key,s=this.declarationTable.get(a);if(a&&r.delete(a),s)return s.fromJSON({order:o,...e}),s;{let n=this.createChildNode({order:o,...e,kind:"VariableDeclaration"});return this.fireChange(),this.declarationTable.set(n.key,n),n}}),r.forEach(e=>{let n=this.declarationTable.get(e);n?.dispose(),this.declarationTable.delete(e)}),this.dispatchGlobalEvent({type:"VariableListChange",payload:{prev:i,next:[...this.declarations]}})}toJSON(){return{kind:"VariableDeclarationList",properties:this.declarations.map(e=>e.toJSON())}}};X.kind="VariableDeclarationList";var Z=class extends G{};Z.kind="Property";var Q=class extends N{get data(){return this._data}fromJSON(e){let{kind:n,...r}=e;!(0,f.shallowEqual)(r,this._data)&&(this._data=r,this.fireChange())}toJSON(){return{kind:"DataNode",...this._data}}partialUpdate(e){!(0,f.shallowEqual)(e,this._data)&&(this._data={...this._data,...e},this.fireChange())}};Q.kind="DataNode",(class extends N{get list(){return this._list}fromJSON({list:e}){this._list.slice(e.length).forEach(e=>{e.dispose(),this.fireChange()}),this._list=e.map((e,n)=>{let r=this._list[n];return r.kind!==e.kind?(r.dispose(),this.fireChange(),this.createChildNode(e)):(r.fromJSON(e),r)})}toJSON(){return{kind:"ListNode",list:this._list.map(e=>e.toJSON())}}}).kind="ListNode";var q=class extends N{constructor(){super(...arguments),this.map=new Map}fromJSON({map:e}){let n=new Set(this.map.keys());for(let[r,i]of e||[])n.delete(r),this.set(r,i);for(let e of Array.from(n))this.remove(e)}toJSON(){return{kind:"MapNode",map:Array.from(this.map.entries())}}set(e,n){return this.withBatchUpdate(P).call(this,{getChildNode:()=>this.get(e),removeChildNode:()=>this.map.delete(e),updateChildNode:n=>this.map.set(e,n),nextJSON:n})}remove(e){this.get(e)?.dispose(),this.map.delete(e),this.fireChange()}get(e){return this.map.get(e)}};q.kind="MapNode";var J=class{constructor(){this.injectors=new Map,this.astMap=new Map,this.registerAST(A),this.registerAST(F),this.registerAST(L),this.registerAST(R),this.registerAST(B),this.registerAST(k),this.registerAST(z),this.registerAST(V),this.registerAST(Z),this.registerAST(Y),this.registerAST(X),this.registerAST(W),this.registerAST(K),this.registerAST(H),this.registerAST(q),this.registerAST(Q)}createAST(e,{parent:n,scope:r}){let i=this.astMap.get(e.kind);if(!i)throw Error(`ASTKind: ${String(e.kind)} can not find its ASTNode Registry`);let o=this.injectors.get(e.kind),a=new i({key:e.key,scope:r,parent:n},o?.()||{});if(a.changeLocked=!0,a.fromJSON((0,d.omit)(e,["key","kind"])),a.changeLocked=!1,Reflect.hasMetadata(M,a)){let e=Reflect.getMetadata(M,a);a[e]?.()}return a}getASTRegistryByKind(e){return this.astMap.get(e)}registerAST(e,n){this.astMap.set(e.kind,e),n&&this.injectors.set(e.kind,n)}};J=b([(0,l.injectable)()],J),(a=s||(s={})).createString=()=>({kind:"String"}),a.createNumber=()=>({kind:"Number"}),a.createBoolean=()=>({kind:"Boolean"}),a.createInteger=()=>({kind:"Integer"}),a.createObject=e=>({kind:"Object",...e}),a.createArray=e=>({kind:"Array",...e}),a.createMap=e=>({kind:"Map",...e}),a.createUnion=e=>({kind:"Union",...e}),a.createCustomType=e=>({kind:"CustomType",...e}),a.createVariableDeclaration=e=>({kind:"VariableDeclaration",...e}),a.createProperty=e=>({kind:"Property",...e}),a.createVariableDeclarationList=e=>({kind:"VariableDeclarationList",...e}),a.createEnumerateExpression=e=>({kind:"EnumerateExpression",...e}),a.createKeyPathExpression=e=>({kind:"KeyPathExpression",...e}),a.create=(e,n)=>({kind:e.kind,...n});var ee=class{constructor(e){this.parentTable=e,this.table=new Map,this.onDataChangeEmitter=new c.Emitter,this.variables$=new u.Subject,this.anyVariableChange$=this.variables$.pipe((0,u.switchMap)(e=>(0,u.merge)(...e.map(e=>e.value$.pipe((0,u.skip)(1))))),(0,u.share)()),this.onDataChange=this.onDataChangeEmitter.event,this._version=0}onAnyVariableChange(e){return w(this.anyVariableChange$.subscribe(e))}onAnyChange(e){let n=new c.DisposableCollection;return n.pushAll([this.onDataChange(e),this.onAnyVariableChange(e)]),n}fireChange(){this._version++,this.onDataChangeEmitter.fire(),this.parentTable?.fireChange()}get version(){return this._version}get variables(){return Array.from(this.table.values())}get variableKeys(){return Array.from(this.table.keys())}getByKeyPath(e){let[n,...r]=e||[];if(!n)return;let i=this.getVariableByKey(n);return r.length?i?.getByKeyPath(r):i}getVariableByKey(e){return this.table.get(e)}addVariableToTable(e){this.table.set(e.key,e),this.parentTable&&this.parentTable.addVariableToTable(e),this.variables$.next(this.variables)}removeVariableFromTable(e){this.table.delete(e),this.parentTable&&this.parentTable.removeVariableFromTable(e),this.variables$.next(this.variables)}dispose(){this.variableKeys.forEach(e=>this.parentTable?.removeVariableFromTable(e)),this.onDataChangeEmitter.dispose()}},et=class{constructor(e){this.scope=e,this.memo=E(),this._hasChanges=!1,this.variableTable=new ee(e.variableEngine.globalVariableTable),this.scope.toDispose.pushAll([this.scope.ast.subscribe(()=>{this._hasChanges&&(this.memo.clear(),this.notifyCoversChange(),this.variableTable.fireChange(),this._hasChanges=!1)}),this.variableTable])}get variableEngine(){return this.scope.variableEngine}get globalVariableTable(){return this.scope.variableEngine.globalVariableTable}get onDataChange(){return this.variableTable.onDataChange.bind(this.variableTable)}get onAnyVariableChange(){return this.variableTable.onAnyVariableChange.bind(this.variableTable)}get variables(){return this.memo("variables",()=>this.variableTable.variables.sort((e,n)=>e.order-n.order))}get variableKeys(){return this.memo("variableKeys",()=>this.variableTable.variableKeys)}addVariableToTable(e){if(e.scope!==this.scope)throw Error("VariableDeclaration must be a ast node in scope");this.variableTable.addVariableToTable(e),this._hasChanges=!0}setHasChanges(){this._hasChanges=!0}removeVariableFromTable(e){this.variableTable.removeVariableFromTable(e),this._hasChanges=!0}getVariableByKey(e){return this.variableTable.getVariableByKey(e)}notifyCoversChange(){this.scope.coverScopes.forEach(e=>e.available.refresh())}},en=class{constructor(e){this.scope=e,this.memo=E(),this.refresh$=new u.Subject,this._variables=[],this.variables$=this.refresh$.pipe((0,u.map)(()=>(0,d.flatten)(this.depScopes.map(e=>e.output.variables||[]))),(0,u.distinctUntilChanged)(f.shallowEqual),(0,u.share)()),this.anyVariableChange$=this.variables$.pipe((0,u.switchMap)(e=>(0,u.merge)(...e.map(e=>e.value$.pipe((0,u.skip)(1))))),(0,u.share)()),this.onDataChangeEmitter=new c.Emitter,this.onDataChange=this.onDataChangeEmitter.event,this.scope.toDispose.pushAll([this.onVariableListChange(e=>{this._variables=e,this.memo.clear(),this.onDataChangeEmitter.fire(this._variables)}),this.onAnyVariableChange(()=>{this.onDataChangeEmitter.fire(this._variables)}),c.Disposable.create(()=>{this.refresh$.complete(),this.refresh$.unsubscribe()})])}get globalVariableTable(){return this.scope.variableEngine.globalVariableTable}refresh(){!this.scope.disposed&&this.refresh$.next()}onAnyVariableChange(e){return w(this.anyVariableChange$.subscribe(e))}onVariableListChange(e){return w(this.variables$.subscribe(e))}get variables(){return this._variables}get variableKeys(){return this.memo("availableKeys",()=>this._variables.map(e=>e.key))}get depScopes(){return this.scope.depScopes}getByKeyPath(e=[]){if(this.variableKeys.includes(e[0]))return this.globalVariableTable.getByKeyPath(e)}},er=class{constructor(e){this.scope=e,this.event$=new u.Subject,e.toDispose.pushAll([this.subscribe(n=>{e.variableEngine.fireGlobalEvent(n)})])}dispatch(e){!this.scope.disposed&&this.event$.next(e)}subscribe(e){return w(this.event$.subscribe(e))}on(e,n){return w(this.event$.pipe((0,u.filter)(n=>n.type===e)).subscribe(n))}},ei=class{constructor(e){this.memo=E(),this.toDispose=new c.DisposableCollection,this.onDispose=this.toDispose.onDispose,this.id=e.id,this.meta=e.meta||{},this.variableEngine=e.variableEngine,this.event=new er(this),this.ast=this.variableEngine.astRegisters.createAST({kind:"MapNode",key:this.id},{scope:this}),this.output=new et(this),this.available=new en(this)}refreshCovers(){this.memo.clear("covers")}refreshDeps(){this.memo.clear("deps"),this.available.refresh()}get depScopes(){return this.memo("deps",()=>this.variableEngine.chain.getDeps(this).filter(e=>!!e&&!e?.disposed))}get coverScopes(){return this.memo("covers",()=>this.variableEngine.chain.getCovers(this).filter(e=>!!e&&!e?.disposed))}dispose(){this.ast.dispose(),this.toDispose.dispose(),this.coverScopes.forEach(e=>e.refreshDeps()),this.depScopes.forEach(e=>e.refreshCovers())}get disposed(){return this.toDispose.disposed}},eo=class{constructor(e,n){this.chain=e,this.astRegisters=n,this.toDispose=new c.DisposableCollection,this.memo=E(),this.scopeMap=new Map,this.globalEvent$=new u.Subject,this.onScopeChangeEmitter=new c.Emitter,this.globalVariableTable=new ee,this.onScopeChange=this.onScopeChangeEmitter.event,this.toDispose.pushAll([e,c.Disposable.create(()=>{this.getAllScopes().forEach(e=>e.dispose()),this.globalVariableTable.dispose()})])}get container(){return this.containerProvider()}dispose(){this.toDispose.dispose()}getScopeById(e){return this.scopeMap.get(e)}removeScopeById(e){this.getScopeById(e)?.dispose()}createScope(e,n){let r=this.getScopeById(e);return!r&&(r=new ei({variableEngine:this,meta:n,id:e}),this.scopeMap.set(e,r),this.onScopeChangeEmitter.fire({type:"add",scope:r}),r.toDispose.pushAll([r.ast.subscribe(()=>{this.onScopeChangeEmitter.fire({type:"update",scope:r})}),r.available.onDataChange(()=>{this.onScopeChangeEmitter.fire({type:"available",scope:r})})]),r.onDispose(()=>{this.scopeMap.delete(e),this.onScopeChangeEmitter.fire({type:"delete",scope:r})})),r}getAllScopes({sort:e}={}){let n=Array.from(this.scopeMap.values());if(e){let e=this.chain.sortAll(),r=new Set(n);return e.forEach(e=>r.delete(e)),[...e,...Array.from(r)]}return[...n]}fireGlobalEvent(e){this.globalEvent$.next(e)}onGlobalEvent(e,n){return w(this.globalEvent$.subscribe(r=>{r.type===e&&n(r)}))}};b([(0,l.inject)(C)],eo.prototype,"containerProvider",2),b([(0,l.preDestroy)()],eo.prototype,"dispose",1),eo=b([(0,l.injectable)(),_(0,(0,l.inject)(S)),_(1,(0,l.inject)(J))],eo);var ea=class{constructor(){this.toDispose=new c.DisposableCollection,this.renameEmitter=new c.Emitter,this.disposeInListEmitter=new c.Emitter,this.onRename=this.renameEmitter.event,this.onDisposeInList=this.disposeInListEmitter.event}handleFieldListChange(e,n,r){if(!e||!n?.length||!r?.length||n.length!==r.length){this.notifyFieldsDispose(n,r);return}let i=null,o=!1;for(let[e,a]of n.entries()){let s=r[e];if(a.key!==s.key){if(o){this.notifyFieldsDispose(n,r);return}o=!0,a.type?.kind===s.type?.kind&&(i={before:a,after:s})}}if(!i){this.notifyFieldsDispose(n,r);return}this.renameEmitter.fire(i)}notifyFieldsDispose(e,n){let r=(0,d.difference)(e||[],n||[]);r.forEach(e=>this.disposeInListEmitter.fire(e))}init(){this.toDispose.pushAll([this.variableEngine.onGlobalEvent("VariableListChange",e=>{this.handleFieldListChange(e.ast,e.payload?.prev,e.payload?.next)}),this.variableEngine.onGlobalEvent("ObjectPropertiesChange",e=>{this.handleFieldListChange(e.ast,e.payload?.prev,e.payload?.next)})])}dispose(){this.toDispose.dispose()}};b([(0,l.inject)(eo)],ea.prototype,"variableEngine",2),b([(0,l.postConstruct)()],ea.prototype,"init",1),b([(0,l.preDestroy)()],ea.prototype,"dispose",1),ea=b([(0,l.injectable)()],ea);var es=new l.ContainerModule(e=>{e(eo).toSelf().inSingletonScope(),e(J).toSelf().inSingletonScope(),e(ea).toSelf().inSingletonScope(),e(x).toDynamicValue(e=>()=>e.container.get(eo)),e(C).toDynamicValue(e=>()=>e.container)}),el=(0,p.createContext)(null),eu=el.Provider,ec=()=>p.useContext(el)?.scope;function ed(){let e=ec(),n=(0,g.useRefresh)();return(0,p.useEffect)(()=>{let r=e.available.onDataChange(()=>{n()});return()=>r.dispose()},[]),e.available}},58773:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{FixedLayoutScopeChain:function(){return b},FlowNodeVariableData:function(){return g},FreeLayoutScopeChain:function(){return m},VariableLayoutConfig:function(){return y}});var i,o=r("93665"),a=r("91516"),s=r("21231"),l=r("97752"),u=r("69540"),c=Object.defineProperty,d=Object.getOwnPropertyDescriptor,h=(e,n,r,i)=>{for(var o=i>1?void 0:i?d(n,r):n,a,s=e.length-1;s>=0;s--)(a=e[s])&&(o=(i?a(n,r,o):a(o))||o);return i&&o&&c(n,r,o),o},f=(e,n)=>(r,i)=>n(r,i,e);var p=((i=p||{}).public="public",i.private="private",i),g=class extends o.EntityData{constructor(e,n){super(e),this.opts=n;let{variableEngine:r}=n||{};this.variableEngine=r,this._public=this.variableEngine.createScope(this.entity.id,{node:this.entity,type:"public"}),this.toDispose.push(this._public)}get private(){return this._private}get public(){return this._public}setVar(e,n){if("string"==typeof e&&void 0!==n)return this.public.ast.set(e,n);if("object"==typeof e&&void 0===n)return this.public.ast.set("outputs",e);throw Error("Invalid arguments")}getVar(e="outputs"){return this.public.ast.get(e)}clearVar(e="outputs"){return this.public.ast.remove(e)}setPrivateVar(e,n){if("string"==typeof e&&void 0!==n)return this.initPrivate().ast.set(e,n);if("object"==typeof e&&void 0===n)return this.initPrivate().ast.set("outputs",e);throw Error("Invalid arguments")}getPrivateVar(e="outputs"){return this.private?.ast.get(e)}clearPrivateVar(e="outputs"){return this.private?.ast.remove(e)}get allScopes(){let e=[];return this._public&&e.push(this._public),this._private&&e.push(this._private),e}getDefaultData(){return{}}initPrivate(){return!this._private&&(this._private=this.variableEngine.createScope(`${this.entity.id}_private`,{node:this.entity,type:"private"}),this._private.coverScopes.forEach(e=>{e.refreshDeps()}),this._private.depScopes.forEach(e=>{e.refreshCovers()}),this._private.available.refresh(),this.toDispose.push(this._private)),this._private}};g.type="FlowNodeVariableData";var y=Symbol("VariableLayoutConfig"),m=class extends s.ScopeChain{get tree(){return this.flowDocument.originTree}onInit(){this.toDispose.pushAll([this.entityManager.onEntityDataChange(({entityDataType:e})=>{e===u.WorkflowNodeLinesData.type&&this.refreshAllChange()}),this.tree.onTreeChange(()=>{this.refreshAllChange()})])}getAllInputLayerNodes(e){return(e.getData(u.WorkflowNodeLinesData)?.allInputNodes||[]).filter(n=>n.parent===e.parent)}getAllOutputLayerNodes(e){return(e.getData(u.WorkflowNodeLinesData)?.allOutputNodes||[]).filter(n=>n.parent===e.parent)}getDeps(e){let{node:n}=e.meta||{};if(!n)return this.transformDeps([],{scope:e});let r=[],i=n;for(;i;){let n=this.getAllInputLayerNodes(i);r.push(...n.map(e=>e.getData(g).public).filter(Boolean));let o=i.getData(g);o?.private&&e!==o.private&&r.push(o.private),i=this.getParent(i)}let o=Array.from(new Set(r));return this.transformDeps(o,{scope:e})}getCovers(e){let{node:n}=e.meta||{};if(!n)return this.transformCovers([],{scope:e});let r="private"===e.meta.type,i=[];r?i.push(...this.getChildren(n)):i.push(...this.getAllOutputLayerNodes(n)||[]);let o=[];for(;i.length;){let e=i.shift(),n=e.getData(g);o.push(...n.allScopes);let r=e&&this.getChildren(e);r?.length&&i.push(...r)}let a=n.getData(g);r&&a.public&&o.push(a.public);let s=Array.from(new Set(o));return this.transformCovers(s,{scope:e})}transformCovers(e,{scope:n}){return this.configs?.transformCovers?this.configs.transformCovers(e,{scope:n,document:this.flowDocument,variableEngine:this.variableEngine}):e}transformDeps(e,{scope:n}){return this.configs?.transformDeps?this.configs.transformDeps(e,{scope:n,document:this.flowDocument,variableEngine:this.variableEngine}):e}getChildren(e){if(this.configs?.getFreeChildren)return this.configs.getFreeChildren?.(e);let n=e.getNodeMeta(),r=n.subCanvas?.(e);if(r)return r.isCanvas?[]:r.canvasNode.collapsedChildren;return this.tree.getChildren(e)}getParent(e){if(this.configs?.getFreeParent)return this.configs.getFreeParent(e);let n=e.document.originTree.getParent(e);if(!n)return n;let r=n.getNodeMeta(),i=r.subCanvas?.(n);return i?.isCanvas?i.parentNode:n}sortAll(){return console.warn("FreeLayoutScopeChain.sortAll is not implemented"),[]}};h([(0,a.inject)(o.EntityManager)],m.prototype,"entityManager",2),h([(0,a.inject)(l.FlowDocument)],m.prototype,"flowDocument",2),h([(0,a.optional)(),(0,a.inject)(y)],m.prototype,"configs",2),h([(0,a.postConstruct)()],m.prototype,"onInit",1);var b=class extends s.ScopeChain{constructor(e,n){super(),this.flowDocument=e,this.configs=n,this.bindTree(e.originTree),this.toDispose.push(e.originTree.onTreeChange(()=>{this.refreshAllChange()}))}bindTree(e){this.tree=e}getDeps(e){if(!this.tree)return this.transformDeps([],{scope:e});let n=e.meta.node;if(!n)return this.transformDeps([],{scope:e});let r=[],i=n;for(;i;){let{parent:o,pre:a}=this.tree.getInfo(i),s=this.getVariableData(i);if(i===n?"public"===e.meta.type&&s?.private&&r.unshift(s.private):this.hasChildren(i)&&!this.isNodeChildrenPrivate(i)&&r.unshift(...this.getAllSortedChildScope(i,{ignoreNodeChildrenPrivate:!0})),s&&i!==n&&r.unshift(s.public),a){i=a;continue}if(o){let e=o,n=this.tree.getPre(e);for(;e;){let i=this.getVariableData(e);if(i&&r.unshift(...i.allScopes),n)break;n=(e=this.tree.getParent(e))?this.tree.getPre(e):void 0}i=n;continue}i=void 0}return this.transformDeps(r,{scope:e})}getCovers(e){if(!this.tree)return this.transformCovers([],{scope:e});let n=e.meta.node;if(!n)return this.transformCovers([],{scope:e});let r=[];if("private"===e.meta.type)return r.push(...this.getAllSortedChildScope(n,{addNodePrivateScope:!0})),this.transformCovers(r,{scope:e});let i=n;for(;i;){let{next:o,parent:a}=this.tree.getInfo(i),s=this.getVariableData(i);if(i!==n&&(this.hasChildren(i)?r.push(...this.getAllSortedChildScope(i,{addNodePrivateScope:!0})):s&&r.push(...s.allScopes)),o){i=o;continue}if(a){let n=a,o=this.tree.getNext(n);for(;n;){if(this.isNodeChildrenPrivate(n))return this.transformCovers(r,{scope:e});if(o)break;o=(n=this.tree.getParent(n))?this.tree.getNext(n):void 0}if(!o&&n)break;i=o;continue}i=void 0}return this.transformCovers(r,{scope:e})}transformCovers(e,{scope:n}){return this.configs?.transformCovers?this.configs.transformCovers(e,{scope:n,document:this.flowDocument,variableEngine:this.variableEngine}):e}transformDeps(e,{scope:n}){return this.configs?.transformDeps?this.configs.transformDeps(e,{scope:n,document:this.flowDocument,variableEngine:this.variableEngine}):e}sortAll(){let{startNodeId:e}=this.configs||{},n=e?this.flowDocument?.getNode(e):void 0;if(!n)return[];let r=n.getData(g);return[r.public,...this.getCovers(r.public)]}getVariableData(e){if("virtualNode"!==e.flowNodeType){if(!e.id.startsWith("$"))return e.getData(g)}}isNodeChildrenPrivate(e){if(this.configs?.isNodeChildrenPrivate)return!!e&&this.configs?.isNodeChildrenPrivate(e);let n=e?.id.startsWith("$");return!n&&this.hasChildren(e)}hasChildren(e){return!!(this.tree&&e&&this.tree.getChildren(e).length>0)}getAllSortedChildScope(e,{ignoreNodeChildrenPrivate:n,addNodePrivateScope:r}={}){let i=[],o=this.getVariableData(e);if(o&&i.push(o.public),n&&this.isNodeChildrenPrivate(e))return i;r&&o?.private&&i.push(o.private);let a=this.tree?.getChildren(e)||[];return i.push(...a.map(e=>this.getAllSortedChildScope(e,{ignoreNodeChildrenPrivate:n,addNodePrivateScope:r})).flat()),i}};b=h([f(0,(0,a.inject)(l.FlowDocument)),f(1,(0,a.optional)()),f(1,(0,a.inject)(y))],b)},66650:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{FlowNodeVariableData:function(){return i.FlowNodeVariableData},createVariablePlugin:function(){return l}});var i=r("58773"),o=r.es(r("21231"),n),a=r("97752"),s=r("93665"),l=(0,s.definePluginCreator)({onBind({bind:e},n){let{layout:r,layoutConfig:a}=n;"free"===r&&e(o.ScopeChain).to(i.FreeLayoutScopeChain).inSingletonScope(),"fixed"===r&&e(o.ScopeChain).to(i.FixedLayoutScopeChain).inSingletonScope(),a&&e(i.VariableLayoutConfig).toConstantValue(a||{})},onInit(e,n){let{extendASTNodes:r}=n||{},l=e.get(o.VariableEngine),u=e.get(o.ASTRegisters),c=e.get(s.EntityManager),d=e.get(a.FlowDocument);(r||[]).forEach(n=>{if(Array.isArray(n)){let[r,i]=n;u.registerAST(r,i?()=>i(e):void 0);return}u.registerAST(n)}),c.registerEntityData(i.FlowNodeVariableData,()=>({variableEngine:l})),d.registerNodeDatas(i.FlowNodeVariableData)},containerModules:[o.VariableContainerModule]})},27967:function(e,n,r){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),!function(e){function n(e,n,r,i){void 0===r&&(r=0),void 0===i&&(i=-1);var o,a=e.length;if(0===a)return -1;r=r<0?Math.max(0,r+a):Math.min(r,a-1),o=(i=i<0?Math.max(0,i+a):Math.min(i,a-1))<r?i+1+(a-r):i-r+1;for(var s=0;s<o;++s){var l=(r+s)%a;if(e[l]===n)return l}return -1}function r(e,n,r,i){void 0===r&&(r=-1),void 0===i&&(i=0);var o,a=e.length;if(0===a)return -1;o=(r=r<0?Math.max(0,r+a):Math.min(r,a-1))<(i=i<0?Math.max(0,i+a):Math.min(i,a-1))?r+1+(a-i):r-i+1;for(var s=0;s<o;++s){var l=(r-s+a)%a;if(e[l]===n)return l}return -1}function i(e,n,r,i){void 0===r&&(r=0),void 0===i&&(i=-1);var o,a=e.length;if(0===a)return -1;r=r<0?Math.max(0,r+a):Math.min(r,a-1),o=(i=i<0?Math.max(0,i+a):Math.min(i,a-1))<r?i+1+(a-r):i-r+1;for(var s=0;s<o;++s){var l=(r+s)%a;if(n(e[l],l))return l}return -1}function o(e,n,r,i){void 0===r&&(r=-1),void 0===i&&(i=0);var o,a=e.length;if(0===a)return -1;o=(r=r<0?Math.max(0,r+a):Math.min(r,a-1))<(i=i<0?Math.max(0,i+a):Math.min(i,a-1))?r+1+(a-i):r-i+1;for(var s=0;s<o;++s){var l=(r-s+a)%a;if(n(e[l],l))return l}return -1}e.firstIndexOf=n,e.lastIndexOf=r,e.findFirstIndex=i,e.findLastIndex=o;e.findFirstValue=function(e,n,r,o){void 0===r&&(r=0),void 0===o&&(o=-1);var a=i(e,n,r,o);return -1!==a?e[a]:void 0};e.findLastValue=function(e,n,r,i){void 0===r&&(r=-1),void 0===i&&(i=0);var a=o(e,n,r,i);return -1!==a?e[a]:void 0};e.lowerBound=function(e,n,r,i,o){void 0===i&&(i=0),void 0===o&&(o=-1);var a=e.length;if(0===a)return 0;for(var s=i=i<0?Math.max(0,i+a):Math.min(i,a-1),l=(o=o<0?Math.max(0,o+a):Math.min(o,a-1))-i+1;l>0;){var u=l>>1,c=s+u;0>r(e[c],n)?(s=c+1,l-=u+1):l=u}return s};e.upperBound=function(e,n,r,i,o){void 0===i&&(i=0),void 0===o&&(o=-1);var a=e.length;if(0===a)return 0;for(var s=i=i<0?Math.max(0,i+a):Math.min(i,a-1),l=(o=o<0?Math.max(0,o+a):Math.min(o,a-1))-i+1;l>0;){var u=l>>1,c=s+u;r(e[c],n)>0?l=u:(s=c+1,l-=u+1)}return s};e.shallowEqual=function(e,n,r){if(e===n)return!0;if(e.length!==n.length)return!1;for(var i=0,o=e.length;i<o;++i)if(r?!r(e[i],n[i]):e[i]!==n[i])return!1;return!0};e.slice=function(e,n){void 0===n&&(n={});var r,i=n.start,o=n.stop,a=n.step;if(void 0===a&&(a=1),0===a)throw Error("Slice `step` cannot be zero.");var s=e.length;void 0===i?i=a<0?s-1:0:i<0?i=Math.max(i+s,a<0?-1:0):i>=s&&(i=a<0?s-1:s),void 0===o?o=a<0?-1:s:o<0?o=Math.max(o+s,a<0?-1:0):o>=s&&(o=a<0?s-1:s),r=a<0&&o>=i||a>0&&i>=o?0:a<0?Math.floor((o-i+1)/a+1):Math.floor((o-i-1)/a+1);for(var l=[],u=0;u<r;++u)l[u]=e[i+u*a];return l};function a(e,n,r){void 0===n&&(n=0),void 0===r&&(r=-1);var i=e.length;if(!(i<=1))for(n=n<0?Math.max(0,n+i):Math.min(n,i-1),r=r<0?Math.max(0,r+i):Math.min(r,i-1);n<r;){var o=e[n],a=e[r];e[n++]=a,e[r--]=o}}e.move=function(e,n,r){var i=e.length;if(!(i<=1)){if((n=n<0?Math.max(0,n+i):Math.min(n,i-1))!==(r=r<0?Math.max(0,r+i):Math.min(r,i-1))){for(var o=e[n],a=n<r?1:-1,s=n;s!==r;s+=a)e[s]=e[s+a];e[r]=o}}},e.reverse=a;e.rotate=function(e,n,r,i){void 0===r&&(r=0),void 0===i&&(i=-1);var o=e.length;if(!(o<=1||(r=r<0?Math.max(0,r+o):Math.min(r,o-1))>=(i=i<0?Math.max(0,i+o):Math.min(i,o-1)))){var s=i-r+1;if(n>0?n%=s:n<0&&(n=(n%s+s)%s),0!==n){var l=r+n;a(e,r,l-1),a(e,l,i),a(e,r,i)}}};e.fill=function(e,n,r,i){void 0===r&&(r=0),void 0===i&&(i=-1);var o,a=e.length;if(0!==a){r=r<0?Math.max(0,r+a):Math.min(r,a-1),o=(i=i<0?Math.max(0,i+a):Math.min(i,a-1))<r?i+1+(a-r):i-r+1;for(var s=0;s<o;++s)e[(r+s)%a]=n}};function s(e,n){var r=e.length;if(n<0&&(n+=r),!(n<0)&&!(n>=r)){for(var i=e[n],o=n+1;o<r;++o)e[o-1]=e[o];return e.length=r-1,i}}e.insert=function(e,n,r){var i=e.length;n=n<0?Math.max(0,n+i):Math.min(n,i);for(var o=i;o>n;--o)e[o]=e[o-1];e[n]=r},e.removeAt=s;e.removeFirstOf=function(e,r,i,o){void 0===i&&(i=0),void 0===o&&(o=-1);var a=n(e,r,i,o);return -1!==a&&s(e,a),a};e.removeLastOf=function(e,n,i,o){void 0===i&&(i=-1),void 0===o&&(o=0);var a=r(e,n,i,o);return -1!==a&&s(e,a),a};e.removeAllOf=function(e,n,r,i){void 0===r&&(r=0),void 0===i&&(i=-1);var o=e.length;if(0===o)return 0;r=r<0?Math.max(0,r+o):Math.min(r,o-1),i=i<0?Math.max(0,i+o):Math.min(i,o-1);for(var a=0,s=0;s<o;++s)r<=i&&s>=r&&s<=i&&e[s]===n?a++:i<r&&(s<=i||s>=r)&&e[s]===n?a++:a>0&&(e[s-a]=e[s]);return a>0&&(e.length=o-a),a};e.removeFirstWhere=function(e,n,r,o){void 0===r&&(r=0),void 0===o&&(o=-1);var a,l=i(e,n,r,o);return -1!==l&&(a=s(e,l)),{index:l,value:a}};e.removeLastWhere=function(e,n,r,i){void 0===r&&(r=-1),void 0===i&&(i=0);var a,l=o(e,n,r,i);return -1!==l&&(a=s(e,l)),{index:l,value:a}};e.removeAllWhere=function(e,n,r,i){void 0===r&&(r=0),void 0===i&&(i=-1);var o=e.length;if(0===o)return 0;r=r<0?Math.max(0,r+o):Math.min(r,o-1),i=i<0?Math.max(0,i+o):Math.min(i,o-1);for(var a=0,s=0;s<o;++s)r<=i&&s>=r&&s<=i&&n(e[s],s)?a++:i<r&&(s<=i||s>=r)&&n(e[s],s)?a++:a>0&&(e[s-a]=e[s]);return a>0&&(e.length=o-a),a}}(n.ArrayExt||(n.ArrayExt={}))},6270:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=r("11802");n.chain=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new o(i.iter(e.map(i.iter)))};var o=function(){function e(e){this._cloned=!1,this._source=e,this._active=void 0}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var n=new e(this._source.clone());return n._active=this._active&&this._active.clone(),n._cloned=!0,this._cloned=!0,n},e.prototype.next=function(){if(void 0===this._active){var e=this._source.next();if(void 0===e)return;this._active=this._cloned?e.clone():e}var n=this._active.next();return void 0!==n?n:(this._active=void 0,this.next())},e}();n.ChainIterator=o},81068:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.empty=function(){return new i};var i=function(){function e(){}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e},e.prototype.next=function(){},e}();n.EmptyIterator=i},4503:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=r("11802");n.enumerate=function(e,n){return void 0===n&&(n=0),new o(i.iter(e),n)};var o=function(){function e(e,n){this._source=e,this._index=n}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._source.clone(),this._index)},e.prototype.next=function(){var e=this._source.next();if(void 0!==e)return[this._index++,e]},e}();n.EnumerateIterator=o},45133:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=r("11802");n.filter=function(e,n){return new o(i.iter(e),n)};var o=function(){function e(e,n){this._index=0,this._source=e,this._fn=n}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var n=new e(this._source.clone(),this._fn);return n._index=this._index,n},e.prototype.next=function(){for(var e,n=this._fn,r=this._source;void 0!==(e=r.next());)if(n(e,this._index++))return e},e}();n.FilterIterator=o},41320:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=r("11802");n.find=function(e,n){for(var r,o=0,a=i.iter(e);void 0!==(r=a.next());)if(n(r,o++))return r};n.findIndex=function(e,n){for(var r,o=0,a=i.iter(e);void 0!==(r=a.next());)if(n(r,o++))return o-1;return -1};n.min=function(e,n){var r=i.iter(e),o=r.next();if(void 0!==o){for(var a=o;void 0!==(o=r.next());)0>n(o,a)&&(a=o);return a}};n.max=function(e,n){var r=i.iter(e),o=r.next();if(void 0!==o){for(var a=o;void 0!==(o=r.next());)n(o,a)>0&&(a=o);return a}};n.minmax=function(e,n){var r=i.iter(e),o=r.next();if(void 0!==o){for(var a=o,s=o;void 0!==(o=r.next());)0>n(o,a)?a=o:n(o,s)>0&&(s=o);return[a,s]}}},43838:function(e,n,r){"use strict";function i(e){for(var r in e)!n.hasOwnProperty(r)&&(n[r]=e[r])}Object.defineProperty(n,"__esModule",{value:!0}),i(r("27967")),i(r("6270")),i(r("81068")),i(r("4503")),i(r("45133")),i(r("41320")),i(r("11802")),i(r("832")),i(r("95270")),i(r("39649")),i(r("51349")),i(r("93929")),i(r("16328")),i(r("57488")),i(r("43367")),i(r("31694")),i(r("87898"))},11802:function(e,n,r){"use strict";function i(e){var n;return n="function"==typeof e.iter?e.iter():new o(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.iter=i;n.iterKeys=function(e){return new a(e)};n.iterValues=function(e){return new s(e)};n.iterItems=function(e){return new l(e)};n.iterFn=function(e){return new u(e)};n.each=function(e,n){for(var r,o=0,a=i(e);void 0!==(r=a.next());)if(!1===n(r,o++))return};n.every=function(e,n){for(var r,o=0,a=i(e);void 0!==(r=a.next());)if(!n(r,o++))return!1;return!0};n.some=function(e,n){for(var r,o=0,a=i(e);void 0!==(r=a.next());)if(n(r,o++))return!0;return!1};n.toArray=function(e){for(var n,r=0,o=[],a=i(e);void 0!==(n=a.next());)o[r++]=n;return o};n.toObject=function(e){for(var n,r=i(e),o={};void 0!==(n=r.next());)o[n[0]]=n[1];return o};var o=function(){function e(e){this._index=0,this._source=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var n=new e(this._source);return n._index=this._index,n},e.prototype.next=function(){if(!(this._index>=this._source.length))return this._source[this._index++]},e}();n.ArrayIterator=o;var a=function(){function e(e,n){void 0===n&&(n=Object.keys(e)),this._index=0,this._source=e,this._keys=n}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var n=new e(this._source,this._keys);return n._index=this._index,n},e.prototype.next=function(){if(!(this._index>=this._keys.length)){var e=this._keys[this._index++];return e in this._source?e:this.next()}},e}();n.KeyIterator=a;var s=function(){function e(e,n){void 0===n&&(n=Object.keys(e)),this._index=0,this._source=e,this._keys=n}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var n=new e(this._source,this._keys);return n._index=this._index,n},e.prototype.next=function(){if(!(this._index>=this._keys.length)){var e=this._keys[this._index++];return e in this._source?this._source[e]:this.next()}},e}();n.ValueIterator=s;var l=function(){function e(e,n){void 0===n&&(n=Object.keys(e)),this._index=0,this._source=e,this._keys=n}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var n=new e(this._source,this._keys);return n._index=this._index,n},e.prototype.next=function(){if(!(this._index>=this._keys.length)){var e=this._keys[this._index++];return e in this._source?[e,this._source[e]]:this.next()}},e}();n.ItemIterator=l;var u=function(){function e(e){this._fn=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){throw Error("An `FnIterator` cannot be cloned.")},e.prototype.next=function(){return this._fn.call(void 0)},e}();n.FnIterator=u},832:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=r("11802");n.map=function(e,n){return new o(i.iter(e),n)};var o=function(){function e(e,n){this._index=0,this._source=e,this._fn=n}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var n=new e(this._source.clone(),this._fn);return n._index=this._index,n},e.prototype.next=function(){var e=this._source.next();if(void 0!==e)return this._fn.call(void 0,e,this._index++)},e}();n.MapIterator=o},95270:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.range=function(e,n,r){return void 0===n?new o(0,e,1):void 0===r?new o(e,n,1):new o(e,n,r)};var i,o=function(){function e(e,n,r){this._index=0,this._start=e,this._stop=n,this._step=r,this._length=i.rangeLength(e,n,r)}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var n=new e(this._start,this._stop,this._step);return n._index=this._index,n},e.prototype.next=function(){if(!(this._index>=this._length))return this._start+this._step*this._index++},e}();n.RangeIterator=o,(i||(i={})).rangeLength=function(e,n,r){return 0===r?1/0:e>n&&r>0||e<n&&r<0?0:Math.ceil((n-e)/r)}},39649:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=r("11802");n.reduce=function(e,n,r){var o,a,s=0,l=i.iter(e),u=l.next();if(void 0===u&&void 0===r)throw TypeError("Reduce of empty iterable with no initial value.");if(void 0===u)return r;var c=l.next();if(void 0===c&&void 0===r)return u;if(void 0===c)return n(r,u,s++);for(o=void 0===r?n(u,c,s++):n(n(r,u,s++),c,s++);void 0!==(a=l.next());)o=n(o,a,s++);return o}},51349:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.repeat=function(e,n){return new i(e,n)};n.once=function(e){return new i(e,1)};var i=function(){function e(e,n){this._value=e,this._count=n}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._value,this._count)},e.prototype.next=function(){if(!(this._count<=0))return this._count--,this._value},e}();n.RepeatIterator=i},93929:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.retro=function(e){var n;return n="function"==typeof e.retro?e.retro():new i(e)};var i=function(){function e(e){this._source=e,this._index=e.length-1}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var n=new e(this._source);return n._index=this._index,n},e.prototype.next=function(){if(!(this._index<0)&&!(this._index>=this._source.length))return this._source[this._index--]},e}();n.RetroArrayIterator=i},16328:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=r("11802");n.topologicSort=function(e){var n=[],r=new Set,o=new Map;return i.each(e,function(e){var n=e[0],r=e[1],i=o.get(r);i?i.push(n):o.set(r,[n])}),o.forEach(function(e,i){(function e(i){if(!r.has(i)){r.add(i);var a=o.get(i);a&&a.forEach(e),n.push(i)}})(i)}),n}},57488:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=r("11802");n.stride=function(e,n){return new o(i.iter(e),n)};var o=function(){function e(e,n){this._source=e,this._step=n}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._source.clone(),this._step)},e.prototype.next=function(){for(var e=this._source.next(),n=this._step-1;n>0;--n)this._source.next();return e},e}();n.StrideIterator=o},43367:function(e,n,r){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),!function(e){function n(e,n,r){void 0===r&&(r=0);for(var i=Array(n.length),o=0,a=r,s=n.length;o<s;++o,++a){if(-1===(a=e.indexOf(n[o],a)))return null;i[o]=a}return i}e.findIndices=n;e.matchSumOfSquares=function(e,r,i){void 0===i&&(i=0);var o=n(e,r,i);if(!o)return null;for(var a=0,s=0,l=o.length;s<l;++s){var u=o[s]-i;a+=u*u}return{score:a,indices:o}};e.matchSumOfDeltas=function(e,r,i){void 0===i&&(i=0);var o=n(e,r,i);if(!o)return null;for(var a=0,s=i-1,l=0,u=o.length;l<u;++l){var c=o[l];a+=c-s-1,s=c}return{score:a,indices:o}};e.highlight=function(e,n,r){for(var i=[],o=0,a=0,s=n.length;o<s;){for(var l=n[o],u=n[o];++o<s&&n[o]===u+1;)u++;a<l&&i.push(e.slice(a,l)),l<u+1&&i.push(r(e.slice(l,u+1))),a=u+1}return a<e.length&&i.push(e.slice(a)),i};e.cmp=function(e,n){return e<n?-1:e>n?1:0}}(n.StringExt||(n.StringExt={}))},31694:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=r("11802");n.take=function(e,n){return new o(i.iter(e),n)};var o=function(){function e(e,n){this._source=e,this._count=n}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._source.clone(),this._count)},e.prototype.next=function(){if(!(this._count<=0)){var e=this._source.next();if(void 0!==e)return this._count--,e}},e}();n.TakeIterator=o},87898:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=r("11802");n.zip=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new o(e.map(i.iter))};var o=function(){function e(e){this._source=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._source.map(function(e){return e.clone()}))},e.prototype.next=function(){for(var e=Array(this._source.length),n=0,r=this._source.length;n<r;++n){var i=this._source[n].next();if(void 0===i)return;e[n]=i}return e},e}();n.ZipIterator=o},26509:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,o,a=r("43838"),s=function(){function e(e){this._root=new o.LeafNode,this.cmp=e}return Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this._root.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._root.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"first",{get:function(){var e=o.firstLeaf(this._root);return e.size>0?e.items[0]:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"last",{get:function(){var e=o.lastLeaf(this._root);return e.size>0?e.items[e.size-1]:void 0},enumerable:!0,configurable:!0}),e.prototype.iter=function(){return o.iterItems(this._root)},e.prototype.retro=function(){return o.retroItems(this._root)},e.prototype.slice=function(e,n){return o.sliceItems(this._root,e,n)},e.prototype.retroSlice=function(e,n){return o.retroSliceItems(this._root,e,n)},e.prototype.at=function(e){return o.itemAt(this._root,e)},e.prototype.has=function(e,n){return o.hasItem(this._root,e,n)},e.prototype.indexOf=function(e,n){return o.indexOf(this._root,e,n)},e.prototype.get=function(e,n){return o.getItem(this._root,e,n)},e.prototype.assign=function(e){this.clear(),this.update(e)},e.prototype.insert=function(e){var n=o.insertItem(this._root,e,this.cmp);return this._root=o.maybeSplitRoot(this._root),n},e.prototype.update=function(e){var n=this;a.each(e,function(e){n.insert(e)})},e.prototype.delete=function(e,n){var r=o.deleteItem(this._root,e,n);return this._root=o.maybeExtractRoot(this._root),r},e.prototype.remove=function(e){var n=o.removeItem(this._root,e);return this._root=o.maybeExtractRoot(this._root),n},e.prototype.clear=function(){o.clear(this._root),this._root=new o.LeafNode},e}();n.BPlusTree=s,(i=s=n.BPlusTree||(n.BPlusTree={})).from=function(e,n){var r=new i(n);return r.assign(e),r},n.BPlusTree=s,!function(e){var n=function(){function e(){this.items=[],this.sizes=[],this.children=[]}return Object.defineProperty(e.prototype,"type",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.sizes[this.sizes.length-1]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.children.length},enumerable:!0,configurable:!0}),e}();e.BranchNode=n;var r=function(){function e(){this.next=null,this.prev=null,this.items=[]}return Object.defineProperty(e.prototype,"type",{get:function(){return 1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.items.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.items.length},enumerable:!0,configurable:!0}),e}();function i(e){for(;0===e.type;)e=e.children[0];return e}function o(e){for(;0===e.type;)e=e.children[e.children.length-1];return e}e.LeafNode=r,e.firstLeaf=i,e.lastLeaf=o;e.iterItems=function(e){var n=i(e);return new c(n,0,-1)};e.retroItems=function(e){var n=o(e);return new d(n,n.size-1,-1)};e.sliceItems=function(e,n,r){n=void 0===n?0:n<0?Math.max(0,n+e.size):Math.min(n,e.size);var i=Math.max(0,(r=void 0===r?e.size:r<0?Math.max(0,r+e.size):Math.min(r,e.size))-n);if(0===i)return a.empty();for(;0===e.type;){var o=h(e.sizes,n);o>0&&(n-=e.sizes[o-1]),e=e.children[o]}return new c(e,n,i)};e.retroSliceItems=function(e,n,r){n=void 0===n?e.size-1:n<0?Math.max(-1,n+e.size):Math.min(n,e.size-1);var i=Math.max(0,n-(r=void 0===r?-1:r<0?Math.max(-1,r+e.size):Math.min(r,e.size-1)));if(0===i)return a.empty();for(;0===e.type;){var o=h(e.sizes,n);o>0&&(n-=e.sizes[o-1]),e=e.children[o]}return new d(e,n,i)};e.itemAt=function(e,n){if(n<0&&(n+=e.size),!(n<0)&&!(n>=e.size)){for(;0===e.type;){var r=h(e.sizes,n);r>0&&(n-=e.sizes[r-1]),e=e.children[r]}return e.items[n]}};e.hasItem=function(e,n,r){for(;0===e.type;){var i=f(e.items,n,r);e=e.children[i]}return p(e.items,n,r)>=0};e.indexOf=function(e,n,r){for(var i=0;0===e.type;){var o=f(e.items,n,r);o>0&&(i+=e.sizes[o-1]),e=e.children[o]}var a=p(e.items,n,r);return a>=0?i+a:-i+a};e.getItem=function(e,n,r){for(;0===e.type;){var i=f(e.items,n,r);e=e.children[i]}var o=p(e.items,n,r);return o>=0?e.items[o]:void 0};e.insertItem=function e(n,r,i){if(1===n.type){var o,s=p(n.items,r,i);return s>=0?(o=n.items[s],n.items[s]=r):(o=void 0,a.ArrayExt.insert(n.items,-s-1,r)),o}var u=f(n.items,r,i),c=n.children[u],d=c.size,h=e(c,r,i),m=c.size;if(n.items[u]=c.items[0],d===m)return h;if(c.width>l){var b=y(c);a.ArrayExt.insert(n.children,u+1,b),a.ArrayExt.insert(n.items,u+1,b.items[0])}return g(n,u),h};e.deleteItem=function e(n,r,i){if(1===n.type){var o=p(n.items,r,i);if(o<0)return;return a.ArrayExt.removeAt(n.items,o)}var s=f(n.items,r,i),l=n.children[s],c=l.size,d=e(l,r,i);return c===l.size?d:(n.items[s]=l.items[0],l.width<u&&(s=m(n,s)),g(n,s),d)};function s(e){0===e.type?(a.each(e.children,s),e.children.length=0,e.sizes.length=0,e.items.length=0):(e.items.length=0,e.next=null,e.prev=null)}e.removeItem=function e(n,r){if(r<0&&(r+=n.size),!(r<0)&&!(r>=n.size)){if(1===n.type)return a.ArrayExt.removeAt(n.items,r);var i=h(n.sizes,r);i>0&&(r-=n.sizes[i]);var o=n.children[i],s=e(o,r);return n.items[i]=o.items[0],o.width<u&&(i=m(n,i)),g(n,i),s}},e.clear=s;e.maybeSplitRoot=function(e){if(e.width<=l)return e;var r=new n,i=y(e);return r.sizes[0]=e.size,r.sizes[1]=e.size+i.size,r.children[0]=e,r.children[1]=i,r.items[0]=e.items[0],r.items[1]=i.items[0],r};e.maybeExtractRoot=function(e){if(1===e.type||e.children.length>1)return e;var n=e.children.pop();return s(e),n};var l=32,u=16,c=function(){function e(e,n,r){this._node=e,this._index=n,this._count=r}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._node,this._index,this._count)},e.prototype.next=function(){if(null!==this._node&&0!==this._count)return this._index>=this._node.size?(this._node=this._node.next,this._index=0,this.next()):(this._count>0&&this._count--,this._node.items[this._index++])},e}(),d=function(){function e(e,n,r){this._node=e,this._index=n,this._count=r}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._node,this._index,this._count)},e.prototype.next=function(){if(null!==this._node&&0!==this._count)return(this._index>=this._node.size&&(this._index=this._node.size-1),this._index<0)?(this._node=this._node.prev,this._index=this._node?this._node.size-1:-1,this.next()):(this._count>0&&this._count--,this._node.items[this._index--])},e}();function h(e,n){for(var r=e.length,i=0;i<r;++i)if(e[i]>n)return i;return r-1}function f(e,n,r){for(var i=e.length,o=1;o<i;++o)if(r(e[o],n)>0)return o-1;return i-1}function p(e,n,r){for(var i=e.length,o=0;o<i;++o){var a=r(e[o],n);if(0===a)return o;if(a>0)return-o-1}return-i-1}function g(e,n){for(var r=e.sizes,i=e.children,o=n>0?r[n-1]:0,a=i.length;n<a;++n)o=r[n]=o+i[n].size;r.length=i.length}function y(e){if(1===e.type){for(var i=new r,o=e.items,a=i.items,s=u,l=o.length;s<l;++s)a.push(o[s]);return o.length=u,e.next&&(e.next.prev=i),i.next=e.next,i.prev=e,e.next=i,i}for(var c=new n,d=e.children,h=c.children,s=u,l=d.length;s<l;++s)h.push(d[s]);d.length=u;for(var f=e.items,p=c.items,s=u,l=f.length;s<l;++s)p.push(f[s]);return f.length=u,g(e,u),g(c,0),c}function m(e,n){var r,i,o,l,c,d,h=e.children[n],f=0===n?e.children[n+1]:e.children[n-1],p=0===n,y=1===h.type,m=f.width>u;if(y&&m&&p){var b=h,_=f;return b.items.push(_.items.shift()),e.items[n+1]=_.items[0],n}if(y&&m&&!p){var b=h,_=f;return b.items.unshift(_.items.pop()),e.items[n]=b.items[0],n-1}if(y&&!m&&p){var b=h,_=f;return(r=_.items).unshift.apply(r,b.items),a.ArrayExt.removeAt(e.children,n),a.ArrayExt.removeAt(e.items,n+1),b.prev&&(b.prev.next=_),_.prev=b.prev,s(b),n}if(y&&!m&&!p){var b=h,_=f;return(i=_.items).push.apply(i,b.items),a.ArrayExt.removeAt(e.children,n),a.ArrayExt.removeAt(e.items,n),b.next&&(b.next.prev=_),_.next=b.next,s(b),n-1}if(!y&&m&&p){var b=h,_=f;return b.children.push(_.children.shift()),b.items.push(_.items.shift()),e.items[n+1]=_.items[0],g(b,b.width-1),g(_,0),n}if(!y&&m&&!p){var b=h,_=f;return b.children.unshift(_.children.pop()),b.items.unshift(_.items.pop()),e.items[n]=b.items[0],g(b,0),g(_,_.width-1),n-1}if(!y&&!m&&p){var b=h,_=f;return(o=_.children).unshift.apply(o,b.children),(l=_.items).unshift.apply(l,b.items),a.ArrayExt.removeAt(e.children,n),a.ArrayExt.removeAt(e.items,n+1),g(_,0),b.children.length=0,s(b),n}if(!y&&!m&&!p){var b=h,_=f;return(c=_.children).push.apply(c,b.children),(d=_.items).push.apply(d,b.items),a.ArrayExt.removeAt(e.children,n),a.ArrayExt.removeAt(e.items,n),g(_,0),b.children.length=0,s(b),n-1}throw"unreachable"}}(o||(o={}))},4218:function(e,n,r){"use strict";function i(e){for(var r in e)!n.hasOwnProperty(r)&&(n[r]=e[r])}Object.defineProperty(n,"__esModule",{value:!0}),i(r("26509")),i(r("8394"))},8394:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,o,a,s,l,u,c=r("43838"),d=function(){function e(){this._first=null,this._last=null,this._size=0}return Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"first",{get:function(){return this._first?this._first.value:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"last",{get:function(){return this._last?this._last.value:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstNode",{get:function(){return this._first},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastNode",{get:function(){return this._last},enumerable:!0,configurable:!0}),e.prototype.iter=function(){return new e.ForwardValueIterator(this._first)},e.prototype.retro=function(){return new e.RetroValueIterator(this._last)},e.prototype.nodes=function(){return new e.ForwardNodeIterator(this._first)},e.prototype.retroNodes=function(){return new e.RetroNodeIterator(this._last)},e.prototype.assign=function(e){var n=this;this.clear(),c.each(e,function(e){n.addLast(e)})},e.prototype.push=function(e){this.addLast(e)},e.prototype.pop=function(){return this.removeLast()},e.prototype.shift=function(e){this.addFirst(e)},e.prototype.unshift=function(){return this.removeFirst()},e.prototype.addFirst=function(e){var n=new u.LinkedListNode(this,e);return this._first?(n.next=this._first,this._first.prev=n,this._first=n):(this._first=n,this._last=n),this._size++,n},e.prototype.addLast=function(e){var n=new u.LinkedListNode(this,e);return this._last?(n.prev=this._last,this._last.next=n,this._last=n):(this._first=n,this._last=n),this._size++,n},e.prototype.insertBefore=function(e,n){if(!n||n===this._first)return this.addFirst(e);if(!(n instanceof u.LinkedListNode)||n.list!==this)throw Error("Reference node is not owned by the list.");var r=new u.LinkedListNode(this,e),i=n.prev;return r.next=n,r.prev=i,n.prev=r,i.next=r,this._size++,r},e.prototype.insertAfter=function(e,n){if(!n||n===this._last)return this.addLast(e);if(!(n instanceof u.LinkedListNode)||n.list!==this)throw Error("Reference node is not owned by the list.");var r=new u.LinkedListNode(this,e),i=n.next;return r.next=i,r.prev=n,n.next=r,i.prev=r,this._size++,r},e.prototype.removeFirst=function(){var e=this._first;if(e)return e===this._last?(this._first=null,this._last=null):(this._first=e.next,this._first.prev=null),e.list=null,e.next=null,e.prev=null,this._size--,e.value},e.prototype.removeLast=function(){var e=this._last;if(e)return e===this._first?(this._first=null,this._last=null):(this._last=e.prev,this._last.next=null),e.list=null,e.next=null,e.prev=null,this._size--,e.value},e.prototype.removeNode=function(e){if(!(e instanceof u.LinkedListNode)||e.list!==this)throw Error("Node is not owned by the list.");e===this._first&&e===this._last?(this._first=null,this._last=null):e===this._first?(this._first=e.next,this._first.prev=null):e===this._last?(this._last=e.prev,this._last.next=null):(e.next.prev=e.prev,e.prev.next=e.next),e.list=null,e.next=null,e.prev=null,this._size--},e.prototype.clear=function(){for(var e=this._first;e;){var n=e.next;e.list=null,e.prev=null,e.next=null,e=n}this._first=null,this._last=null,this._size=0},e}();n.LinkedList=d,(i=d=n.LinkedList||(n.LinkedList={})).from=function(e){var n=new i;return n.assign(e),n},o=function(){function e(e){this._node=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._node)},e.prototype.next=function(){if(this._node){var e=this._node;return this._node=e.next,e.value}},e}(),i.ForwardValueIterator=o,a=function(){function e(e){this._node=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._node)},e.prototype.next=function(){if(this._node){var e=this._node;return this._node=e.prev,e.value}},e}(),i.RetroValueIterator=a,s=function(){function e(e){this._node=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._node)},e.prototype.next=function(){if(this._node){var e=this._node;return this._node=e.next,e}},e}(),i.ForwardNodeIterator=s,l=function(){function e(e){this._node=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._node)},e.prototype.next=function(){if(this._node){var e=this._node;return this._node=e.prev,e}},e}(),i.RetroNodeIterator=l,n.LinkedList=d,(u||(u={})).LinkedListNode=function(e,n){this.list=null,this.next=null,this.prev=null,this.list=e,this.value=n}},7023:function(e,n,r){"use strict";var i,o,a=this&&this.__extends||(i=function(e,n){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])})(e,n)},function(e,n){function r(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)});Object.defineProperty(n,"__esModule",{value:!0});var s=r("43838"),l=r("4218"),u=function(){function e(e){this.type=e}return Object.defineProperty(e.prototype,"isConflatable",{get:function(){return!1},enumerable:!0,configurable:!0}),e.prototype.conflate=function(e){return!1},e}();n.Message=u;var c=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return a(n,e),Object.defineProperty(n.prototype,"isConflatable",{get:function(){return!0},enumerable:!0,configurable:!0}),n.prototype.conflate=function(e){return!0},n}(u);n.ConflatableMessage=c,!function(e){function n(e,n){var r=i.get(e);if(!r||0===r.length){f(e,n);return}s.every(s.retro(r),function(r){return!r||function(e,n,r){var i=!0;try{i="function"==typeof e?e(n,r):e.messageHook(n,r)}catch(e){a(e)}return i}(r,e,n)})&&f(e,n)}e.sendMessage=n;e.postMessage=function(e,n){if(!n.isConflatable){p(e,n);return}!s.some(r,function(r){return r.handler===e&&!!r.msg&&r.msg.type===n.type&&!!r.msg.isConflatable&&r.msg.conflate(n)})&&p(e,n)};e.installMessageHook=function(e,n){var r=i.get(e);(!r||-1===r.indexOf(n))&&(r?r.push(n):i.set(e,[n]))};e.removeMessageHook=function(e,n){var r=i.get(e);if(!!r){var o=r.indexOf(n);-1!==o&&(r[o]=null,y(r))}};e.clearData=function(e){var n=i.get(e);n&&n.length>0&&(s.ArrayExt.fill(n,null),y(n)),s.each(r,function(n){n.handler===e&&(n.handler=null,n.msg=null)})};e.flush=function(){!c&&0!==u&&(h(u),c=!0,g(),c=!1)};e.getExceptionHandler=function(){return a};e.setExceptionHandler=function(e){var n=a;return a=e,n};var r=new l.LinkedList,i=new WeakMap,o=new Set,a=function(e){console.error(e)},u=0,c=!1,d="function"==typeof requestAnimationFrame?requestAnimationFrame:setImmediate,h="function"==typeof cancelAnimationFrame?cancelAnimationFrame:clearImmediate;function f(e,n){try{e.processMessage(n)}catch(e){a(e)}}function p(e,n){r.addLast({handler:e,msg:n}),0===u&&(u=d(g))}function g(){if(u=0,!r.isEmpty){var e={handler:null,msg:null};for(r.addLast(e);;){var i=r.removeFirst();if(i===e)return;i.handler&&i.msg&&n(i.handler,i.msg)}}}function y(e){0===o.size&&d(m),o.add(e)}function m(){o.forEach(b),o.clear()}function b(e){s.ArrayExt.removeAllWhere(e,_)}function _(e){return null===e}}(n.MessageLoop||(n.MessageLoop={}))},8462:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{default:function(){return w},Easing:function(){return a},Group:function(){return l},Interpolation:function(){return u},Sequence:function(){return c},Tween:function(){return h},VERSION:function(){return f},add:function(){return m},getAll:function(){return g},nextId:function(){return p},remove:function(){return b},removeAll:function(){return y},update:function(){return _}});var i,o,a={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return .5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI)},Out:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((e-.1)*5*Math.PI)+1},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?-.5*Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin((e-1.1)*5*Math.PI)+1}},Back:{In:function(e){return e*e*(2.70158*e-1.70158)},Out:function(e){return--e*e*(2.70158*e+1.70158)+1},InOut:function(e){return(e*=2)<1?.5*(e*e*(3.5949095*e-2.5949095)):.5*((e-=2)*e*(3.5949095*e+2.5949095)+2)}},Bounce:{In:function(e){return 1-a.Bounce.Out(1-e)},Out:function(e){if(e<1/2.75)return 7.5625*e*e;if(e<2/2.75)return 7.5625*(e-=1.5/2.75)*e+.75;if(e<2.5/2.75)return 7.5625*(e-=2.25/2.75)*e+.9375;else return 7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*a.Bounce.In(2*e):.5*a.Bounce.Out(2*e-1)+.5}}},s=o="undefined"==typeof self&&"undefined"!=typeof process&&process.hrtime?function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:"undefined"!=typeof self&&void 0!==self.performance&&void 0!==self.performance.now?self.performance.now.bind(self.performance):void 0!==Date.now?Date.now:function(){return new Date().getTime()},l=function(){function e(){this._tweens={},this._tweensAddedDuringUpdate={}}return e.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(n){return e._tweens[n]})},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},e.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},e.prototype.update=function(e,n){void 0===e&&(e=s()),void 0===n&&(n=!1);var r=Object.keys(this._tweens);if(0===r.length)return!1;for(;r.length>0;){this._tweensAddedDuringUpdate={};for(var i=0;i<r.length;i++){var o=this._tweens[r[i]],a=!n;o&&!1===o.update(e,a)&&!n&&delete this._tweens[r[i]]}r=Object.keys(this._tweensAddedDuringUpdate)}return!0},e}();var u={Linear:function(e,n){var r=e.length-1,i=r*n,o=Math.floor(i),a=u.Utils.Linear;return n<0?a(e[0],e[1],i):n>1?a(e[r],e[r-1],r-i):a(e[o],e[o+1>r?r:o+1],i-o)},Bezier:function(e,n){for(var r=0,i=e.length-1,o=Math.pow,a=u.Utils.Bernstein,s=0;s<=i;s++)r+=o(1-n,i-s)*o(n,s)*e[s]*a(i,s);return r},CatmullRom:function(e,n){var r=e.length-1,i=r*n,o=Math.floor(i),a=u.Utils.CatmullRom;return e[0]===e[r]?(n<0&&(o=Math.floor(i=r*(1+n))),a(e[(o-1+r)%r],e[o],e[(o+1)%r],e[(o+2)%r],i-o)):n<0?e[0]-(a(e[0],e[0],e[1],e[1],-i)-e[0]):n>1?e[r]-(a(e[r],e[r],e[r-1],e[r-1],i-r)-e[r]):a(e[o?o-1:0],e[o],e[r<o+1?r:o+1],e[r<o+2?r:o+2],i-o)},Utils:{Linear:function(e,n,r){return(n-e)*r+e},Bernstein:function(e,n){var r=u.Utils.Factorial;return r(e)/r(n)/r(e-n)},Factorial:(i=[1],function(e){var n=1;if(i[e])return i[e];for(var r=e;r>1;r--)n*=r;return i[e]=n,n}),CatmullRom:function(e,n,r,i,o){var a=(r-e)*.5,s=(i-n)*.5,l=o*o;return(2*n-2*r+a+s)*(o*l)+(-3*n+3*r-2*a-s)*l+a*o+n}}},c=function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e}(),d=new l,h=function(){function e(e,n){void 0===n&&(n=d),this._object=e,this._group=n,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=a.Linear.None,this._interpolationFunction=u.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=c.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.to=function(e,n){return this._valuesEnd=Object.create(e),void 0!==n&&(this._duration=n),this},e.prototype.duration=function(e){return this._duration=e,this},e.prototype.start=function(e){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed)for(var n in this._reversed=!1,this._valuesStartRepeat)this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n];return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=void 0!==e?"string"==typeof e?s()+parseFloat(e):e:s(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},e.prototype._setupProperties=function(e,n,r,i){for(var o in r){var a=e[o],s=Array.isArray(a),l=s?"array":typeof a,u=!s&&Array.isArray(r[o]);if("undefined"!==l&&"function"!==l){if(u){var c=r[o];if(0===c.length)continue;c=c.map(this._handleRelativeValue.bind(this,a)),r[o]=[a].concat(c)}if(("object"===l||s)&&a&&!u){for(var d in n[o]=s?[]:{},a)n[o][d]=a[d];i[o]=s?[]:{},this._setupProperties(a,n[o],r[o],i[o])}else void 0===n[o]&&(n[o]=a),!s&&(n[o]*=1),u?i[o]=r[o].slice().reverse():i[o]=n[o]||0}}},e.prototype.stop=function(){return(!this._isChainStopped&&(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying)?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},e.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},e.prototype.pause=function(e){return(void 0===e&&(e=s()),this._isPaused||!this._isPlaying)?this:(this._isPaused=!0,this._pauseStart=e,this._group&&this._group.remove(this),this)},e.prototype.resume=function(e){return(void 0===e&&(e=s()),this._isPaused&&this._isPlaying)?(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this):this},e.prototype.stopChainedTweens=function(){for(var e=0,n=this._chainedTweens.length;e<n;e++)this._chainedTweens[e].stop();return this},e.prototype.group=function(e){return this._group=e,this},e.prototype.delay=function(e){return this._delayTime=e,this},e.prototype.repeat=function(e){return this._initialRepeat=e,this._repeat=e,this},e.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},e.prototype.yoyo=function(e){return this._yoyo=e,this},e.prototype.easing=function(e){return this._easingFunction=e,this},e.prototype.interpolation=function(e){return this._interpolationFunction=e,this},e.prototype.chain=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this._chainedTweens=e,this},e.prototype.onStart=function(e){return this._onStartCallback=e,this},e.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},e.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},e.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},e.prototype.onStop=function(e){return this._onStopCallback=e,this},e.prototype.update=function(e,n){if(void 0===e&&(e=s()),void 0===n&&(n=!0),this._isPaused)return!0;var r,i,o=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(e>o)return!1;n&&this.start(e)}if(this._goToEnd=!1,e<this._startTime)return!0;!1===this._onStartCallbackFired&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),i=(e-this._startTime)/this._duration,i=0===this._duration||i>1?1:i;var a=this._easingFunction(i);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,a),this._onUpdateCallback&&this._onUpdateCallback(this._object,i),1===i){if(this._repeat>0){for(r in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat)!this._yoyo&&"string"==typeof this._valuesEnd[r]&&(this._valuesStartRepeat[r]=this._valuesStartRepeat[r]+parseFloat(this._valuesEnd[r])),this._yoyo&&this._swapEndStartRepeatValues(r),this._valuesStart[r]=this._valuesStartRepeat[r];this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=e+this._repeatDelayTime:this._startTime=e+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object)}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var l=0,u=this._chainedTweens.length;l<u;l++)this._chainedTweens[l].start(this._startTime+this._duration);return this._isPlaying=!1,!1}}return!0},e.prototype._updateProperties=function(e,n,r,i){for(var o in r)if(void 0!==n[o]){var a=n[o]||0,s=r[o],l=Array.isArray(e[o]),u=Array.isArray(s);!l&&u?e[o]=this._interpolationFunction(s,i):"object"==typeof s&&s?this._updateProperties(e[o],a,s,i):"number"==typeof(s=this._handleRelativeValue(a,s))&&(e[o]=a+(s-a)*i)}},e.prototype._handleRelativeValue=function(e,n){return"string"!=typeof n?n:"+"===n.charAt(0)||"-"===n.charAt(0)?e+parseFloat(n):parseFloat(n)},e.prototype._swapEndStartRepeatValues=function(e){var n=this._valuesStartRepeat[e],r=this._valuesEnd[e];"string"==typeof r?this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(r):this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=n},e}(),f="18.6.4",p=c.nextId,g=d.getAll.bind(d),y=d.removeAll.bind(d),m=d.add.bind(d),b=d.remove.bind(d),_=d.update.bind(d),w={Easing:a,Group:l,Interpolation:u,now:s,Sequence:c,nextId:p,Tween:h,VERSION:f,getAll:g,removeAll:y,add:m,remove:b,update:_}},56401:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{clsx:function(){return i},default:function(){return o}});function i(){for(var e,n,r=0,i="";r<arguments.length;)(e=arguments[r++])&&(n=function e(n){var r,i,o="";if("string"==typeof n||"number"==typeof n)o+=n;else if("object"==typeof n){if(Array.isArray(n))for(r=0;r<n.length;r++)n[r]&&(i=e(n[r]))&&(o&&(o+=" "),o+=i);else for(r in n)n[r]&&(o&&(o+=" "),o+=r)}return o}(e))&&(i&&(i+=" "),i+=n);return i}var o=i},69652:function(e,n,r){"use strict";let i=(e,{target:n=document.body}={})=>{let r=document.createElement("textarea"),i=document.activeElement;r.value=e,r.setAttribute("readonly",""),r.style.contain="strict",r.style.position="absolute",r.style.left="-9999px",r.style.fontSize="12pt";let o=document.getSelection(),a=!1;o.rangeCount>0&&(a=o.getRangeAt(0)),n.append(r),r.select(),r.selectionStart=0,r.selectionEnd=e.length;let s=!1;try{s=document.execCommand("copy")}catch(e){}return r.remove(),a&&(o.removeAllRanges(),o.addRange(a)),i&&i.focus(),s};e.exports=i,e.exports.default=i},72251:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"getDefaultOptions",{enumerable:!0,get:function(){return o}});var i={};function o(){return i}},33330:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var i=r.ir(r("19481")),o=r.ir(r("20534"));function a(e,n,r){(0,i.default)(2,arguments);var a=(0,o.default)(e,r),s=(0,o.default)(n,r);return a.getTime()===s.getTime()}},19481:function(e,n,r){"use strict";function i(e,n){if(n.length<e)throw TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+n.length+" present")}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}})},20534:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return l}});var i=r.ir(r("25125")),o=r.ir(r("19481")),a=r.ir(r("10520")),s=r("72251");function l(e,n){(0,o.default)(1,arguments);var r,l,u,c,d,h,f,p,g=(0,s.getDefaultOptions)(),y=(0,a.default)(null!==(r=null!==(l=null!==(u=null!==(c=null==n?void 0:n.weekStartsOn)&&void 0!==c?c:null==n?void 0:null===(d=n.locale)||void 0===d?void 0:null===(h=d.options)||void 0===h?void 0:h.weekStartsOn)&&void 0!==u?u:g.weekStartsOn)&&void 0!==l?l:null===(f=g.locale)||void 0===f?void 0:null===(p=f.options)||void 0===p?void 0:p.weekStartsOn)&&void 0!==r?r:0);if(!(y>=0&&y<=6))throw RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=(0,i.default)(e),b=m.getUTCDay();return m.setUTCDate(m.getUTCDate()-((b<y?7:0)+b-y)),m.setUTCHours(0,0,0,0),m}},10520:function(e,n,r){"use strict";function i(e){if(null===e||!0===e||!1===e)return NaN;var n=Number(e);return isNaN(n)?n:n<0?Math.ceil(n):Math.floor(n)}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}})},12204:function(e,n,r){"use strict";function i(e){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.width?String(n.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}})},97488:function(e,n,r){"use strict";function i(e){return function(n,r){var i;if("formatting"===(null!=r&&r.context?String(r.context):"standalone")&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,a=null!=r&&r.width?String(r.width):o;i=e.formattingValues[a]||e.formattingValues[o]}else{var s=e.defaultWidth,l=null!=r&&r.width?String(r.width):e.defaultWidth;i=e.values[l]||e.values[s]}return i[e.argumentCallback?e.argumentCallback(n):n]}}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}})},40337:function(e,n,r){"use strict";function i(e){return function(n){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=i.width,a=o&&e.matchPatterns[o]||e.matchPatterns[e.defaultMatchWidth],s=n.match(a);if(!s)return null;var l=s[0],u=o&&e.parsePatterns[o]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(u)?function(e,n){for(var r=0;r<e.length;r++)if(n(e[r]))return r}(u,function(e){return e.test(l)}):function(e,n){for(var r in e)if(e.hasOwnProperty(r)&&n(e[r]))return r}(u,function(e){return e.test(l)});return r=e.valueCallback?e.valueCallback(c):c,{value:r=i.valueCallback?i.valueCallback(r):r,rest:n.slice(l.length)}}}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}})},5861:function(e,n,r){"use strict";function i(e){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.match(e.matchPattern);if(!i)return null;var o=i[0],a=n.match(e.parsePattern);if(!a)return null;var s=e.valueCallback?e.valueCallback(a[0]):a[0];return{value:s=r.valueCallback?r.valueCallback(s):s,rest:n.slice(o.length)}}}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}})},95829:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"zhCN",{enumerable:!0,get:function(){return i.default}});var i=r.ir(r("77240"))},64200:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var i={lessThanXSeconds:{one:"不到 1 秒",other:"不到 {{count}} 秒"},xSeconds:{one:"1 秒",other:"{{count}} 秒"},halfAMinute:"半分钟",lessThanXMinutes:{one:"不到 1 分钟",other:"不到 {{count}} 分钟"},xMinutes:{one:"1 分钟",other:"{{count}} 分钟"},xHours:{one:"1 小时",other:"{{count}} 小时"},aboutXHours:{one:"大约 1 小时",other:"大约 {{count}} 小时"},xDays:{one:"1 天",other:"{{count}} 天"},aboutXWeeks:{one:"大约 1 个星期",other:"大约 {{count}} 个星期"},xWeeks:{one:"1 个星期",other:"{{count}} 个星期"},aboutXMonths:{one:"大约 1 个月",other:"大约 {{count}} 个月"},xMonths:{one:"1 个月",other:"{{count}} 个月"},aboutXYears:{one:"大约 1 年",other:"大约 {{count}} 年"},xYears:{one:"1 年",other:"{{count}} 年"},overXYears:{one:"超过 1 年",other:"超过 {{count}} 年"},almostXYears:{one:"将近 1 年",other:"将近 {{count}} 年"}},o=function(e,n,r){var o,a=i[e];if(o="string"==typeof a?a:1===n?a.one:a.other.replace("{{count}}",String(n)),null!=r&&r.addSuffix)return r.comparison&&r.comparison>0?o+"内":o+"前";return o}},24836:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var i=r.ir(r("12204")),o={date:(0,i.default)({formats:{full:"y'年'M'月'd'日' EEEE",long:"y'年'M'月'd'日'",medium:"yyyy-MM-dd",short:"yy-MM-dd"},defaultWidth:"full"}),time:(0,i.default)({formats:{full:"zzzz a h:mm:ss",long:"z a h:mm:ss",medium:"a h:mm:ss",short:"a h:mm"},defaultWidth:"full"}),dateTime:(0,i.default)({formats:{full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},defaultWidth:"full"})}},38552:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var i=r.ir(r("33330"));function o(e,n,r){var o="eeee p";return(0,i.default)(e,n,r)?o:e.getTime()>n.getTime()?"'下个'"+o:"'上个'"+o}var a={lastWeek:o,yesterday:"'昨天' p",today:"'今天' p",tomorrow:"'明天' p",nextWeek:o,other:"PP p"},s=function(e,n,r,i){var o=a[e];return"function"==typeof o?o(n,r,i):o}},56948:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var i=r.ir(r("97488")),o={ordinalNumber:function(e,n){var r=Number(e);switch(null==n?void 0:n.unit){case"date":return r.toString()+"日";case"hour":return r.toString()+"时";case"minute":return r.toString()+"分";case"second":return r.toString()+"秒";default:return"第 "+r.toString()}},era:(0,i.default)({values:{narrow:["前","公元"],abbreviated:["前","公元"],wide:["公元前","公元"]},defaultWidth:"wide"}),quarter:(0,i.default)({values:{narrow:["1","2","3","4"],abbreviated:["第一季","第二季","第三季","第四季"],wide:["第一季度","第二季度","第三季度","第四季度"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:(0,i.default)({values:{narrow:["一","二","三","四","五","六","七","八","九","十","十一","十二"],abbreviated:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],wide:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},defaultWidth:"wide"}),day:(0,i.default)({values:{narrow:["日","一","二","三","四","五","六"],short:["日","一","二","三","四","五","六"],abbreviated:["周日","周一","周二","周三","周四","周五","周六"],wide:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]},defaultWidth:"wide"}),dayPeriod:(0,i.default)({values:{narrow:{am:"上",pm:"下",midnight:"凌晨",noon:"午",morning:"早",afternoon:"下午",evening:"晚",night:"夜"},abbreviated:{am:"上午",pm:"下午",midnight:"凌晨",noon:"中午",morning:"早晨",afternoon:"中午",evening:"晚上",night:"夜间"},wide:{am:"上午",pm:"下午",midnight:"凌晨",noon:"中午",morning:"早晨",afternoon:"中午",evening:"晚上",night:"夜间"}},defaultWidth:"wide",formattingValues:{narrow:{am:"上",pm:"下",midnight:"凌晨",noon:"午",morning:"早",afternoon:"下午",evening:"晚",night:"夜"},abbreviated:{am:"上午",pm:"下午",midnight:"凌晨",noon:"中午",morning:"早晨",afternoon:"中午",evening:"晚上",night:"夜间"},wide:{am:"上午",pm:"下午",midnight:"凌晨",noon:"中午",morning:"早晨",afternoon:"中午",evening:"晚上",night:"夜间"}},defaultFormattingWidth:"wide"})}},79875:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var i=r.ir(r("40337")),o=r.ir(r("5861")),a={ordinalNumber:(0,o.default)({matchPattern:/^(第\s*)?\d+(日|时|分|秒)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:(0,i.default)({matchPatterns:{narrow:/^(前)/i,abbreviated:/^(前)/i,wide:/^(公元前|公元)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^(前)/i,/^(公元)/i]},defaultParseWidth:"any"}),quarter:(0,i.default)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^第[一二三四]刻/i,wide:/^第[一二三四]刻钟/i},defaultMatchWidth:"wide",parsePatterns:{any:[/(1|一)/i,/(2|二)/i,/(3|三)/i,/(4|四)/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:(0,i.default)({matchPatterns:{narrow:/^(一|二|三|四|五|六|七|八|九|十[二一])/i,abbreviated:/^(一|二|三|四|五|六|七|八|九|十[二一]|\d|1[12])月/i,wide:/^(一|二|三|四|五|六|七|八|九|十[二一])月/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^一/i,/^二/i,/^三/i,/^四/i,/^五/i,/^六/i,/^七/i,/^八/i,/^九/i,/^十(?!(一|二))/i,/^十一/i,/^十二/i],any:[/^一|1/i,/^二|2/i,/^三|3/i,/^四|4/i,/^五|5/i,/^六|6/i,/^七|7/i,/^八|8/i,/^九|9/i,/^十(?!(一|二))|10/i,/^十一|11/i,/^十二|12/i]},defaultParseWidth:"any"}),day:(0,i.default)({matchPatterns:{narrow:/^[一二三四五六日]/i,short:/^[一二三四五六日]/i,abbreviated:/^周[一二三四五六日]/i,wide:/^星期[一二三四五六日]/i},defaultMatchWidth:"wide",parsePatterns:{any:[/日/i,/一/i,/二/i,/三/i,/四/i,/五/i,/六/i]},defaultParseWidth:"any"}),dayPeriod:(0,i.default)({matchPatterns:{any:/^(上午?|下午?|午夜|[中正]午|早上?|下午|晚上?|凌晨|)/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^上午?/i,pm:/^下午?/i,midnight:/^午夜/i,noon:/^[中正]午/i,morning:/^早上/i,afternoon:/^下午/i,evening:/^晚上?/i,night:/^凌晨/i}},defaultParseWidth:"any"})}},77240:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return u}});var i=r.ir(r("64200")),o=r.ir(r("24836")),a=r.ir(r("38552")),s=r.ir(r("56948")),l=r.ir(r("79875")),u={code:"zh-CN",formatDistance:i.default,formatLong:o.default,formatRelative:a.default,localize:s.default,match:l.default,options:{weekStartsOn:1,firstWeekContainsDate:4}}},25125:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var i=r.ir(r("3487")),o=r.ir(r("19481"));function a(e){(0,o.default)(1,arguments);var n=Object.prototype.toString.call(e);return e instanceof Date||"object"===(0,i.default)(e)&&"[object Date]"===n?new Date(e.getTime()):"number"==typeof e||"[object Number]"===n?new Date(e):(("string"==typeof e||"[object String]"===n)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(Error().stack)),new Date(NaN))}},69589:function(e,n,r){var i,o;i=this,o=function(e){"use strict";var n="function"==typeof WeakSet,r=Object.keys;function i(e,n){return e===n||e!=e&&n!=n}function o(e){return e.constructor===Object||null==e.constructor}function a(e){return!!e&&"function"==typeof e.then}function s(e){return!!(e&&e.$$typeof)}function l(){var e=[];return{add:function(n){e.push(n)},has:function(n){return -1!==e.indexOf(n)}}}var u=n?function(){return new WeakSet}:l;function c(e){return function(n){var r=e||n;return function(e,n,i){void 0===i&&(i=u());var o=!!e&&"object"==typeof e,a=!!n&&"object"==typeof n;if(o||a){var s=o&&i.has(e),l=a&&i.has(n);if(s||l)return s&&l;o&&i.add(e),a&&i.add(n)}return r(e,n,i)}}}var d=Function.prototype.bind.call(Function.prototype.call,Object.prototype.hasOwnProperty);function h(e,n,i,o){var a=r(e),l=a.length;if(r(n).length!==l)return!1;if(l){for(var u=void 0;l-- >0;){if("_owner"===(u=a[l])){var c=s(e),h=s(n);if((c||h)&&c!==h)return!1}if(!d(n,u)||!i(e[u],n[u],o))return!1}}return!0}var f="function"==typeof Map,p="function"==typeof Set;function g(e){var n="function"==typeof e?e(r):r;function r(e,r,s){if(e===r)return!0;if(e&&r&&"object"==typeof e&&"object"==typeof r){if(o(e)&&o(r))return h(e,r,n,s);var l,u,c=Array.isArray(e),d=Array.isArray(r);if(c||d)return c===d&&function(e,n,r,i){var o=e.length;if(n.length!==o)return!1;for(;o-- >0;)if(!r(e[o],n[o],i))return!1;return!0}(e,r,n,s);if(c=e instanceof Date,d=r instanceof Date,c||d)return c===d&&i(e.getTime(),r.getTime());if(c=e instanceof RegExp,d=r instanceof RegExp,c||d){;return c===d&&(l=e,u=r,l.source===u.source&&l.global===u.global&&l.ignoreCase===u.ignoreCase&&l.multiline===u.multiline&&l.unicode===u.unicode&&l.sticky===u.sticky&&l.lastIndex===u.lastIndex)}return a(e)||a(r)?e===r:f&&(c=e instanceof Map,d=r instanceof Map,c||d)?c===d&&function(e,n,r,i){var o=e.size===n.size;if(o&&e.size){var a={};e.forEach(function(e,s){if(o){var l=!1,u=0;n.forEach(function(n,o){!l&&!a[u]&&(l=r(s,o,i)&&r(e,n,i))&&(a[u]=!0),u++}),o=l}})}return o}(e,r,n,s):p&&(c=e instanceof Set,d=r instanceof Set,c||d)?c===d&&function(e,n,r,i){var o=e.size===n.size;if(o&&e.size){var a={};e.forEach(function(e){if(o){var s=!1,l=0;n.forEach(function(n){!s&&!a[l]&&(s=r(e,n,i))&&(a[l]=!0),l++}),o=s}})}return o}(e,r,n,s):h(e,r,n,s)}return e!=e&&r!=r}return r}var y=g(),m=g(function(){return i}),b=g(c()),_=g(c(i));e.circularDeepEqual=b,e.circularShallowEqual=_,e.createCustomEqual=g,e.deepEqual=y,e.sameValueZeroEqual=i,e.shallowEqual=m,Object.defineProperty(e,"__esModule",{value:!0})},"object"==typeof n&&void 0!==e?o(n):"function"==typeof define&&define.amd?define(["exports"],o):o((i="undefined"!=typeof globalThis?globalThis:i||self)["fast-equals"]={})},70679:function(e,n,r){"use strict";var i=r("92134"),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};function u(e){return i.isMemo(e)?s:l[e.$$typeof]||o}l[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l[i.Memo]=s;var c=Object.defineProperty,d=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,g=Object.prototype;e.exports=function e(n,r,i){if("string"!=typeof r){if(g){var o=p(r);o&&o!==g&&e(n,o,i)}var s=d(r);h&&(s=s.concat(h(r)));for(var l=u(n),y=u(r),m=0;m<s.length;++m){var b=s[m];if(!a[b]&&!(i&&i[b])&&!(y&&y[b])&&!(l&&l[b])){var _=f(r,b);try{c(n,b,_)}catch(e){}}}}return n}},18431:function(e,n,r){var i=r("80650")(r("4586"),"DataView");e.exports=i},19599:function(e,n,r){var i=r("85682"),o=r("32371"),a=r("42690"),s=r("1439"),l=r("63084");function u(e){var n=-1,r=null==e?0:e.length;for(this.clear();++n<r;){var i=e[n];this.set(i[0],i[1])}}u.prototype.clear=i,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=s,u.prototype.set=l,e.exports=u},82289:function(e,n,r){var i=r("47511"),o=r("73851"),a=r("91300"),s=r("815"),l=r("571");function u(e){var n=-1,r=null==e?0:e.length;for(this.clear();++n<r;){var i=e[n];this.set(i[0],i[1])}}u.prototype.clear=i,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=s,u.prototype.set=l,e.exports=u},70029:function(e,n,r){var i=r("80650")(r("4586"),"Map");e.exports=i},76494:function(e,n,r){var i=r("72834"),o=r("89883"),a=r("39129"),s=r("88674"),l=r("63398");function u(e){var n=-1,r=null==e?0:e.length;for(this.clear();++n<r;){var i=e[n];this.set(i[0],i[1])}}u.prototype.clear=i,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=s,u.prototype.set=l,e.exports=u},87842:function(e,n,r){var i=r("80650")(r("4586"),"Promise");e.exports=i},54066:function(e,n,r){var i=r("80650")(r("4586"),"Set");e.exports=i},31107:function(e,n,r){var i=r("76494"),o=r("33768"),a=r("38925");function s(e){var n=-1,r=null==e?0:e.length;for(this.__data__=new i;++n<r;)this.add(e[n])}s.prototype.add=s.prototype.push=o,s.prototype.has=a,e.exports=s},7056:function(e,n,r){var i=r("82289"),o=r("83221"),a=r("5295"),s=r("14413"),l=r("58651"),u=r("43726");function c(e){var n=this.__data__=new i(e);this.size=n.size}c.prototype.clear=o,c.prototype.delete=a,c.prototype.get=s,c.prototype.has=l,c.prototype.set=u,e.exports=c},88457:function(e,n,r){var i=r("4586").Symbol;e.exports=i},56977:function(e,n,r){var i=r("4586").Uint8Array;e.exports=i},58693:function(e,n,r){var i=r("80650")(r("4586"),"WeakMap");e.exports=i},20338:function(e,n,r){e.exports=function(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}},18409:function(e,n,r){e.exports=function(e,n){for(var r=-1,i=null==e?0:e.length;++r<i&&!1!==n(e[r],r,e););return e}},48832:function(e,n,r){e.exports=function(e,n){for(var r=-1,i=null==e?0:e.length,o=0,a=[];++r<i;){var s=e[r];n(s,r,e)&&(a[o++]=s)}return a}},69446:function(e,n,r){var i=r("36827");e.exports=function(e,n){return!!(null==e?0:e.length)&&i(e,n,0)>-1}},19357:function(e,n,r){e.exports=function(e,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;)if(r(n,e[i]))return!0;return!1}},58128:function(e,n,r){var i=r("99166"),o=r("86344"),a=r("17987"),s=r("116"),l=r("21432"),u=r("66537"),c=Object.prototype.hasOwnProperty;e.exports=function(e,n){var r=a(e),d=!r&&o(e),h=!r&&!d&&s(e),f=!r&&!d&&!h&&u(e),p=r||d||h||f,g=p?i(e.length,String):[],y=g.length;for(var m in e)(n||c.call(e,m))&&!(p&&("length"==m||h&&("offset"==m||"parent"==m)||f&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||l(m,y)))&&g.push(m);return g}},49919:function(e,n,r){e.exports=function(e,n){for(var r=-1,i=null==e?0:e.length,o=Array(i);++r<i;)o[r]=n(e[r],r,e);return o}},71921:function(e,n,r){e.exports=function(e,n){for(var r=-1,i=n.length,o=e.length;++r<i;)e[o+r]=n[r];return e}},71909:function(e,n,r){e.exports=function(e,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}},47832:function(e,n,r){var i=r("47860"),o=r("78930");e.exports=function(e,n,r){(void 0!==r&&!o(e[n],r)||void 0===r&&!(n in e))&&i(e,n,r)}},46260:function(e,n,r){var i=r("47860"),o=r("78930"),a=Object.prototype.hasOwnProperty;e.exports=function(e,n,r){var s=e[n];(!(a.call(e,n)&&o(s,r))||void 0===r&&!(n in e))&&i(e,n,r)}},91551:function(e,n,r){var i=r("78930");e.exports=function(e,n){for(var r=e.length;r--;)if(i(e[r][0],n))return r;return -1}},16140:function(e,n,r){var i=r("95278"),o=r("19178");e.exports=function(e,n){return e&&i(n,o(n),e)}},42232:function(e,n,r){var i=r("95278"),o=r("67380");e.exports=function(e,n){return e&&i(n,o(n),e)}},47860:function(e,n,r){var i=r("10849");e.exports=function(e,n,r){"__proto__"==n&&i?i(e,n,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[n]=r}},44323:function(e,n,r){var i=r("7056"),o=r("18409"),a=r("46260"),s=r("16140"),l=r("42232"),u=r("11430"),c=r("89995"),d=r("62368"),h=r("43347"),f=r("28818"),p=r("87099"),g=r("82730"),y=r("42476"),m=r("81857"),b=r("51963"),_=r("17987"),w=r("116"),E=r("75078"),x=r("2874"),C=r("10511"),S=r("19178"),O=r("67380"),M="[object Arguments]",P="[object Function]",D="[object Object]",I={};I[M]=I["[object Array]"]=I["[object ArrayBuffer]"]=I["[object DataView]"]=I["[object Boolean]"]=I["[object Date]"]=I["[object Float32Array]"]=I["[object Float64Array]"]=I["[object Int8Array]"]=I["[object Int16Array]"]=I["[object Int32Array]"]=I["[object Map]"]=I["[object Number]"]=I[D]=I["[object RegExp]"]=I["[object Set]"]=I["[object String]"]=I["[object Symbol]"]=I["[object Uint8Array]"]=I["[object Uint8ClampedArray]"]=I["[object Uint16Array]"]=I["[object Uint32Array]"]=!0,I["[object Error]"]=I[P]=I["[object WeakMap]"]=!1;e.exports=function e(n,r,j,N,T,k){var A,R=1&r,L=2&r,F=4&r;if(j&&(A=T?j(n,N,T,k):j(n)),void 0!==A)return A;if(!x(n))return n;var z=_(n);if(z){if(A=y(n),!R)return c(n,A)}else{var B=g(n),V=B==P||"[object GeneratorFunction]"==B;if(w(n))return u(n,R);if(B==D||B==M||V&&!T){if(A=L||V?{}:b(n),!R)return L?h(n,l(A,n)):d(n,s(A,n))}else{if(!I[B])return T?n:{};A=m(n,B,R)}}k||(k=new i);var $=k.get(n);if($)return $;k.set(n,A),C(n)?n.forEach(function(i){A.add(e(i,r,j,i,n,k))}):E(n)&&n.forEach(function(i,o){A.set(o,e(i,r,j,o,n,k))});var U=F?L?p:f:L?O:S,H=z?void 0:U(n);return o(H||n,function(i,o){H&&(i=n[o=i]),a(A,o,e(i,r,j,o,n,k))}),A}},11627:function(e,n,r){var i=r("2874"),o=Object.create,a=function(){function e(){}return function(n){if(!i(n))return{};if(o)return o(n);e.prototype=n;var r=new e;return e.prototype=void 0,r}}();e.exports=a},60342:function(e,n,r){var i=r("31107"),o=r("69446"),a=r("19357"),s=r("49919"),l=r("93471"),u=r("735");e.exports=function(e,n,r,c){var d=-1,h=o,f=!0,p=e.length,g=[],y=n.length;if(!p)return g;r&&(n=s(n,l(r))),c?(h=a,f=!1):n.length>=200&&(h=u,f=!1,n=new i(n));t:for(;++d<p;){var m=e[d],b=null==r?m:r(m);if(m=c||0!==m?m:0,f&&b==b){for(var _=y;_--;)if(n[_]===b)continue t;g.push(m)}else!h(n,b,c)&&g.push(m)}return g}},272:function(e,n,r){var i=r("84711"),o=r("87523")(i);e.exports=o},12190:function(e,n,r){var i=r("72335");e.exports=function(e,n,r){for(var o=-1,a=e.length;++o<a;){var s=e[o],l=n(s);if(null!=l&&(void 0===u?l==l&&!i(l):r(l,u)))var u=l,c=s}return c}},4487:function(e,n,r){e.exports=function(e,n,r,i){for(var o=e.length,a=r+(i?1:-1);i?a--:++a<o;)if(n(e[a],a,e))return a;return -1}},60359:function(e,n,r){var i=r("71921"),o=r("52677");e.exports=function e(n,r,a,s,l){var u=-1,c=n.length;for(a||(a=o),l||(l=[]);++u<c;){var d=n[u];r>0&&a(d)?r>1?e(d,r-1,a,s,l):i(l,d):!s&&(l[l.length]=d)}return l}},29535:function(e,n,r){var i=r("15246")();e.exports=i},84711:function(e,n,r){var i=r("29535"),o=r("19178");e.exports=function(e,n){return e&&i(e,n,o)}},80608:function(e,n,r){var i=r("82189"),o=r("18452");e.exports=function(e,n){n=i(n,e);for(var r=0,a=n.length;null!=e&&r<a;)e=e[o(n[r++])];return r&&r==a?e:void 0}},76048:function(e,n,r){var i=r("71921"),o=r("17987");e.exports=function(e,n,r){var a=n(e);return o(e)?a:i(a,r(e))}},20919:function(e,n,r){var i=r("88457"),o=r("42369"),a=r("86608"),s=i?i.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?o(e):a(e)}},648:function(e,n,r){e.exports=function(e,n){return e>n}},69994:function(e,n,r){e.exports=function(e,n){return null!=e&&n in Object(e)}},36827:function(e,n,r){var i=r("4487"),o=r("28850"),a=r("75607");e.exports=function(e,n,r){return n==n?a(e,n,r):i(e,o,r)}},7992:function(e,n,r){var i=r("20919"),o=r("4898");e.exports=function(e){return o(e)&&"[object Arguments]"==i(e)}},44713:function(e,n,r){var i=r("72181"),o=r("4898");e.exports=function e(n,r,a,s,l){return n===r||(null!=n&&null!=r&&(o(n)||o(r))?i(n,r,a,s,e,l):n!=n&&r!=r)}},72181:function(e,n,r){var i=r("7056"),o=r("90492"),a=r("48207"),s=r("22921"),l=r("82730"),u=r("17987"),c=r("116"),d=r("66537"),h="[object Arguments]",f="[object Array]",p="[object Object]",g=Object.prototype.hasOwnProperty;e.exports=function(e,n,r,y,m,b){var _=u(e),w=u(n),E=_?f:l(e),x=w?f:l(n);E=E==h?p:E,x=x==h?p:x;var C=E==p,S=x==p,O=E==x;if(O&&c(e)){if(!c(n))return!1;_=!0,C=!1}if(O&&!C)return b||(b=new i),_||d(e)?o(e,n,r,y,m,b):a(e,n,E,r,y,m,b);if(!(1&r)){var M=C&&g.call(e,"__wrapped__"),P=S&&g.call(n,"__wrapped__");if(M||P){var D=M?e.value():e,I=P?n.value():n;return b||(b=new i),m(D,I,r,y,b)}}return!!O&&(b||(b=new i),s(e,n,r,y,m,b))}},57976:function(e,n,r){var i=r("82730"),o=r("4898");e.exports=function(e){return o(e)&&"[object Map]"==i(e)}},28850:function(e,n,r){e.exports=function(e){return e!=e}},82637:function(e,n,r){var i=r("8250"),o=r("30400"),a=r("2874"),s=r("60059"),l=/^\[object .+?Constructor\]$/,u=Object.prototype,c=Function.prototype.toString,d=u.hasOwnProperty,h=RegExp("^"+c.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||o(e))&&(i(e)?h:l).test(s(e))}},18563:function(e,n,r){var i=r("82730"),o=r("4898");e.exports=function(e){return o(e)&&"[object Set]"==i(e)}},38344:function(e,n,r){var i=r("20919"),o=r("55055"),a=r("4898"),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1;e.exports=function(e){return a(e)&&o(e.length)&&!!s[i(e)]}},28411:function(e,n,r){var i=r("26728"),o=r("63074"),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!i(e))return o(e);var n=[];for(var r in Object(e))a.call(e,r)&&"constructor"!=r&&n.push(r);return n}},77932:function(e,n,r){var i=r("2874"),o=r("26728"),a=r("22362"),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!i(e))return a(e);var n=o(e),r=[];for(var l in e)!("constructor"==l&&(n||!s.call(e,l)))&&r.push(l);return r}},26617:function(e,n,r){var i=r("7056"),o=r("47832"),a=r("29535"),s=r("63560"),l=r("2874"),u=r("67380"),c=r("63903");e.exports=function e(n,r,d,h,f){n!==r&&a(r,function(a,u){if(f||(f=new i),l(a))s(n,r,u,d,e,h,f);else{var p=h?h(c(n,u),a,u+"",n,r,f):void 0;void 0===p&&(p=a),o(n,u,p)}},u)}},63560:function(e,n,r){var i=r("47832"),o=r("11430"),a=r("53143"),s=r("89995"),l=r("51963"),u=r("86344"),c=r("17987"),d=r("65976"),h=r("116"),f=r("8250"),p=r("2874"),g=r("40565"),y=r("66537"),m=r("63903"),b=r("93691");e.exports=function(e,n,r,_,w,E,x){var C=m(e,r),S=m(n,r),O=x.get(S);if(O){i(e,r,O);return}var M=E?E(C,S,r+"",e,n,x):void 0,P=void 0===M;if(P){var D=c(S),I=!D&&h(S),j=!D&&!I&&y(S);M=S,D||I||j?c(C)?M=C:d(C)?M=s(C):I?(P=!1,M=o(S,!0)):j?(P=!1,M=a(S,!0)):M=[]:g(S)||u(S)?(M=C,u(C)?M=b(C):(!p(C)||f(C))&&(M=l(S))):P=!1}P&&(x.set(S,M),w(M,S,_,E,x),x.delete(S)),i(e,r,M)}},50509:function(e,n,r){var i=r("88772"),o=r("15830");e.exports=function(e,n){return i(e,n,function(n,r){return o(e,r)})}},88772:function(e,n,r){var i=r("80608"),o=r("7690"),a=r("82189");e.exports=function(e,n,r){for(var s=-1,l=n.length,u={};++s<l;){var c=n[s],d=i(e,c);r(d,c)&&o(u,a(c,e),d)}return u}},3867:function(e,n,r){var i=r("4918"),o=r("75783"),a=r("12380");e.exports=function(e,n){return a(o(e,n,i),e+"")}},7690:function(e,n,r){var i=r("46260"),o=r("82189"),a=r("21432"),s=r("2874"),l=r("18452");e.exports=function(e,n,r,u){if(!s(e))return e;n=o(n,e);for(var c=-1,d=n.length,h=d-1,f=e;null!=f&&++c<d;){var p=l(n[c]),g=r;if("__proto__"===p||"constructor"===p||"prototype"===p)break;if(c!=h){var y=f[p];void 0===(g=u?u(y,p,f):void 0)&&(g=s(y)?y:a(n[c+1])?[]:{})}i(f,p,g),f=f[p]}return e}},80181:function(e,n,r){var i=r("51769"),o=r("10849"),a=r("4918"),s=o?function(e,n){return o(e,"toString",{configurable:!0,enumerable:!1,value:i(n),writable:!0})}:a;e.exports=s},17074:function(e,n,r){e.exports=function(e,n,r){var i=-1,o=e.length;n<0&&(n=-n>o?0:o+n),(r=r>o?o:r)<0&&(r+=o),o=n>r?0:r-n>>>0,n>>>=0;for(var a=Array(o);++i<o;)a[i]=e[i+n];return a}},99166:function(e,n,r){e.exports=function(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}},88360:function(e,n,r){var i=r("88457"),o=r("49919"),a=r("17987"),s=r("72335"),l=1/0,u=i?i.prototype:void 0,c=u?u.toString:void 0;e.exports=function e(n){if("string"==typeof n)return n;if(a(n))return o(n,e)+"";if(s(n))return c?c.call(n):"";var r=n+"";return"0"==r&&1/n==-l?"-0":r}},4197:function(e,n,r){var i=r("97729"),o=/^\s+/;e.exports=function(e){return e?e.slice(0,i(e)+1).replace(o,""):e}},93471:function(e,n,r){e.exports=function(e){return function(n){return e(n)}}},32885:function(e,n,r){var i=r("31107"),o=r("69446"),a=r("19357"),s=r("735"),l=r("85501"),u=r("76");e.exports=function(e,n,r){var c=-1,d=o,h=e.length,f=!0,p=[],g=p;if(r)f=!1,d=a;else if(h>=200){var y=n?null:l(e);if(y)return u(y);f=!1,d=s,g=new i}else g=n?[]:p;t:for(;++c<h;){var m=e[c],b=n?n(m):m;if(m=r||0!==m?m:0,f&&b==b){for(var _=g.length;_--;)if(g[_]===b)continue t;n&&g.push(b),p.push(m)}else!d(g,b,r)&&(g!==p&&g.push(b),p.push(m))}return p}},69460:function(e,n,r){var i=r("82189"),o=r("52830"),a=r("42278"),s=r("18452");e.exports=function(e,n){return n=i(n,e),null==(e=a(e,n))||delete e[s(o(n))]}},735:function(e,n,r){e.exports=function(e,n){return e.has(n)}},33347:function(e,n,r){var i=r("4918");e.exports=function(e){return"function"==typeof e?e:i}},82189:function(e,n,r){var i=r("17987"),o=r("53232"),a=r("71250"),s=r("64626");e.exports=function(e,n){return i(e)?e:o(e,n)?[e]:a(s(e))}},58227:function(e,n,r){var i=r("56977");e.exports=function(e){var n=new e.constructor(e.byteLength);return new i(n).set(new i(e)),n}},11430:function(e,n,r){var i=r("4586"),o="object"==typeof n&&n&&!n.nodeType&&n,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o?i.Buffer:void 0,l=s?s.allocUnsafe:void 0;e.exports=function(e,n){if(n)return e.slice();var r=e.length,i=l?l(r):new e.constructor(r);return e.copy(i),i}},66329:function(e,n,r){var i=r("58227");e.exports=function(e,n){var r=n?i(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}},18622:function(e,n,r){var i=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,i.exec(e));return n.lastIndex=e.lastIndex,n}},76007:function(e,n,r){var i=r("88457"),o=i?i.prototype:void 0,a=o?o.valueOf:void 0;e.exports=function(e){return a?Object(a.call(e)):{}}},53143:function(e,n,r){var i=r("58227");e.exports=function(e,n){var r=n?i(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}},89995:function(e,n,r){e.exports=function(e,n){var r=-1,i=e.length;for(n||(n=Array(i));++r<i;)n[r]=e[r];return n}},95278:function(e,n,r){var i=r("46260"),o=r("47860");e.exports=function(e,n,r,a){var s=!r;r||(r={});for(var l=-1,u=n.length;++l<u;){var c=n[l],d=a?a(r[c],e[c],c,r,e):void 0;void 0===d&&(d=e[c]),s?o(r,c,d):i(r,c,d)}return r}},62368:function(e,n,r){var i=r("95278"),o=r("524");e.exports=function(e,n){return i(e,o(e),n)}},43347:function(e,n,r){var i=r("95278"),o=r("25049");e.exports=function(e,n){return i(e,o(e),n)}},45089:function(e,n,r){var i=r("4586")["__core-js_shared__"];e.exports=i},83494:function(e,n,r){var i=r("3867"),o=r("28694");e.exports=function(e){return i(function(n,r){var i=-1,a=r.length,s=a>1?r[a-1]:void 0,l=a>2?r[2]:void 0;for(s=e.length>3&&"function"==typeof s?(a--,s):void 0,l&&o(r[0],r[1],l)&&(s=a<3?void 0:s,a=1),n=Object(n);++i<a;){var u=r[i];u&&e(n,u,i,s)}return n})}},87523:function(e,n,r){var i=r("16562");e.exports=function(e,n){return function(r,o){if(null==r)return r;if(!i(r))return e(r,o);for(var a=r.length,s=n?a:-1,l=Object(r);(n?s--:++s<a)&&!1!==o(l[s],s,l););return r}}},15246:function(e,n,r){e.exports=function(e){return function(n,r,i){for(var o=-1,a=Object(n),s=i(n),l=s.length;l--;){var u=s[e?l:++o];if(!1===r(a[u],u,a))break}return n}}},85501:function(e,n,r){var i=r("54066"),o=r("82203"),a=r("76"),s=i&&1/a(new i([,-0]))[1]==1/0?function(e){return new i(e)}:o;e.exports=s},99366:function(e,n,r){var i=r("40565");e.exports=function(e){return i(e)?void 0:e}},10849:function(e,n,r){var i=r("80650"),o=function(){try{var e=i(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},90492:function(e,n,r){var i=r("31107"),o=r("71909"),a=r("735");e.exports=function(e,n,r,s,l,u){var c=1&r,d=e.length,h=n.length;if(d!=h&&!(c&&h>d))return!1;var f=u.get(e),p=u.get(n);if(f&&p)return f==n&&p==e;var g=-1,y=!0,m=2&r?new i:void 0;for(u.set(e,n),u.set(n,e);++g<d;){var b=e[g],_=n[g];if(s)var w=c?s(_,b,g,n,e,u):s(b,_,g,e,n,u);if(void 0!==w){if(w)continue;y=!1;break}if(m){if(!o(n,function(e,n){if(!a(m,n)&&(b===e||l(b,e,r,s,u)))return m.push(n)})){y=!1;break}}else if(!(b===_||l(b,_,r,s,u))){y=!1;break}}return u.delete(e),u.delete(n),y}},48207:function(e,n,r){var i=r("88457"),o=r("56977"),a=r("78930"),s=r("90492"),l=r("52341"),u=r("76"),c=i?i.prototype:void 0,d=c?c.valueOf:void 0;e.exports=function(e,n,r,i,c,h,f){switch(r){case"[object DataView]":if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)break;e=e.buffer,n=n.buffer;case"[object ArrayBuffer]":if(e.byteLength!=n.byteLength||!h(new o(e),new o(n)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+e,+n);case"[object Error]":return e.name==n.name&&e.message==n.message;case"[object RegExp]":case"[object String]":return e==n+"";case"[object Map]":var p=l;case"[object Set]":var g=1&i;if(p||(p=u),e.size!=n.size&&!g)break;var y=f.get(e);if(y)return y==n;i|=2,f.set(e,n);var m=s(p(e),p(n),i,c,h,f);return f.delete(e),m;case"[object Symbol]":if(d)return d.call(e)==d.call(n)}return!1}},22921:function(e,n,r){var i=r("28818"),o=Object.prototype.hasOwnProperty;e.exports=function(e,n,r,a,s,l){var u=1&r,c=i(e),d=c.length;if(d!=i(n).length&&!u)return!1;for(var h=d;h--;){var f=c[h];if(!(u?f in n:o.call(n,f)))return!1}var p=l.get(e),g=l.get(n);if(p&&g)return p==n&&g==e;var y=!0;l.set(e,n),l.set(n,e);for(var m=u;++h<d;){var b=e[f=c[h]],_=n[f];if(a)var w=u?a(_,b,f,n,e,l):a(b,_,f,e,n,l);if(!(void 0===w?b===_||s(b,_,r,a,l):w)){y=!1;break}m||(m="constructor"==f)}if(y&&!m){var E=e.constructor,x=n.constructor;E!=x&&"constructor"in e&&"constructor"in n&&!("function"==typeof E&&E instanceof E&&"function"==typeof x&&x instanceof x)&&(y=!1)}return l.delete(e),l.delete(n),y}},25596:function(e,n,r){var i=r("20386"),o=r("75783"),a=r("12380");e.exports=function(e){return a(o(e,void 0,i),e+"")}},90122:function(e,n,r){var i="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=i},28818:function(e,n,r){var i=r("76048"),o=r("524"),a=r("19178");e.exports=function(e){return i(e,a,o)}},87099:function(e,n,r){var i=r("76048"),o=r("25049"),a=r("67380");e.exports=function(e){return i(e,a,o)}},43710:function(e,n,r){var i=r("94417");e.exports=function(e,n){var r=e.__data__;return i(n)?r["string"==typeof n?"string":"hash"]:r.map}},80650:function(e,n,r){var i=r("82637"),o=r("57878");e.exports=function(e,n){var r=o(e,n);return i(r)?r:void 0}},38672:function(e,n,r){var i=r("83195")(Object.getPrototypeOf,Object);e.exports=i},42369:function(e,n,r){var i=r("88457"),o=Object.prototype,a=o.hasOwnProperty,s=o.toString,l=i?i.toStringTag:void 0;e.exports=function(e){var n=a.call(e,l),r=e[l];try{e[l]=void 0;var i=!0}catch(e){}var o=s.call(e);return i&&(n?e[l]=r:delete e[l]),o}},524:function(e,n,r){var i=r("48832"),o=r("38558"),a=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,l=s?function(e){return null==e?[]:i(s(e=Object(e)),function(n){return a.call(e,n)})}:o;e.exports=l},25049:function(e,n,r){var i=r("71921"),o=r("38672"),a=r("524"),s=r("38558"),l=Object.getOwnPropertySymbols?function(e){for(var n=[];e;)i(n,a(e)),e=o(e);return n}:s;e.exports=l},82730:function(e,n,r){var i=r("18431"),o=r("70029"),a=r("87842"),s=r("54066"),l=r("58693"),u=r("20919"),c=r("60059"),d="[object Map]",h="[object Promise]",f="[object Set]",p="[object WeakMap]",g="[object DataView]",y=c(i),m=c(o),b=c(a),_=c(s),w=c(l),E=u;(i&&E(new i(new ArrayBuffer(1)))!=g||o&&E(new o)!=d||a&&E(a.resolve())!=h||s&&E(new s)!=f||l&&E(new l)!=p)&&(E=function(e){var n=u(e),r="[object Object]"==n?e.constructor:void 0,i=r?c(r):"";if(i)switch(i){case y:return g;case m:return d;case b:return h;case _:return f;case w:return p}return n}),e.exports=E},57878:function(e,n,r){e.exports=function(e,n){return null==e?void 0:e[n]}},81847:function(e,n,r){var i=r("82189"),o=r("86344"),a=r("17987"),s=r("21432"),l=r("55055"),u=r("18452");e.exports=function(e,n,r){n=i(n,e);for(var c=-1,d=n.length,h=!1;++c<d;){var f=u(n[c]);if(!(h=null!=e&&r(e,f)))break;e=e[f]}return h||++c!=d?h:!!(d=null==e?0:e.length)&&l(d)&&s(f,d)&&(a(e)||o(e))}},85682:function(e,n,r){var i=r("12764");e.exports=function(){this.__data__=i?i(null):{},this.size=0}},32371:function(e,n,r){e.exports=function(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}},42690:function(e,n,r){var i=r("12764"),o=Object.prototype.hasOwnProperty;e.exports=function(e){var n=this.__data__;if(i){var r=n[e];return"__lodash_hash_undefined__"===r?void 0:r}return o.call(n,e)?n[e]:void 0}},1439:function(e,n,r){var i=r("12764"),o=Object.prototype.hasOwnProperty;e.exports=function(e){var n=this.__data__;return i?void 0!==n[e]:o.call(n,e)}},63084:function(e,n,r){var i=r("12764");e.exports=function(e,n){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=i&&void 0===n?"__lodash_hash_undefined__":n,this}},42476:function(e,n,r){var i=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,r=new e.constructor(n);return n&&"string"==typeof e[0]&&i.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},81857:function(e,n,r){var i=r("58227"),o=r("66329"),a=r("18622"),s=r("76007"),l=r("53143");e.exports=function(e,n,r){var u=e.constructor;switch(n){case"[object ArrayBuffer]":return i(e);case"[object Boolean]":case"[object Date]":return new u(+e);case"[object DataView]":return o(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return l(e,r);case"[object Map]":case"[object Set]":return new u;case"[object Number]":case"[object String]":return new u(e);case"[object RegExp]":return a(e);case"[object Symbol]":return s(e)}}},51963:function(e,n,r){var i=r("11627"),o=r("38672"),a=r("26728");e.exports=function(e){return"function"!=typeof e.constructor||a(e)?{}:i(o(e))}},52677:function(e,n,r){var i=r("88457"),o=r("86344"),a=r("17987"),s=i?i.isConcatSpreadable:void 0;e.exports=function(e){return a(e)||o(e)||!!(s&&e&&e[s])}},21432:function(e,n,r){var i=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&i.test(e))&&e>-1&&e%1==0&&e<n}},28694:function(e,n,r){var i=r("78930"),o=r("16562"),a=r("21432"),s=r("2874");e.exports=function(e,n,r){if(!s(r))return!1;var l=typeof n;return("number"==l?!!(o(r)&&a(n,r.length)):"string"==l&&n in r)&&i(r[n],e)}},53232:function(e,n,r){var i=r("17987"),o=r("72335"),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=function(e,n){if(i(e))return!1;var r=typeof e;return!!("number"==r||"symbol"==r||"boolean"==r||null==e||o(e))||s.test(e)||!a.test(e)||null!=n&&e in Object(n)}},94417:function(e,n,r){e.exports=function(e){var n=typeof e;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==e:null===e}},30400:function(e,n,r){var i,o=r("45089");var a=(i=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""),i?"Symbol(src)_1."+i:"");e.exports=function(e){return!!a&&a in e}},26728:function(e,n,r){var i=Object.prototype;e.exports=function(e){var n=e&&e.constructor,r="function"==typeof n&&n.prototype||i;return e===r}},47511:function(e,n,r){e.exports=function(){this.__data__=[],this.size=0}},73851:function(e,n,r){var i=r("91551"),o=Array.prototype.splice;e.exports=function(e){var n=this.__data__,r=i(n,e);return!(r<0)&&(r==n.length-1?n.pop():o.call(n,r,1),--this.size,!0)}},91300:function(e,n,r){var i=r("91551");e.exports=function(e){var n=this.__data__,r=i(n,e);return r<0?void 0:n[r][1]}},815:function(e,n,r){var i=r("91551");e.exports=function(e){return i(this.__data__,e)>-1}},571:function(e,n,r){var i=r("91551");e.exports=function(e,n){var r=this.__data__,o=i(r,e);return o<0?(++this.size,r.push([e,n])):r[o][1]=n,this}},72834:function(e,n,r){var i=r("19599"),o=r("82289"),a=r("70029");e.exports=function(){this.size=0,this.__data__={hash:new i,map:new(a||o),string:new i}}},89883:function(e,n,r){var i=r("43710");e.exports=function(e){var n=i(this,e).delete(e);return this.size-=n?1:0,n}},39129:function(e,n,r){var i=r("43710");e.exports=function(e){return i(this,e).get(e)}},88674:function(e,n,r){var i=r("43710");e.exports=function(e){return i(this,e).has(e)}},63398:function(e,n,r){var i=r("43710");e.exports=function(e,n){var r=i(this,e),o=r.size;return r.set(e,n),this.size+=r.size==o?0:1,this}},52341:function(e,n,r){e.exports=function(e){var n=-1,r=Array(e.size);return e.forEach(function(e,i){r[++n]=[i,e]}),r}},22247:function(e,n,r){var i=r("33312");e.exports=function(e){var n=i(e,function(e){return 500===r.size&&r.clear(),e}),r=n.cache;return n}},12764:function(e,n,r){var i=r("80650")(Object,"create");e.exports=i},63074:function(e,n,r){var i=r("83195")(Object.keys,Object);e.exports=i},22362:function(e,n,r){e.exports=function(e){var n=[];if(null!=e)for(var r in Object(e))n.push(r);return n}},54577:function(e,n,r){var i=r("90122"),o="object"==typeof n&&n&&!n.nodeType&&n,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o&&i.process,l=function(){try{var e=a&&a.require&&a.require("util").types;if(e)return e;return s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=l},86608:function(e,n,r){var i=Object.prototype.toString;e.exports=function(e){return i.call(e)}},83195:function(e,n,r){e.exports=function(e,n){return function(r){return e(n(r))}}},75783:function(e,n,r){var i=r("20338"),o=Math.max;e.exports=function(e,n,r){return n=o(void 0===n?e.length-1:n,0),function(){for(var a=arguments,s=-1,l=o(a.length-n,0),u=Array(l);++s<l;)u[s]=a[n+s];s=-1;for(var c=Array(n+1);++s<n;)c[s]=a[s];return c[n]=r(u),i(e,this,c)}}},42278:function(e,n,r){var i=r("80608"),o=r("17074");e.exports=function(e,n){return n.length<2?e:i(e,o(n,0,-1))}},4586:function(e,n,r){var i=r("90122"),o="object"==typeof self&&self&&self.Object===Object&&self,a=i||o||Function("return this")();e.exports=a},63903:function(e,n,r){e.exports=function(e,n){if("constructor"!==n||"function"!=typeof e[n]){if("__proto__"!=n)return e[n]}}},33768:function(e,n,r){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},38925:function(e,n,r){e.exports=function(e){return this.__data__.has(e)}},76:function(e,n,r){e.exports=function(e){var n=-1,r=Array(e.size);return e.forEach(function(e){r[++n]=e}),r}},12380:function(e,n,r){var i=r("80181"),o=r("10433")(i);e.exports=o},10433:function(e,n,r){var i=Date.now;e.exports=function(e){var n=0,r=0;return function(){var o=i(),a=16-(o-r);if(r=o,a>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},83221:function(e,n,r){var i=r("82289");e.exports=function(){this.__data__=new i,this.size=0}},5295:function(e,n,r){e.exports=function(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}},14413:function(e,n,r){e.exports=function(e){return this.__data__.get(e)}},58651:function(e,n,r){e.exports=function(e){return this.__data__.has(e)}},43726:function(e,n,r){var i=r("82289"),o=r("70029"),a=r("76494");e.exports=function(e,n){var r=this.__data__;if(r instanceof i){var s=r.__data__;if(!o||s.length<199)return s.push([e,n]),this.size=++r.size,this;r=this.__data__=new a(s)}return r.set(e,n),this.size=r.size,this}},75607:function(e,n,r){e.exports=function(e,n,r){for(var i=r-1,o=e.length;++i<o;)if(e[i]===n)return i;return -1}},71250:function(e,n,r){var i=r("22247"),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,s=i(function(e){var n=[];return 46===e.charCodeAt(0)&&n.push(""),e.replace(o,function(e,r,i,o){n.push(i?o.replace(a,"$1"):r||e)}),n});e.exports=s},18452:function(e,n,r){var i=r("72335"),o=1/0;e.exports=function(e){if("string"==typeof e||i(e))return e;var n=e+"";return"0"==n&&1/e==-o?"-0":n}},60059:function(e,n,r){var i=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return i.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},97729:function(e,n,r){var i=/\s/;e.exports=function(e){for(var n=e.length;n--&&i.test(e.charAt(n)););return n}},77965:function(e,n,r){var i=r("44323");e.exports=function(e,n){return i(e,5,n="function"==typeof n?n:void 0)}},51769:function(e,n,r){e.exports=function(e){return function(){return e}}},21702:function(e,n,r){var i=r("2874"),o=r("60971"),a=r("9203"),s=Math.max,l=Math.min;e.exports=function(e,n,r){var u,c,d,h,f,p,g=0,y=!1,m=!1,b=!0;if("function"!=typeof e)throw TypeError("Expected a function");function _(n){var r=u,i=c;return u=c=void 0,g=n,h=e.apply(i,r)}n=a(n)||0,i(r)&&(y=!!r.leading,d=(m="maxWait"in r)?s(a(r.maxWait)||0,n):d,b="trailing"in r?!!r.trailing:b);function w(e){var r=e-p,i=e-g;return void 0===p||r>=n||r<0||m&&i>=d}function E(){var e,r,i,a,s=o();if(w(s))return x(s);f=setTimeout(E,(r=(e=s)-p,i=e-g,a=n-r,m?l(a,d-i):a))}function x(e){return(f=void 0,b&&u)?_(e):(u=c=void 0,h)}function C(){var e,r=o(),i=w(r);if(u=arguments,c=this,p=r,i){if(void 0===f){;return g=e=p,f=setTimeout(E,n),y?_(e):h}if(m)return clearTimeout(f),f=setTimeout(E,n),_(p)}return void 0===f&&(f=setTimeout(E,n)),h}return C.cancel=function(){void 0!==f&&clearTimeout(f),g=0,u=p=c=f=void 0},C.flush=function(){return void 0===f?h:x(o())},C}},69974:function(e,n,r){var i=r("60342"),o=r("60359"),a=r("3867"),s=r("65976"),l=a(function(e,n){return s(e)?i(e,o(n,1,s,!0)):[]});e.exports=l},66669:function(e,n,r){e.exports=r("82354")},78930:function(e,n,r){e.exports=function(e,n){return e===n||e!=e&&n!=n}},20386:function(e,n,r){var i=r("60359");e.exports=function(e){return(null==e?0:e.length)?i(e,1):[]}},82354:function(e,n,r){var i=r("18409"),o=r("272"),a=r("33347"),s=r("17987");e.exports=function(e,n){return(s(e)?i:o)(e,a(n))}},15478:function(e,n,r){var i=r("80608");e.exports=function(e,n,r){var o=null==e?void 0:i(e,n);return void 0===o?r:o}},15830:function(e,n,r){var i=r("69994"),o=r("81847");e.exports=function(e,n){return null!=e&&o(e,n,i)}},4918:function(e,n,r){e.exports=function(e){return e}},86344:function(e,n,r){var i=r("7992"),o=r("4898"),a=Object.prototype,s=a.hasOwnProperty,l=a.propertyIsEnumerable,u=i(function(){return arguments}())?i:function(e){return o(e)&&s.call(e,"callee")&&!l.call(e,"callee")};e.exports=u},17987:function(e,n,r){var i=Array.isArray;e.exports=i},16562:function(e,n,r){var i=r("8250"),o=r("55055");e.exports=function(e){return null!=e&&o(e.length)&&!i(e)}},65976:function(e,n,r){var i=r("16562"),o=r("4898");e.exports=function(e){return o(e)&&i(e)}},69983:function(e,n,r){var i=r("20919"),o=r("4898");e.exports=function(e){return!0===e||!1===e||o(e)&&"[object Boolean]"==i(e)}},116:function(e,n,r){var i=r("4586"),o=r("93563"),a="object"==typeof n&&n&&!n.nodeType&&n,s=a&&"object"==typeof e&&e&&!e.nodeType&&e,l=s&&s.exports===a?i.Buffer:void 0,u=l?l.isBuffer:void 0;e.exports=u||o},38691:function(e,n,r){var i=r("28411"),o=r("82730"),a=r("86344"),s=r("17987"),l=r("16562"),u=r("116"),c=r("26728"),d=r("66537"),h=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(l(e)&&(s(e)||"string"==typeof e||"function"==typeof e.splice||u(e)||d(e)||a(e)))return!e.length;var n=o(e);if("[object Map]"==n||"[object Set]"==n)return!e.size;if(c(e))return!i(e).length;for(var r in e)if(h.call(e,r))return!1;return!0}},3409:function(e,n,r){var i=r("44713");e.exports=function(e,n){return i(e,n)}},8250:function(e,n,r){var i=r("20919"),o=r("2874");e.exports=function(e){if(!o(e))return!1;var n=i(e);return"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n}},55055:function(e,n,r){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},75078:function(e,n,r){var i=r("57976"),o=r("93471"),a=r("54577"),s=a&&a.isMap,l=s?o(s):i;e.exports=l},29449:function(e,n,r){e.exports=function(e){return null===e}},15135:function(e,n,r){var i=r("20919"),o=r("4898");e.exports=function(e){return"number"==typeof e||o(e)&&"[object Number]"==i(e)}},2874:function(e,n,r){e.exports=function(e){var n=typeof e;return null!=e&&("object"==n||"function"==n)}},4898:function(e,n,r){e.exports=function(e){return null!=e&&"object"==typeof e}},40565:function(e,n,r){var i=r("20919"),o=r("38672"),a=r("4898"),s=Object.prototype,l=Function.prototype.toString,u=s.hasOwnProperty,c=l.call(Object);e.exports=function(e){if(!a(e)||"[object Object]"!=i(e))return!1;var n=o(e);if(null===n)return!0;var r=u.call(n,"constructor")&&n.constructor;return"function"==typeof r&&r instanceof r&&l.call(r)==c}},10511:function(e,n,r){var i=r("18563"),o=r("93471"),a=r("54577"),s=a&&a.isSet,l=s?o(s):i;e.exports=l},94228:function(e,n,r){var i=r("20919"),o=r("17987"),a=r("4898");e.exports=function(e){return"string"==typeof e||!o(e)&&a(e)&&"[object String]"==i(e)}},72335:function(e,n,r){var i=r("20919"),o=r("4898");e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==i(e)}},66537:function(e,n,r){var i=r("38344"),o=r("93471"),a=r("54577"),s=a&&a.isTypedArray,l=s?o(s):i;e.exports=l},83910:function(e,n,r){e.exports=function(e){return void 0===e}},19178:function(e,n,r){var i=r("58128"),o=r("28411"),a=r("16562");e.exports=function(e){return a(e)?i(e):o(e)}},67380:function(e,n,r){var i=r("58128"),o=r("77932"),a=r("16562");e.exports=function(e){return a(e)?i(e,!0):o(e)}},52830:function(e,n,r){e.exports=function(e){var n=null==e?0:e.length;return n?e[n-1]:void 0}},53168:function(e,n,r){(function(){var i,o="Expected a function",a="__lodash_hash_undefined__",s="__lodash_placeholder__",l=1/0,u=0/0,c=4294967294,d=2147483647,h=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],f="[object Arguments]",p="[object Array]",g="[object Boolean]",y="[object Date]",m="[object Error]",b="[object Function]",_="[object GeneratorFunction]",w="[object Map]",E="[object Number]",x="[object Object]",C="[object Promise]",S="[object RegExp]",O="[object Set]",M="[object String]",P="[object Symbol]",D="[object WeakMap]",I="[object ArrayBuffer]",j="[object DataView]",N="[object Float32Array]",T="[object Float64Array]",k="[object Int8Array]",A="[object Int16Array]",R="[object Int32Array]",L="[object Uint8Array]",F="[object Uint8ClampedArray]",z="[object Uint16Array]",B="[object Uint32Array]",V=/\b__p \+= '';/g,$=/\b(__p \+=) '' \+/g,U=/(__e\(.*?\)|\b__t\)) \+\n'';/g,H=/&(?:amp|lt|gt|quot|#39);/g,W=/[&<>"']/g,K=RegExp(H.source),G=RegExp(W.source),Y=/<%-([\s\S]+?)%>/g,X=/<%([\s\S]+?)%>/g,Z=/<%=([\s\S]+?)%>/g,Q=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,q=/^\w*$/,J=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ee=/[\\^$.*+?()[\]{}|]/g,et=RegExp(ee.source),en=/^\s+/,er=/\s/,ei=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,eo=/\{\n\/\* \[wrapped with (.+)\] \*/,ea=/,? & /,es=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,el=/[()=,{}\[\]\/\s]/,eu=/\\(\\)?/g,ec=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ed=/\w*$/,eh=/^[-+]0x[0-9a-f]+$/i,ef=/^0b[01]+$/i,ep=/^\[object .+?Constructor\]$/,eg=/^0o[0-7]+$/i,ey=/^(?:0|[1-9]\d*)$/,em=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ev=/($^)/,eb=/['\n\r\u2028\u2029\\]/g,e_="\ud800-\udfff",ew="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",eE="\\u2700-\\u27bf",ex="a-z\\xdf-\\xf6\\xf8-\\xff",eC="A-Z\\xc0-\\xd6\\xd8-\\xde",eS="\\ufe0e\\ufe0f",eO="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",eM="['’]",eP="["+eO+"]",eD="["+ew+"]",eI="["+ex+"]",ej="[^"+e_+eO+"\\d+"+eE+ex+eC+"]",eN="\ud83c[\udffb-\udfff]",eT="[^"+e_+"]",ek="(?:\ud83c[\udde6-\uddff]){2}",eA="[\ud800-\udbff][\udc00-\udfff]",eR="["+eC+"]",eL="\\u200d",eF="(?:"+eI+"|"+ej+")",ez="(?:"+eM+"(?:d|ll|m|re|s|t|ve))?",eB="(?:"+eM+"(?:D|LL|M|RE|S|T|VE))?",eV="(?:"+eD+"|"+eN+")?",e$="["+eS+"]?",eU="(?:"+eL+"(?:"+[eT,ek,eA].join("|")+")"+e$+eV+")*",eH=e$+eV+eU,eW="(?:"+["["+eE+"]",ek,eA].join("|")+")"+eH,eK="(?:"+[eT+eD+"?",eD,ek,eA,"["+e_+"]"].join("|")+")",eG=RegExp(eM,"g"),eY=RegExp(eD,"g"),eX=RegExp(eN+"(?="+eN+")|"+eK+eH,"g"),eZ=RegExp([eR+"?"+eI+"+"+ez+"(?="+[eP,eR,"$"].join("|")+")","(?:"+eR+"|"+ej+")+"+eB+"(?="+[eP,eR+eF,"$"].join("|")+")",eR+"?"+eF+"+"+ez,eR+"+"+eB,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",eW].join("|"),"g"),eQ=RegExp("["+eL+e_+ew+eS+"]"),eq=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,eJ=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],e0=-1,e1={};e1[N]=e1[T]=e1[k]=e1[A]=e1[R]=e1[L]=e1[F]=e1[z]=e1[B]=!0,e1[f]=e1[p]=e1[I]=e1[g]=e1[j]=e1[y]=e1[m]=e1[b]=e1[w]=e1[E]=e1[x]=e1[S]=e1[O]=e1[M]=e1[D]=!1;var e2={};e2[f]=e2[p]=e2[I]=e2[j]=e2[g]=e2[y]=e2[N]=e2[T]=e2[k]=e2[A]=e2[R]=e2[w]=e2[E]=e2[x]=e2[S]=e2[O]=e2[M]=e2[P]=e2[L]=e2[F]=e2[z]=e2[B]=!0,e2[m]=e2[b]=e2[D]=!1;var e3={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},e4=parseFloat,e5=parseInt,e6="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,e8="object"==typeof self&&self&&self.Object===Object&&self,e9=e6||e8||Function("return this")(),e7="object"==typeof n&&n&&!n.nodeType&&n,te=e7&&"object"==typeof e&&e&&!e.nodeType&&e,tt=te&&te.exports===e7,tn=tt&&e6.process,tr=function(){try{var e=te&&te.require&&te.require("util").types;if(e)return e;return tn&&tn.binding&&tn.binding("util")}catch(e){}}(),ti=tr&&tr.isArrayBuffer,to=tr&&tr.isDate,ta=tr&&tr.isMap,ts=tr&&tr.isRegExp,tl=tr&&tr.isSet,tu=tr&&tr.isTypedArray;function tc(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}function td(e,n,r,i){for(var o=-1,a=null==e?0:e.length;++o<a;){var s=e[o];n(i,s,r(s),e)}return i}function th(e,n){for(var r=-1,i=null==e?0:e.length;++r<i&&!1!==n(e[r],r,e););return e}function tf(e,n){for(var r=null==e?0:e.length;r--&&!1!==n(e[r],r,e););return e}function tp(e,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}function tg(e,n){for(var r=-1,i=null==e?0:e.length,o=0,a=[];++r<i;){var s=e[r];n(s,r,e)&&(a[o++]=s)}return a}function ty(e,n){return!!(null==e?0:e.length)&&tO(e,n,0)>-1}function tm(e,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;)if(r(n,e[i]))return!0;return!1}function tv(e,n){for(var r=-1,i=null==e?0:e.length,o=Array(i);++r<i;)o[r]=n(e[r],r,e);return o}function tb(e,n){for(var r=-1,i=n.length,o=e.length;++r<i;)e[o+r]=n[r];return e}function t_(e,n,r,i){var o=-1,a=null==e?0:e.length;for(i&&a&&(r=e[++o]);++o<a;)r=n(r,e[o],o,e);return r}function tw(e,n,r,i){var o=null==e?0:e.length;for(i&&o&&(r=e[--o]);o--;)r=n(r,e[o],o,e);return r}function tE(e,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}var tx=tI("length");function tC(e,n,r){var i;return r(e,function(e,r,o){if(n(e,r,o))return i=r,!1}),i}function tS(e,n,r,i){for(var o=e.length,a=r+(i?1:-1);i?a--:++a<o;)if(n(e[a],a,e))return a;return -1}function tO(e,n,r){return n==n?function(e,n,r){for(var i=r-1,o=e.length;++i<o;)if(e[i]===n)return i;return -1}(e,n,r):tS(e,tP,r)}function tM(e,n,r,i){for(var o=r-1,a=e.length;++o<a;)if(i(e[o],n))return o;return -1}function tP(e){return e!=e}function tD(e,n){var r=null==e?0:e.length;return r?tT(e,n)/r:u}function tI(e){return function(n){return null==n?i:n[e]}}function tj(e){return function(n){return null==e?i:e[n]}}function tN(e,n,r,i,o){return o(e,function(e,o,a){r=i?(i=!1,e):n(r,e,o,a)}),r}function tT(e,n){for(var r,o=-1,a=e.length;++o<a;){var s=n(e[o]);i!==s&&(r=i===r?s:r+s)}return r}function tk(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}function tA(e){return e?e.slice(0,tQ(e)+1).replace(en,""):e}function tR(e){return function(n){return e(n)}}function tL(e,n){return tv(n,function(n){return e[n]})}function tF(e,n){return e.has(n)}function tz(e,n){for(var r=-1,i=e.length;++r<i&&tO(n,e[r],0)>-1;);return r}function tB(e,n){for(var r=e.length;r--&&tO(n,e[r],0)>-1;);return r}var tV=tj({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),t$=tj({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function tU(e){return"\\"+e3[e]}function tH(e){return eQ.test(e)}function tW(e){var n=-1,r=Array(e.size);return e.forEach(function(e,i){r[++n]=[i,e]}),r}function tK(e,n){return function(r){return e(n(r))}}function tG(e,n){for(var r=-1,i=e.length,o=0,a=[];++r<i;){var l=e[r];(l===n||l===s)&&(e[r]=s,a[o++]=r)}return a}function tY(e){var n=-1,r=Array(e.size);return e.forEach(function(e){r[++n]=e}),r}function tX(e){return tH(e)?function(e){for(var n=eX.lastIndex=0;eX.test(e);)++n;return n}(e):tx(e)}function tZ(e){return tH(e)?function(e){return e.match(eX)||[]}(e):e.split("")}function tQ(e){for(var n=e.length;n--&&er.test(e.charAt(n)););return n}var tq=tj({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),tJ=function e(n){var r,er,e_,ew,eE=(n=null==n?e9:tJ.defaults(e9.Object(),n,tJ.pick(e9,eJ))).Array,ex=n.Date,eC=n.Error,eS=n.Function,eO=n.Math,eM=n.Object,eP=n.RegExp,eD=n.String,eI=n.TypeError,ej=eE.prototype,eN=eS.prototype,eT=eM.prototype,ek=n["__core-js_shared__"],eA=eN.toString,eR=eT.hasOwnProperty,eL=0;var eF=(r=/[^.]+$/.exec(ek&&ek.keys&&ek.keys.IE_PROTO||""),r?"Symbol(src)_1."+r:""),ez=eT.toString,eB=eA.call(eM),eV=e9._,e$=eP("^"+eA.call(eR).replace(ee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),eU=tt?n.Buffer:i,eH=n.Symbol,eW=n.Uint8Array,eK=eU?eU.allocUnsafe:i,eX=tK(eM.getPrototypeOf,eM),eQ=eM.create,e3=eT.propertyIsEnumerable,e6=ej.splice,e8=eH?eH.isConcatSpreadable:i,e7=eH?eH.iterator:i,te=eH?eH.toStringTag:i,tn=function(){try{var e=iC(eM,"defineProperty");return e({},"",{}),e}catch(e){}}(),tr=n.clearTimeout!==e9.clearTimeout&&n.clearTimeout,tx=ex&&ex.now!==e9.Date.now&&ex.now,tj=n.setTimeout!==e9.setTimeout&&n.setTimeout,t0=eO.ceil,t1=eO.floor,t2=eM.getOwnPropertySymbols,t3=eU?eU.isBuffer:i,t4=n.isFinite,t5=ej.join,t6=tK(eM.keys,eM),t8=eO.max,t9=eO.min,t7=ex.now,ne=n.parseInt,nt=eO.random,nn=ej.reverse,nr=iC(n,"DataView"),ni=iC(n,"Map"),no=iC(n,"Promise"),na=iC(n,"Set"),ns=iC(n,"WeakMap"),nl=iC(eM,"create"),nu=ns&&new ns,nc={},nd=iZ(nr),nh=iZ(ni),nf=iZ(no),np=iZ(na),ng=iZ(ns),ny=eH?eH.prototype:i,nm=ny?ny.valueOf:i,nv=ny?ny.toString:i;function nb(e){if(o3(e)&&!oK(e)&&!(e instanceof nx)){if(e instanceof nE)return e;if(eR.call(e,"__wrapped__"))return iQ(e)}return new nE(e)}var n_=function(){function e(){}return function(n){if(!o2(n))return{};if(eQ)return eQ(n);e.prototype=n;var r=new e;return e.prototype=i,r}}();function nw(){}function nE(e,n){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=i}function nx(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}nb.templateSettings={escape:Y,evaluate:X,interpolate:Z,variable:"",imports:{_:nb}},nb.prototype=nw.prototype,nb.prototype.constructor=nb,nE.prototype=n_(nw.prototype),nE.prototype.constructor=nE;function nC(e){var n=-1,r=null==e?0:e.length;for(this.clear();++n<r;){var i=e[n];this.set(i[0],i[1])}}nx.prototype=n_(nw.prototype),nx.prototype.constructor=nx;function nS(e){var n=-1,r=null==e?0:e.length;for(this.clear();++n<r;){var i=e[n];this.set(i[0],i[1])}}nC.prototype.clear=function(){this.__data__=nl?nl(null):{},this.size=0},nC.prototype.delete=function(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n},nC.prototype.get=function(e){var n=this.__data__;if(nl){var r=n[e];return r===a?i:r}return eR.call(n,e)?n[e]:i},nC.prototype.has=function(e){var n=this.__data__;return nl?i!==n[e]:eR.call(n,e)},nC.prototype.set=function(e,n){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=nl&&i===n?a:n,this};function nO(e){var n=-1,r=null==e?0:e.length;for(this.clear();++n<r;){var i=e[n];this.set(i[0],i[1])}}nS.prototype.clear=function(){this.__data__=[],this.size=0},nS.prototype.delete=function(e){var n=this.__data__,r=nA(n,e);return!(r<0)&&(r==n.length-1?n.pop():e6.call(n,r,1),--this.size,!0)},nS.prototype.get=function(e){var n=this.__data__,r=nA(n,e);return r<0?i:n[r][1]},nS.prototype.has=function(e){return nA(this.__data__,e)>-1},nS.prototype.set=function(e,n){var r=this.__data__,i=nA(r,e);return i<0?(++this.size,r.push([e,n])):r[i][1]=n,this};function nM(e){var n=-1,r=null==e?0:e.length;for(this.__data__=new nO;++n<r;)this.add(e[n])}nO.prototype.clear=function(){this.size=0,this.__data__={hash:new nC,map:new(ni||nS),string:new nC}},nO.prototype.delete=function(e){var n=iE(this,e).delete(e);return this.size-=n?1:0,n},nO.prototype.get=function(e){return iE(this,e).get(e)},nO.prototype.has=function(e){return iE(this,e).has(e)},nO.prototype.set=function(e,n){var r=iE(this,e),i=r.size;return r.set(e,n),this.size+=r.size==i?0:1,this};function nP(e){var n=this.__data__=new nS(e);this.size=n.size}nM.prototype.add=nM.prototype.push=function(e){return this.__data__.set(e,a),this},nM.prototype.has=function(e){return this.__data__.has(e)};function nD(e,n){var r=oK(e),i=!r&&oW(e),o=!r&&!i&&oZ(e),a=!r&&!i&&!o&&at(e),s=r||i||o||a,l=s?tk(e.length,eD):[],u=l.length;for(var c in e)(n||eR.call(e,c))&&!(s&&("length"==c||o&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ij(c,u)))&&l.push(c);return l}function nI(e){var n=e.length;return n?e[ry(0,n-1)]:i}function nj(e,n){return iG(rZ(e),nB(n,0,e.length))}function nN(e){return iG(rZ(e))}function nT(e,n,r){(i!==r&&!o$(e[n],r)||i===r&&!(n in e))&&nF(e,n,r)}function nk(e,n,r){var o=e[n];(!(eR.call(e,n)&&o$(o,r))||i===r&&!(n in e))&&nF(e,n,r)}function nA(e,n){for(var r=e.length;r--;)if(o$(e[r][0],n))return r;return -1}function nR(e,n,r,i){return nW(e,function(e,o,a){n(i,e,r(e),a)}),i}function nL(e,n){return e&&rQ(n,ax(n),e)}nP.prototype.clear=function(){this.__data__=new nS,this.size=0},nP.prototype.delete=function(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r},nP.prototype.get=function(e){return this.__data__.get(e)},nP.prototype.has=function(e){return this.__data__.has(e)},nP.prototype.set=function(e,n){var r=this.__data__;if(r instanceof nS){var i=r.__data__;if(!ni||i.length<199)return i.push([e,n]),this.size=++r.size,this;r=this.__data__=new nO(i)}return r.set(e,n),this.size=r.size,this};function nF(e,n,r){"__proto__"==n&&tn?tn(e,n,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[n]=r}function nz(e,n){for(var r=-1,o=n.length,a=eE(o),s=null==e;++r<o;)a[r]=s?i:av(e,n[r]);return a}function nB(e,n,r){return e==e&&(i!==r&&(e=e<=r?e:r),i!==n&&(e=e>=n?e:n)),e}function nV(e,n,r,o,a,s){var l,u=1&n,c=2&n,d=4&n;if(r&&(l=a?r(e,o,a,s):r(e)),i!==l)return l;if(!o2(e))return e;var h=oK(e);if(h){if(l=function(e){var n=e.length,r=new e.constructor(n);return n&&"string"==typeof e[0]&&eR.call(e,"index")&&(r.index=e.index,r.input=e.input),r}(e),!u)return rZ(e,l)}else{var p,m,C=iM(e),D=C==b||C==_;if(oZ(e))return rH(e,u);if(C==x||C==f||D&&!a){if(l=c||D?{}:iD(e),!u){;return c?function(e,n){return rQ(e,iO(e),n)}(e,(p=l,m=e,p&&rQ(m,aC(m),p))):function(e,n){return rQ(e,iS(e),n)}(e,nL(l,e))}}else{if(!e2[C])return a?e:{};l=function(e,n,r){var i,o,a,s,l,u=e.constructor;switch(n){case I:return rW(e);case g:case y:return new u(+e);case j:;return i=e,o=r?rW(i.buffer):i.buffer,new i.constructor(o,i.byteOffset,i.byteLength);case N:case T:case k:case A:case R:case L:case F:case z:case B:return rK(e,r);case w:return new u;case E:case M:return new u(e);case S:;return s=new(a=e).constructor(a.source,ed.exec(a)),s.lastIndex=a.lastIndex,s;case O:return new u;case P:;return l=e,nm?eM(nm.call(l)):{}}}(e,C,u)}}s||(s=new nP);var V=s.get(e);if(V)return V;s.set(e,l),o9(e)?e.forEach(function(i){l.add(nV(i,n,r,i,e,s))}):o4(e)&&e.forEach(function(i,o){l.set(o,nV(i,n,r,o,e,s))});var $=d?c?im:iy:c?aC:ax,U=h?i:$(e);return th(U||e,function(i,o){U&&(i=e[o=i]),nk(l,o,nV(i,n,r,o,e,s))}),l}function n$(e,n,r){var o=r.length;if(null==e)return!o;for(e=eM(e);o--;){var a=r[o],s=n[a],l=e[a];if(i===l&&!(a in e)||!s(l))return!1}return!0}function nU(e,n,r){if("function"!=typeof e)throw new eI(o);return iU(function(){e.apply(i,r)},n)}function nH(e,n,r,i){var o=-1,a=ty,s=!0,l=e.length,u=[],c=n.length;if(!l)return u;r&&(n=tv(n,tR(r))),i?(a=tm,s=!1):n.length>=200&&(a=tF,s=!1,n=new nM(n));t:for(;++o<l;){var d=e[o],h=null==r?d:r(d);if(d=i||0!==d?d:0,s&&h==h){for(var f=c;f--;)if(n[f]===h)continue t;u.push(d)}else!a(n,h,i)&&u.push(d)}return u}var nW=r0(nJ),nK=r0(n0,!0);function nG(e,n){var r=!0;return nW(e,function(e,i,o){return r=!!n(e,i,o)}),r}function nY(e,n,r){for(var o=-1,a=e.length;++o<a;){var s=e[o],l=n(s);if(null!=l&&(i===u?l==l&&!ae(l):r(l,u)))var u=l,c=s}return c}function nX(e,n){var r=[];return nW(e,function(e,i,o){n(e,i,o)&&r.push(e)}),r}function nZ(e,n,r,i,o){var a=-1,s=e.length;for(r||(r=iI),o||(o=[]);++a<s;){var l=e[a];n>0&&r(l)?n>1?nZ(l,n-1,r,i,o):tb(o,l):!i&&(o[o.length]=l)}return o}var nQ=r1(),nq=r1(!0);function nJ(e,n){return e&&nQ(e,n,ax)}function n0(e,n){return e&&nq(e,n,ax)}function n1(e,n){return tg(n,function(n){return oJ(e[n])})}function n2(e,n){n=rV(n,e);for(var r=0,o=n.length;null!=e&&r<o;)e=e[iX(n[r++])];return r&&r==o?e:i}function n3(e,n,r){var i=n(e);return oK(e)?i:tb(i,r(e))}function n4(e){return null==e?i===e?"[object Undefined]":"[object Null]":te&&te in eM(e)?function(e){var n=eR.call(e,te),r=e[te];try{e[te]=i;var o=!0}catch(e){}var a=ez.call(e);return o&&(n?e[te]=r:delete e[te]),a}(e):function(e){return ez.call(e)}(e)}function n5(e,n){return e>n}function n6(e,n){return null!=e&&eR.call(e,n)}function n8(e,n){return null!=e&&n in eM(e)}function n9(e,n,r){for(var o=r?tm:ty,a=e[0].length,s=e.length,l=s,u=eE(s),c=1/0,d=[];l--;){var h=e[l];l&&n&&(h=tv(h,tR(n))),c=t9(h.length,c),u[l]=!r&&(n||a>=120&&h.length>=120)?new nM(l&&h):i}h=e[0];var f=-1,p=u[0];t:for(;++f<a&&d.length<c;){var g=h[f],y=n?n(g):g;if(g=r||0!==g?g:0,!(p?tF(p,y):o(d,y,r))){for(l=s;--l;){var m=u[l];if(!(m?tF(m,y):o(e[l],y,r)))continue t}p&&p.push(y),d.push(g)}}return d}function n7(e,n,r){n=rV(n,e);var o=null==(e=iB(e,n))?e:e[iX(i9(n))];return null==o?i:tc(o,e,r)}function re(e){return o3(e)&&n4(e)==f}function rt(e,n,r,o,a){return e===n||(null!=e&&null!=n&&(o3(e)||o3(n))?function(e,n,r,o,a,s){var l=oK(e),u=oK(n),c=l?p:iM(e),d=u?p:iM(n);c=c==f?x:c,d=d==f?x:d;var h=c==x,b=d==x,_=c==d;if(_&&oZ(e)){if(!oZ(n))return!1;l=!0,h=!1}if(_&&!h)return s||(s=new nP),l||at(e)?ip(e,n,r,o,a,s):function(e,n,r,i,o,a,s){switch(r){case j:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)break;e=e.buffer,n=n.buffer;case I:if(e.byteLength!=n.byteLength||!a(new eW(e),new eW(n)))break;return!0;case g:case y:case E:return o$(+e,+n);case m:return e.name==n.name&&e.message==n.message;case S:case M:return e==n+"";case w:var l=tW;case O:var u=1&i;if(l||(l=tY),e.size!=n.size&&!u)break;var c=s.get(e);if(c)return c==n;i|=2,s.set(e,n);var d=ip(l(e),l(n),i,o,a,s);return s.delete(e),d;case P:if(nm)return nm.call(e)==nm.call(n)}return!1}(e,n,c,r,o,a,s);if(!(1&r)){var C=h&&eR.call(e,"__wrapped__"),D=b&&eR.call(n,"__wrapped__");if(C||D){var N=C?e.value():e,T=D?n.value():n;return s||(s=new nP),a(N,T,r,o,s)}}return!!_&&(s||(s=new nP),function(e,n,r,o,a,s){var l=1&r,u=iy(e),c=u.length;if(c!=iy(n).length&&!l)return!1;for(var d=c;d--;){var h=u[d];if(!(l?h in n:eR.call(n,h)))return!1}var f=s.get(e),p=s.get(n);if(f&&p)return f==n&&p==e;var g=!0;s.set(e,n),s.set(n,e);for(var y=l;++d<c;){var m=e[h=u[d]],b=n[h];if(o)var _=l?o(b,m,h,n,e,s):o(m,b,h,e,n,s);if(!(i===_?m===b||a(m,b,r,o,s):_)){g=!1;break}y||(y="constructor"==h)}if(g&&!y){var w=e.constructor,E=n.constructor;w!=E&&"constructor"in e&&"constructor"in n&&!("function"==typeof w&&w instanceof w&&"function"==typeof E&&E instanceof E)&&(g=!1)}return s.delete(e),s.delete(n),g}(e,n,r,o,a,s))}(e,n,r,o,rt,a):e!=e&&n!=n)}function rn(e,n,r,o){var a=r.length,s=a,l=!o;if(null==e)return!s;for(e=eM(e);a--;){var u=r[a];if(l&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++a<s;){var c=(u=r[a])[0],d=e[c],h=u[1];if(l&&u[2]){if(i===d&&!(c in e))return!1}else{var f=new nP;if(o)var p=o(d,h,c,e,n,f);if(!(i===p?rt(h,d,3,o,f):p))return!1}}return!0}function rr(e){return!(!o2(e)||function(e){return!!eF&&eF in e}(e))&&(oJ(e)?e$:ep).test(iZ(e))}function ri(e){return"function"==typeof e?e:null==e?aX:"object"==typeof e?oK(e)?ru(e[0],e[1]):rl(e):a4(e)}function ro(e){if(!iR(e))return t6(e);var n=[];for(var r in eM(e))eR.call(e,r)&&"constructor"!=r&&n.push(r);return n}function ra(e,n){return e<n}function rs(e,n){var r=-1,i=oY(e)?eE(e.length):[];return nW(e,function(e,o,a){i[++r]=n(e,o,a)}),i}function rl(e){var n=ix(e);return 1==n.length&&n[0][2]?iF(n[0][0],n[0][1]):function(r){return r===e||rn(r,e,n)}}function ru(e,n){return iT(e)&&function(e){return e==e&&!o2(e)}(n)?iF(iX(e),n):function(r){var o=av(r,e);return i===o&&o===n?ab(r,e):rt(n,o,3)}}function rc(e,n,r,o,a){e!==n&&nQ(n,function(s,l){if(a||(a=new nP),o2(s))(function(e,n,r,o,a,s,l){var u=iV(e,r),c=iV(n,r),d=l.get(c);if(d){nT(e,r,d);return}var h=s?s(u,c,r+"",e,n,l):i,f=i===h;if(f){var p=oK(c),g=!p&&oZ(c),y=!p&&!g&&at(c);h=c,p||g||y?oK(u)?h=u:oX(u)?h=rZ(u):g?(f=!1,h=rH(c,!0)):y?(f=!1,h=rK(c,!0)):h=[]:o6(c)||oW(c)?(h=u,oW(u)?h=au(u):(!o2(u)||oJ(u))&&(h=iD(c))):f=!1}f&&(l.set(c,h),a(h,c,o,s,l),l.delete(c)),nT(e,r,h)})(e,n,l,r,rc,o,a);else{var u=o?o(iV(e,l),s,l+"",e,n,a):i;i===u&&(u=s),nT(e,l,u)}},aC)}function rd(e,n){var r=e.length;if(r)return ij(n+=n<0?r:0,r)?e[n]:i}function rh(e,n,r){n=n.length?tv(n,function(e){return oK(e)?function(n){return n2(n,1===e.length?e[0]:e)}:e}):[aX];var i=-1;return n=tv(n,tR(iw())),function(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}(rs(e,function(e,r,o){return{criteria:tv(n,function(n){return n(e)}),index:++i,value:e}}),function(e,n){return function(e,n,r){for(var i=-1,o=e.criteria,a=n.criteria,s=o.length,l=r.length;++i<s;){var u=rG(o[i],a[i]);if(u){if(i>=l)return u;return u*("desc"==r[i]?-1:1)}}return e.index-n.index}(e,n,r)})}function rf(e,n,r){for(var i=-1,o=n.length,a={};++i<o;){var s=n[i],l=n2(e,s);r(l,s)&&rw(a,rV(s,e),l)}return a}function rp(e,n,r,i){var o=i?tM:tO,a=-1,s=n.length,l=e;for(e===n&&(n=rZ(n)),r&&(l=tv(e,tR(r)));++a<s;){for(var u=0,c=n[a],d=r?r(c):c;(u=o(l,d,u,i))>-1;)l!==e&&e6.call(l,u,1),e6.call(e,u,1)}return e}function rg(e,n){for(var r=e?n.length:0,i=r-1;r--;){var o=n[r];if(r==i||o!==a){var a=o;ij(o)?e6.call(e,o,1):rT(e,o)}}return e}function ry(e,n){return e+t1(nt()*(n-e+1))}function rm(e,n){var r="";if(!e||n<1||n>9007199254740991)return r;do n%2&&(r+=e),(n=t1(n/2))&&(e+=e);while(n);return r}function rv(e,n){return iH(iz(e,n,aX),e+"")}function rb(e){return nI(aN(e))}function r_(e,n){var r=aN(e);return iG(r,nB(n,0,r.length))}function rw(e,n,r,o){if(!o2(e))return e;n=rV(n,e);for(var a=-1,s=n.length,l=s-1,u=e;null!=u&&++a<s;){var c=iX(n[a]),d=r;if("__proto__"===c||"constructor"===c||"prototype"===c)break;if(a!=l){var h=u[c];d=o?o(h,c,u):i,i===d&&(d=o2(h)?h:ij(n[a+1])?[]:{})}nk(u,c,d),u=u[c]}return e}var rE=nu?function(e,n){return nu.set(e,n),e}:aX,rx=tn?function(e,n){return tn(e,"toString",{configurable:!0,enumerable:!1,value:aK(n),writable:!0})}:aX;function rC(e){return iG(aN(e))}function rS(e,n,r){var i=-1,o=e.length;n<0&&(n=-n>o?0:o+n),(r=r>o?o:r)<0&&(r+=o),o=n>r?0:r-n>>>0,n>>>=0;for(var a=eE(o);++i<o;)a[i]=e[i+n];return a}function rO(e,n){var r;return nW(e,function(e,i,o){return!(r=n(e,i,o))}),!!r}function rM(e,n,r){var i=0,o=null==e?i:e.length;if("number"==typeof n&&n==n&&o<=d){for(;i<o;){var a=i+o>>>1,s=e[a];null!==s&&!ae(s)&&(r?s<=n:s<n)?i=a+1:o=a}return o}return rP(e,n,aX,r)}function rP(e,n,r,o){var a=0,s=null==e?0:e.length;if(0===s)return 0;for(var l=(n=r(n))!=n,u=null===n,d=ae(n),h=i===n;a<s;){var f=t1((a+s)/2),p=r(e[f]),g=i!==p,y=null===p,m=p==p,b=ae(p);if(l)var _=o||m;else _=h?m&&(o||g):u?m&&g&&(o||!y):d?m&&g&&!y&&(o||!b):!y&&!b&&(o?p<=n:p<n);_?a=f+1:s=f}return t9(s,c)}function rD(e,n){for(var r=-1,i=e.length,o=0,a=[];++r<i;){var s=e[r],l=n?n(s):s;if(!r||!o$(l,u)){var u=l;a[o++]=0===s?0:s}}return a}function rI(e){return"number"==typeof e?e:ae(e)?u:+e}function rj(e){if("string"==typeof e)return e;if(oK(e))return tv(e,rj)+"";if(ae(e))return nv?nv.call(e):"";var n=e+"";return"0"==n&&1/e==-l?"-0":n}function rN(e,n,r){var i=-1,o=ty,a=e.length,s=!0,l=[],u=l;if(r)s=!1,o=tm;else if(a>=200){var c=n?null:is(e);if(c)return tY(c);s=!1,o=tF,u=new nM}else u=n?[]:l;t:for(;++i<a;){var d=e[i],h=n?n(d):d;if(d=r||0!==d?d:0,s&&h==h){for(var f=u.length;f--;)if(u[f]===h)continue t;n&&u.push(h),l.push(d)}else!o(u,h,r)&&(u!==l&&u.push(h),l.push(d))}return l}function rT(e,n){return n=rV(n,e),null==(e=iB(e,n))||delete e[iX(i9(n))]}function rk(e,n,r,i){return rw(e,n,r(n2(e,n)),i)}function rA(e,n,r,i){for(var o=e.length,a=i?o:-1;(i?a--:++a<o)&&n(e[a],a,e););return r?rS(e,i?0:a,i?a+1:o):rS(e,i?a+1:0,i?o:a)}function rR(e,n){var r=e;return r instanceof nx&&(r=r.value()),t_(n,function(e,n){return n.func.apply(n.thisArg,tb([e],n.args))},r)}function rL(e,n,r){var i=e.length;if(i<2)return i?rN(e[0]):[];for(var o=-1,a=eE(i);++o<i;){for(var s=e[o],l=-1;++l<i;)l!=o&&(a[o]=nH(a[o]||s,e[l],n,r))}return rN(nZ(a,1),n,r)}function rF(e,n,r){for(var o=-1,a=e.length,s=n.length,l={};++o<a;){var u=o<s?n[o]:i;r(l,e[o],u)}return l}function rz(e){return oX(e)?e:[]}function rB(e){return"function"==typeof e?e:aX}function rV(e,n){return oK(e)?e:iT(e,n)?[e]:iY(ac(e))}function r$(e,n,r){var o=e.length;return r=i===r?o:r,!n&&r>=o?e:rS(e,n,r)}var rU=tr||function(e){return e9.clearTimeout(e)};function rH(e,n){if(n)return e.slice();var r=e.length,i=eK?eK(r):new e.constructor(r);return e.copy(i),i}function rW(e){var n=new e.constructor(e.byteLength);return new eW(n).set(new eW(e)),n}function rK(e,n){var r=n?rW(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function rG(e,n){if(e!==n){var r=i!==e,o=null===e,a=e==e,s=ae(e),l=i!==n,u=null===n,c=n==n,d=ae(n);if(!u&&!d&&!s&&e>n||s&&l&&c&&!u&&!d||o&&l&&c||!r&&c||!a)return 1;if(!o&&!s&&!d&&e<n||d&&r&&a&&!o&&!s||u&&r&&a||!l&&a||!c)return -1}return 0}function rY(e,n,r,i){for(var o=-1,a=e.length,s=r.length,l=-1,u=n.length,c=t8(a-s,0),d=eE(u+c),h=!i;++l<u;)d[l]=n[l];for(;++o<s;)(h||o<a)&&(d[r[o]]=e[o]);for(;c--;)d[l++]=e[o++];return d}function rX(e,n,r,i){for(var o=-1,a=e.length,s=-1,l=r.length,u=-1,c=n.length,d=t8(a-l,0),h=eE(d+c),f=!i;++o<d;)h[o]=e[o];for(var p=o;++u<c;)h[p+u]=n[u];for(;++s<l;)(f||o<a)&&(h[p+r[s]]=e[o++]);return h}function rZ(e,n){var r=-1,i=e.length;for(n||(n=eE(i));++r<i;)n[r]=e[r];return n}function rQ(e,n,r,o){var a=!r;r||(r={});for(var s=-1,l=n.length;++s<l;){var u=n[s],c=o?o(r[u],e[u],u,r,e):i;i===c&&(c=e[u]),a?nF(r,u,c):nk(r,u,c)}return r}function rq(e,n){return function(r,i){var o=oK(r)?td:nR,a=n?n():{};return o(r,e,iw(i,2),a)}}function rJ(e){return rv(function(n,r){var o=-1,a=r.length,s=a>1?r[a-1]:i,l=a>2?r[2]:i;for(s=e.length>3&&"function"==typeof s?(a--,s):i,l&&iN(r[0],r[1],l)&&(s=a<3?i:s,a=1),n=eM(n);++o<a;){var u=r[o];u&&e(n,u,o,s)}return n})}function r0(e,n){return function(r,i){if(null==r)return r;if(!oY(r))return e(r,i);for(var o=r.length,a=n?o:-1,s=eM(r);(n?a--:++a<o)&&!1!==i(s[a],a,s););return r}}function r1(e){return function(n,r,i){for(var o=-1,a=eM(n),s=i(n),l=s.length;l--;){var u=s[e?l:++o];if(!1===r(a[u],u,a))break}return n}}function r2(e){return function(n){var r=tH(n=ac(n))?tZ(n):i,o=r?r[0]:n.charAt(0),a=r?r$(r,1).join(""):n.slice(1);return o[e]()+a}}function r3(e){return function(n){return t_(aU(aA(n).replace(eG,"")),e,"")}}function r4(e){return function(){var n=arguments;switch(n.length){case 0:return new e;case 1:return new e(n[0]);case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[1],n[2]);case 4:return new e(n[0],n[1],n[2],n[3]);case 5:return new e(n[0],n[1],n[2],n[3],n[4]);case 6:return new e(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new e(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var r=n_(e.prototype),i=e.apply(r,n);return o2(i)?i:r}}function r5(e){return function(n,r,o){var a=eM(n);if(!oY(n)){var s=iw(r,3);n=ax(n),r=function(e){return s(a[e],e,a)}}var l=e(n,r,o);return l>-1?a[s?n[l]:l]:i}}function r6(e){return ig(function(n){var r=n.length,a=r,s=nE.prototype.thru;for(e&&n.reverse();a--;){var l=n[a];if("function"!=typeof l)throw new eI(o);if(s&&!u&&"wrapper"==ib(l))var u=new nE([],!0)}for(a=u?a:r;++a<r;){var c=ib(l=n[a]),d="wrapper"==c?iv(l):i;u=d&&ik(d[0])&&424==d[1]&&!d[4].length&&1==d[9]?u[ib(d[0])].apply(u,d[3]):1==l.length&&ik(l)?u[c]():u.thru(l)}return function(){var e=arguments,i=e[0];if(u&&1==e.length&&oK(i))return u.plant(i).value();for(var o=0,a=r?n[o].apply(this,e):i;++o<r;)a=n[o].call(this,a);return a}})}function r8(e,n,r,o,a,s,l,u,c,d){var h=128&n,f=1&n,p=2&n,g=24&n,y=512&n,m=p?i:r4(e);return function b(){for(var _=arguments.length,w=eE(_),E=_;E--;)w[E]=arguments[E];if(g)var x=i_(b),C=function(e,n){for(var r=e.length,i=0;r--;)e[r]===n&&++i;return i}(w,x);if(o&&(w=rY(w,o,a,g)),s&&(w=rX(w,s,l,g)),_-=C,g&&_<d){var S=tG(w,x);return io(e,n,r8,b.placeholder,r,w,S,u,c,d-_)}var O=f?r:this,M=p?O[e]:e;return _=w.length,u?w=function(e,n){for(var r=e.length,o=t9(n.length,r),a=rZ(e);o--;){var s=n[o];e[o]=ij(s,r)?a[s]:i}return e}(w,u):y&&_>1&&w.reverse(),h&&c<_&&(w.length=c),this&&this!==e9&&this instanceof b&&(M=m||r4(M)),M.apply(O,w)}}function r9(e,n){return function(r,i){var o,a,s,l;return o=r,a=e,s=n(i),l={},nJ(o,function(e,n,r){a(l,s(e),n,r)}),l}}function r7(e,n){return function(r,o){var a;if(i===r&&i===o)return n;if(i!==r&&(a=r),i!==o){if(i===a)return o;"string"==typeof r||"string"==typeof o?(r=rj(r),o=rj(o)):(r=rI(r),o=rI(o)),a=e(r,o)}return a}}function ie(e){return ig(function(n){return n=tv(n,tR(iw())),rv(function(r){var i=this;return e(n,function(e){return tc(e,i,r)})})})}function it(e,n){var r=(n=i===n?" ":rj(n)).length;if(r<2)return r?rm(n,e):n;var o=rm(n,t0(e/tX(n)));return tH(n)?r$(tZ(o),0,e).join(""):o.slice(0,e)}function ir(e){return function(n,r,o){return o&&"number"!=typeof o&&iN(n,r,o)&&(r=o=i),n=ao(n),i===r?(r=n,n=0):r=ao(r),o=i===o?n<r?1:-1:ao(o),function(e,n,r,i){for(var o=-1,a=t8(t0((n-e)/(r||1)),0),s=eE(a);a--;)s[i?a:++o]=e,e+=r;return s}(n,r,o,e)}}function ii(e){return function(n,r){return!("string"==typeof n&&"string"==typeof r)&&(n=al(n),r=al(r)),e(n,r)}}function io(e,n,r,o,a,s,l,u,c,d){var h=8&n,f=h?l:i,p=h?i:l,g=h?s:i,y=h?i:s;n|=h?32:64,!(4&(n&=~(h?64:32)))&&(n&=-4);var m=[e,n,a,g,f,y,p,u,c,d],b=r.apply(i,m);return ik(e)&&i$(b,m),b.placeholder=o,iW(b,e,n)}function ia(e){var n=eO[e];return function(e,r){if(e=al(e),(r=null==r?0:t9(aa(r),292))&&t4(e)){var i=(ac(e)+"e").split("e");return+((i=(ac(n(i[0]+"e"+(+i[1]+r)))+"e").split("e"))[0]+"e"+(+i[1]-r))}return n(e)}}var is=na&&1/tY(new na([,-0]))[1]==l?function(e){return new na(e)}:a0;function il(e){return function(n){var r,i,o,a,s=iM(n);if(s==w)return tW(n);if(s==O){;return i=-1,o=Array((r=n).size),r.forEach(function(e){o[++i]=[e,e]}),o}return a=n,tv(e(n),function(e){return[e,a[e]]})}}function iu(e,n,r,a,l,u,c,d){var h=2&n;if(!h&&"function"!=typeof e)throw new eI(o);var f=a?a.length:0;if(!f&&(n&=-97,a=l=i),c=i===c?c:t8(aa(c),0),d=i===d?d:aa(d),f-=l?l.length:0,64&n){var p=a,g=l;a=l=i}var y=h?i:iv(e),m=[e,n,r,a,l,p,g,u,c,d];if(y&&function(e,n){var r=e[1],i=n[1],o=r|i,a=o<131,l=128==i&&8==r||128==i&&256==r&&e[7].length<=n[8]||384==i&&n[7].length<=n[8]&&8==r;if(!(a||l))return;1&i&&(e[2]=n[2],o|=1&r?0:4);var u=n[3];if(u){var c=e[3];e[3]=c?rY(c,u,n[4]):u,e[4]=c?tG(e[3],s):n[4]}(u=n[5])&&(c=e[5],e[5]=c?rX(c,u,n[6]):u,e[6]=c?tG(e[5],s):n[6]),(u=n[7])&&(e[7]=u),128&i&&(e[8]=null==e[8]?n[8]:t9(e[8],n[8])),null==e[9]&&(e[9]=n[9]),e[0]=n[0],e[1]=o}(m,y),e=m[0],n=m[1],r=m[2],a=m[3],l=m[4],!(d=m[9]=i===m[9]?h?0:e.length:t8(m[9]-f,0))&&24&n&&(n&=-25),n&&1!=n){;if(8==n||16==n){;b=e,_=n,w=d,E=r4(b),k=function e(){for(var n=arguments.length,r=eE(n),o=n,a=i_(e);o--;)r[o]=arguments[o];var s=n<3&&r[0]!==a&&r[n-1]!==a?[]:tG(r,a);return(n-=s.length)<w?io(b,_,r8,e.placeholder,i,r,s,i,i,w-n):tc(this&&this!==e9&&this instanceof e?E:b,this,r)}}else if(32!=n&&33!=n||l.length)k=r8.apply(i,m);else{;x=e,C=n,S=r,O=a,M=1&C,P=r4(x),k=function e(){for(var n=-1,r=arguments.length,i=-1,o=O.length,a=eE(o+r),s=this&&this!==e9&&this instanceof e?P:x;++i<o;)a[i]=O[i];for(;r--;)a[i++]=arguments[++n];return tc(s,M?S:this,a)}}}else{var b,_,w,E,x,C,S,O,M,P,D,I,j,N,T,k=(D=e,I=n,j=r,N=1&I,T=r4(D),function e(){return(this&&this!==e9&&this instanceof e?T:D).apply(N?j:this,arguments)})}return iW((y?rE:i$)(k,m),e,n)}function ic(e,n,r,o){return i===e||o$(e,eT[r])&&!eR.call(o,r)?n:e}function id(e,n,r,o,a,s){return o2(e)&&o2(n)&&(s.set(n,e),rc(e,n,i,id,s),s.delete(n)),e}function ih(e){return o6(e)?i:e}function ip(e,n,r,o,a,s){var l=1&r,u=e.length,c=n.length;if(u!=c&&!(l&&c>u))return!1;var d=s.get(e),h=s.get(n);if(d&&h)return d==n&&h==e;var f=-1,p=!0,g=2&r?new nM:i;for(s.set(e,n),s.set(n,e);++f<u;){var y=e[f],m=n[f];if(o)var b=l?o(m,y,f,n,e,s):o(y,m,f,e,n,s);if(i!==b){if(b)continue;p=!1;break}if(g){if(!tE(n,function(e,n){if(!tF(g,n)&&(y===e||a(y,e,r,o,s)))return g.push(n)})){p=!1;break}}else if(!(y===m||a(y,m,r,o,s))){p=!1;break}}return s.delete(e),s.delete(n),p}function ig(e){return iH(iz(e,i,i3),e+"")}function iy(e){return n3(e,ax,iS)}function im(e){return n3(e,aC,iO)}var iv=nu?function(e){return nu.get(e)}:a0;function ib(e){for(var n=e.name+"",r=nc[n],i=eR.call(nc,n)?r.length:0;i--;){var o=r[i],a=o.func;if(null==a||a==e)return o.name}return n}function i_(e){return(eR.call(nb,"placeholder")?nb:e).placeholder}function iw(){var e=nb.iteratee||aZ;return e=e===aZ?ri:e,arguments.length?e(arguments[0],arguments[1]):e}function iE(e,n){var r=e.__data__;return function(e){var n=typeof e;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==e:null===e}(n)?r["string"==typeof n?"string":"hash"]:r.map}function ix(e){for(var n=ax(e),r=n.length;r--;){var i=n[r],o=e[i];n[r]=[i,o,function(e){return e==e&&!o2(e)}(o)]}return n}function iC(e,n){var r,o,a=(r=e,o=n,null==r?i:r[o]);return rr(a)?a:i}var iS=t2?function(e){return null==e?[]:tg(t2(e=eM(e)),function(n){return e3.call(e,n)})}:a8,iO=t2?function(e){for(var n=[];e;)tb(n,iS(e)),e=eX(e);return n}:a8,iM=n4;(nr&&iM(new nr(new ArrayBuffer(1)))!=j||ni&&iM(new ni)!=w||no&&iM(no.resolve())!=C||na&&iM(new na)!=O||ns&&iM(new ns)!=D)&&(iM=function(e){var n=n4(e),r=n==x?e.constructor:i,o=r?iZ(r):"";if(o)switch(o){case nd:return j;case nh:return w;case nf:return C;case np:return O;case ng:return D}return n});function iP(e,n,r){n=rV(n,e);for(var i=-1,o=n.length,a=!1;++i<o;){var s=iX(n[i]);if(!(a=null!=e&&r(e,s)))break;e=e[s]}return a||++i!=o?a:!!(o=null==e?0:e.length)&&o1(o)&&ij(s,o)&&(oK(e)||oW(e))}function iD(e){return"function"!=typeof e.constructor||iR(e)?{}:n_(eX(e))}function iI(e){return oK(e)||oW(e)||!!(e8&&e&&e[e8])}function ij(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&ey.test(e))&&e>-1&&e%1==0&&e<n}function iN(e,n,r){if(!o2(r))return!1;var i=typeof n;return("number"==i?!!(oY(r)&&ij(n,r.length)):"string"==i&&n in r)&&o$(r[n],e)}function iT(e,n){if(oK(e))return!1;var r=typeof e;return!!("number"==r||"symbol"==r||"boolean"==r||null==e||ae(e))||q.test(e)||!Q.test(e)||null!=n&&e in eM(n)}function ik(e){var n=ib(e),r=nb[n];if("function"!=typeof r||!(n in nx.prototype))return!1;if(e===r)return!0;var i=iv(r);return!!i&&e===i[0]}var iA=ek?oJ:a9;function iR(e){var n=e&&e.constructor,r="function"==typeof n&&n.prototype||eT;return e===r}function iL(e){return e==e&&!o2(e)}function iF(e,n){return function(r){return null!=r&&r[e]===n&&(i!==n||e in eM(r))}}function iz(e,n,r){return n=t8(i===n?e.length-1:n,0),function(){for(var i=arguments,o=-1,a=t8(i.length-n,0),s=eE(a);++o<a;)s[o]=i[n+o];o=-1;for(var l=eE(n+1);++o<n;)l[o]=i[o];return l[n]=r(s),tc(e,this,l)}}function iB(e,n){return n.length<2?e:n2(e,rS(n,0,-1))}function iV(e,n){if("constructor"!==n||"function"!=typeof e[n]){if("__proto__"!=n)return e[n]}}var i$=iK(rE),iU=tj||function(e,n){return e9.setTimeout(e,n)},iH=iK(rx);function iW(e,n,r){var i,o=n+"";return iH(e,function(e,n){var r=n.length;if(!r)return e;var i=r-1;return n[i]=(r>1?"& ":"")+n[i],n=n.join(r>2?", ":" "),e.replace(ei,"{\n/* [wrapped with "+n+"] */\n")}(o,function(e,n){return th(h,function(r){var i="_."+r[0];n&r[1]&&!ty(e,i)&&e.push(i)}),e.sort()}((i=o.match(eo),i?i[1].split(ea):[]),r)))}function iK(e){var n=0,r=0;return function(){var o=t7(),a=16-(o-r);if(r=o,a>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(i,arguments)}}function iG(e,n){var r=-1,o=e.length,a=o-1;for(n=i===n?o:n;++r<n;){var s=ry(r,a),l=e[s];e[s]=e[r],e[r]=l}return e.length=n,e}var iY=(er=oR(function(e){var n=[];return 46===e.charCodeAt(0)&&n.push(""),e.replace(J,function(e,r,i,o){n.push(i?o.replace(eu,"$1"):r||e)}),n},function(e){return 500===e_.size&&e_.clear(),e}),e_=er.cache,er);function iX(e){if("string"==typeof e||ae(e))return e;var n=e+"";return"0"==n&&1/e==-l?"-0":n}function iZ(e){if(null!=e){try{return eA.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function iQ(e){if(e instanceof nx)return e.clone();var n=new nE(e.__wrapped__,e.__chain__);return n.__actions__=rZ(e.__actions__),n.__index__=e.__index__,n.__values__=e.__values__,n}var iq=rv(function(e,n){return oX(e)?nH(e,nZ(n,1,oX,!0)):[]}),iJ=rv(function(e,n){var r=i9(n);return oX(r)&&(r=i),oX(e)?nH(e,nZ(n,1,oX,!0),iw(r,2)):[]}),i0=rv(function(e,n){var r=i9(n);return oX(r)&&(r=i),oX(e)?nH(e,nZ(n,1,oX,!0),i,r):[]});function i1(e,n,r){var i=null==e?0:e.length;if(!i)return -1;var o=null==r?0:aa(r);return o<0&&(o=t8(i+o,0)),tS(e,iw(n,3),o)}function i2(e,n,r){var o=null==e?0:e.length;if(!o)return -1;var a=o-1;return i!==r&&(a=aa(r),a=r<0?t8(o+a,0):t9(a,o-1)),tS(e,iw(n,3),a,!0)}function i3(e){return(null==e?0:e.length)?nZ(e,1):[]}function i4(e){return e&&e.length?e[0]:i}var i5=rv(function(e){var n=tv(e,rz);return n.length&&n[0]===e[0]?n9(n):[]}),i6=rv(function(e){var n=i9(e),r=tv(e,rz);return n===i9(r)?n=i:r.pop(),r.length&&r[0]===e[0]?n9(r,iw(n,2)):[]}),i8=rv(function(e){var n=i9(e),r=tv(e,rz);return(n="function"==typeof n?n:i)&&r.pop(),r.length&&r[0]===e[0]?n9(r,i,n):[]});function i9(e){var n=null==e?0:e.length;return n?e[n-1]:i}var i7=rv(oe);function oe(e,n){return e&&e.length&&n&&n.length?rp(e,n):e}var ot=ig(function(e,n){var r=null==e?0:e.length,i=nz(e,n);return rg(e,tv(n,function(e){return ij(e,r)?+e:e}).sort(rG)),i});function on(e){return null==e?e:nn.call(e)}var or=rv(function(e){return rN(nZ(e,1,oX,!0))}),oi=rv(function(e){var n=i9(e);return oX(n)&&(n=i),rN(nZ(e,1,oX,!0),iw(n,2))}),oo=rv(function(e){var n=i9(e);return n="function"==typeof n?n:i,rN(nZ(e,1,oX,!0),i,n)});function oa(e){if(!(e&&e.length))return[];var n=0;return e=tg(e,function(e){if(oX(e))return n=t8(e.length,n),!0}),tk(n,function(n){return tv(e,tI(n))})}function os(e,n){if(!(e&&e.length))return[];var r=oa(e);return null==n?r:tv(r,function(e){return tc(n,i,e)})}var ol=rv(function(e,n){return oX(e)?nH(e,n):[]}),ou=rv(function(e){return rL(tg(e,oX))}),oc=rv(function(e){var n=i9(e);return oX(n)&&(n=i),rL(tg(e,oX),iw(n,2))}),od=rv(function(e){var n=i9(e);return n="function"==typeof n?n:i,rL(tg(e,oX),i,n)}),oh=rv(oa),of=rv(function(e){var n=e.length,r=n>1?e[n-1]:i;return r="function"==typeof r?(e.pop(),r):i,os(e,r)});function op(e){var n=nb(e);return n.__chain__=!0,n}function og(e,n){return n(e)}var oy=ig(function(e){var n=e.length,r=n?e[0]:0,o=this.__wrapped__,a=function(n){return nz(n,e)};return!(n>1)&&!this.__actions__.length&&o instanceof nx&&ij(r)?((o=o.slice(r,+r+(n?1:0))).__actions__.push({func:og,args:[a],thisArg:i}),new nE(o,this.__chain__).thru(function(e){return n&&!e.length&&e.push(i),e})):this.thru(a)}),om=rq(function(e,n,r){eR.call(e,r)?++e[r]:nF(e,r,1)}),ov=r5(i1),ob=r5(i2);function o_(e,n){return(oK(e)?th:nW)(e,iw(n,3))}function ow(e,n){return(oK(e)?tf:nK)(e,iw(n,3))}var oE=rq(function(e,n,r){eR.call(e,r)?e[r].push(n):nF(e,r,[n])}),ox=rv(function(e,n,r){var i=-1,o="function"==typeof n,a=oY(e)?eE(e.length):[];return nW(e,function(e){a[++i]=o?tc(n,e,r):n7(e,n,r)}),a}),oC=rq(function(e,n,r){nF(e,r,n)});function oS(e,n){return(oK(e)?tv:rs)(e,iw(n,3))}var oO=rq(function(e,n,r){e[r?0:1].push(n)},function(){return[[],[]]}),oM=rv(function(e,n){if(null==e)return[];var r=n.length;return r>1&&iN(e,n[0],n[1])?n=[]:r>2&&iN(n[0],n[1],n[2])&&(n=[n[0]]),rh(e,nZ(n,1),[])}),oP=tx||function(){return e9.Date.now()};function oD(e,n,r){return n=r?i:n,n=e&&null==n?e.length:n,iu(e,128,i,i,i,i,n)}function oI(e,n){var r;if("function"!=typeof n)throw new eI(o);return e=aa(e),function(){return--e>0&&(r=n.apply(this,arguments)),e<=1&&(n=i),r}}var oj=rv(function(e,n,r){var i=1;if(r.length){var o=tG(r,i_(oj));i|=32}return iu(e,i,n,r,o)}),oN=rv(function(e,n,r){var i=3;if(r.length){var o=tG(r,i_(oN));i|=32}return iu(n,i,e,r,o)});function oT(e,n,r){var a,s,l,u,c,d,h=0,f=!1,p=!1,g=!0;if("function"!=typeof e)throw new eI(o);function y(n){var r=a,o=s;return a=s=i,h=n,u=e.apply(o,r)}n=al(n)||0,o2(r)&&(f=!!r.leading,l=(p="maxWait"in r)?t8(al(r.maxWait)||0,n):l,g="trailing"in r?!!r.trailing:g);function m(e){var r=e-d,o=e-h;return i===d||r>=n||r<0||p&&o>=l}function b(){var e,r,i,o,a=oP();if(m(a))return _(a);c=iU(b,(r=(e=a)-d,i=e-h,o=n-r,p?t9(o,l-i):o))}function _(e){return(c=i,g&&a)?y(e):(a=s=i,u)}function w(){var e,r=oP(),o=m(r);if(a=arguments,s=this,d=r,o){if(i===c){;return h=e=d,c=iU(b,n),f?y(e):u}if(p)return rU(c),c=iU(b,n),y(d)}return i===c&&(c=iU(b,n)),u}return w.cancel=function(){i!==c&&rU(c),h=0,a=d=s=c=i},w.flush=function(){return i===c?u:_(oP())},w}var ok=rv(function(e,n){return nU(e,1,n)}),oA=rv(function(e,n,r){return nU(e,al(n)||0,r)});function oR(e,n){if("function"!=typeof e||null!=n&&"function"!=typeof n)throw new eI(o);var r=function(){var i=arguments,o=n?n.apply(this,i):i[0],a=r.cache;if(a.has(o))return a.get(o);var s=e.apply(this,i);return r.cache=a.set(o,s)||a,s};return r.cache=new(oR.Cache||nO),r}function oL(e){if("function"!=typeof e)throw new eI(o);return function(){var n=arguments;switch(n.length){case 0:return!e.call(this);case 1:return!e.call(this,n[0]);case 2:return!e.call(this,n[0],n[1]);case 3:return!e.call(this,n[0],n[1],n[2])}return!e.apply(this,n)}}oR.Cache=nO;var oF=rv(function(e,n){var r=(n=1==n.length&&oK(n[0])?tv(n[0],tR(iw())):tv(nZ(n,1),tR(iw()))).length;return rv(function(i){for(var o=-1,a=t9(i.length,r);++o<a;)i[o]=n[o].call(this,i[o]);return tc(e,this,i)})}),oz=rv(function(e,n){var r=tG(n,i_(oz));return iu(e,32,i,n,r)}),oB=rv(function(e,n){var r=tG(n,i_(oB));return iu(e,64,i,n,r)}),oV=ig(function(e,n){return iu(e,256,i,i,i,n)});function o$(e,n){return e===n||e!=e&&n!=n}var oU=ii(n5),oH=ii(function(e,n){return e>=n}),oW=re(function(){return arguments}())?re:function(e){return o3(e)&&eR.call(e,"callee")&&!e3.call(e,"callee")},oK=eE.isArray,oG=ti?tR(ti):function(e){return o3(e)&&n4(e)==I};function oY(e){return null!=e&&o1(e.length)&&!oJ(e)}function oX(e){return o3(e)&&oY(e)}var oZ=t3||a9,oQ=to?tR(to):function(e){return o3(e)&&n4(e)==y};function oq(e){if(!o3(e))return!1;var n=n4(e);return n==m||"[object DOMException]"==n||"string"==typeof e.message&&"string"==typeof e.name&&!o6(e)}function oJ(e){if(!o2(e))return!1;var n=n4(e);return n==b||n==_||"[object AsyncFunction]"==n||"[object Proxy]"==n}function o0(e){return"number"==typeof e&&e==aa(e)}function o1(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function o2(e){var n=typeof e;return null!=e&&("object"==n||"function"==n)}function o3(e){return null!=e&&"object"==typeof e}var o4=ta?tR(ta):function(e){return o3(e)&&iM(e)==w};function o5(e){return"number"==typeof e||o3(e)&&n4(e)==E}function o6(e){if(!o3(e)||n4(e)!=x)return!1;var n=eX(e);if(null===n)return!0;var r=eR.call(n,"constructor")&&n.constructor;return"function"==typeof r&&r instanceof r&&eA.call(r)==eB}var o8=ts?tR(ts):function(e){return o3(e)&&n4(e)==S},o9=tl?tR(tl):function(e){return o3(e)&&iM(e)==O};function o7(e){return"string"==typeof e||!oK(e)&&o3(e)&&n4(e)==M}function ae(e){return"symbol"==typeof e||o3(e)&&n4(e)==P}var at=tu?tR(tu):function(e){return o3(e)&&o1(e.length)&&!!e1[n4(e)]},an=ii(ra),ar=ii(function(e,n){return e<=n});function ai(e){if(!e)return[];if(oY(e))return o7(e)?tZ(e):rZ(e);if(e7&&e[e7])return function(e){for(var n,r=[];!(n=e.next()).done;)r.push(n.value);return r}(e[e7]());var n=iM(e);return(n==w?tW:n==O?tY:aN)(e)}function ao(e){return e?(e=al(e))===l||e===-l?(e<0?-1:1)*17976931348623157e292:e==e?e:0:0===e?e:0}function aa(e){var n=ao(e),r=n%1;return n==n?r?n-r:n:0}function as(e){return e?nB(aa(e),0,4294967295):0}function al(e){if("number"==typeof e)return e;if(ae(e))return u;if(o2(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=o2(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=tA(e);var r=ef.test(e);return r||eg.test(e)?e5(e.slice(2),r?2:8):eh.test(e)?u:+e}function au(e){return rQ(e,aC(e))}function ac(e){return null==e?"":rj(e)}var ad=rJ(function(e,n){if(iR(n)||oY(n)){rQ(n,ax(n),e);return}for(var r in n)eR.call(n,r)&&nk(e,r,n[r])}),ah=rJ(function(e,n){rQ(n,aC(n),e)}),af=rJ(function(e,n,r,i){rQ(n,aC(n),e,i)}),ap=rJ(function(e,n,r,i){rQ(n,ax(n),e,i)}),ag=ig(nz),ay=rv(function(e,n){e=eM(e);var r=-1,o=n.length,a=o>2?n[2]:i;for(a&&iN(n[0],n[1],a)&&(o=1);++r<o;){for(var s=n[r],l=aC(s),u=-1,c=l.length;++u<c;){var d=l[u],h=e[d];(i===h||o$(h,eT[d])&&!eR.call(e,d))&&(e[d]=s[d])}}return e}),am=rv(function(e){return e.push(i,id),tc(aO,i,e)});function av(e,n,r){var o=null==e?i:n2(e,n);return i===o?r:o}function ab(e,n){return null!=e&&iP(e,n,n8)}var a_=r9(function(e,n,r){null!=n&&"function"!=typeof n.toString&&(n=ez.call(n)),e[n]=r},aK(aX)),aw=r9(function(e,n,r){null!=n&&"function"!=typeof n.toString&&(n=ez.call(n)),eR.call(e,n)?e[n].push(r):e[n]=[r]},iw),aE=rv(n7);function ax(e){return oY(e)?nD(e):ro(e)}function aC(e){return oY(e)?nD(e,!0):function(e){if(!o2(e))return function(e){var n=[];if(null!=e)for(var r in eM(e))n.push(r);return n}(e);var n=iR(e),r=[];for(var i in e)!("constructor"==i&&(n||!eR.call(e,i)))&&r.push(i);return r}(e)}var aS=rJ(function(e,n,r){rc(e,n,r)}),aO=rJ(function(e,n,r,i){rc(e,n,r,i)}),aM=ig(function(e,n){var r={};if(null==e)return r;var i=!1;n=tv(n,function(n){return n=rV(n,e),i||(i=n.length>1),n}),rQ(e,im(e),r),i&&(r=nV(r,7,ih));for(var o=n.length;o--;)rT(r,n[o]);return r}),aP=ig(function(e,n){var r;return null==e?{}:rf(r=e,n,function(e,n){return ab(r,n)})});function aD(e,n){if(null==e)return{};var r=tv(im(e),function(e){return[e]});return n=iw(n),rf(e,r,function(e,r){return n(e,r[0])})}var aI=il(ax),aj=il(aC);function aN(e){return null==e?[]:tL(e,ax(e))}var aT=r3(function(e,n,r){return n=n.toLowerCase(),e+(r?ak(n):n)});function ak(e){return a$(ac(e).toLowerCase())}function aA(e){return(e=ac(e))&&e.replace(em,tV).replace(eY,"")}var aR=r3(function(e,n,r){return e+(r?"-":"")+n.toLowerCase()}),aL=r3(function(e,n,r){return e+(r?" ":"")+n.toLowerCase()}),aF=r2("toLowerCase"),az=r3(function(e,n,r){return e+(r?"_":"")+n.toLowerCase()}),aB=r3(function(e,n,r){return e+(r?" ":"")+a$(n)}),aV=r3(function(e,n,r){return e+(r?" ":"")+n.toUpperCase()}),a$=r2("toUpperCase");function aU(e,n,r){if(e=ac(e),n=r?i:n,i===n){var o;return(o=e,eq.test(o))?e.match(eZ)||[]:e.match(es)||[]}return e.match(n)||[]}var aH=rv(function(e,n){try{return tc(e,i,n)}catch(e){return oq(e)?e:new eC(e)}}),aW=ig(function(e,n){return th(n,function(n){nF(e,n=iX(n),oj(e[n],e))}),e});function aK(e){return function(){return e}}var aG=r6(),aY=r6(!0);function aX(e){return e}function aZ(e){return ri("function"==typeof e?e:nV(e,1))}var aQ=rv(function(e,n){return function(r){return n7(r,e,n)}}),aq=rv(function(e,n){return function(r){return n7(e,r,n)}});function aJ(e,n,r){var i=ax(n),o=n1(n,i);null==r&&!(o2(n)&&(o.length||!i.length))&&(r=n,n=e,e=this,o=n1(n,ax(n)));var a=!(o2(r)&&"chain"in r)||!!r.chain,s=oJ(e);return th(o,function(r){var i=n[r];e[r]=i,s&&(e.prototype[r]=function(){var n=this.__chain__;if(a||n){var r=e(this.__wrapped__);return(r.__actions__=rZ(this.__actions__)).push({func:i,args:arguments,thisArg:e}),r.__chain__=n,r}return i.apply(e,tb([this.value()],arguments))})}),e}function a0(){}var a1=ie(tv),a2=ie(tp),a3=ie(tE);function a4(e){var n;return iT(e)?tI(iX(e)):(n=e,function(e){return n2(e,n)})}var a5=ir(),a6=ir(!0);function a8(){return[]}function a9(){return!1}var a7=r7(function(e,n){return e+n},0),se=ia("ceil"),st=r7(function(e,n){return e/n},1),sn=ia("floor"),sr=r7(function(e,n){return e*n},1),si=ia("round"),so=r7(function(e,n){return e-n},0);return nb.after=function(e,n){if("function"!=typeof n)throw new eI(o);return e=aa(e),function(){if(--e<1)return n.apply(this,arguments)}},nb.ary=oD,nb.assign=ad,nb.assignIn=ah,nb.assignInWith=af,nb.assignWith=ap,nb.at=ag,nb.before=oI,nb.bind=oj,nb.bindAll=aW,nb.bindKey=oN,nb.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return oK(e)?e:[e]},nb.chain=op,nb.chunk=function(e,n,r){n=(r?iN(e,n,r):i===n)?1:t8(aa(n),0);var o=null==e?0:e.length;if(!o||n<1)return[];for(var a=0,s=0,l=eE(t0(o/n));a<o;)l[s++]=rS(e,a,a+=n);return l},nb.compact=function(e){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];a&&(o[i++]=a)}return o},nb.concat=function(){var e=arguments.length;if(!e)return[];for(var n=eE(e-1),r=arguments[0],i=e;i--;)n[i-1]=arguments[i];return tb(oK(r)?rZ(r):[r],nZ(n,1))},nb.cond=function(e){var n=null==e?0:e.length,r=iw();return e=n?tv(e,function(e){if("function"!=typeof e[1])throw new eI(o);return[r(e[0]),e[1]]}):[],rv(function(r){for(var i=-1;++i<n;){var o=e[i];if(tc(o[0],this,r))return tc(o[1],this,r)}})},nb.conforms=function(e){var n,r;return n=nV(e,1),r=ax(n),function(e){return n$(e,n,r)}},nb.constant=aK,nb.countBy=om,nb.create=function(e,n){var r=n_(e);return null==n?r:nL(r,n)},nb.curry=function e(n,r,o){r=o?i:r;var a=iu(n,8,i,i,i,i,i,r);return a.placeholder=e.placeholder,a},nb.curryRight=function e(n,r,o){r=o?i:r;var a=iu(n,16,i,i,i,i,i,r);return a.placeholder=e.placeholder,a},nb.debounce=oT,nb.defaults=ay,nb.defaultsDeep=am,nb.defer=ok,nb.delay=oA,nb.difference=iq,nb.differenceBy=iJ,nb.differenceWith=i0,nb.drop=function(e,n,r){var o=null==e?0:e.length;return o?rS(e,(n=r||i===n?1:aa(n))<0?0:n,o):[]},nb.dropRight=function(e,n,r){var o=null==e?0:e.length;return o?rS(e,0,(n=o-(n=r||i===n?1:aa(n)))<0?0:n):[]},nb.dropRightWhile=function(e,n){return e&&e.length?rA(e,iw(n,3),!0,!0):[]},nb.dropWhile=function(e,n){return e&&e.length?rA(e,iw(n,3),!0):[]},nb.fill=function(e,n,r,o){var a=null==e?0:e.length;return a?(r&&"number"!=typeof r&&iN(e,n,r)&&(r=0,o=a),function(e,n,r,o){var a=e.length;for((r=aa(r))<0&&(r=-r>a?0:a+r),(o=i===o||o>a?a:aa(o))<0&&(o+=a),o=r>o?0:as(o);r<o;)e[r++]=n;return e}(e,n,r,o)):[]},nb.filter=function(e,n){return(oK(e)?tg:nX)(e,iw(n,3))},nb.flatMap=function(e,n){return nZ(oS(e,n),1)},nb.flatMapDeep=function(e,n){return nZ(oS(e,n),l)},nb.flatMapDepth=function(e,n,r){return r=i===r?1:aa(r),nZ(oS(e,n),r)},nb.flatten=i3,nb.flattenDeep=function(e){return(null==e?0:e.length)?nZ(e,l):[]},nb.flattenDepth=function(e,n){return(null==e?0:e.length)?nZ(e,n=i===n?1:aa(n)):[]},nb.flip=function(e){return iu(e,512)},nb.flow=aG,nb.flowRight=aY,nb.fromPairs=function(e){for(var n=-1,r=null==e?0:e.length,i={};++n<r;){var o=e[n];i[o[0]]=o[1]}return i},nb.functions=function(e){return null==e?[]:n1(e,ax(e))},nb.functionsIn=function(e){return null==e?[]:n1(e,aC(e))},nb.groupBy=oE,nb.initial=function(e){return(null==e?0:e.length)?rS(e,0,-1):[]},nb.intersection=i5,nb.intersectionBy=i6,nb.intersectionWith=i8,nb.invert=a_,nb.invertBy=aw,nb.invokeMap=ox,nb.iteratee=aZ,nb.keyBy=oC,nb.keys=ax,nb.keysIn=aC,nb.map=oS,nb.mapKeys=function(e,n){var r={};return n=iw(n,3),nJ(e,function(e,i,o){nF(r,n(e,i,o),e)}),r},nb.mapValues=function(e,n){var r={};return n=iw(n,3),nJ(e,function(e,i,o){nF(r,i,n(e,i,o))}),r},nb.matches=function(e){return rl(nV(e,1))},nb.matchesProperty=function(e,n){return ru(e,nV(n,1))},nb.memoize=oR,nb.merge=aS,nb.mergeWith=aO,nb.method=aQ,nb.methodOf=aq,nb.mixin=aJ,nb.negate=oL,nb.nthArg=function(e){return e=aa(e),rv(function(n){return rd(n,e)})},nb.omit=aM,nb.omitBy=function(e,n){return aD(e,oL(iw(n)))},nb.once=function(e){return oI(2,e)},nb.orderBy=function(e,n,r,o){return null==e?[]:(!oK(n)&&(n=null==n?[]:[n]),!oK(r=o?i:r)&&(r=null==r?[]:[r]),rh(e,n,r))},nb.over=a1,nb.overArgs=oF,nb.overEvery=a2,nb.overSome=a3,nb.partial=oz,nb.partialRight=oB,nb.partition=oO,nb.pick=aP,nb.pickBy=aD,nb.property=a4,nb.propertyOf=function(e){return function(n){return null==e?i:n2(e,n)}},nb.pull=i7,nb.pullAll=oe,nb.pullAllBy=function(e,n,r){return e&&e.length&&n&&n.length?rp(e,n,iw(r,2)):e},nb.pullAllWith=function(e,n,r){return e&&e.length&&n&&n.length?rp(e,n,i,r):e},nb.pullAt=ot,nb.range=a5,nb.rangeRight=a6,nb.rearg=oV,nb.reject=function(e,n){return(oK(e)?tg:nX)(e,oL(iw(n,3)))},nb.remove=function(e,n){var r=[];if(!(e&&e.length))return r;var i=-1,o=[],a=e.length;for(n=iw(n,3);++i<a;){var s=e[i];n(s,i,e)&&(r.push(s),o.push(i))}return rg(e,o),r},nb.rest=function(e,n){if("function"!=typeof e)throw new eI(o);return rv(e,n=i===n?n:aa(n))},nb.reverse=on,nb.sampleSize=function(e,n,r){return n=(r?iN(e,n,r):i===n)?1:aa(n),(oK(e)?nj:r_)(e,n)},nb.set=function(e,n,r){return null==e?e:rw(e,n,r)},nb.setWith=function(e,n,r,o){return o="function"==typeof o?o:i,null==e?e:rw(e,n,r,o)},nb.shuffle=function(e){return(oK(e)?nN:rC)(e)},nb.slice=function(e,n,r){var o=null==e?0:e.length;return o?(r&&"number"!=typeof r&&iN(e,n,r)?(n=0,r=o):(n=null==n?0:aa(n),r=i===r?o:aa(r)),rS(e,n,r)):[]},nb.sortBy=oM,nb.sortedUniq=function(e){return e&&e.length?rD(e):[]},nb.sortedUniqBy=function(e,n){return e&&e.length?rD(e,iw(n,2)):[]},nb.split=function(e,n,r){return(r&&"number"!=typeof r&&iN(e,n,r)&&(n=r=i),r=i===r?4294967295:r>>>0)?(e=ac(e))&&("string"==typeof n||null!=n&&!o8(n))&&!(n=rj(n))&&tH(e)?r$(tZ(e),0,r):e.split(n,r):[]},nb.spread=function(e,n){if("function"!=typeof e)throw new eI(o);return n=null==n?0:t8(aa(n),0),rv(function(r){var i=r[n],o=r$(r,0,n);return i&&tb(o,i),tc(e,this,o)})},nb.tail=function(e){var n=null==e?0:e.length;return n?rS(e,1,n):[]},nb.take=function(e,n,r){return e&&e.length?rS(e,0,(n=r||i===n?1:aa(n))<0?0:n):[]},nb.takeRight=function(e,n,r){var o=null==e?0:e.length;return o?rS(e,(n=o-(n=r||i===n?1:aa(n)))<0?0:n,o):[]},nb.takeRightWhile=function(e,n){return e&&e.length?rA(e,iw(n,3),!1,!0):[]},nb.takeWhile=function(e,n){return e&&e.length?rA(e,iw(n,3)):[]},nb.tap=function(e,n){return n(e),e},nb.throttle=function(e,n,r){var i=!0,a=!0;if("function"!=typeof e)throw new eI(o);return o2(r)&&(i="leading"in r?!!r.leading:i,a="trailing"in r?!!r.trailing:a),oT(e,n,{leading:i,maxWait:n,trailing:a})},nb.thru=og,nb.toArray=ai,nb.toPairs=aI,nb.toPairsIn=aj,nb.toPath=function(e){return oK(e)?tv(e,iX):ae(e)?[e]:rZ(iY(ac(e)))},nb.toPlainObject=au,nb.transform=function(e,n,r){var i=oK(e),o=i||oZ(e)||at(e);if(n=iw(n,4),null==r){var a=e&&e.constructor;r=o?i?new a:[]:o2(e)?oJ(a)?n_(eX(e)):{}:{}}return(o?th:nJ)(e,function(e,i,o){return n(r,e,i,o)}),r},nb.unary=function(e){return oD(e,1)},nb.union=or,nb.unionBy=oi,nb.unionWith=oo,nb.uniq=function(e){return e&&e.length?rN(e):[]},nb.uniqBy=function(e,n){return e&&e.length?rN(e,iw(n,2)):[]},nb.uniqWith=function(e,n){return n="function"==typeof n?n:i,e&&e.length?rN(e,i,n):[]},nb.unset=function(e,n){return null==e||rT(e,n)},nb.unzip=oa,nb.unzipWith=os,nb.update=function(e,n,r){return null==e?e:rk(e,n,rB(r))},nb.updateWith=function(e,n,r,o){return o="function"==typeof o?o:i,null==e?e:rk(e,n,rB(r),o)},nb.values=aN,nb.valuesIn=function(e){return null==e?[]:tL(e,aC(e))},nb.without=ol,nb.words=aU,nb.wrap=function(e,n){return oz(rB(n),e)},nb.xor=ou,nb.xorBy=oc,nb.xorWith=od,nb.zip=oh,nb.zipObject=function(e,n){return rF(e||[],n||[],nk)},nb.zipObjectDeep=function(e,n){return rF(e||[],n||[],rw)},nb.zipWith=of,nb.entries=aI,nb.entriesIn=aj,nb.extend=ah,nb.extendWith=af,aJ(nb,nb),nb.add=a7,nb.attempt=aH,nb.camelCase=aT,nb.capitalize=ak,nb.ceil=se,nb.clamp=function(e,n,r){return i===r&&(r=n,n=i),i!==r&&(r=(r=al(r))==r?r:0),i!==n&&(n=(n=al(n))==n?n:0),nB(al(e),n,r)},nb.clone=function(e){return nV(e,4)},nb.cloneDeep=function(e){return nV(e,5)},nb.cloneDeepWith=function(e,n){return nV(e,5,n="function"==typeof n?n:i)},nb.cloneWith=function(e,n){return nV(e,4,n="function"==typeof n?n:i)},nb.conformsTo=function(e,n){return null==n||n$(e,n,ax(n))},nb.deburr=aA,nb.defaultTo=function(e,n){return null==e||e!=e?n:e},nb.divide=st,nb.endsWith=function(e,n,r){e=ac(e),n=rj(n);var o=e.length,a=r=i===r?o:nB(aa(r),0,o);return(r-=n.length)>=0&&e.slice(r,a)==n},nb.eq=o$,nb.escape=function(e){return(e=ac(e))&&G.test(e)?e.replace(W,t$):e},nb.escapeRegExp=function(e){return(e=ac(e))&&et.test(e)?e.replace(ee,"\\$&"):e},nb.every=function(e,n,r){var o=oK(e)?tp:nG;return r&&iN(e,n,r)&&(n=i),o(e,iw(n,3))},nb.find=ov,nb.findIndex=i1,nb.findKey=function(e,n){return tC(e,iw(n,3),nJ)},nb.findLast=ob,nb.findLastIndex=i2,nb.findLastKey=function(e,n){return tC(e,iw(n,3),n0)},nb.floor=sn,nb.forEach=o_,nb.forEachRight=ow,nb.forIn=function(e,n){return null==e?e:nQ(e,iw(n,3),aC)},nb.forInRight=function(e,n){return null==e?e:nq(e,iw(n,3),aC)},nb.forOwn=function(e,n){return e&&nJ(e,iw(n,3))},nb.forOwnRight=function(e,n){return e&&n0(e,iw(n,3))},nb.get=av,nb.gt=oU,nb.gte=oH,nb.has=function(e,n){return null!=e&&iP(e,n,n6)},nb.hasIn=ab,nb.head=i4,nb.identity=aX,nb.includes=function(e,n,r,i){e=oY(e)?e:aN(e),r=r&&!i?aa(r):0;var o=e.length;return r<0&&(r=t8(o+r,0)),o7(e)?r<=o&&e.indexOf(n,r)>-1:!!o&&tO(e,n,r)>-1},nb.indexOf=function(e,n,r){var i=null==e?0:e.length;if(!i)return -1;var o=null==r?0:aa(r);return o<0&&(o=t8(i+o,0)),tO(e,n,o)},nb.inRange=function(e,n,r){var o,a,s;return n=ao(n),i===r?(r=n,n=0):r=ao(r),(o=e=al(e))>=t9(a=n,s=r)&&o<t8(a,s)},nb.invoke=aE,nb.isArguments=oW,nb.isArray=oK,nb.isArrayBuffer=oG,nb.isArrayLike=oY,nb.isArrayLikeObject=oX,nb.isBoolean=function(e){return!0===e||!1===e||o3(e)&&n4(e)==g},nb.isBuffer=oZ,nb.isDate=oQ,nb.isElement=function(e){return o3(e)&&1===e.nodeType&&!o6(e)},nb.isEmpty=function(e){if(null==e)return!0;if(oY(e)&&(oK(e)||"string"==typeof e||"function"==typeof e.splice||oZ(e)||at(e)||oW(e)))return!e.length;var n=iM(e);if(n==w||n==O)return!e.size;if(iR(e))return!ro(e).length;for(var r in e)if(eR.call(e,r))return!1;return!0},nb.isEqual=function(e,n){return rt(e,n)},nb.isEqualWith=function(e,n,r){var o=(r="function"==typeof r?r:i)?r(e,n):i;return i===o?rt(e,n,i,r):!!o},nb.isError=oq,nb.isFinite=function(e){return"number"==typeof e&&t4(e)},nb.isFunction=oJ,nb.isInteger=o0,nb.isLength=o1,nb.isMap=o4,nb.isMatch=function(e,n){return e===n||rn(e,n,ix(n))},nb.isMatchWith=function(e,n,r){return r="function"==typeof r?r:i,rn(e,n,ix(n),r)},nb.isNaN=function(e){return o5(e)&&e!=+e},nb.isNative=function(e){if(iA(e))throw new eC("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return rr(e)},nb.isNil=function(e){return null==e},nb.isNull=function(e){return null===e},nb.isNumber=o5,nb.isObject=o2,nb.isObjectLike=o3,nb.isPlainObject=o6,nb.isRegExp=o8,nb.isSafeInteger=function(e){return o0(e)&&e>=-9007199254740991&&e<=9007199254740991},nb.isSet=o9,nb.isString=o7,nb.isSymbol=ae,nb.isTypedArray=at,nb.isUndefined=function(e){return i===e},nb.isWeakMap=function(e){return o3(e)&&iM(e)==D},nb.isWeakSet=function(e){return o3(e)&&"[object WeakSet]"==n4(e)},nb.join=function(e,n){return null==e?"":t5.call(e,n)},nb.kebabCase=aR,nb.last=i9,nb.lastIndexOf=function(e,n,r){var o=null==e?0:e.length;if(!o)return -1;var a=o;return i!==r&&(a=(a=aa(r))<0?t8(o+a,0):t9(a,o-1)),n==n?function(e,n,r){for(var i=r+1;i--&&e[i]!==n;);return i}(e,n,a):tS(e,tP,a,!0)},nb.lowerCase=aL,nb.lowerFirst=aF,nb.lt=an,nb.lte=ar,nb.max=function(e){return e&&e.length?nY(e,aX,n5):i},nb.maxBy=function(e,n){return e&&e.length?nY(e,iw(n,2),n5):i},nb.mean=function(e){return tD(e,aX)},nb.meanBy=function(e,n){return tD(e,iw(n,2))},nb.min=function(e){return e&&e.length?nY(e,aX,ra):i},nb.minBy=function(e,n){return e&&e.length?nY(e,iw(n,2),ra):i},nb.stubArray=a8,nb.stubFalse=a9,nb.stubObject=function(){return{}},nb.stubString=function(){return""},nb.stubTrue=function(){return!0},nb.multiply=sr,nb.nth=function(e,n){return e&&e.length?rd(e,aa(n)):i},nb.noConflict=function(){return e9._===this&&(e9._=eV),this},nb.noop=a0,nb.now=oP,nb.pad=function(e,n,r){e=ac(e);var i=(n=aa(n))?tX(e):0;if(!n||i>=n)return e;var o=(n-i)/2;return it(t1(o),r)+e+it(t0(o),r)},nb.padEnd=function(e,n,r){e=ac(e);var i=(n=aa(n))?tX(e):0;return n&&i<n?e+it(n-i,r):e},nb.padStart=function(e,n,r){e=ac(e);var i=(n=aa(n))?tX(e):0;return n&&i<n?it(n-i,r)+e:e},nb.parseInt=function(e,n,r){return r||null==n?n=0:n&&(n=+n),ne(ac(e).replace(en,""),n||0)},nb.random=function(e,n,r){if(r&&"boolean"!=typeof r&&iN(e,n,r)&&(n=r=i),i===r&&("boolean"==typeof n?(r=n,n=i):"boolean"==typeof e&&(r=e,e=i)),i===e&&i===n?(e=0,n=1):(e=ao(e),i===n?(n=e,e=0):n=ao(n)),e>n){var o=e;e=n,n=o}if(r||e%1||n%1){var a=nt();return t9(e+a*(n-e+e4("1e-"+((a+"").length-1))),n)}return ry(e,n)},nb.reduce=function(e,n,r){var i=oK(e)?t_:tN,o=arguments.length<3;return i(e,iw(n,4),r,o,nW)},nb.reduceRight=function(e,n,r){var i=oK(e)?tw:tN,o=arguments.length<3;return i(e,iw(n,4),r,o,nK)},nb.repeat=function(e,n,r){return n=(r?iN(e,n,r):i===n)?1:aa(n),rm(ac(e),n)},nb.replace=function(){var e=arguments,n=ac(e[0]);return e.length<3?n:n.replace(e[1],e[2])},nb.result=function(e,n,r){n=rV(n,e);var o=-1,a=n.length;for(!a&&(a=1,e=i);++o<a;){var s=null==e?i:e[iX(n[o])];i===s&&(o=a,s=r),e=oJ(s)?s.call(e):s}return e},nb.round=si,nb.runInContext=e,nb.sample=function(e){return(oK(e)?nI:rb)(e)},nb.size=function(e){if(null==e)return 0;if(oY(e))return o7(e)?tX(e):e.length;var n=iM(e);return n==w||n==O?e.size:ro(e).length},nb.snakeCase=az,nb.some=function(e,n,r){var o=oK(e)?tE:rO;return r&&iN(e,n,r)&&(n=i),o(e,iw(n,3))},nb.sortedIndex=function(e,n){return rM(e,n)},nb.sortedIndexBy=function(e,n,r){return rP(e,n,iw(r,2))},nb.sortedIndexOf=function(e,n){var r=null==e?0:e.length;if(r){var i=rM(e,n);if(i<r&&o$(e[i],n))return i}return -1},nb.sortedLastIndex=function(e,n){return rM(e,n,!0)},nb.sortedLastIndexBy=function(e,n,r){return rP(e,n,iw(r,2),!0)},nb.sortedLastIndexOf=function(e,n){if(null==e?0:e.length){var r=rM(e,n,!0)-1;if(o$(e[r],n))return r}return -1},nb.startCase=aB,nb.startsWith=function(e,n,r){return e=ac(e),r=null==r?0:nB(aa(r),0,e.length),n=rj(n),e.slice(r,r+n.length)==n},nb.subtract=so,nb.sum=function(e){return e&&e.length?tT(e,aX):0},nb.sumBy=function(e,n){return e&&e.length?tT(e,iw(n,2)):0},nb.template=function(e,n,r){var o=nb.templateSettings;r&&iN(e,n,r)&&(n=i),e=ac(e),n=af({},n,o,ic);var a=af({},n.imports,o.imports,ic),s=ax(a),l=tL(a,s),u,c,d=0,h=n.interpolate||ev,f="__p += '",p=eP((n.escape||ev).source+"|"+h.source+"|"+(h===Z?ec:ev).source+"|"+(n.evaluate||ev).source+"|$","g"),g="//# sourceURL="+(eR.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++e0+"]")+"\n";e.replace(p,function(n,r,i,o,a,s){return i||(i=o),f+=e.slice(d,s).replace(eb,tU),r&&(u=!0,f+="' +\n__e("+r+") +\n'"),a&&(c=!0,f+="';\n"+a+";\n__p += '"),i&&(f+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),d=s+n.length,n}),f+="';\n";var y=eR.call(n,"variable")&&n.variable;if(y){if(el.test(y))throw new eC("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(c?f.replace(V,""):f).replace($,"$1").replace(U,"$1;"),f="function("+(y||"obj")+") {\n"+(y?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(u?", __e = _.escape":"")+(c?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var m=aH(function(){return eS(s,g+"return "+f).apply(i,l)});if(m.source=f,oq(m))throw m;return m},nb.times=function(e,n){if((e=aa(e))<1||e>9007199254740991)return[];var r=4294967295,i=t9(e,4294967295);n=iw(n),e-=4294967295;for(var o=tk(i,n);++r<e;)n(r);return o},nb.toFinite=ao,nb.toInteger=aa,nb.toLength=as,nb.toLower=function(e){return ac(e).toLowerCase()},nb.toNumber=al,nb.toSafeInteger=function(e){return e?nB(aa(e),-9007199254740991,9007199254740991):0===e?e:0},nb.toString=ac,nb.toUpper=function(e){return ac(e).toUpperCase()},nb.trim=function(e,n,r){if((e=ac(e))&&(r||i===n))return tA(e);if(!e||!(n=rj(n)))return e;var o=tZ(e),a=tZ(n),s=tz(o,a),l=tB(o,a)+1;return r$(o,s,l).join("")},nb.trimEnd=function(e,n,r){if((e=ac(e))&&(r||i===n))return e.slice(0,tQ(e)+1);if(!e||!(n=rj(n)))return e;var o=tZ(e),a=tB(o,tZ(n))+1;return r$(o,0,a).join("")},nb.trimStart=function(e,n,r){if((e=ac(e))&&(r||i===n))return e.replace(en,"");if(!e||!(n=rj(n)))return e;var o=tZ(e),a=tz(o,tZ(n));return r$(o,a).join("")},nb.truncate=function(e,n){var r=30,o="...";if(o2(n)){var a="separator"in n?n.separator:a;r="length"in n?aa(n.length):r,o="omission"in n?rj(n.omission):o}var s=(e=ac(e)).length;if(tH(e)){var l=tZ(e);s=l.length}if(r>=s)return e;var u=r-tX(o);if(u<1)return o;var c=l?r$(l,0,u).join(""):e.slice(0,u);if(i===a)return c+o;if(l&&(u+=c.length-u),o8(a)){if(e.slice(u).search(a)){var d,h=c;for(!a.global&&(a=eP(a.source,ac(ed.exec(a))+"g")),a.lastIndex=0;d=a.exec(h);)var f=d.index;c=c.slice(0,i===f?u:f)}}else if(e.indexOf(rj(a),u)!=u){var p=c.lastIndexOf(a);p>-1&&(c=c.slice(0,p))}return c+o},nb.unescape=function(e){return(e=ac(e))&&K.test(e)?e.replace(H,tq):e},nb.uniqueId=function(e){var n=++eL;return ac(e)+n},nb.upperCase=aV,nb.upperFirst=a$,nb.each=o_,nb.eachRight=ow,nb.first=i4,aJ(nb,(ew={},nJ(nb,function(e,n){!eR.call(nb.prototype,n)&&(ew[n]=e)}),ew),{chain:!1}),nb.VERSION="4.17.21",th(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){nb[e].placeholder=nb}),th(["drop","take"],function(e,n){nx.prototype[e]=function(r){r=i===r?1:t8(aa(r),0);var o=this.__filtered__&&!n?new nx(this):this.clone();return o.__filtered__?o.__takeCount__=t9(r,o.__takeCount__):o.__views__.push({size:t9(r,4294967295),type:e+(o.__dir__<0?"Right":"")}),o},nx.prototype[e+"Right"]=function(n){return this.reverse()[e](n).reverse()}}),th(["filter","map","takeWhile"],function(e,n){var r=n+1,i=1==r||3==r;nx.prototype[e]=function(e){var n=this.clone();return n.__iteratees__.push({iteratee:iw(e,3),type:r}),n.__filtered__=n.__filtered__||i,n}}),th(["head","last"],function(e,n){var r="take"+(n?"Right":"");nx.prototype[e]=function(){return this[r](1).value()[0]}}),th(["initial","tail"],function(e,n){var r="drop"+(n?"":"Right");nx.prototype[e]=function(){return this.__filtered__?new nx(this):this[r](1)}}),nx.prototype.compact=function(){return this.filter(aX)},nx.prototype.find=function(e){return this.filter(e).head()},nx.prototype.findLast=function(e){return this.reverse().find(e)},nx.prototype.invokeMap=rv(function(e,n){return"function"==typeof e?new nx(this):this.map(function(r){return n7(r,e,n)})}),nx.prototype.reject=function(e){return this.filter(oL(iw(e)))},nx.prototype.slice=function(e,n){e=aa(e);var r=this;return r.__filtered__&&(e>0||n<0)?new nx(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),i!==n&&(r=(n=aa(n))<0?r.dropRight(-n):r.take(n-e)),r)},nx.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},nx.prototype.toArray=function(){return this.take(4294967295)},nJ(nx.prototype,function(e,n){var r=/^(?:filter|find|map|reject)|While$/.test(n),o=/^(?:head|last)$/.test(n),a=nb[o?"take"+("last"==n?"Right":""):n],s=o||/^find/.test(n);a&&(nb.prototype[n]=function(){var n=this.__wrapped__,l=o?[1]:arguments,u=n instanceof nx,c=l[0],d=u||oK(n),h=function(e){var n=a.apply(nb,tb([e],l));return o&&f?n[0]:n};d&&r&&"function"==typeof c&&1!=c.length&&(u=d=!1);var f=this.__chain__,p=!!this.__actions__.length,g=s&&!f,y=u&&!p;if(!s&&d){n=y?n:new nx(this);var m=e.apply(n,l);return m.__actions__.push({func:og,args:[h],thisArg:i}),new nE(m,f)}return g&&y?e.apply(this,l):(m=this.thru(h),g?o?m.value()[0]:m.value():m)})}),th(["pop","push","shift","sort","splice","unshift"],function(e){var n=ej[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);nb.prototype[e]=function(){var e=arguments;if(i&&!this.__chain__){var o=this.value();return n.apply(oK(o)?o:[],e)}return this[r](function(r){return n.apply(oK(r)?r:[],e)})}}),nJ(nx.prototype,function(e,n){var r=nb[n];if(r){var i=r.name+"";!eR.call(nc,i)&&(nc[i]=[]),nc[i].push({name:n,func:r})}}),nc[r8(i,2).name]=[{name:"wrapper",func:i}],nx.prototype.clone=function(){var e=new nx(this.__wrapped__);return e.__actions__=rZ(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=rZ(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=rZ(this.__views__),e},nx.prototype.reverse=function(){if(this.__filtered__){var e=new nx(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e},nx.prototype.value=function(){var e=this.__wrapped__.value(),n=this.__dir__,r=oK(e),i=n<0,o=r?e.length:0,a=function(e,n,r){for(var i=-1,o=r.length;++i<o;){var a=r[i],s=a.size;switch(a.type){case"drop":e+=s;break;case"dropRight":n-=s;break;case"take":n=t9(n,e+s);break;case"takeRight":e=t8(e,n-s)}}return{start:e,end:n}}(0,o,this.__views__),s=a.start,l=a.end,u=l-s,c=i?l:s-1,d=this.__iteratees__,h=d.length,f=0,p=t9(u,this.__takeCount__);if(!r||!i&&o==u&&p==u)return rR(e,this.__actions__);var g=[];t:for(;u--&&f<p;){for(var y=-1,m=e[c+=n];++y<h;){var b=d[y],_=b.iteratee,w=b.type,E=_(m);if(2==w)m=E;else if(!E){if(1==w)continue t;break t}}g[f++]=m}return g},nb.prototype.at=oy,nb.prototype.chain=function(){return op(this)},nb.prototype.commit=function(){return new nE(this.value(),this.__chain__)},nb.prototype.next=function(){i===this.__values__&&(this.__values__=ai(this.value()));var e=this.__index__>=this.__values__.length,n=e?i:this.__values__[this.__index__++];return{done:e,value:n}},nb.prototype.plant=function(e){for(var n,r=this;r instanceof nw;){var o=iQ(r);o.__index__=0,o.__values__=i,n?a.__wrapped__=o:n=o;var a=o;r=r.__wrapped__}return a.__wrapped__=e,n},nb.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof nx){var n=e;return this.__actions__.length&&(n=new nx(this)),(n=n.reverse()).__actions__.push({func:og,args:[on],thisArg:i}),new nE(n,this.__chain__)}return this.thru(on)},nb.prototype.toJSON=nb.prototype.valueOf=nb.prototype.value=function(){return rR(this.__wrapped__,this.__actions__)},nb.prototype.first=nb.prototype.head,e7&&(nb.prototype[e7]=function(){return this}),nb}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(e9._=tJ,define(function(){return tJ})):te?((te.exports=tJ)._=tJ,e7._=tJ):e9._=tJ}).call(this)},81848:function(e,n,r){var i=r("12190"),o=r("648"),a=r("4918");e.exports=function(e){return e&&e.length?i(e,a,o):void 0}},33312:function(e,n,r){var i=r("76494");function o(e,n){if("function"!=typeof e||null!=n&&"function"!=typeof n)throw TypeError("Expected a function");var r=function(){var i=arguments,o=n?n.apply(this,i):i[0],a=r.cache;if(a.has(o))return a.get(o);var s=e.apply(this,i);return r.cache=a.set(o,s)||a,s};return r.cache=new(o.Cache||i),r}o.Cache=i,e.exports=o},64795:function(e,n,r){var i=r("26617"),o=r("83494")(function(e,n,r){i(e,n,r)});e.exports=o},82203:function(e,n,r){e.exports=function(){}},60971:function(e,n,r){var i=r("4586");e.exports=function(){return i.Date.now()}},51854:function(e,n,r){var i=r("49919"),o=r("44323"),a=r("69460"),s=r("82189"),l=r("95278"),u=r("99366"),c=r("25596"),d=r("87099"),h=c(function(e,n){var r={};if(null==e)return r;var c=!1;n=i(n,function(n){return n=s(n,e),c||(c=n.length>1),n}),l(e,d(e),r),c&&(r=o(r,7,u));for(var h=n.length;h--;)a(r,n[h]);return r});e.exports=h},24578:function(e,n,r){var i=r("50509"),o=r("25596")(function(e,n){return null==e?{}:i(e,n)});e.exports=o},80334:function(e,n,r){var i=r("7690");e.exports=function(e,n,r){return null==e?e:i(e,n,r)}},38558:function(e,n,r){e.exports=function(){return[]}},93563:function(e,n,r){e.exports=function(){return!1}},17247:function(e,n,r){var i=r("21702"),o=r("2874");e.exports=function(e,n,r){var a=!0,s=!0;if("function"!=typeof e)throw TypeError("Expected a function");return o(r)&&(a="leading"in r?!!r.leading:a,s="trailing"in r?!!r.trailing:s),i(e,n,{leading:a,maxWait:n,trailing:s})}},9203:function(e,n,r){var i=r("4197"),o=r("2874"),a=r("72335"),s=0/0,l=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,d=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return s;if(o(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=o(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=i(e);var r=u.test(e);return r||c.test(e)?d(e.slice(2),r?2:8):l.test(e)?s:+e}},93691:function(e,n,r){var i=r("95278"),o=r("67380");e.exports=function(e){return i(e,o(e))}},64626:function(e,n,r){var i=r("88360");e.exports=function(e){return null==e?"":i(e)}},93981:function(e,n,r){var i=r("32885");e.exports=function(e){return e&&e.length?i(e):[]}},63922:function(e,n,r){var i=r("60342"),o=r("3867"),a=r("65976"),s=o(function(e,n){return a(e)?i(e,n):[]});e.exports=s},74606:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var i=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function o(e,n){if(e.length!==n.length)return!1;for(var r,o,a=0;a<e.length;a++){;if(r=e[a],!(r===(o=n[a])||i(r)&&i(o)))return!1}return!0}var a=function(e,n){void 0===n&&(n=o);var r,i,a=[],s=!1;return function(){for(var o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];return s&&r===this&&n(o,a)?i:(i=e.apply(this,o),s=!0,r=this,a=o,i)}}},98436:function(e,n,r){"use strict";var i=r("33368");function o(){}function a(){}a.resetWarningCache=o,e.exports=function(){function e(e,n,r,o,a,s){if(s!==i){var l=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function n(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:a,resetWarningCache:o};return r.PropTypes=r,r}},40472:function(e,n,r){e.exports=r("98436")()},33368:function(e,n,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},39562:function(e,n,r){"use strict";var i,o,a,s,l,u,c=r("56144"),d=r("19317");function h(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f=new Set,p={};function g(e,n){y(e,n),y(e+"Capture",n)}function y(e,n){for(p[e]=n,e=0;e<n.length;e++)f.add(n[e])}var m=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),b=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},E={};function x(e,n,r,i,o,a,s){this.acceptsBooleans=2===n||3===n||4===n,this.attributeName=i,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=e,this.type=n,this.sanitizeURL=a,this.removeEmptyString=s}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){C[e]=new x(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];C[n]=new x(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){C[e]=new x(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){C[e]=new x(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){C[e]=new x(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){C[e]=new x(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){C[e]=new x(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){C[e]=new x(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){C[e]=new x(e,5,!1,e.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function O(e){return e[1].toUpperCase()}function M(e,n,r,i){var o,a=C.hasOwnProperty(n)?C[n]:null;if(null!==a?0!==a.type:i||!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1]){;(function(e,n,r,i){if(null==n||function(e,n,r,i){if(null!==r&&0===r.type)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":if(i)return!1;if(null!==r)return!r.acceptsBooleans;return"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e;default:return!1}}(e,n,r,i))return!0;if(i)return!1;if(null!==r)switch(r.type){case 3:return!n;case 4:return!1===n;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1})(n,r,a,i)&&(r=null),i||null===a?(o=n,(!!b.call(E,o)||!b.call(w,o)&&(_.test(o)?E[o]=!0:(w[o]=!0,!1)))&&(null===r?e.removeAttribute(n):e.setAttribute(n,""+r))):a.mustUseProperty?e[a.propertyName]=null===r?3!==a.type&&"":r:(n=a.attributeName,i=a.attributeNamespace,null===r?e.removeAttribute(n):(r=3===(a=a.type)||4===a&&!0===r?"":""+r,i?e.setAttributeNS(i,n,r):e.setAttribute(n,r)))}}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(S,O);C[n]=new x(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(S,O);C[n]=new x(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(S,O);C[n]=new x(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){C[e]=new x(e,1,!1,e.toLowerCase(),null,!1,!1)}),C.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){C[e]=new x(e,1,!1,e.toLowerCase(),null,!0,!0)});var P=c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),I=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),A=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),B=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var V=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var $=Symbol.iterator;function U(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=$&&e[$]||e["@@iterator"])?e:null}var H,W=Object.assign;function K(e){if(void 0===H)try{throw Error()}catch(e){var n=e.stack.trim().match(/\n( *(at )?)/);H=n&&n[1]||""}return"\n"+H+e}var G=!1;function Y(e,n){if(!e||G)return"";G=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n){if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var i=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){i=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){i=e}e()}}catch(n){if(n&&i&&"string"==typeof n.stack){for(var o=n.stack.split("\n"),a=i.stack.split("\n"),s=o.length-1,l=a.length-1;1<=s&&0<=l&&o[s]!==a[l];)l--;for(;1<=s&&0<=l;s--,l--)if(o[s]!==a[l]){if(1!==s||1!==l)do if(s--,0>--l||o[s]!==a[l]){var u="\n"+o[s].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=s&&0<=l);break}}}finally{G=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?K(e):""}function X(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function Z(e){var n=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===n||"radio"===n)}function Q(e){e._valueTracker||(e._valueTracker=function(e){var n=Z(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),i=""+e[n];if(!e.hasOwnProperty(n)&&void 0!==r&&"function"==typeof r.get&&"function"==typeof r.set){var o=r.get,a=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return o.call(this)},set:function(e){i=""+e,a.call(this,e)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}(e))}function q(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),i="";return e&&(i=Z(e)?e.checked?"true":"false":e.value),(e=i)!==r&&(n.setValue(e),!0)}function J(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(n){return e.body}}function ee(e,n){var r=n.checked;return W({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function et(e,n){var r=null==n.defaultValue?"":n.defaultValue,i=null!=n.checked?n.checked:n.defaultChecked;r=X(null!=n.value?n.value:r),e._wrapperState={initialChecked:i,initialValue:r,controlled:"checkbox"===n.type||"radio"===n.type?null!=n.checked:null!=n.value}}function en(e,n){null!=(n=n.checked)&&M(e,"checked",n,!1)}function er(e,n){en(e,n);var r=X(n.value),i=n.type;if(null!=r)"number"===i?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===i||"reset"===i){e.removeAttribute("value");return}n.hasOwnProperty("value")?eo(e,n.type,r):n.hasOwnProperty("defaultValue")&&eo(e,n.type,X(n.defaultValue)),null==n.checked&&null!=n.defaultChecked&&(e.defaultChecked=!!n.defaultChecked)}function ei(e,n,r){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var i=n.type;if(!("submit"!==i&&"reset"!==i||void 0!==n.value&&null!==n.value))return;n=""+e._wrapperState.initialValue,r||n===e.value||(e.value=n),e.defaultValue=n}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function eo(e,n,r){("number"!==n||J(e.ownerDocument)!==e)&&(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ea=Array.isArray;function es(e,n,r,i){if(e=e.options,n){n={};for(var o=0;o<r.length;o++)n["$"+r[o]]=!0;for(r=0;r<e.length;r++)o=n.hasOwnProperty("$"+e[r].value),e[r].selected!==o&&(e[r].selected=o),o&&i&&(e[r].defaultSelected=!0)}else{for(o=0,r=""+X(r),n=null;o<e.length;o++){if(e[o].value===r){e[o].selected=!0,i&&(e[o].defaultSelected=!0);return}null!==n||e[o].disabled||(n=e[o])}null!==n&&(n.selected=!0)}}function el(e,n){if(null!=n.dangerouslySetInnerHTML)throw Error(h(91));return W({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function eu(e,n){var r=n.value;if(null==r){if(r=n.children,n=n.defaultValue,null!=r){if(null!=n)throw Error(h(92));if(ea(r)){if(1<r.length)throw Error(h(93));r=r[0]}n=r}null==n&&(n=""),r=n}e._wrapperState={initialValue:X(r)}}function ec(e,n){var r=X(n.value),i=X(n.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==n.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=i&&(e.defaultValue=""+i)}function ed(e){var n=e.textContent;n===e._wrapperState.initialValue&&""!==n&&null!==n&&(e.value=n)}function eh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ef(e,n){return null==e||"http://www.w3.org/1999/xhtml"===e?eh(n):"http://www.w3.org/2000/svg"===e&&"foreignObject"===n?"http://www.w3.org/1999/xhtml":e}var ep,eg,ey=(ep=function(e,n){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=n;else{for((eg=eg||document.createElement("div")).innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=eg.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return ep(e,n,r,i)})}:ep);function em(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType){r.nodeValue=n;return}}e.textContent=n}var ev={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eb=["Webkit","ms","Moz","O"];function e_(e,n,r){return null==n||"boolean"==typeof n||""===n?"":r||"number"!=typeof n||0===n||ev.hasOwnProperty(e)&&ev[e]?(""+n).trim():n+"px"}function ew(e,n){for(var r in e=e.style,n)if(n.hasOwnProperty(r)){var i=0===r.indexOf("--"),o=e_(r,n[r],i);"float"===r&&(r="cssFloat"),i?e.setProperty(r,o):e[r]=o}}Object.keys(ev).forEach(function(e){eb.forEach(function(n){ev[n=n+e.charAt(0).toUpperCase()+e.substring(1)]=ev[e]})});var eE=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ex(e,n){if(n){if(eE[e]&&(null!=n.children||null!=n.dangerouslySetInnerHTML))throw Error(h(137,e));if(null!=n.dangerouslySetInnerHTML){if(null!=n.children)throw Error(h(60));if("object"!=typeof n.dangerouslySetInnerHTML||!("__html"in n.dangerouslySetInnerHTML))throw Error(h(61))}if(null!=n.style&&"object"!=typeof n.style)throw Error(h(62))}}function eC(e,n){if(-1===e.indexOf("-"))return"string"==typeof n.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eS=null;function eO(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var eM=null,eP=null,eD=null;function eI(e){if(e=rF(e)){if("function"!=typeof eM)throw Error(h(280));var n=e.stateNode;n&&(n=rB(n),eM(e.stateNode,e.type,n))}}function ej(e){eP?eD?eD.push(e):eD=[e]:eP=e}function eN(){if(eP){var e=eP,n=eD;if(eD=eP=null,eI(e),n)for(e=0;e<n.length;e++)eI(n[e])}}function eT(e,n){return e(n)}function ek(){}var eA=!1;function eR(e,n,r){if(eA)return e(n,r);eA=!0;try{return eT(e,n,r)}finally{eA=!1,(null!==eP||null!==eD)&&(ek(),eN())}}function eL(e,n){var r=e.stateNode;if(null===r)return null;var i=rB(r);if(null===i)return null;r=i[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(r&&"function"!=typeof r)throw Error(h(231,n,typeof r));return r}var eF=!1;if(m)try{var ez={};Object.defineProperty(ez,"passive",{get:function(){eF=!0}}),window.addEventListener("test",ez,ez),window.removeEventListener("test",ez,ez)}catch(e){eF=!1}function eB(e,n,r,i,o,a,s,l,u){var c=Array.prototype.slice.call(arguments,3);try{n.apply(r,c)}catch(e){this.onError(e)}}var eV=!1,e$=null,eU=!1,eH=null,eW={onError:function(e){eV=!0,e$=e}};function eK(e,n,r,i,o,a,s,l,u){eV=!1,e$=null,eB.apply(eW,arguments)}function eG(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do 0!=(4098&(n=e).flags)&&(r=n.return),e=n.return;while(e)}return 3===n.tag?r:null}function eY(e){if(13===e.tag){var n=e.memoizedState;if(null===n&&null!==(e=e.alternate)&&(n=e.memoizedState),null!==n)return n.dehydrated}return null}function eX(e){if(eG(e)!==e)throw Error(h(188))}function eZ(e){return null!==(e=function(e){var n=e.alternate;if(!n){if(null===(n=eG(e)))throw Error(h(188));return n!==e?null:e}for(var r=e,i=n;;){var o=r.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(i=o.return)){r=i;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===r)return eX(o),e;if(a===i)return eX(o),n;a=a.sibling}throw Error(h(188))}if(r.return!==i.return)r=o,i=a;else{for(var s=!1,l=o.child;l;){if(l===r){s=!0,r=o,i=a;break}if(l===i){s=!0,i=o,r=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===r){s=!0,r=a,i=o;break}if(l===i){s=!0,i=a,r=o;break}l=l.sibling}if(!s)throw Error(h(189))}}if(r.alternate!==i)throw Error(h(190))}if(3!==r.tag)throw Error(h(188));return r.stateNode.current===r?e:n}(e))?function e(n){if(5===n.tag||6===n.tag)return n;for(n=n.child;null!==n;){var r=e(n);if(null!==r)return r;n=n.sibling}return null}(e):null}var eQ=d.unstable_scheduleCallback,eq=d.unstable_cancelCallback,eJ=d.unstable_shouldYield,e0=d.unstable_requestPaint,e1=d.unstable_now,e2=d.unstable_getCurrentPriorityLevel,e3=d.unstable_ImmediatePriority,e4=d.unstable_UserBlockingPriority,e5=d.unstable_NormalPriority,e6=d.unstable_LowPriority,e8=d.unstable_IdlePriority,e9=null,e7=null,te=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(tt(e)/tn|0)|0},tt=Math.log,tn=Math.LN2,tr=64,ti=4194304;function to(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ta(e,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,o=e.suspendedLanes,a=e.pingedLanes,s=268435455&r;if(0!==s){var l=s&~o;0!==l?i=to(l):0!=(a&=s)&&(i=to(a))}else 0!=(s=r&~o)?i=to(s):0!==a&&(i=to(a));if(0===i)return 0;if(0!==n&&n!==i&&0==(n&o)&&((o=i&-i)>=(a=n&-n)||16===o&&0!=(4194240&a)))return n;if(0!=(4&i)&&(i|=16&r),0!==(n=e.entangledLanes))for(e=e.entanglements,n&=i;0<n;)o=1<<(r=31-te(n)),i|=e[r],n&=~o;return i}function ts(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function tl(){var e=tr;return 0==(4194240&(tr<<=1))&&(tr=64),e}function tu(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function tc(e,n,r){e.pendingLanes|=n,536870912!==n&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,e[n=31-te(n)]=r}function td(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var i=31-te(r),o=1<<i;o&n|e[i]&n&&(e[i]|=n),r&=~o}}var th=0;function tf(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var tp,tg,ty,tm,tv,tb=!1,t_=[],tw=null,tE=null,tx=null,tC=new Map,tS=new Map,tO=[],tM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tP(e,n){switch(e){case"focusin":case"focusout":tw=null;break;case"dragenter":case"dragleave":tE=null;break;case"mouseover":case"mouseout":tx=null;break;case"pointerover":case"pointerout":tC.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":tS.delete(n.pointerId)}}function tD(e,n,r,i,o,a){return null===e||e.nativeEvent!==a?(e={blockedOn:n,domEventName:r,eventSystemFlags:i,nativeEvent:a,targetContainers:[o]},null!==n&&null!==(n=rF(n))&&tg(n),e):(e.eventSystemFlags|=i,n=e.targetContainers,null!==o&&-1===n.indexOf(o)&&n.push(o),e)}function tI(e){var n=rL(e.target);if(null!==n){var r=eG(n);if(null!==r){if(13===(n=r.tag)){if(null!==(n=eY(r))){e.blockedOn=n,tv(e.priority,function(){ty(r)});return}}else if(3===n&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=3===r.tag?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tj(e){if(null!==e.blockedOn)return!1;for(var n=e.targetContainers;0<n.length;){var r=t$(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(null!==r)return null!==(n=rF(r))&&tg(n),e.blockedOn=r,!1;var i=new(r=e.nativeEvent).constructor(r.type,r);eS=i,r.target.dispatchEvent(i),eS=null;n.shift()}return!0}function tN(e,n,r){tj(e)&&r.delete(n)}function tT(){tb=!1,null!==tw&&tj(tw)&&(tw=null),null!==tE&&tj(tE)&&(tE=null),null!==tx&&tj(tx)&&(tx=null),tC.forEach(tN),tS.forEach(tN)}function tk(e,n){e.blockedOn===n&&(e.blockedOn=null,tb||(tb=!0,d.unstable_scheduleCallback(d.unstable_NormalPriority,tT)))}function tA(e){function n(n){return tk(n,e)}if(0<t_.length){tk(t_[0],e);for(var r=1;r<t_.length;r++){var i=t_[r];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==tw&&tk(tw,e),null!==tE&&tk(tE,e),null!==tx&&tk(tx,e),tC.forEach(n),tS.forEach(n),r=0;r<tO.length;r++)(i=tO[r]).blockedOn===e&&(i.blockedOn=null);for(;0<tO.length&&null===(r=tO[0]).blockedOn;)tI(r),null===r.blockedOn&&tO.shift()}var tR=P.ReactCurrentBatchConfig,tL=!0;function tF(e,n,r,i){var o=th,a=tR.transition;tR.transition=null;try{th=1,tB(e,n,r,i)}finally{th=o,tR.transition=a}}function tz(e,n,r,i){var o=th,a=tR.transition;tR.transition=null;try{th=4,tB(e,n,r,i)}finally{th=o,tR.transition=a}}function tB(e,n,r,i){if(tL){var o=t$(e,n,r,i);if(null===o)ru(e,n,i,tV,r),tP(e,i);else if(function(e,n,r,i,o){switch(n){case"focusin":return tw=tD(tw,e,n,r,i,o),!0;case"dragenter":return tE=tD(tE,e,n,r,i,o),!0;case"mouseover":return tx=tD(tx,e,n,r,i,o),!0;case"pointerover":var a=o.pointerId;return tC.set(a,tD(tC.get(a)||null,e,n,r,i,o)),!0;case"gotpointercapture":return a=o.pointerId,tS.set(a,tD(tS.get(a)||null,e,n,r,i,o)),!0}return!1}(o,e,n,r,i))i.stopPropagation();else if(tP(e,i),4&n&&-1<tM.indexOf(e)){for(;null!==o;){var a=rF(o);if(null!==a&&tp(a),null===(a=t$(e,n,r,i))&&ru(e,n,i,tV,r),a===o)break;o=a}null!==o&&i.stopPropagation()}else ru(e,n,i,null,r)}}var tV=null;function t$(e,n,r,i){if(tV=null,null!==(e=rL(e=eO(i)))){if(null===(n=eG(e)))e=null;else if(13===(r=n.tag)){if(null!==(e=eY(n)))return e;e=null}else if(3===r){if(n.stateNode.current.memoizedState.isDehydrated)return 3===n.tag?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}return tV=e,null}function tU(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(e2()){case e3:return 1;case e4:return 4;case e5:case e6:return 16;case e8:return 536870912;default:return 16}default:return 16}}var tH=null,tW=null,tK=null;function tG(){if(tK)return tK;var e,n,r=tW,i=r.length,o="value"in tH?tH.value:tH.textContent,a=o.length;for(e=0;e<i&&r[e]===o[e];e++);var s=i-e;for(n=1;n<=s&&r[i-n]===o[a-n];n++);return tK=o.slice(e,1<n?1-n:void 0)}function tY(e){var n=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===n&&(e=13):e=n,10===e&&(e=13),32<=e||13===e?e:0}function tX(){return!0}function tZ(){return!1}function tQ(e){function n(n,r,i,o,a){for(var s in this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?tX:tZ,this.isPropagationStopped=tZ,this}return W(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=tX)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=tX)},persist:function(){},isPersistent:tX}),n}var tq,tJ,t0,t1={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},t2=tQ(t1),t3=W({},t1,{view:0,detail:0}),t4=tQ(t3),t5=W({},t3,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:na,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==t0&&(t0&&"mousemove"===e.type?(tq=e.screenX-t0.screenX,tJ=e.screenY-t0.screenY):tJ=tq=0,t0=e),tq)},movementY:function(e){return"movementY"in e?e.movementY:tJ}}),t6=tQ(t5),t8=tQ(W({},t5,{dataTransfer:0})),t9=tQ(W({},t3,{relatedTarget:0})),t7=tQ(W({},t1,{animationName:0,elapsedTime:0,pseudoElement:0})),ne=tQ(W({},t1,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),nt=tQ(W({},t1,{data:0})),nn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ni={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function no(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):!!(e=ni[e])&&!!n[e]}function na(){return no}var ns=tQ(W({},t3,{key:function(e){if(e.key){var n=nn[e.key]||e.key;if("Unidentified"!==n)return n}return"keypress"===e.type?13===(e=tY(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?nr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:na,charCode:function(e){return"keypress"===e.type?tY(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tY(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),nl=tQ(W({},t5,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),nu=tQ(W({},t3,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:na})),nc=tQ(W({},t1,{propertyName:0,elapsedTime:0,pseudoElement:0})),nd=tQ(W({},t5,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),nh=[9,13,27,32],nf=m&&"CompositionEvent"in window,np=null;m&&"documentMode"in document&&(np=document.documentMode);var ng=m&&"TextEvent"in window&&!np,ny=m&&(!nf||np&&8<np&&11>=np),nm=!1;function nv(e,n){switch(e){case"keyup":return -1!==nh.indexOf(n.keyCode);case"keydown":return 229!==n.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nb(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var n_=!1,nw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nE(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===n?!!nw[e.type]:"textarea"===n}function nx(e,n,r,i){ej(i),0<(n=rd(n,"onChange")).length&&(r=new t2("onChange","change",null,r,i),e.push({event:r,listeners:n}))}var nC=null,nS=null;function nO(e){rr(e,0)}function nM(e){if(q(rz(e)))return e}function nP(e,n){if("change"===e)return n}var nD=!1;if(m){if(m){var nI="oninput"in document;if(!nI){var nj=document.createElement("div");nj.setAttribute("oninput","return;"),nI="function"==typeof nj.oninput}i=nI}else i=!1;nD=i&&(!document.documentMode||9<document.documentMode)}function nN(){nC&&(nC.detachEvent("onpropertychange",nT),nS=nC=null)}function nT(e){if("value"===e.propertyName&&nM(nS)){var n=[];nx(n,nS,e,eO(e)),eR(nO,n)}}function nk(e,n,r){"focusin"===e?(nN(),nC=n,nS=r,nC.attachEvent("onpropertychange",nT)):"focusout"===e&&nN()}function nA(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return nM(nS)}function nR(e,n){if("click"===e)return nM(n)}function nL(e,n){if("input"===e||"change"===e)return nM(n)}var nF="function"==typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e==1/n)||e!=e&&n!=n};function nz(e,n){if(nF(e,n))return!0;if("object"!=typeof e||null===e||"object"!=typeof n||null===n)return!1;var r=Object.keys(e),i=Object.keys(n);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var o=r[i];if(!b.call(n,o)||!nF(e[o],n[o]))return!1}return!0}function nB(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nV(e,n){var r,i=nB(e);for(e=0;i;){if(3===i.nodeType){if(r=e+i.textContent.length,e<=n&&r>=n)return{node:i,offset:n-e};e=r}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=nB(i)}}function n$(){for(var e=window,n=J();n instanceof e.HTMLIFrameElement;){try{var r="string"==typeof n.contentWindow.location.href}catch(e){r=!1}if(r)e=n.contentWindow;else break;n=J(e.document)}return n}function nU(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&("input"===n&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===n||"true"===e.contentEditable)}var nH=m&&"documentMode"in document&&11>=document.documentMode,nW=null,nK=null,nG=null,nY=!1;function nX(e,n,r){var i=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;nY||null==nW||nW!==J(i)||(i="selectionStart"in(i=nW)&&nU(i)?{start:i.selectionStart,end:i.selectionEnd}:{anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},nG&&nz(nG,i)||(nG=i,0<(i=rd(nK,"onSelect")).length&&(n=new t2("onSelect","select",null,n,r),e.push({event:n,listeners:i}),n.target=nW)))}function nZ(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var nQ={animationend:nZ("Animation","AnimationEnd"),animationiteration:nZ("Animation","AnimationIteration"),animationstart:nZ("Animation","AnimationStart"),transitionend:nZ("Transition","TransitionEnd")},nq={},nJ={};function n0(e){if(nq[e])return nq[e];if(!nQ[e])return e;var n,r=nQ[e];for(n in r)if(r.hasOwnProperty(n)&&n in nJ)return nq[e]=r[n];return e}m&&(nJ=document.createElement("div").style,"AnimationEvent"in window||(delete nQ.animationend.animation,delete nQ.animationiteration.animation,delete nQ.animationstart.animation),"TransitionEvent"in window||delete nQ.transitionend.transition);var n1=n0("animationend"),n2=n0("animationiteration"),n3=n0("animationstart"),n4=n0("transitionend"),n5=new Map,n6="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function n8(e,n){n5.set(e,n),g(n,[e])}for(var n9=0;n9<n6.length;n9++){var n7=n6[n9];n8(n7.toLowerCase(),"on"+(n7[0].toUpperCase()+n7.slice(1)))}n8(n1,"onAnimationEnd"),n8(n2,"onAnimationIteration"),n8(n3,"onAnimationStart"),n8("dblclick","onDoubleClick"),n8("focusin","onFocus"),n8("focusout","onBlur"),n8(n4,"onTransitionEnd"),y("onMouseEnter",["mouseout","mouseover"]),y("onMouseLeave",["mouseout","mouseover"]),y("onPointerEnter",["pointerout","pointerover"]),y("onPointerLeave",["pointerout","pointerover"]),g("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),g("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),g("onBeforeInput",["compositionend","keypress","textInput","paste"]),g("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),g("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),g("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var re="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rt=new Set("cancel close invalid load scroll toggle".split(" ").concat(re));function rn(e,n,r){var i=e.type||"unknown-event";e.currentTarget=r,!function(e,n,r,i,o,a,s,l,u){if(eK.apply(this,arguments),eV){if(eV){var c=e$;eV=!1,e$=null}else throw Error(h(198));eU||(eU=!0,eH=c)}}(i,n,void 0,e),e.currentTarget=null}function rr(e,n){n=0!=(4&n);for(var r=0;r<e.length;r++){var i=e[r],o=i.event;i=i.listeners;e:{var a=void 0;if(n)for(var s=i.length-1;0<=s;s--){var l=i[s],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==a&&o.isPropagationStopped())break e;rn(o,l,c),a=u}else for(s=0;s<i.length;s++){if(u=(l=i[s]).instance,c=l.currentTarget,l=l.listener,u!==a&&o.isPropagationStopped())break e;rn(o,l,c),a=u}}}if(eU)throw e=eH,eU=!1,eH=null,e}function ri(e,n){var r=n[rk];void 0===r&&(r=n[rk]=new Set);var i=e+"__bubble";r.has(i)||(rl(n,e,2,!1),r.add(i))}function ro(e,n,r){var i=0;n&&(i|=4),rl(r,e,i,n)}var ra="_reactListening"+Math.random().toString(36).slice(2);function rs(e){if(!e[ra]){e[ra]=!0,f.forEach(function(n){"selectionchange"!==n&&(rt.has(n)||ro(n,!1,e),ro(n,!0,e))});var n=9===e.nodeType?e:e.ownerDocument;null===n||n[ra]||(n[ra]=!0,ro("selectionchange",!1,n))}}function rl(e,n,r,i){switch(tU(n)){case 1:var o=tF;break;case 4:o=tz;break;default:o=tB}r=o.bind(null,n,r,e),o=void 0,eF&&("touchstart"===n||"touchmove"===n||"wheel"===n)&&(o=!0),i?void 0!==o?e.addEventListener(n,r,{capture:!0,passive:o}):e.addEventListener(n,r,!0):void 0!==o?e.addEventListener(n,r,{passive:o}):e.addEventListener(n,r,!1)}function ru(e,n,r,i,o){var a=i;if(0==(1&n)&&0==(2&n)&&null!==i)e:for(;;){if(null===i)return;var s=i.tag;if(3===s||4===s){var l=i.stateNode.containerInfo;if(l===o||8===l.nodeType&&l.parentNode===o)break;if(4===s)for(s=i.return;null!==s;){var u=s.tag;if((3===u||4===u)&&((u=s.stateNode.containerInfo)===o||8===u.nodeType&&u.parentNode===o))return;s=s.return}for(;null!==l;){if(null===(s=rL(l)))return;if(5===(u=s.tag)||6===u){i=a=s;continue e}l=l.parentNode}}i=i.return}eR(function(){var i=a,o=eO(r),s=[];e:{var l=n5.get(e);if(void 0!==l){var u=t2,c=e;switch(e){case"keypress":if(0===tY(r))break e;case"keydown":case"keyup":u=ns;break;case"focusin":c="focus",u=t9;break;case"focusout":c="blur",u=t9;break;case"beforeblur":case"afterblur":u=t9;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=t6;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=t8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=nu;break;case n1:case n2:case n3:u=t7;break;case n4:u=nc;break;case"scroll":u=t4;break;case"wheel":u=nd;break;case"copy":case"cut":case"paste":u=ne;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=nl}var d=0!=(4&n),h=!d&&"scroll"===e,f=d?null!==l?l+"Capture":null:l;d=[];for(var p,g=i;null!==g;){var y=(p=g).stateNode;if(5===p.tag&&null!==y&&(p=y,null!==f&&null!=(y=eL(g,f))&&d.push(rc(g,y,p))),h)break;g=g.return}0<d.length&&(l=new u(l,c,null,r,o),s.push({event:l,listeners:d}))}}if(0==(7&n)){e:if(l="mouseover"===e||"pointerover"===e,u="mouseout"===e||"pointerout"===e,!(l&&r!==eS&&(c=r.relatedTarget||r.fromElement)&&(rL(c)||c[rT]))){if((u||l)&&(l=o.window===o?o:(l=o.ownerDocument)?l.defaultView||l.parentWindow:window,u?(c=r.relatedTarget||r.toElement,u=i,null!==(c=c?rL(c):null)&&(h=eG(c),c!==h||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=i),u!==c)){if(d=t6,y="onMouseLeave",f="onMouseEnter",g="mouse",("pointerout"===e||"pointerover"===e)&&(d=nl,y="onPointerLeave",f="onPointerEnter",g="pointer"),h=null==u?l:rz(u),p=null==c?l:rz(c),(l=new d(y,g+"leave",u,r,o)).target=h,l.relatedTarget=p,y=null,rL(o)===i&&((d=new d(f,g+"enter",c,r,o)).target=p,d.relatedTarget=h,y=d),h=y,u&&c)n:{for(d=u,f=c,g=0,p=d;p;p=rh(p))g++;for(p=0,y=f;y;y=rh(y))p++;for(;0<g-p;)d=rh(d),g--;for(;0<p-g;)f=rh(f),p--;for(;g--;){if(d===f||null!==f&&d===f.alternate)break n;d=rh(d),f=rh(f)}d=null}else d=null;null!==u&&rf(s,l,u,d,!1),null!==c&&null!==h&&rf(s,h,c,d,!0)}}e:{if("select"===(u=(l=i?rz(i):window).nodeName&&l.nodeName.toLowerCase())||"input"===u&&"file"===l.type)var m,b=nP;else if(nE(l)){if(nD)b=nL;else{b=nA;var _=nk}}else(u=l.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(b=nR);if(b&&(b=b(e,i))){nx(s,b,r,o);break e}_&&_(e,l,i),"focusout"===e&&(_=l._wrapperState)&&_.controlled&&"number"===l.type&&eo(l,"number",l.value)}switch(_=i?rz(i):window,e){case"focusin":(nE(_)||"true"===_.contentEditable)&&(nW=_,nK=i,nG=null);break;case"focusout":nG=nK=nW=null;break;case"mousedown":nY=!0;break;case"contextmenu":case"mouseup":case"dragend":nY=!1,nX(s,r,o);break;case"selectionchange":if(nH)break;case"keydown":case"keyup":nX(s,r,o)}if(nf)n:{switch(e){case"compositionstart":var w="onCompositionStart";break n;case"compositionend":w="onCompositionEnd";break n;case"compositionupdate":w="onCompositionUpdate";break n}w=void 0}else n_?nv(e,r)&&(w="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(w="onCompositionStart");w&&(ny&&"ko"!==r.locale&&(n_||"onCompositionStart"!==w?"onCompositionEnd"===w&&n_&&(m=tG()):(tW="value"in(tH=o)?tH.value:tH.textContent,n_=!0)),0<(_=rd(i,w)).length&&(w=new nt(w,e,null,r,o),s.push({event:w,listeners:_}),m?w.data=m:null!==(m=nb(r))&&(w.data=m))),(m=ng?function(e,n){switch(e){case"compositionend":return nb(n);case"keypress":if(32!==n.which)return null;return nm=!0," ";case"textInput":return" "===(e=n.data)&&nm?null:e;default:return null}}(e,r):function(e,n){if(n_)return"compositionend"===e||!nf&&nv(e,n)?(e=tG(),tK=tW=tH=null,n_=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ny&&"ko"!==n.locale?null:n.data}}(e,r))&&0<(i=rd(i,"onBeforeInput")).length&&(o=new nt("onBeforeInput","beforeinput",null,r,o),s.push({event:o,listeners:i}),o.data=m)}rr(s,n)})}function rc(e,n,r){return{instance:e,listener:n,currentTarget:r}}function rd(e,n){for(var r=n+"Capture",i=[];null!==e;){var o=e,a=o.stateNode;5===o.tag&&null!==a&&(o=a,null!=(a=eL(e,r))&&i.unshift(rc(e,a,o)),null!=(a=eL(e,n))&&i.push(rc(e,a,o))),e=e.return}return i}function rh(e){if(null===e)return null;do e=e.return;while(e&&5!==e.tag);return e||null}function rf(e,n,r,i,o){for(var a=n._reactName,s=[];null!==r&&r!==i;){var l=r,u=l.alternate,c=l.stateNode;if(null!==u&&u===i)break;5===l.tag&&null!==c&&(l=c,o?null!=(u=eL(r,a))&&s.unshift(rc(r,u,l)):o||null!=(u=eL(r,a))&&s.push(rc(r,u,l))),r=r.return}0!==s.length&&e.push({event:n,listeners:s})}var rp=/\r\n?/g,rg=/\u0000|\uFFFD/g;function ry(e){return("string"==typeof e?e:""+e).replace(rp,"\n").replace(rg,"")}function rm(e,n,r){if(n=ry(n),ry(e)!==n&&r)throw Error(h(425))}function rv(){}var rb=null,r_=null;function rw(e,n){return"textarea"===e||"noscript"===e||"string"==typeof n.children||"number"==typeof n.children||"object"==typeof n.dangerouslySetInnerHTML&&null!==n.dangerouslySetInnerHTML&&null!=n.dangerouslySetInnerHTML.__html}var rE="function"==typeof setTimeout?setTimeout:void 0,rx="function"==typeof clearTimeout?clearTimeout:void 0,rC="function"==typeof Promise?Promise:void 0,rS="function"==typeof queueMicrotask?queueMicrotask:void 0!==rC?function(e){return rC.resolve(null).then(e).catch(rO)}:rE;function rO(e){setTimeout(function(){throw e})}function rM(e,n){var r=n,i=0;do{var o=r.nextSibling;if(e.removeChild(r),o&&8===o.nodeType){if("/$"===(r=o.data)){if(0===i){e.removeChild(o),tA(n);return}i--}else"$"!==r&&"$?"!==r&&"$!"!==r||i++}r=o}while(r);tA(n)}function rP(e){for(;null!=e;e=e.nextSibling){var n=e.nodeType;if(1===n||3===n)break;if(8===n){if("$"===(n=e.data)||"$!"===n||"$?"===n)break;if("/$"===n)return null}}return e}function rD(e){e=e.previousSibling;for(var n=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===n)return e;n--}else"/$"===r&&n++}e=e.previousSibling}return null}var rI=Math.random().toString(36).slice(2),rj="__reactFiber$"+rI,rN="__reactProps$"+rI,rT="__reactContainer$"+rI,rk="__reactEvents$"+rI,rA="__reactListeners$"+rI,rR="__reactHandles$"+rI;function rL(e){var n=e[rj];if(n)return n;for(var r=e.parentNode;r;){if(n=r[rT]||r[rj]){if(r=n.alternate,null!==n.child||null!==r&&null!==r.child)for(e=rD(e);null!==e;){if(r=e[rj])return r;e=rD(e)}return n}r=(e=r).parentNode}return null}function rF(e){return(e=e[rj]||e[rT])&&(5===e.tag||6===e.tag||13===e.tag||3===e.tag)?e:null}function rz(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(h(33))}function rB(e){return e[rN]||null}var rV=[],r$=-1;function rU(e){return{current:e}}function rH(e){0>r$||(e.current=rV[r$],rV[r$]=null,r$--)}function rW(e,n){rV[++r$]=e.current,e.current=n}var rK={},rG=rU(rK),rY=rU(!1),rX=rK;function rZ(e,n){var r=e.type.contextTypes;if(!r)return rK;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===n)return i.__reactInternalMemoizedMaskedChildContext;var o,a={};for(o in r)a[o]=n[o];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=a),a}function rQ(e){return null!=(e=e.childContextTypes)}function rq(){rH(rY),rH(rG)}function rJ(e,n,r){if(rG.current!==rK)throw Error(h(168));rW(rG,n),rW(rY,r)}function r0(e,n,r){var i=e.stateNode;if(n=n.childContextTypes,"function"!=typeof i.getChildContext)return r;for(var o in i=i.getChildContext())if(!(o in n))throw Error(h(108,function(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=n.render).displayName||e.name||"",n.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return function e(n){if(null==n)return null;if("function"==typeof n)return n.displayName||n.name||null;if("string"==typeof n)return n;switch(n){case j:return"Fragment";case I:return"Portal";case T:return"Profiler";case N:return"StrictMode";case L:return"Suspense";case F:return"SuspenseList"}if("object"==typeof n)switch(n.$$typeof){case A:return(n.displayName||"Context")+".Consumer";case k:return(n._context.displayName||"Context")+".Provider";case R:var r=n.render;return(n=n.displayName)||(n=""!==(n=r.displayName||r.name||"")?"ForwardRef("+n+")":"ForwardRef"),n;case z:return null!==(r=n.displayName||null)?r:e(n.type)||"Memo";case B:r=n._payload,n=n._init;try{return e(n(r))}catch(e){}}return null}(n);case 8:return n===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof n)return n.displayName||n.name||null;if("string"==typeof n)return n}return null}(e)||"Unknown",o));return W({},r,i)}function r1(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||rK,rX=rG.current,rW(rG,e),rW(rY,rY.current),!0}function r2(e,n,r){var i=e.stateNode;if(!i)throw Error(h(169));r?(e=r0(e,n,rX),i.__reactInternalMemoizedMergedChildContext=e,rH(rY),rH(rG),rW(rG,e)):rH(rY),rW(rY,r)}var r3=null,r4=!1,r5=!1;function r6(e){null===r3?r3=[e]:r3.push(e)}function r8(){if(!r5&&null!==r3){r5=!0;var e=0,n=th;try{var r=r3;for(th=1;e<r.length;e++){var i=r[e];do i=i(!0);while(null!==i)}r3=null,r4=!1}catch(n){throw null!==r3&&(r3=r3.slice(e+1)),eQ(e3,r8),n}finally{th=n,r5=!1}}return null}var r9=[],r7=0,ie=null,it=0,ir=[],ii=0,io=null,ia=1,is="";function il(e,n){r9[r7++]=it,r9[r7++]=ie,ie=e,it=n}function iu(e,n,r){ir[ii++]=ia,ir[ii++]=is,ir[ii++]=io,io=e;var i=ia;e=is;var o=32-te(i)-1;i&=~(1<<o),r+=1;var a=32-te(n)+o;if(30<a){var s=o-o%5;a=(i&(1<<s)-1).toString(32),i>>=s,o-=s,ia=1<<32-te(n)+o|r<<o|i,is=a+e}else ia=1<<a|r<<o|i,is=e}function ic(e){null!==e.return&&(il(e,1),iu(e,1,0))}function id(e){for(;e===ie;)ie=r9[--r7],r9[r7]=null,it=r9[--r7],r9[r7]=null;for(;e===io;)io=ir[--ii],ir[ii]=null,is=ir[--ii],ir[ii]=null,ia=ir[--ii],ir[ii]=null}var ih=null,ip=null,ig=!1,iy=null;function im(e,n){var r=sQ(5,null,null,0);r.elementType="DELETED",r.stateNode=n,r.return=e,null===(n=e.deletions)?(e.deletions=[r],e.flags|=16):n.push(r)}function iv(e,n){switch(e.tag){case 5:var r=e.type;return null!==(n=1!==n.nodeType||r.toLowerCase()!==n.nodeName.toLowerCase()?null:n)&&(e.stateNode=n,ih=e,ip=rP(n.firstChild),!0);case 6:return null!==(n=""===e.pendingProps||3!==n.nodeType?null:n)&&(e.stateNode=n,ih=e,ip=null,!0);case 13:return null!==(n=8!==n.nodeType?null:n)&&(r=null!==io?{id:ia,overflow:is}:null,e.memoizedState={dehydrated:n,treeContext:r,retryLane:1073741824},(r=sQ(18,null,null,0)).stateNode=n,r.return=e,e.child=r,ih=e,ip=null,!0);default:return!1}}function ib(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function i_(e){if(ig){var n=ip;if(n){var r=n;if(!iv(e,n)){if(ib(e))throw Error(h(418));n=rP(r.nextSibling);var i=ih;n&&iv(e,n)?im(i,r):(e.flags=-4097&e.flags|2,ig=!1,ih=e)}}else{if(ib(e))throw Error(h(418));e.flags=-4097&e.flags|2,ig=!1,ih=e}}}function iw(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ih=e}function iE(e){if(e!==ih)return!1;if(!ig)return iw(e),ig=!0,!1;if((n=3!==e.tag)&&!(n=5!==e.tag)&&(n="head"!==(n=e.type)&&"body"!==n&&!rw(e.type,e.memoizedProps)),n&&(n=ip)){if(ib(e))throw ix(),Error(h(418));for(;n;)im(e,n),n=rP(n.nextSibling)}if(iw(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(h(317));e:{for(n=0,e=e.nextSibling;e;){if(8===e.nodeType){var n,r=e.data;if("/$"===r){if(0===n){ip=rP(e.nextSibling);break e}n--}else"$"!==r&&"$!"!==r&&"$?"!==r||n++}e=e.nextSibling}ip=null}}else ip=ih?rP(e.stateNode.nextSibling):null;return!0}function ix(){for(var e=ip;e;)e=rP(e.nextSibling)}function iC(){ip=ih=null,ig=!1}function iS(e){null===iy?iy=[e]:iy.push(e)}var iO=P.ReactCurrentBatchConfig;function iM(e,n,r){if(null!==(e=r.ref)&&"function"!=typeof e&&"object"!=typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(h(309));var i=r.stateNode}if(!i)throw Error(h(147,e));var o=i,a=""+e;return null!==n&&null!==n.ref&&"function"==typeof n.ref&&n.ref._stringRef===a?n.ref:((n=function(e){var n=o.refs;null===e?delete n[a]:n[a]=e})._stringRef=a,n)}if("string"!=typeof e)throw Error(h(284));if(!r._owner)throw Error(h(290,e))}return e}function iP(e,n){throw Error(h(31,"[object Object]"===(e=Object.prototype.toString.call(n))?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function iD(e){return(0,e._init)(e._payload)}function iI(e){function n(n,r){if(e){var i=n.deletions;null===i?(n.deletions=[r],n.flags|=16):i.push(r)}}function r(r,i){if(!e)return null;for(;null!==i;)n(r,i),i=i.sibling;return null}function i(e,n){for(e=new Map;null!==n;)null!==n.key?e.set(n.key,n):e.set(n.index,n),n=n.sibling;return e}function o(e,n){return(e=sJ(e,n)).index=0,e.sibling=null,e}function a(n,r,i){return(n.index=i,e)?null!==(i=n.alternate)?(i=i.index)<r?(n.flags|=2,r):i:(n.flags|=2,r):(n.flags|=1048576,r)}function s(n){return e&&null===n.alternate&&(n.flags|=2),n}function l(e,n,r,i){return null===n||6!==n.tag?((n=s3(r,e.mode,i)).return=e,n):((n=o(n,r)).return=e,n)}function u(e,n,r,i){var a=r.type;return a===j?d(e,n,r.props.children,i,r.key):null!==n&&(n.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===B&&iD(a)===n.type)?((i=o(n,r.props)).ref=iM(e,n,r),i.return=e,i):((i=s0(r.type,r.key,r.props,null,e.mode,i)).ref=iM(e,n,r),i.return=e,i)}function c(e,n,r,i){return null===n||4!==n.tag||n.stateNode.containerInfo!==r.containerInfo||n.stateNode.implementation!==r.implementation?((n=s4(r,e.mode,i)).return=e,n):((n=o(n,r.children||[])).return=e,n)}function d(e,n,r,i,a){return null===n||7!==n.tag?((n=s1(r,e.mode,i,a)).return=e,n):((n=o(n,r)).return=e,n)}function f(e,n,r){if("string"==typeof n&&""!==n||"number"==typeof n)return(n=s3(""+n,e.mode,r)).return=e,n;if("object"==typeof n&&null!==n){switch(n.$$typeof){case D:return(r=s0(n.type,n.key,n.props,null,e.mode,r)).ref=iM(e,null,n),r.return=e,r;case I:return(n=s4(n,e.mode,r)).return=e,n;case B:var i=n._init;return f(e,i(n._payload),r)}if(ea(n)||U(n))return(n=s1(n,e.mode,r,null)).return=e,n;iP(e,n)}return null}function p(e,n,r,i){var o=null!==n?n.key:null;if("string"==typeof r&&""!==r||"number"==typeof r)return null!==o?null:l(e,n,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case D:return r.key===o?u(e,n,r,i):null;case I:return r.key===o?c(e,n,r,i):null;case B:return p(e,n,(o=r._init)(r._payload),i)}if(ea(r)||U(r))return null!==o?null:d(e,n,r,i,null);iP(e,r)}return null}function g(e,n,r,i,o){if("string"==typeof i&&""!==i||"number"==typeof i)return l(n,e=e.get(r)||null,""+i,o);if("object"==typeof i&&null!==i){switch(i.$$typeof){case D:return u(n,e=e.get(null===i.key?r:i.key)||null,i,o);case I:return c(n,e=e.get(null===i.key?r:i.key)||null,i,o);case B:return g(e,n,r,(0,i._init)(i._payload),o)}if(ea(i)||U(i))return d(n,e=e.get(r)||null,i,o,null);iP(n,i)}return null}return function l(u,c,d,y){if("object"==typeof d&&null!==d&&d.type===j&&null===d.key&&(d=d.props.children),"object"==typeof d&&null!==d){switch(d.$$typeof){case D:e:{for(var m=d.key,b=c;null!==b;){if(b.key===m){if((m=d.type)===j){if(7===b.tag){r(u,b.sibling),(c=o(b,d.props.children)).return=u,u=c;break e}}else if(b.elementType===m||"object"==typeof m&&null!==m&&m.$$typeof===B&&iD(m)===b.type){r(u,b.sibling),(c=o(b,d.props)).ref=iM(u,b,d),c.return=u,u=c;break e}r(u,b);break}n(u,b);b=b.sibling}d.type===j?((c=s1(d.props.children,u.mode,y,d.key)).return=u,u=c):((y=s0(d.type,d.key,d.props,null,u.mode,y)).ref=iM(u,c,d),y.return=u,u=y)}return s(u);case I:e:{for(b=d.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===d.containerInfo&&c.stateNode.implementation===d.implementation){r(u,c.sibling),(c=o(c,d.children||[])).return=u,u=c;break e}r(u,c);break}n(u,c);c=c.sibling}(c=s4(d,u.mode,y)).return=u,u=c}return s(u);case B:return l(u,c,(b=d._init)(d._payload),y)}if(ea(d))return function(o,s,l,u){for(var c=null,d=null,h=s,y=s=0,m=null;null!==h&&y<l.length;y++){h.index>y?(m=h,h=null):m=h.sibling;var b=p(o,h,l[y],u);if(null===b){null===h&&(h=m);break}e&&h&&null===b.alternate&&n(o,h),s=a(b,s,y),null===d?c=b:d.sibling=b,d=b,h=m}if(y===l.length)return r(o,h),ig&&il(o,y),c;if(null===h){for(;y<l.length;y++)null!==(h=f(o,l[y],u))&&(s=a(h,s,y),null===d?c=h:d.sibling=h,d=h);return ig&&il(o,y),c}for(h=i(o,h);y<l.length;y++)null!==(m=g(h,o,y,l[y],u))&&(e&&null!==m.alternate&&h.delete(null===m.key?y:m.key),s=a(m,s,y),null===d?c=m:d.sibling=m,d=m);return e&&h.forEach(function(e){return n(o,e)}),ig&&il(o,y),c}(u,c,d,y);if(U(d))return function(o,s,l,u){var c=U(l);if("function"!=typeof c)throw Error(h(150));if(null==(l=c.call(l)))throw Error(h(151));for(var d=c=null,y=s,m=s=0,b=null,_=l.next();null!==y&&!_.done;m++,_=l.next()){y.index>m?(b=y,y=null):b=y.sibling;var w=p(o,y,_.value,u);if(null===w){null===y&&(y=b);break}e&&y&&null===w.alternate&&n(o,y),s=a(w,s,m),null===d?c=w:d.sibling=w,d=w,y=b}if(_.done)return r(o,y),ig&&il(o,m),c;if(null===y){for(;!_.done;m++,_=l.next())null!==(_=f(o,_.value,u))&&(s=a(_,s,m),null===d?c=_:d.sibling=_,d=_);return ig&&il(o,m),c}for(y=i(o,y);!_.done;m++,_=l.next())null!==(_=g(y,o,m,_.value,u))&&(e&&null!==_.alternate&&y.delete(null===_.key?m:_.key),s=a(_,s,m),null===d?c=_:d.sibling=_,d=_);return e&&y.forEach(function(e){return n(o,e)}),ig&&il(o,m),c}(u,c,d,y);iP(u,d)}return"string"==typeof d&&""!==d||"number"==typeof d?(d=""+d,null!==c&&6===c.tag?(r(u,c.sibling),(c=o(c,d)).return=u,u=c):(r(u,c),(c=s3(d,u.mode,y)).return=u,u=c),s(u)):r(u,c)}}var ij=iI(!0),iN=iI(!1),iT=rU(null),ik=null,iA=null,iR=null;function iL(){iR=iA=ik=null}function iF(e){var n=iT.current;rH(iT),e._currentValue=n}function iz(e,n,r){for(;null!==e;){var i=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,null!==i&&(i.childLanes|=n)):null!==i&&(i.childLanes&n)!==n&&(i.childLanes|=n),e===r)break;e=e.return}}function iB(e,n){ik=e,iR=iA=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&n)&&(au=!0),e.firstContext=null)}function iV(e){var n=e._currentValue;if(iR!==e){if(e={context:e,memoizedValue:n,next:null},null===iA){if(null===ik)throw Error(h(308));iA=e,ik.dependencies={lanes:0,firstContext:e}}else iA=iA.next=e}return n}var i$=null;function iU(e){null===i$?i$=[e]:i$.push(e)}function iH(e,n,r,i){var o=n.interleaved;return null===o?(r.next=r,iU(n)):(r.next=o.next,o.next=r),n.interleaved=r,iW(e,i)}function iW(e,n){e.lanes|=n;var r=e.alternate;for(null!==r&&(r.lanes|=n),r=e,e=e.return;null!==e;)e.childLanes|=n,null!==(r=e.alternate)&&(r.childLanes|=n),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var iK=!1;function iG(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iY(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function iX(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function iZ(e,n,r){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,0!=(2&a6)){var o=i.pending;return null===o?n.next=n:(n.next=o.next,o.next=n),i.pending=n,iW(e,r)}return null===(o=i.interleaved)?(n.next=n,iU(i)):(n.next=o.next,o.next=n),i.interleaved=n,iW(e,r)}function iQ(e,n,r){if(null!==(n=n.updateQueue)&&(n=n.shared,0!=(4194240&r))){var i=n.lanes;i&=e.pendingLanes,r|=i,n.lanes=r,td(e,r)}}function iq(e,n){var r=e.updateQueue,i=e.alternate;if(null!==i&&r===(i=i.updateQueue)){var o=null,a=null;if(null!==(r=r.firstBaseUpdate)){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===a?o=a=s:a=a.next=s,r=r.next}while(null!==r);null===a?o=a=n:a=a.next=n}else o=a=n;r={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:i.shared,effects:i.effects},e.updateQueue=r;return}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}function iJ(e,n,r,i){var o=e.updateQueue;iK=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(null!==l){o.shared.pending=null;var u=l,c=u.next;u.next=null,null===s?a=c:s.next=c,s=u;var d=e.alternate;null!==d&&(l=(d=d.updateQueue).lastBaseUpdate)!==s&&(null===l?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u)}if(null!==a){var h=o.baseState;for(s=0,d=c=u=null,l=a;;){var f=l.lane,p=l.eventTime;if((i&f)===f){null!==d&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,y=l;switch(f=n,p=r,y.tag){case 1:if("function"==typeof(g=y.payload)){h=g.call(p,h,f);break e}h=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null==(f="function"==typeof(g=y.payload)?g.call(p,h,f):g))break e;h=W({},h,f);break e;case 2:iK=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(f=o.effects)?o.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===d?(c=d=p,u=h):d=d.next=p,s|=f;if(null===(l=l.next)){if(null===(l=o.shared.pending))break;l=(f=l).next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}if(null===d&&(u=h),o.baseState=u,o.firstBaseUpdate=c,o.lastBaseUpdate=d,null!==(n=o.shared.interleaved)){o=n;do s|=o.lane,o=o.next;while(o!==n)}else null===a&&(o.shared.lanes=0);si|=s,e.lanes=s,e.memoizedState=h}}function i0(e,n,r){if(e=n.effects,n.effects=null,null!==e)for(n=0;n<e.length;n++){var i=e[n],o=i.callback;if(null!==o){if(i.callback=null,i=r,"function"!=typeof o)throw Error(h(191,o));o.call(i)}}}var i1={},i2=rU(i1),i3=rU(i1),i4=rU(i1);function i5(e){if(e===i1)throw Error(h(174));return e}function i6(e,n){switch(rW(i4,n),rW(i3,e),rW(i2,i1),e=n.nodeType){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:ef(null,"");break;default:n=(e=8===e?n.parentNode:n).namespaceURI||null,e=e.tagName,n=ef(n,e)}rH(i2),rW(i2,n)}function i8(){rH(i2),rH(i3),rH(i4)}function i9(e){i5(i4.current);var n=i5(i2.current),r=ef(n,e.type);n!==r&&(rW(i3,e),rW(i2,r))}function i7(e){i3.current===e&&(rH(i2),rH(i3))}var oe=rU(0);function ot(e){for(var n=e;null!==n;){if(13===n.tag){var r=n.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return n}else if(19===n.tag&&void 0!==n.memoizedProps.revealOrder){if(0!=(128&n.flags))return n}else if(null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var on=[];function or(){for(var e=0;e<on.length;e++)on[e]._workInProgressVersionPrimary=null;on.length=0}var oi=P.ReactCurrentDispatcher,oo=P.ReactCurrentBatchConfig,oa=0,os=null,ol=null,ou=null,oc=!1,od=!1,oh=0,of=0;function op(){throw Error(h(321))}function og(e,n){if(null===n)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!nF(e[r],n[r]))return!1;return!0}function oy(e,n,r,i,o,a){if(oa=a,os=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,oi.current=null===e||null===e.memoizedState?oJ:o0,e=r(i,o),od){a=0;do{if(od=!1,oh=0,25<=a)throw Error(h(301));a+=1,ou=ol=null,n.updateQueue=null,oi.current=o1,e=r(i,o)}while(od)}if(oi.current=oq,n=null!==ol&&null!==ol.next,oa=0,ou=ol=os=null,oc=!1,n)throw Error(h(300));return e}function om(){var e=0!==oh;return oh=0,e}function ov(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ou?os.memoizedState=ou=e:ou=ou.next=e,ou}function ob(){if(null===ol){var e=os.alternate;e=null!==e?e.memoizedState:null}else e=ol.next;var n=null===ou?os.memoizedState:ou.next;if(null!==n)ou=n,ol=e;else{if(null===e)throw Error(h(310));e={memoizedState:(ol=e).memoizedState,baseState:ol.baseState,baseQueue:ol.baseQueue,queue:ol.queue,next:null},null===ou?os.memoizedState=ou=e:ou=ou.next=e}return ou}function o_(e,n){return"function"==typeof n?n(e):n}function ow(e){var n=ob(),r=n.queue;if(null===r)throw Error(h(311));r.lastRenderedReducer=e;var i=ol,o=i.baseQueue,a=r.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}i.baseQueue=o=a,r.pending=null}if(null!==o){a=o.next,i=i.baseState;var l=s=null,u=null,c=a;do{var d=c.lane;if((oa&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:e(i,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=f,s=i):u=u.next=f,os.lanes|=d,si|=d}c=c.next}while(null!==c&&c!==a);null===u?s=i:u.next=l,nF(i,n.memoizedState)||(au=!0),n.memoizedState=i,n.baseState=s,n.baseQueue=u,r.lastRenderedState=i}if(null!==(e=r.interleaved)){o=e;do a=o.lane,os.lanes|=a,si|=a,o=o.next;while(o!==e)}else null===o&&(r.lanes=0);return[n.memoizedState,r.dispatch]}function oE(e){var n=ob(),r=n.queue;if(null===r)throw Error(h(311));r.lastRenderedReducer=e;var i=r.dispatch,o=r.pending,a=n.memoizedState;if(null!==o){r.pending=null;var s=o=o.next;do a=e(a,s.action),s=s.next;while(s!==o);nF(a,n.memoizedState)||(au=!0),n.memoizedState=a,null===n.baseQueue&&(n.baseState=a),r.lastRenderedState=a}return[a,i]}function ox(){}function oC(e,n){var r=os,i=ob(),o=n(),a=!nF(i.memoizedState,o);if(a&&(i.memoizedState=o,au=!0),i=i.queue,oR(oM.bind(null,r,i,e),[e]),i.getSnapshot!==n||a||null!==ou&&1&ou.memoizedState.tag){if(r.flags|=2048,oj(9,oO.bind(null,r,i,o,n),void 0,null),null===a8)throw Error(h(349));0!=(30&oa)||oS(r,n,o)}return o}function oS(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},null===(n=os.updateQueue)?(n={lastEffect:null,stores:null},os.updateQueue=n,n.stores=[e]):null===(r=n.stores)?n.stores=[e]:r.push(e)}function oO(e,n,r,i){n.value=r,n.getSnapshot=i,oP(n)&&oD(e)}function oM(e,n,r){return r(function(){oP(n)&&oD(e)})}function oP(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!nF(e,r)}catch(e){return!0}}function oD(e){var n=iW(e,1);null!==n&&sC(n,e,1,-1)}function oI(e){var n=ov();return"function"==typeof e&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o_,lastRenderedState:e},n.queue=e,e=e.dispatch=oY.bind(null,os,e),[n.memoizedState,e]}function oj(e,n,r,i){return e={tag:e,create:n,destroy:r,deps:i,next:null},null===(n=os.updateQueue)?(n={lastEffect:null,stores:null},os.updateQueue=n,n.lastEffect=e.next=e):null===(r=n.lastEffect)?n.lastEffect=e.next=e:(i=r.next,r.next=e,e.next=i,n.lastEffect=e),e}function oN(){return ob().memoizedState}function oT(e,n,r,i){var o=ov();os.flags|=e,o.memoizedState=oj(1|n,r,void 0,void 0===i?null:i)}function ok(e,n,r,i){var o=ob();i=void 0===i?null:i;var a=void 0;if(null!==ol){var s=ol.memoizedState;if(a=s.destroy,null!==i&&og(i,s.deps)){o.memoizedState=oj(n,r,a,i);return}}os.flags|=e,o.memoizedState=oj(1|n,r,a,i)}function oA(e,n){return oT(8390656,8,e,n)}function oR(e,n){return ok(2048,8,e,n)}function oL(e,n){return ok(4,2,e,n)}function oF(e,n){return ok(4,4,e,n)}function oz(e,n){return"function"==typeof n?(n(e=e()),function(){n(null)}):null!=n?(e=e(),n.current=e,function(){n.current=null}):void 0}function oB(e,n,r){return r=null!=r?r.concat([e]):null,ok(4,4,oz.bind(null,n,e),r)}function oV(){}function o$(e,n){var r=ob();n=void 0===n?null:n;var i=r.memoizedState;return null!==i&&null!==n&&og(n,i[1])?i[0]:(r.memoizedState=[e,n],e)}function oU(e,n){var r=ob();n=void 0===n?null:n;var i=r.memoizedState;return null!==i&&null!==n&&og(n,i[1])?i[0]:(e=e(),r.memoizedState=[e,n],e)}function oH(e,n,r){return 0==(21&oa)?(e.baseState&&(e.baseState=!1,au=!0),e.memoizedState=r):(nF(r,n)||(r=tl(),os.lanes|=r,si|=r,e.baseState=!0),n)}function oW(e,n){var r=th;th=0!==r&&4>r?r:4,e(!0);var i=oo.transition;oo.transition={};try{e(!1),n()}finally{th=r,oo.transition=i}}function oK(){return ob().memoizedState}function oG(e,n,r){var i=sx(e);r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},oX(e)?oZ(n,r):null!==(r=iH(e,n,r,i))&&(sC(r,e,i,sE()),oQ(r,n,i))}function oY(e,n,r){var i=sx(e),o={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(oX(e))oZ(n,o);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=n.lastRenderedReducer))try{var s=n.lastRenderedState,l=a(s,r);if(o.hasEagerState=!0,o.eagerState=l,nF(l,s)){var u=n.interleaved;null===u?(o.next=o,iU(n)):(o.next=u.next,u.next=o),n.interleaved=o;return}}catch(e){}finally{}null!==(r=iH(e,n,o,i))&&(sC(r,e,i,o=sE()),oQ(r,n,i))}}function oX(e){var n=e.alternate;return e===os||null!==n&&n===os}function oZ(e,n){od=oc=!0;var r=e.pending;null===r?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function oQ(e,n,r){if(0!=(4194240&r)){var i=n.lanes;i&=e.pendingLanes,r|=i,n.lanes=r,td(e,r)}}var oq={readContext:iV,useCallback:op,useContext:op,useEffect:op,useImperativeHandle:op,useInsertionEffect:op,useLayoutEffect:op,useMemo:op,useReducer:op,useRef:op,useState:op,useDebugValue:op,useDeferredValue:op,useTransition:op,useMutableSource:op,useSyncExternalStore:op,useId:op,unstable_isNewReconciler:!1},oJ={readContext:iV,useCallback:function(e,n){return ov().memoizedState=[e,void 0===n?null:n],e},useContext:iV,useEffect:oA,useImperativeHandle:function(e,n,r){return r=null!=r?r.concat([e]):null,oT(4194308,4,oz.bind(null,n,e),r)},useLayoutEffect:function(e,n){return oT(4194308,4,e,n)},useInsertionEffect:function(e,n){return oT(4,2,e,n)},useMemo:function(e,n){var r=ov();return n=void 0===n?null:n,e=e(),r.memoizedState=[e,n],e},useReducer:function(e,n,r){var i=ov();return n=void 0!==r?r(n):n,i.memoizedState=i.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},i.queue=e,e=e.dispatch=oG.bind(null,os,e),[i.memoizedState,e]},useRef:function(e){var n=ov();return e={current:e},n.memoizedState=e},useState:oI,useDebugValue:oV,useDeferredValue:function(e){return ov().memoizedState=e},useTransition:function(){var e=oI(!1),n=e[0];return e=oW.bind(null,e[1]),ov().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,r){var i=os,o=ov();if(ig){if(void 0===r)throw Error(h(407));r=r()}else{if(r=n(),null===a8)throw Error(h(349));0!=(30&oa)||oS(i,n,r)}o.memoizedState=r;var a={value:r,getSnapshot:n};return o.queue=a,oA(oM.bind(null,i,a,e),[e]),i.flags|=2048,oj(9,oO.bind(null,i,a,r,n),void 0,null),r},useId:function(){var e=ov(),n=a8.identifierPrefix;if(ig){var r=is,i=ia;n=":"+n+"R"+(r=(i&~(1<<32-te(i)-1)).toString(32)+r),0<(r=oh++)&&(n+="H"+r.toString(32)),n+=":"}else n=":"+n+"r"+(r=of++).toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},o0={readContext:iV,useCallback:o$,useContext:iV,useEffect:oR,useImperativeHandle:oB,useInsertionEffect:oL,useLayoutEffect:oF,useMemo:oU,useReducer:ow,useRef:oN,useState:function(){return ow(o_)},useDebugValue:oV,useDeferredValue:function(e){return oH(ob(),ol.memoizedState,e)},useTransition:function(){return[ow(o_)[0],ob().memoizedState]},useMutableSource:ox,useSyncExternalStore:oC,useId:oK,unstable_isNewReconciler:!1},o1={readContext:iV,useCallback:o$,useContext:iV,useEffect:oR,useImperativeHandle:oB,useInsertionEffect:oL,useLayoutEffect:oF,useMemo:oU,useReducer:oE,useRef:oN,useState:function(){return oE(o_)},useDebugValue:oV,useDeferredValue:function(e){var n=ob();return null===ol?n.memoizedState=e:oH(n,ol.memoizedState,e)},useTransition:function(){return[oE(o_)[0],ob().memoizedState]},useMutableSource:ox,useSyncExternalStore:oC,useId:oK,unstable_isNewReconciler:!1};function o2(e,n){if(e&&e.defaultProps)for(var r in n=W({},n),e=e.defaultProps)void 0===n[r]&&(n[r]=e[r]);return n}function o3(e,n,r,i){n=e.memoizedState,r=null==(r=r(i,n))?n:W({},n,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var o4={isMounted:function(e){return!!(e=e._reactInternals)&&eG(e)===e},enqueueSetState:function(e,n,r){e=e._reactInternals;var i=sE(),o=sx(e),a=iX(i,o);a.payload=n,null!=r&&(a.callback=r),null!==(n=iZ(e,a,o))&&(sC(n,e,o,i),iQ(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var i=sE(),o=sx(e),a=iX(i,o);a.tag=1,a.payload=n,null!=r&&(a.callback=r),null!==(n=iZ(e,a,o))&&(sC(n,e,o,i),iQ(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=sE(),i=sx(e),o=iX(r,i);o.tag=2,null!=n&&(o.callback=n),null!==(n=iZ(e,o,i))&&(sC(n,e,i,r),iQ(n,e,i))}};function o5(e,n,r,i,o,a,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,a,s):!n.prototype||!n.prototype.isPureReactComponent||!nz(r,i)||!nz(o,a)}function o6(e,n,r){var i=!1,o=rK,a=n.contextType;return"object"==typeof a&&null!==a?a=iV(a):(o=rQ(n)?rX:rG.current,a=(i=null!=(i=n.contextTypes))?rZ(e,o):rK),n=new n(r,a),e.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,n.updater=o4,e.stateNode=n,n._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),n}function o8(e,n,r,i){e=n.state,"function"==typeof n.componentWillReceiveProps&&n.componentWillReceiveProps(r,i),"function"==typeof n.UNSAFE_componentWillReceiveProps&&n.UNSAFE_componentWillReceiveProps(r,i),n.state!==e&&o4.enqueueReplaceState(n,n.state,null)}function o9(e,n,r,i){var o=e.stateNode;o.props=r,o.state=e.memoizedState,o.refs={},iG(e);var a=n.contextType;"object"==typeof a&&null!==a?o.context=iV(a):(a=rQ(n)?rX:rG.current,o.context=rZ(e,a)),o.state=e.memoizedState,"function"==typeof(a=n.getDerivedStateFromProps)&&(o3(e,n,a,r),o.state=e.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(n=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),n!==o.state&&o4.enqueueReplaceState(o,o.state,null),iJ(e,r,o,i),o.state=e.memoizedState),"function"==typeof o.componentDidMount&&(e.flags|=4194308)}function o7(e,n){try{var r="",i=n;do r+=function(e){switch(e.tag){case 5:return K(e.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return e=Y(e.type,!1);case 11:return e=Y(e.type.render,!1);case 1:return e=Y(e.type,!0);default:return""}}(i),i=i.return;while(i);var o=r}catch(e){o="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:n,stack:o,digest:null}}function ae(e,n,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=n?n:null}}function at(e,n){try{console.error(n.value)}catch(e){setTimeout(function(){throw e})}}var an="function"==typeof WeakMap?WeakMap:Map;function ar(e,n,r){(r=iX(-1,r)).tag=3,r.payload={element:null};var i=n.value;return r.callback=function(){sh||(sh=!0,sf=i),at(e,n)},r}function ai(e,n,r){(r=iX(-1,r)).tag=3;var i=e.type.getDerivedStateFromError;if("function"==typeof i){var o=n.value;r.payload=function(){return i(o)},r.callback=function(){at(e,n)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(r.callback=function(){at(e,n),"function"!=typeof i&&(null===sp?sp=new Set([this]):sp.add(this));var r=n.stack;this.componentDidCatch(n.value,{componentStack:null!==r?r:""})}),r}function ao(e,n,r){var i=e.pingCache;if(null===i){i=e.pingCache=new an;var o=new Set;i.set(n,o)}else void 0===(o=i.get(n))&&(o=new Set,i.set(n,o));o.has(r)||(o.add(r),e=sW.bind(null,e,n,r),n.then(e,e))}function aa(e){do{var n;if((n=13===e.tag)&&(n=null===(n=e.memoizedState)||null!==n.dehydrated),n)return e;e=e.return}while(null!==e);return null}function as(e,n,r,i,o){return 0==(1&e.mode)?(e===n?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((n=iX(-1,1)).tag=2,iZ(r,n,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var al=P.ReactCurrentOwner,au=!1;function ac(e,n,r,i){n.child=null===e?iN(n,null,r,i):ij(n,e.child,r,i)}function ad(e,n,r,i,o){r=r.render;var a=n.ref;return(iB(n,o),i=oy(e,n,r,i,a,o),r=om(),null===e||au)?(ig&&r&&ic(n),n.flags|=1,ac(e,n,i,o),n.child):(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o,aI(e,n,o))}function ah(e,n,r,i,o){if(null===e){var a=r.type;return"function"!=typeof a||sq(a)||void 0!==a.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=s0(r.type,null,i,n,n.mode,o)).ref=n.ref,e.return=n,n.child=e):(n.tag=15,n.type=a,af(e,n,a,i,o))}if(a=e.child,0==(e.lanes&o)){var s=a.memoizedProps;if((r=null!==(r=r.compare)?r:nz)(s,i)&&e.ref===n.ref)return aI(e,n,o)}return n.flags|=1,(e=sJ(a,i)).ref=n.ref,e.return=n,n.child=e}function af(e,n,r,i,o){if(null!==e){var a=e.memoizedProps;if(nz(a,i)&&e.ref===n.ref){if(au=!1,n.pendingProps=i=a,0==(e.lanes&o))return n.lanes=e.lanes,aI(e,n,o);0!=(131072&e.flags)&&(au=!0)}}return ay(e,n,r,i,o)}function ap(e,n,r){var i=n.pendingProps,o=i.children,a=null!==e?e.memoizedState:null;if("hidden"===i.mode){if(0==(1&n.mode))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},rW(st,se),se|=r;else{if(0==(1073741824&r))return e=null!==a?a.baseLanes|r:r,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,rW(st,se),se|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==a?a.baseLanes:r,rW(st,se),se|=i}}else null!==a?(i=a.baseLanes|r,n.memoizedState=null):i=r,rW(st,se),se|=i;return ac(e,n,o,r),n.child}function ag(e,n){var r=n.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(n.flags|=512,n.flags|=2097152)}function ay(e,n,r,i,o){var a=rQ(r)?rX:rG.current;return(a=rZ(n,a),iB(n,o),r=oy(e,n,r,i,a,o),i=om(),null===e||au)?(ig&&i&&ic(n),n.flags|=1,ac(e,n,r,o),n.child):(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o,aI(e,n,o))}function am(e,n,r,i,o){if(rQ(r)){var a=!0;r1(n)}else a=!1;if(iB(n,o),null===n.stateNode)aD(e,n),o6(n,r,i),o9(n,r,i,o),i=!0;else if(null===e){var s=n.stateNode,l=n.memoizedProps;s.props=l;var u=s.context,c=r.contextType;c="object"==typeof c&&null!==c?iV(c):rZ(n,c=rQ(r)?rX:rG.current);var d=r.getDerivedStateFromProps,h="function"==typeof d||"function"==typeof s.getSnapshotBeforeUpdate;h||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(l!==i||u!==c)&&o8(n,s,i,c),iK=!1;var f=n.memoizedState;s.state=f,iJ(n,i,s,o),u=n.memoizedState,l!==i||f!==u||rY.current||iK?("function"==typeof d&&(o3(n,r,d,i),u=n.memoizedState),(l=iK||o5(n,r,l,i,f,u,c))?(h||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(n.flags|=4194308)):("function"==typeof s.componentDidMount&&(n.flags|=4194308),n.memoizedProps=i,n.memoizedState=u),s.props=i,s.state=u,s.context=c,i=l):("function"==typeof s.componentDidMount&&(n.flags|=4194308),i=!1)}else{s=n.stateNode,iY(e,n),l=n.memoizedProps,c=n.type===n.elementType?l:o2(n.type,l),s.props=c,h=n.pendingProps,f=s.context,u="object"==typeof(u=r.contextType)&&null!==u?iV(u):rZ(n,u=rQ(r)?rX:rG.current);var p=r.getDerivedStateFromProps;(d="function"==typeof p||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(l!==h||f!==u)&&o8(n,s,i,u),iK=!1,f=n.memoizedState,s.state=f,iJ(n,i,s,o);var g=n.memoizedState;l!==h||f!==g||rY.current||iK?("function"==typeof p&&(o3(n,r,p,i),g=n.memoizedState),(c=iK||o5(n,r,c,i,f,g,u)||!1)?(d||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(i,g,u),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(i,g,u)),"function"==typeof s.componentDidUpdate&&(n.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(n.flags|=1024)):("function"!=typeof s.componentDidUpdate||l===e.memoizedProps&&f===e.memoizedState||(n.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||l===e.memoizedProps&&f===e.memoizedState||(n.flags|=1024),n.memoizedProps=i,n.memoizedState=g),s.props=i,s.state=g,s.context=u,i=c):("function"!=typeof s.componentDidUpdate||l===e.memoizedProps&&f===e.memoizedState||(n.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||l===e.memoizedProps&&f===e.memoizedState||(n.flags|=1024),i=!1)}return av(e,n,r,i,a,o)}function av(e,n,r,i,o,a){ag(e,n);var s=0!=(128&n.flags);if(!i&&!s)return o&&r2(n,r,!1),aI(e,n,a);i=n.stateNode,al.current=n;var l=s&&"function"!=typeof r.getDerivedStateFromError?null:i.render();return n.flags|=1,null!==e&&s?(n.child=ij(n,e.child,null,a),n.child=ij(n,null,l,a)):ac(e,n,l,a),n.memoizedState=i.state,o&&r2(n,r,!0),n.child}function ab(e){var n=e.stateNode;n.pendingContext?rJ(e,n.pendingContext,n.pendingContext!==n.context):n.context&&rJ(e,n.context,!1),i6(e,n.containerInfo)}function a_(e,n,r,i,o){return iC(),iS(o),n.flags|=256,ac(e,n,r,i),n.child}var aw={dehydrated:null,treeContext:null,retryLane:0};function aE(e){return{baseLanes:e,cachePool:null,transitions:null}}function ax(e,n,r){var i,o=n.pendingProps,a=oe.current,s=!1,l=0!=(128&n.flags);if((i=l)||(i=(null===e||null!==e.memoizedState)&&0!=(2&a)),i?(s=!0,n.flags&=-129):(null===e||null!==e.memoizedState)&&(a|=1),rW(oe,1&a),null===e)return(i_(n),null!==(e=n.memoizedState)&&null!==(e=e.dehydrated))?(0==(1&n.mode)?n.lanes=1:"$!"===e.data?n.lanes=8:n.lanes=1073741824,null):(l=o.children,e=o.fallback,s?(o=n.mode,s=n.child,l={mode:"hidden",children:l},0==(1&o)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=s2(l,o,0,null),e=s1(e,o,r,null),s.return=n,e.return=n,s.sibling=e,n.child=s,n.child.memoizedState=aE(r),n.memoizedState=aw,e):aC(n,l));if(null!==(a=e.memoizedState)&&null!==(i=a.dehydrated))return function(e,n,r,i,o,a,s){if(r)return 256&n.flags?(n.flags&=-257,aS(e,n,s,i=ae(Error(h(422))))):null!==n.memoizedState?(n.child=e.child,n.flags|=128,null):(a=i.fallback,o=n.mode,i=s2({mode:"visible",children:i.children},o,0,null),a=s1(a,o,s,null),a.flags|=2,i.return=n,a.return=n,i.sibling=a,n.child=i,0!=(1&n.mode)&&ij(n,e.child,null,s),n.child.memoizedState=aE(s),n.memoizedState=aw,a);if(0==(1&n.mode))return aS(e,n,s,null);if("$!"===o.data){if(i=o.nextSibling&&o.nextSibling.dataset)var l=i.dgst;return i=l,i=ae(a=Error(h(419)),i,void 0),aS(e,n,s,i)}if(l=0!=(s&e.childLanes),au||l){if(null!==(i=a8)){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!=(o&(i.suspendedLanes|s))?0:o)&&o!==a.retryLane&&(a.retryLane=o,iW(e,o),sC(i,e,o,-1))}return sL(),aS(e,n,s,i=ae(Error(h(421))))}return"$?"===o.data?(n.flags|=128,n.child=e.child,n=sG.bind(null,e),o._reactRetry=n,null):(e=a.treeContext,ip=rP(o.nextSibling),ih=n,ig=!0,iy=null,null!==e&&(ir[ii++]=ia,ir[ii++]=is,ir[ii++]=io,ia=e.id,is=e.overflow,io=n),n=aC(n,i.children),n.flags|=4096,n)}(e,n,l,o,i,a,r);if(s){s=o.fallback,l=n.mode,i=(a=e.child).sibling;var u={mode:"hidden",children:o.children};return 0==(1&l)&&n.child!==a?((o=n.child).childLanes=0,o.pendingProps=u,n.deletions=null):(o=sJ(a,u)).subtreeFlags=14680064&a.subtreeFlags,null!==i?s=sJ(i,s):(s=s1(s,l,r,null),s.flags|=2),s.return=n,o.return=n,o.sibling=s,n.child=o,o=s,s=n.child,l=null===(l=e.child.memoizedState)?aE(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~r,n.memoizedState=aw,o}return e=(s=e.child).sibling,o=sJ(s,{mode:"visible",children:o.children}),0==(1&n.mode)&&(o.lanes=r),o.return=n,o.sibling=null,null!==e&&(null===(r=n.deletions)?(n.deletions=[e],n.flags|=16):r.push(e)),n.child=o,n.memoizedState=null,o}function aC(e,n){return(n=s2({mode:"visible",children:n},e.mode,0,null)).return=e,e.child=n}function aS(e,n,r,i){return null!==i&&iS(i),ij(n,e.child,null,r),e=aC(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function aO(e,n,r){e.lanes|=n;var i=e.alternate;null!==i&&(i.lanes|=n),iz(e.return,n,r)}function aM(e,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:o}:(a.isBackwards=n,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=r,a.tailMode=o)}function aP(e,n,r){var i=n.pendingProps,o=i.revealOrder,a=i.tail;if(ac(e,n,i.children,r),0!=(2&(i=oe.current)))i=1&i|2,n.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=n.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&aO(e,r,n);else if(19===e.tag)aO(e,r,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(rW(oe,i),0==(1&n.mode))n.memoizedState=null;else switch(o){case"forwards":for(o=null,r=n.child;null!==r;)null!==(e=r.alternate)&&null===ot(e)&&(o=r),r=r.sibling;null===(r=o)?(o=n.child,n.child=null):(o=r.sibling,r.sibling=null),aM(n,!1,o,r,a);break;case"backwards":for(r=null,o=n.child,n.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ot(e)){n.child=o;break}e=o.sibling,o.sibling=r,r=o,o=e}aM(n,!0,r,null,a);break;case"together":aM(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function aD(e,n){0==(1&n.mode)&&null!==e&&(e.alternate=null,n.alternate=null,n.flags|=2)}function aI(e,n,r){if(null!==e&&(n.dependencies=e.dependencies),si|=n.lanes,0==(r&n.childLanes))return null;if(null!==e&&n.child!==e.child)throw Error(h(153));if(null!==n.child){for(r=sJ(e=n.child,e.pendingProps),n.child=r,r.return=n;null!==e.sibling;)e=e.sibling,(r=r.sibling=sJ(e,e.pendingProps)).return=n;r.sibling=null}return n.child}function aj(e,n){if(!ig)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var i=null;null!==r;)null!==r.alternate&&(i=r),r=r.sibling;null===i?n||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function aN(e){var n=null!==e.alternate&&e.alternate.child===e.child,r=0,i=0;if(n)for(var o=e.child;null!==o;)r|=o.lanes|o.childLanes,i|=14680064&o.subtreeFlags,i|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)r|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=i,e.childLanes=r,n}o=function(e,n){for(var r=n.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===n)break;for(;null===r.sibling;){if(null===r.return||r.return===n)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},a=function(){},s=function(e,n,r,i){var o=e.memoizedProps;if(o!==i){e=n.stateNode,i5(i2.current);var a,s=null;switch(r){case"input":o=ee(e,o),i=ee(e,i),s=[];break;case"select":o=W({},o,{value:void 0}),i=W({},i,{value:void 0}),s=[];break;case"textarea":o=el(e,o),i=el(e,i),s=[];break;default:"function"!=typeof o.onClick&&"function"==typeof i.onClick&&(e.onclick=rv)}for(c in ex(r,i),r=null,o)if(!i.hasOwnProperty(c)&&o.hasOwnProperty(c)&&null!=o[c]){if("style"===c){var l=o[c];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(p.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null))}for(c in i){var u=i[c];if(l=null!=o?o[c]:void 0,i.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l)){if("style"===c){if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(r||(r={}),r[a]=u[a])}else r||(s||(s=[]),s.push(c,r)),r=u}else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(s=s||[]).push(c,u)):"children"===c?"string"!=typeof u&&"number"!=typeof u||(s=s||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(p.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&ri("scroll",e),s||l===u||(s=[])):(s=s||[]).push(c,u))}}r&&(s=s||[]).push("style",r);var c=s;(n.updateQueue=c)&&(n.flags|=4)}},l=function(e,n,r,i){r!==i&&(n.flags|=4)};var aT=!1,ak=!1,aA="function"==typeof WeakSet?WeakSet:Set,aR=null;function aL(e,n){var r=e.ref;if(null!==r){if("function"==typeof r)try{r(null)}catch(r){sH(e,n,r)}else r.current=null}}function aF(e,n,r){try{r()}catch(r){sH(e,n,r)}}var az=!1;function aB(e,n,r){var i=n.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var o=i=i.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,void 0!==a&&aF(n,r,a)}o=o.next}while(o!==i)}}function aV(e,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var r=n=n.next;do{if((r.tag&e)===e){var i=r.create;r.destroy=i()}r=r.next}while(r!==n)}}function a$(e){var n=e.ref;if(null!==n){var r=e.stateNode;e.tag;e=r;"function"==typeof n?n(e):n.current=e}}function aU(e){return 5===e.tag||3===e.tag||4===e.tag}function aH(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||aU(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}var aW=null,aK=!1;function aG(e,n,r){for(r=r.child;null!==r;)aY(e,n,r),r=r.sibling}function aY(e,n,r){if(e7&&"function"==typeof e7.onCommitFiberUnmount)try{e7.onCommitFiberUnmount(e9,r)}catch(e){}switch(r.tag){case 5:ak||aL(r,n);case 6:var i=aW,o=aK;aW=null,aG(e,n,r),aW=i,aK=o,null!==aW&&(aK?(e=aW,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):aW.removeChild(r.stateNode));break;case 18:null!==aW&&(aK?(e=aW,r=r.stateNode,8===e.nodeType?rM(e.parentNode,r):1===e.nodeType&&rM(e,r),tA(e)):rM(aW,r.stateNode));break;case 4:i=aW,o=aK,aW=r.stateNode.containerInfo,aK=!0,aG(e,n,r),aW=i,aK=o;break;case 0:case 11:case 14:case 15:if(!ak&&null!==(i=r.updateQueue)&&null!==(i=i.lastEffect)){o=i=i.next;do{var a=o,s=a.destroy;a=a.tag,void 0!==s&&(0!=(2&a)?aF(r,n,s):0!=(4&a)&&aF(r,n,s)),o=o.next}while(o!==i)}aG(e,n,r);break;case 1:if(!ak&&(aL(r,n),"function"==typeof(i=r.stateNode).componentWillUnmount))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(e){sH(r,n,e)}aG(e,n,r);break;case 21:default:aG(e,n,r);break;case 22:1&r.mode?(ak=(i=ak)||null!==r.memoizedState,aG(e,n,r),ak=i):aG(e,n,r)}}function aX(e){var n=e.updateQueue;if(null!==n){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new aA),n.forEach(function(n){var i=sY.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function aZ(e,n){var r=n.deletions;if(null!==r)for(var i=0;i<r.length;i++){var o=r[i];try{var a=n,s=a;e:for(;null!==s;){switch(s.tag){case 5:aW=s.stateNode,aK=!1;break e;case 3:case 4:aW=s.stateNode.containerInfo,aK=!0;break e}s=s.return}if(null===aW)throw Error(h(160));aY(e,a,o),aW=null,aK=!1;var l=o.alternate;null!==l&&(l.return=null),o.return=null}catch(e){sH(o,n,e)}}if(12854&n.subtreeFlags)for(n=n.child;null!==n;)aQ(n,e),n=n.sibling}function aQ(e,n){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(aZ(n,e),aq(e),4&i){try{aB(3,e,e.return),aV(3,e)}catch(n){sH(e,e.return,n)}try{aB(5,e,e.return)}catch(n){sH(e,e.return,n)}}break;case 1:aZ(n,e),aq(e),512&i&&null!==r&&aL(r,r.return);break;case 5:if(aZ(n,e),aq(e),512&i&&null!==r&&aL(r,r.return),32&e.flags){var o=e.stateNode;try{em(o,"")}catch(n){sH(e,e.return,n)}}if(4&i&&null!=(o=e.stateNode)){var a=e.memoizedProps,s=null!==r?r.memoizedProps:a,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===a.type&&null!=a.name&&en(o,a),eC(l,s);var c=eC(l,a);for(s=0;s<u.length;s+=2){var d=u[s],f=u[s+1];"style"===d?ew(o,f):"dangerouslySetInnerHTML"===d?ey(o,f):"children"===d?em(o,f):M(o,d,f,c)}switch(l){case"input":er(o,a);break;case"textarea":ec(o,a);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var g=a.value;null!=g?es(o,!!a.multiple,g,!1):!!a.multiple!==p&&(null!=a.defaultValue?es(o,!!a.multiple,a.defaultValue,!0):es(o,!!a.multiple,a.multiple?[]:"",!1))}o[rN]=a}catch(n){sH(e,e.return,n)}}break;case 6:if(aZ(n,e),aq(e),4&i){if(null===e.stateNode)throw Error(h(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(n){sH(e,e.return,n)}}break;case 3:if(aZ(n,e),aq(e),4&i&&null!==r&&r.memoizedState.isDehydrated)try{tA(n.containerInfo)}catch(n){sH(e,e.return,n)}break;case 4:default:aZ(n,e),aq(e);break;case 13:aZ(n,e),aq(e),8192&(o=e.child).flags&&(a=null!==o.memoizedState,o.stateNode.isHidden=a,a&&(null===o.alternate||null===o.alternate.memoizedState)&&(su=e1())),4&i&&aX(e);break;case 22:if(d=null!==r&&null!==r.memoizedState,1&e.mode?(ak=(c=ak)||d,aZ(n,e),ak=c):aZ(n,e),aq(e),8192&i){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!=(1&e.mode))for(aR=e,d=e.child;null!==d;){for(f=aR=d;null!==aR;){switch(g=(p=aR).child,p.tag){case 0:case 11:case 14:case 15:aB(4,p,p.return);break;case 1:aL(p,p.return);var y=p.stateNode;if("function"==typeof y.componentWillUnmount){i=p,r=p.return;try{n=i,y.props=n.memoizedProps,y.state=n.memoizedState,y.componentWillUnmount()}catch(e){sH(i,r,e)}}break;case 5:aL(p,p.return);break;case 22:if(null!==p.memoizedState){a0(f);continue}}null!==g?(g.return=p,aR=g):a0(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{o=f.stateNode,c?(a=o.style,"function"==typeof a.setProperty?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,s=null!=(u=f.memoizedProps.style)&&u.hasOwnProperty("display")?u.display:null,l.style.display=e_("display",s))}catch(n){sH(e,e.return,n)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(n){sH(e,e.return,n)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:aZ(n,e),aq(e),4&i&&aX(e);case 21:}}function aq(e){var n=e.flags;if(2&n){try{e:{for(var r=e.return;null!==r;){if(aU(r)){var i=r;break e}r=r.return}throw Error(h(160))}switch(i.tag){case 5:var o=i.stateNode;32&i.flags&&(em(o,""),i.flags&=-33);var a=aH(e);!function e(n,r,i){var o=n.tag;if(5===o||6===o)n=n.stateNode,r?i.insertBefore(n,r):i.appendChild(n);else if(4!==o&&null!==(n=n.child))for(e(n,r,i),n=n.sibling;null!==n;)e(n,r,i),n=n.sibling}(e,a,o);break;case 3:case 4:var s=i.stateNode.containerInfo,l=aH(e);!function e(n,r,i){var o=n.tag;if(5===o||6===o)n=n.stateNode,r?8===i.nodeType?i.parentNode.insertBefore(n,r):i.insertBefore(n,r):(8===i.nodeType?(r=i.parentNode).insertBefore(n,i):(r=i).appendChild(n),null!=(i=i._reactRootContainer)||null!==r.onclick||(r.onclick=rv));else if(4!==o&&null!==(n=n.child))for(e(n,r,i),n=n.sibling;null!==n;)e(n,r,i),n=n.sibling}(e,l,s);break;default:throw Error(h(161))}}catch(n){sH(e,e.return,n)}e.flags&=-3}4096&n&&(e.flags&=-4097)}function aJ(e){for(;null!==aR;){var n=aR;if(0!=(8772&n.flags)){var r=n.alternate;try{if(0!=(8772&n.flags))switch(n.tag){case 0:case 11:case 15:ak||aV(5,n);break;case 1:var i=n.stateNode;if(4&n.flags&&!ak){if(null===r)i.componentDidMount();else{var o=n.elementType===n.type?r.memoizedProps:o2(n.type,r.memoizedProps);i.componentDidUpdate(o,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}}var a=n.updateQueue;null!==a&&i0(n,a,i);break;case 3:var s=n.updateQueue;if(null!==s){if(r=null,null!==n.child)switch(n.child.tag){case 5:case 1:r=n.child.stateNode}i0(n,s,r)}break;case 5:var l=n.stateNode;if(null===r&&4&n.flags){r=l;var u=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===n.memoizedState){var c=n.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&tA(f)}}}break;default:throw Error(h(163))}ak||512&n.flags&&a$(n)}catch(e){sH(n,n.return,e)}}if(n===e){aR=null;break}if(null!==(r=n.sibling)){r.return=n.return,aR=r;break}aR=n.return}}function a0(e){for(;null!==aR;){var n=aR;if(n===e){aR=null;break}var r=n.sibling;if(null!==r){r.return=n.return,aR=r;break}aR=n.return}}function a1(e){for(;null!==aR;){var n=aR;try{switch(n.tag){case 0:case 11:case 15:var r=n.return;try{aV(4,n)}catch(e){sH(n,r,e)}break;case 1:var i=n.stateNode;if("function"==typeof i.componentDidMount){var o=n.return;try{i.componentDidMount()}catch(e){sH(n,o,e)}}var a=n.return;try{a$(n)}catch(e){sH(n,a,e)}break;case 5:var s=n.return;try{a$(n)}catch(e){sH(n,s,e)}}}catch(e){sH(n,n.return,e)}if(n===e){aR=null;break}var l=n.sibling;if(null!==l){l.return=n.return,aR=l;break}aR=n.return}}var a2=Math.ceil,a3=P.ReactCurrentDispatcher,a4=P.ReactCurrentOwner,a5=P.ReactCurrentBatchConfig,a6=0,a8=null,a9=null,a7=0,se=0,st=rU(0),sn=0,sr=null,si=0,so=0,sa=0,ss=null,sl=null,su=0,sc=1/0,sd=null,sh=!1,sf=null,sp=null,sg=!1,sy=null,sm=0,sv=0,sb=null,s_=-1,sw=0;function sE(){return 0!=(6&a6)?e1():-1!==s_?s_:s_=e1()}function sx(e){return 0==(1&e.mode)?1:0!=(2&a6)&&0!==a7?a7&-a7:null!==iO.transition?(0===sw&&(sw=tl()),sw):0!==(e=th)?e:e=void 0===(e=window.event)?16:tU(e.type)}function sC(e,n,r,i){if(50<sv)throw sv=0,sb=null,Error(h(185));tc(e,r,i),(0==(2&a6)||e!==a8)&&(e===a8&&(0==(2&a6)&&(so|=r),4===sn&&sD(e,a7)),sS(e,i),1===r&&0===a6&&0==(1&n.mode)&&(sc=e1()+500,r4&&r8()))}function sS(e,n){var r=e.callbackNode;!function(e,n){for(var r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-te(a),l=1<<s,u=o[s];-1===u?(0==(l&r)||0!=(l&i))&&(o[s]=function(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;default:return -1}}(l,n)):u<=n&&(e.expiredLanes|=l),a&=~l}}(e,n);var i=ta(e,e===a8?a7:0);if(0===i)null!==r&&eq(r),e.callbackNode=null,e.callbackPriority=0;else if(n=i&-i,e.callbackPriority!==n){if(null!=r&&eq(r),1===n)0===e.tag?(r4=!0,r6(sI.bind(null,e))):r6(sI.bind(null,e)),rS(function(){0==(6&a6)&&r8()}),r=null;else{switch(tf(i)){case 1:r=e3;break;case 4:r=e4;break;case 16:default:r=e5;break;case 536870912:r=e8}r=function(e,n){return eQ(e,n)}(r,sO.bind(null,e))}e.callbackPriority=n,e.callbackNode=r}}function sO(e,n){if(s_=-1,sw=0,0!=(6&a6))throw Error(h(327));var r=e.callbackNode;if(s$()&&e.callbackNode!==r)return null;var i=ta(e,e===a8?a7:0);if(0===i)return null;if(0!=(30&i)||0!=(i&e.expiredLanes)||n)n=sF(e,i);else{n=i;var o=a6;a6|=2;var a=sR();for((a8!==e||a7!==n)&&(sd=null,sc=e1()+500,sk(e,n));;)try{(function(){for(;null!==a9&&!eJ();)sz(a9)})();break}catch(n){sA(e,n)}iL(),a3.current=a,a6=o,null!==a9?n=0:(a8=null,a7=0,n=sn)}if(0!==n){if(2===n&&0!==(o=ts(e))&&(i=o,n=sM(e,o)),1===n)throw r=sr,sk(e,0),sD(e,i),sS(e,e1()),r;if(6===n)sD(e,i);else{if(o=e.current.alternate,0==(30&i)&&!function(e){for(var n=e;;){if(16384&n.flags){var r=n.updateQueue;if(null!==r&&null!==(r=r.stores))for(var i=0;i<r.length;i++){var o=r[i],a=o.getSnapshot;o=o.value;try{if(!nF(a(),o))return!1}catch(e){return!1}}}if(r=n.child,16384&n.subtreeFlags&&null!==r)r.return=n,n=r;else{if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}(o)&&(2===(n=sF(e,i))&&0!==(a=ts(e))&&(i=a,n=sM(e,a)),1===n))throw r=sr,sk(e,0),sD(e,i),sS(e,e1()),r;switch(e.finishedWork=o,e.finishedLanes=i,n){case 0:case 1:throw Error(h(345));case 2:case 5:sV(e,sl,sd);break;case 3:if(sD(e,i),(130023424&i)===i&&10<(n=su+500-e1())){if(0!==ta(e,0))break;if(((o=e.suspendedLanes)&i)!==i){sE(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=rE(sV.bind(null,e,sl,sd),n);break}sV(e,sl,sd);break;case 4:if(sD(e,i),(4194240&i)===i)break;for(o=-1,n=e.eventTimes;0<i;){var s=31-te(i);a=1<<s,(s=n[s])>o&&(o=s),i&=~a}if(i=o,10<(i=(120>(i=e1()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*a2(i/1960))-i)){e.timeoutHandle=rE(sV.bind(null,e,sl,sd),i);break}sV(e,sl,sd);break;default:throw Error(h(329))}}}return sS(e,e1()),e.callbackNode===r?sO.bind(null,e):null}function sM(e,n){var r=ss;return e.current.memoizedState.isDehydrated&&(sk(e,n).flags|=256),2!==(e=sF(e,n))&&(n=sl,sl=r,null!==n&&sP(n)),e}function sP(e){null===sl?sl=e:sl.push.apply(sl,e)}function sD(e,n){for(n&=~sa,n&=~so,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var r=31-te(n),i=1<<r;e[r]=-1,n&=~i}}function sI(e){if(0!=(6&a6))throw Error(h(327));s$();var n=ta(e,0);if(0==(1&n))return sS(e,e1()),null;var r=sF(e,n);if(0!==e.tag&&2===r){var i=ts(e);0!==i&&(n=i,r=sM(e,i))}if(1===r)throw r=sr,sk(e,0),sD(e,n),sS(e,e1()),r;if(6===r)throw Error(h(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,sV(e,sl,sd),sS(e,e1()),null}function sj(e,n){var r=a6;a6|=1;try{return e(n)}finally{0===(a6=r)&&(sc=e1()+500,r4&&r8())}}function sN(e){null!==sy&&0===sy.tag&&0==(6&a6)&&s$();var n=a6;a6|=1;var r=a5.transition,i=th;try{if(a5.transition=null,th=1,e)return e()}finally{th=i,a5.transition=r,0==(6&(a6=n))&&r8()}}function sT(){se=st.current,rH(st)}function sk(e,n){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,rx(r)),null!==a9)for(r=a9.return;null!==r;){var i=r;switch(id(i),i.tag){case 1:null!=(i=i.type.childContextTypes)&&rq();break;case 3:i8(),rH(rY),rH(rG),or();break;case 5:i7(i);break;case 4:i8();break;case 13:case 19:rH(oe);break;case 10:iF(i.type._context);break;case 22:case 23:sT()}r=r.return}if(a8=e,a9=e=sJ(e.current,null),a7=se=n,sn=0,sr=null,sa=so=si=0,sl=ss=null,null!==i$){for(n=0;n<i$.length;n++)if(null!==(i=(r=i$[n]).interleaved)){r.interleaved=null;var o=i.next,a=r.pending;if(null!==a){var s=a.next;a.next=o,i.next=s}r.pending=i}i$=null}return e}function sA(e,n){for(;;){var r=a9;try{if(iL(),oi.current=oq,oc){for(var i=os.memoizedState;null!==i;){var o=i.queue;null!==o&&(o.pending=null),i=i.next}oc=!1}if(oa=0,ou=ol=os=null,od=!1,oh=0,a4.current=null,null===r||null===r.return){sn=1,sr=n,a9=null;break}e:{var a=e,s=r.return,l=r,u=n;if(n=a7,l.flags|=32768,null!==u&&"object"==typeof u&&"function"==typeof u.then){var c=u,d=l,f=d.tag;if(0==(1&d.mode)&&(0===f||11===f||15===f)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=aa(s);if(null!==g){g.flags&=-257,as(g,s,l,a,n),1&g.mode&&ao(a,c,n),n=g,u=c;var y=n.updateQueue;if(null===y){var m=new Set;m.add(u),n.updateQueue=m}else y.add(u);break e}if(0==(1&n)){ao(a,c,n),sL();break e}u=Error(h(426))}else if(ig&&1&l.mode){var b=aa(s);if(null!==b){0==(65536&b.flags)&&(b.flags|=256),as(b,s,l,a,n),iS(o7(u,l));break e}}a=u=o7(u,l),4!==sn&&(sn=2),null===ss?ss=[a]:ss.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,n&=-n,a.lanes|=n;var _=ar(a,u,n);iq(a,_);break e;case 1:l=u;var w=a.type,E=a.stateNode;if(0==(128&a.flags)&&("function"==typeof w.getDerivedStateFromError||null!==E&&"function"==typeof E.componentDidCatch&&(null===sp||!sp.has(E)))){a.flags|=65536,n&=-n,a.lanes|=n;var x=ai(a,l,n);iq(a,x);break e}}a=a.return}while(null!==a)}sB(r)}catch(e){n=e,a9===r&&null!==r&&(a9=r=r.return);continue}break}}function sR(){var e=a3.current;return a3.current=oq,null===e?oq:e}function sL(){(0===sn||3===sn||2===sn)&&(sn=4),null===a8||0==(268435455&si)&&0==(268435455&so)||sD(a8,a7)}function sF(e,n){var r=a6;a6|=2;var i=sR();for((a8!==e||a7!==n)&&(sd=null,sk(e,n));;)try{(function(){for(;null!==a9;)sz(a9)})();break}catch(n){sA(e,n)}if(iL(),a6=r,a3.current=i,null!==a9)throw Error(h(261));return a8=null,a7=0,sn}function sz(e){var n=u(e.alternate,e,se);e.memoizedProps=e.pendingProps,null===n?sB(e):a9=n,a4.current=null}function sB(e){var n=e;do{var r=n.alternate;if(e=n.return,0==(32768&n.flags)){if(null!==(r=function(e,n,r){var i=n.pendingProps;switch(id(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return aN(n),null;case 1:case 17:return rQ(n.type)&&rq(),aN(n),null;case 3:return i=n.stateNode,i8(),rH(rY),rH(rG),or(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(null===e||null===e.child)&&(iE(n)?n.flags|=4:null===e||e.memoizedState.isDehydrated&&0==(256&n.flags)||(n.flags|=1024,null!==iy&&(sP(iy),iy=null))),a(e,n),aN(n),null;case 5:i7(n);var u=i5(i4.current);if(r=n.type,null!==e&&null!=n.stateNode)s(e,n,r,i,u),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!i){if(null===n.stateNode)throw Error(h(166));return aN(n),null}if(e=i5(i2.current),iE(n)){i=n.stateNode,r=n.type;var c=n.memoizedProps;switch(i[rj]=n,i[rN]=c,e=0!=(1&n.mode),r){case"dialog":ri("cancel",i),ri("close",i);break;case"iframe":case"object":case"embed":ri("load",i);break;case"video":case"audio":for(u=0;u<re.length;u++)ri(re[u],i);break;case"source":ri("error",i);break;case"img":case"image":case"link":ri("error",i),ri("load",i);break;case"details":ri("toggle",i);break;case"input":et(i,c),ri("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!c.multiple},ri("invalid",i);break;case"textarea":eu(i,c),ri("invalid",i)}for(var d in ex(r,c),u=null,c)if(c.hasOwnProperty(d)){var f=c[d];"children"===d?"string"==typeof f?i.textContent!==f&&(!0!==c.suppressHydrationWarning&&rm(i.textContent,f,e),u=["children",f]):"number"==typeof f&&i.textContent!==""+f&&(!0!==c.suppressHydrationWarning&&rm(i.textContent,f,e),u=["children",""+f]):p.hasOwnProperty(d)&&null!=f&&"onScroll"===d&&ri("scroll",i)}switch(r){case"input":Q(i),ei(i,c,!0);break;case"textarea":Q(i),ed(i);break;case"select":case"option":break;default:"function"==typeof c.onClick&&(i.onclick=rv)}i=u,n.updateQueue=i,null!==i&&(n.flags|=4)}else{d=9===u.nodeType?u:u.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=eh(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=d.createElement("div")).innerHTML="<script></script>",e=e.removeChild(e.firstChild)):"string"==typeof i.is?e=d.createElement(r,{is:i.is}):(e=d.createElement(r),"select"===r&&(d=e,i.multiple?d.multiple=!0:i.size&&(d.size=i.size))):e=d.createElementNS(e,r),e[rj]=n,e[rN]=i,o(e,n,!1,!1),n.stateNode=e;e:{switch(d=eC(r,i),r){case"dialog":ri("cancel",e),ri("close",e),u=i;break;case"iframe":case"object":case"embed":ri("load",e),u=i;break;case"video":case"audio":for(u=0;u<re.length;u++)ri(re[u],e);u=i;break;case"source":ri("error",e),u=i;break;case"img":case"image":case"link":ri("error",e),ri("load",e),u=i;break;case"details":ri("toggle",e),u=i;break;case"input":et(e,i),u=ee(e,i),ri("invalid",e);break;case"option":default:u=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},u=W({},i,{value:void 0}),ri("invalid",e);break;case"textarea":eu(e,i),u=el(e,i),ri("invalid",e)}for(c in ex(r,u),f=u)if(f.hasOwnProperty(c)){var g=f[c];"style"===c?ew(e,g):"dangerouslySetInnerHTML"===c?null!=(g=g?g.__html:void 0)&&ey(e,g):"children"===c?"string"==typeof g?("textarea"!==r||""!==g)&&em(e,g):"number"==typeof g&&em(e,""+g):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(p.hasOwnProperty(c)?null!=g&&"onScroll"===c&&ri("scroll",e):null!=g&&M(e,c,g,d))}switch(r){case"input":Q(e),ei(e,i,!1);break;case"textarea":Q(e),ed(e);break;case"option":null!=i.value&&e.setAttribute("value",""+X(i.value));break;case"select":e.multiple=!!i.multiple,null!=(c=i.value)?es(e,!!i.multiple,c,!1):null!=i.defaultValue&&es(e,!!i.multiple,i.defaultValue,!0);break;default:"function"==typeof u.onClick&&(e.onclick=rv)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(n.flags|=4)}null!==n.ref&&(n.flags|=512,n.flags|=2097152)}return aN(n),null;case 6:if(e&&null!=n.stateNode)l(e,n,e.memoizedProps,i);else{if("string"!=typeof i&&null===n.stateNode)throw Error(h(166));if(r=i5(i4.current),i5(i2.current),iE(n)){if(i=n.stateNode,r=n.memoizedProps,i[rj]=n,(c=i.nodeValue!==r)&&null!==(e=ih))switch(e.tag){case 3:rm(i.nodeValue,r,0!=(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&rm(i.nodeValue,r,0!=(1&e.mode))}c&&(n.flags|=4)}else(i=(9===r.nodeType?r:r.ownerDocument).createTextNode(i))[rj]=n,n.stateNode=i}return aN(n),null;case 13:if(rH(oe),i=n.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ig&&null!==ip&&0!=(1&n.mode)&&0==(128&n.flags))ix(),iC(),n.flags|=98560,c=!1;else if(c=iE(n),null!==i&&null!==i.dehydrated){if(null===e){if(!c)throw Error(h(318));if(!(c=null!==(c=n.memoizedState)?c.dehydrated:null))throw Error(h(317));c[rj]=n}else iC(),0==(128&n.flags)&&(n.memoizedState=null),n.flags|=4;aN(n),c=!1}else null!==iy&&(sP(iy),iy=null),c=!0;if(!c)return 65536&n.flags?n:null}if(0!=(128&n.flags))return n.lanes=r,n;return(i=null!==i)!=(null!==e&&null!==e.memoizedState)&&i&&(n.child.flags|=8192,0!=(1&n.mode)&&(null===e||0!=(1&oe.current)?0===sn&&(sn=3):sL())),null!==n.updateQueue&&(n.flags|=4),aN(n),null;case 4:return i8(),a(e,n),null===e&&rs(n.stateNode.containerInfo),aN(n),null;case 10:return iF(n.type._context),aN(n),null;case 19:if(rH(oe),null===(c=n.memoizedState))return aN(n),null;if(i=0!=(128&n.flags),null===(d=c.rendering)){if(i)aj(c,!1);else{if(0!==sn||null!==e&&0!=(128&e.flags))for(e=n.child;null!==e;){if(null!==(d=ot(e))){for(n.flags|=128,aj(c,!1),null!==(i=d.updateQueue)&&(n.updateQueue=i,n.flags|=4),n.subtreeFlags=0,i=r,r=n.child;null!==r;)c=r,e=i,c.flags&=14680066,null===(d=c.alternate)?(c.childLanes=0,c.lanes=e,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=d.childLanes,c.lanes=d.lanes,c.child=d.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=d.memoizedProps,c.memoizedState=d.memoizedState,c.updateQueue=d.updateQueue,c.type=d.type,e=d.dependencies,c.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return rW(oe,1&oe.current|2),n.child}e=e.sibling}null!==c.tail&&e1()>sc&&(n.flags|=128,i=!0,aj(c,!1),n.lanes=4194304)}}else{if(!i){if(null!==(e=ot(d))){if(n.flags|=128,i=!0,null!==(r=e.updateQueue)&&(n.updateQueue=r,n.flags|=4),aj(c,!0),null===c.tail&&"hidden"===c.tailMode&&!d.alternate&&!ig)return aN(n),null}else 2*e1()-c.renderingStartTime>sc&&1073741824!==r&&(n.flags|=128,i=!0,aj(c,!1),n.lanes=4194304)}c.isBackwards?(d.sibling=n.child,n.child=d):(null!==(r=c.last)?r.sibling=d:n.child=d,c.last=d)}if(null!==c.tail)return n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=e1(),n.sibling=null,r=oe.current,rW(oe,i?1&r|2:1&r),n;return aN(n),null;case 22:case 23:return sT(),i=null!==n.memoizedState,null!==e&&null!==e.memoizedState!==i&&(n.flags|=8192),i&&0!=(1&n.mode)?0!=(1073741824&se)&&(aN(n),6&n.subtreeFlags&&(n.flags|=8192)):aN(n),null;case 24:case 25:return null}throw Error(h(156,n.tag))}(r,n,se))){a9=r;return}}else{if(null!==(r=function(e,n){switch(id(n),n.tag){case 1:return rQ(n.type)&&rq(),65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 3:return i8(),rH(rY),rH(rG),or(),0!=(65536&(e=n.flags))&&0==(128&e)?(n.flags=-65537&e|128,n):null;case 5:return i7(n),null;case 13:if(rH(oe),null!==(e=n.memoizedState)&&null!==e.dehydrated){if(null===n.alternate)throw Error(h(340));iC()}return 65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 19:return rH(oe),null;case 4:return i8(),null;case 10:return iF(n.type._context),null;case 22:case 23:return sT(),null;default:return null}}(r,n))){r.flags&=32767,a9=r;return}if(null!==e)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{sn=6,a9=null;return}}if(null!==(n=n.sibling)){a9=n;return}a9=n=e}while(null!==n);0===sn&&(sn=5)}function sV(e,n,r){var i=th,o=a5.transition;try{a5.transition=null,th=1,function(e,n,r,i){do s$();while(null!==sy);if(0!=(6&a6))throw Error(h(327));r=e.finishedWork;var o=e.finishedLanes;if(null===r)return;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(h(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(!function(e,n){var r=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<r;){var o=31-te(r),a=1<<o;n[o]=0,i[o]=-1,e[o]=-1,r&=~a}}(e,a),e===a8&&(a9=a8=null,a7=0),0==(2064&r.subtreeFlags)&&0==(2064&r.flags)||sg||(sg=!0,function(e,n){eQ(e,n)}(e5,function(){return s$(),null})),a=0!=(15990&r.flags),0!=(15990&r.subtreeFlags)||a){a=a5.transition,a5.transition=null;var s,l,u,c=th;th=1;var d=a6;a6|=4,a4.current=null,!function(e,n){if(rb=tL,nU(e=n$())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(i&&0!==i.rangeCount){r=i.anchorNode;var o,a=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{r.nodeType,s.nodeType}catch(e){r=null;break e}var l=0,u=-1,c=-1,d=0,f=0,p=e,g=null;n:for(;;){for(;p!==r||0!==a&&3!==p.nodeType||(u=l+a),p!==s||0!==i&&3!==p.nodeType||(c=l+i),3===p.nodeType&&(l+=p.nodeValue.length),null!==(o=p.firstChild);){;g=p,p=o}for(;;){if(p===e)break n;if(g===r&&++d===a&&(u=l),g===s&&++f===i&&(c=l),null!==(o=p.nextSibling))break;g=(p=g).parentNode}p=o}r=-1===u||-1===c?null:{start:u,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(r_={focusedElem:e,selectionRange:r},tL=!1,aR=n;null!==aR;)if(e=(n=aR).child,0!=(1028&n.subtreeFlags)&&null!==e)e.return=n,aR=e;else for(;null!==aR;){n=aR;try{var y=n.alternate;if(0!=(1024&n.flags))switch(n.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==y){var m=y.memoizedProps,b=y.memoizedState,_=n.stateNode,w=_.getSnapshotBeforeUpdate(n.elementType===n.type?m:o2(n.type,m),b);_.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var E=n.stateNode.containerInfo;1===E.nodeType?E.textContent="":9===E.nodeType&&E.documentElement&&E.removeChild(E.documentElement);break;default:throw Error(h(163))}}catch(e){sH(n,n.return,e)}if(null!==(e=n.sibling)){e.return=n.return,aR=e;break}aR=n.return}y=az,az=!1}(e,r),aQ(r,e),!function(e){var n=n$(),r=e.focusedElem,i=e.selectionRange;if(n!==r&&r&&r.ownerDocument&&function e(n,r){return!!n&&!!r&&(n===r||(!n||3!==n.nodeType)&&(r&&3===r.nodeType?e(n,r.parentNode):"contains"in n?n.contains(r):!!n.compareDocumentPosition&&!!(16&n.compareDocumentPosition(r))))}(r.ownerDocument.documentElement,r)){if(null!==i&&nU(r)){if(n=i.start,void 0===(e=i.end)&&(e=n),"selectionStart"in r)r.selectionStart=n,r.selectionEnd=Math.min(e,r.value.length);else if((e=(n=r.ownerDocument||document)&&n.defaultView||window).getSelection){e=e.getSelection();var o=r.textContent.length,a=Math.min(i.start,o);i=void 0===i.end?a:Math.min(i.end,o),!e.extend&&a>i&&(o=i,i=a,a=o),o=nV(r,a);var s=nV(r,i);o&&s&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((n=n.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),a>i?(e.addRange(n),e.extend(s.node,s.offset)):(n.setEnd(s.node,s.offset),e.addRange(n)))}}for(n=[],e=r;e=e.parentNode;)1===e.nodeType&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof r.focus&&r.focus(),r=0;r<n.length;r++)(e=n[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}(r_),tL=!!rb,r_=rb=null,e.current=r,s=r,l=e,u=o,aR=s,function e(n,r,i){for(var o=0!=(1&n.mode);null!==aR;){var a=aR,s=a.child;if(22===a.tag&&o){var l=null!==a.memoizedState||aT;if(!l){var u=a.alternate,c=null!==u&&null!==u.memoizedState||ak;u=aT;var d=ak;if(aT=l,(ak=c)&&!d)for(aR=a;null!==aR;)c=(l=aR).child,22===l.tag&&null!==l.memoizedState?a1(a):null!==c?(c.return=l,aR=c):a1(a);for(;null!==s;)aR=s,e(s,r,i),s=s.sibling;aR=a,aT=u,ak=d}aJ(n,r,i)}else 0!=(8772&a.subtreeFlags)&&null!==s?(s.return=a,aR=s):aJ(n,r,i)}}(s,l,u),e0(),a6=d,th=c,a5.transition=a}else e.current=r;if(sg&&(sg=!1,sy=e,sm=o),0===(a=e.pendingLanes)&&(sp=null),!function(e){if(e7&&"function"==typeof e7.onCommitFiberRoot)try{e7.onCommitFiberRoot(e9,e,void 0,128==(128&e.current.flags))}catch(e){}}(r.stateNode,i),sS(e,e1()),null!==n)for(i=e.onRecoverableError,r=0;r<n.length;r++)i((o=n[r]).value,{componentStack:o.stack,digest:o.digest});if(sh)throw sh=!1,e=sf,sf=null,e;0!=(1&sm)&&0!==e.tag&&s$(),0!=(1&(a=e.pendingLanes))?e===sb?sv++:(sv=0,sb=e):sv=0,r8()}(e,n,r,i)}finally{a5.transition=o,th=i}return null}function s$(){if(null!==sy){var e=tf(sm),n=a5.transition,r=th;try{if(a5.transition=null,th=16>e?16:e,null===sy)var i=!1;else{if(e=sy,sy=null,sm=0,0!=(6&a6))throw Error(h(331));var o=a6;for(a6|=4,aR=e.current;null!==aR;){var a=aR,s=a.child;if(0!=(16&aR.flags)){var l=a.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(aR=c;null!==aR;){var d=aR;switch(d.tag){case 0:case 11:case 15:aB(8,d,a)}var f=d.child;if(null!==f)f.return=d,aR=f;else for(;null!==aR;){var p=(d=aR).sibling,g=d.return;if(!function e(n){var r=n.alternate;null!==r&&(n.alternate=null,e(r)),n.child=null,n.deletions=null,n.sibling=null,5===n.tag&&null!==(r=n.stateNode)&&(delete r[rj],delete r[rN],delete r[rk],delete r[rA],delete r[rR]),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}(d),d===c){aR=null;break}if(null!==p){p.return=g,aR=p;break}aR=g}}}var y=a.alternate;if(null!==y){var m=y.child;if(null!==m){y.child=null;do{var b=m.sibling;m.sibling=null,m=b}while(null!==m)}}aR=a}}if(0!=(2064&a.subtreeFlags)&&null!==s)s.return=a,aR=s;else n:for(;null!==aR;){if(a=aR,0!=(2048&a.flags))switch(a.tag){case 0:case 11:case 15:aB(9,a,a.return)}var _=a.sibling;if(null!==_){_.return=a.return,aR=_;break n}aR=a.return}}var w=e.current;for(aR=w;null!==aR;){var E=(s=aR).child;if(0!=(2064&s.subtreeFlags)&&null!==E)E.return=s,aR=E;else n:for(s=w;null!==aR;){if(l=aR,0!=(2048&l.flags))try{switch(l.tag){case 0:case 11:case 15:aV(9,l)}}catch(e){sH(l,l.return,e)}if(l===s){aR=null;break n}var x=l.sibling;if(null!==x){x.return=l.return,aR=x;break n}aR=l.return}}if(a6=o,r8(),e7&&"function"==typeof e7.onPostCommitFiberRoot)try{e7.onPostCommitFiberRoot(e9,e)}catch(e){}i=!0}return i}finally{th=r,a5.transition=n}}return!1}function sU(e,n,r){n=o7(r,n),n=ar(e,n,1),e=iZ(e,n,1),n=sE(),null!==e&&(tc(e,1,n),sS(e,n))}function sH(e,n,r){if(3===e.tag)sU(e,e,r);else for(;null!==n;){if(3===n.tag){sU(n,e,r);break}if(1===n.tag){var i=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof i.componentDidCatch&&(null===sp||!sp.has(i))){e=o7(r,e),e=ai(n,e,1),n=iZ(n,e,1),e=sE(),null!==n&&(tc(n,1,e),sS(n,e));break}}n=n.return}}function sW(e,n,r){var i=e.pingCache;null!==i&&i.delete(n),n=sE(),e.pingedLanes|=e.suspendedLanes&r,a8===e&&(a7&r)===r&&(4===sn||3===sn&&(130023424&a7)===a7&&500>e1()-su?sk(e,0):sa|=r),sS(e,n)}function sK(e,n){0===n&&(0==(1&e.mode)?n=1:(n=ti,0==(130023424&(ti<<=1))&&(ti=4194304)));var r=sE();null!==(e=iW(e,n))&&(tc(e,n,r),sS(e,r))}function sG(e){var n=e.memoizedState,r=0;null!==n&&(r=n.retryLane),sK(e,r)}function sY(e,n){var r=0;switch(e.tag){case 13:var i=e.stateNode,o=e.memoizedState;null!==o&&(r=o.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(h(314))}null!==i&&i.delete(n),sK(e,r)}function sX(e,n){return eQ(e,n)}function sZ(e,n,r,i){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sQ(e,n,r,i){return new sZ(e,n,r,i)}function sq(e){return!(!(e=e.prototype)||!e.isReactComponent)}u=function(e,n,r){if(null!==e){if(e.memoizedProps!==n.pendingProps||rY.current)au=!0;else{if(0==(e.lanes&r)&&0==(128&n.flags))return au=!1,function(e,n,r){switch(n.tag){case 3:ab(n),iC();break;case 5:i9(n);break;case 1:rQ(n.type)&&r1(n);break;case 4:i6(n,n.stateNode.containerInfo);break;case 10:var i=n.type._context,o=n.memoizedProps.value;rW(iT,i._currentValue),i._currentValue=o;break;case 13:if(null!==(i=n.memoizedState)){if(null!==i.dehydrated)return rW(oe,1&oe.current),n.flags|=128,null;if(0!=(r&n.child.childLanes))return ax(e,n,r);return rW(oe,1&oe.current),null!==(e=aI(e,n,r))?e.sibling:null}rW(oe,1&oe.current);break;case 19:if(i=0!=(r&n.childLanes),0!=(128&e.flags)){if(i)return aP(e,n,r);n.flags|=128}if(null!==(o=n.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),rW(oe,oe.current),!i)return null;break;case 22:case 23:return n.lanes=0,ap(e,n,r)}return aI(e,n,r)}(e,n,r);au=0!=(131072&e.flags)}}else au=!1,ig&&0!=(1048576&n.flags)&&iu(n,it,n.index);switch(n.lanes=0,n.tag){case 2:var i=n.type;aD(e,n),e=n.pendingProps;var o=rZ(n,rG.current);iB(n,r),o=oy(null,n,i,e,o,r);var a=om();return n.flags|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof?(n.tag=1,n.memoizedState=null,n.updateQueue=null,rQ(i)?(a=!0,r1(n)):a=!1,n.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,iG(n),o.updater=o4,n.stateNode=o,o._reactInternals=n,o9(n,i,e,r),n=av(null,n,i,!0,a,r)):(n.tag=0,ig&&a&&ic(n),ac(null,n,o,r),n=n.child),n;case 16:i=n.elementType;e:{switch(aD(e,n),e=n.pendingProps,i=(o=i._init)(i._payload),n.type=i,o=n.tag=function(e){if("function"==typeof e)return sq(e)?1:0;if(null!=e){if((e=e.$$typeof)===R)return 11;if(e===z)return 14}return 2}(i),e=o2(i,e),o){case 0:n=ay(null,n,i,e,r);break e;case 1:n=am(null,n,i,e,r);break e;case 11:n=ad(null,n,i,e,r);break e;case 14:n=ah(null,n,i,o2(i.type,e),r);break e}throw Error(h(306,i,""))}return n;case 0:return i=n.type,o=n.pendingProps,o=n.elementType===i?o:o2(i,o),ay(e,n,i,o,r);case 1:return i=n.type,o=n.pendingProps,o=n.elementType===i?o:o2(i,o),am(e,n,i,o,r);case 3:e:{if(ab(n),null===e)throw Error(h(387));i=n.pendingProps,o=(a=n.memoizedState).element,iY(e,n),iJ(n,i,null,r);var s=n.memoizedState;if(i=s.element,a.isDehydrated){if(a={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},n.updateQueue.baseState=a,n.memoizedState=a,256&n.flags){o=o7(Error(h(423)),n),n=a_(e,n,i,r,o);break e}if(i!==o){o=o7(Error(h(424)),n),n=a_(e,n,i,r,o);break e}else for(ip=rP(n.stateNode.containerInfo.firstChild),ih=n,ig=!0,iy=null,r=iN(n,null,i,r),n.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(iC(),i===o){n=aI(e,n,r);break e}ac(e,n,i,r)}n=n.child}return n;case 5:return i9(n),null===e&&i_(n),i=n.type,o=n.pendingProps,a=null!==e?e.memoizedProps:null,s=o.children,rw(i,o)?s=null:null!==a&&rw(i,a)&&(n.flags|=32),ag(e,n),ac(e,n,s,r),n.child;case 6:return null===e&&i_(n),null;case 13:return ax(e,n,r);case 4:return i6(n,n.stateNode.containerInfo),i=n.pendingProps,null===e?n.child=ij(n,null,i,r):ac(e,n,i,r),n.child;case 11:return i=n.type,o=n.pendingProps,o=n.elementType===i?o:o2(i,o),ad(e,n,i,o,r);case 7:return ac(e,n,n.pendingProps,r),n.child;case 8:case 12:return ac(e,n,n.pendingProps.children,r),n.child;case 10:e:{if(i=n.type._context,o=n.pendingProps,a=n.memoizedProps,s=o.value,rW(iT,i._currentValue),i._currentValue=s,null!==a){if(nF(a.value,s)){if(a.children===o.children&&!rY.current){n=aI(e,n,r);break e}}else for(null!==(a=n.child)&&(a.return=n);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var u=l.firstContext;null!==u;){if(u.context===i){if(1===a.tag){(u=iX(-1,r&-r)).tag=2;var c=a.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}a.lanes|=r,null!==(u=a.alternate)&&(u.lanes|=r),iz(a.return,r,n),l.lanes|=r;break}u=u.next}}else if(10===a.tag)s=a.type===n.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(h(341));s.lanes|=r,null!==(l=s.alternate)&&(l.lanes|=r),iz(s,r,n),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===n){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}}ac(e,n,o.children,r),n=n.child}return n;case 9:return o=n.type,i=n.pendingProps.children,iB(n,r),o=iV(o),i=i(o),n.flags|=1,ac(e,n,i,r),n.child;case 14:return o=o2(i=n.type,n.pendingProps),o=o2(i.type,o),ah(e,n,i,o,r);case 15:return af(e,n,n.type,n.pendingProps,r);case 17:return i=n.type,o=n.pendingProps,o=n.elementType===i?o:o2(i,o),aD(e,n),n.tag=1,rQ(i)?(e=!0,r1(n)):e=!1,iB(n,r),o6(n,i,o),o9(n,i,o,r),av(null,n,i,!0,e,r);case 19:return aP(e,n,r);case 22:return ap(e,n,r)}throw Error(h(156,n.tag))};function sJ(e,n){var r=e.alternate;return null===r?((r=sQ(e.tag,n,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function s0(e,n,r,i,o,a){var s=2;if(i=e,"function"==typeof e)sq(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case j:return s1(r.children,o,a,n);case N:s=8,o|=8;break;case T:return(e=sQ(12,r,n,2|o)).elementType=T,e.lanes=a,e;case L:return(e=sQ(13,r,n,o)).elementType=L,e.lanes=a,e;case F:return(e=sQ(19,r,n,o)).elementType=F,e.lanes=a,e;case V:return s2(r,o,a,n);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case k:s=10;break e;case A:s=9;break e;case R:s=11;break e;case z:s=14;break e;case B:s=16,i=null;break e}throw Error(h(130,null==e?e:typeof e,""))}return(n=sQ(s,r,n,o)).elementType=e,n.type=i,n.lanes=a,n}function s1(e,n,r,i){return(e=sQ(7,e,i,n)).lanes=r,e}function s2(e,n,r,i){return(e=sQ(22,e,i,n)).elementType=V,e.lanes=r,e.stateNode={isHidden:!1},e}function s3(e,n,r){return(e=sQ(6,e,null,n)).lanes=r,e}function s4(e,n,r){return(n=sQ(4,null!==e.children?e.children:[],e.key,n)).lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function s5(e,n,r,i,o){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tu(0),this.expirationTimes=tu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tu(0),this.identifierPrefix=i,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function s6(e,n,r,i,o,a,s,l,u){return e=new s5(e,n,r,l,u),1===n?(n=1,!0===a&&(n|=8)):n=0,a=sQ(3,null,null,n),e.current=a,a.stateNode=e,a.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},iG(a),e}function s8(e){if(!e)return rK;e=e._reactInternals;e:{if(eG(e)!==e||1!==e.tag)throw Error(h(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(rQ(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(null!==n);throw Error(h(171))}if(1===e.tag){var r=e.type;if(rQ(r))return r0(e,r,n)}return n}function s9(e,n,r,i,o,a,s,l,u){return(e=s6(r,i,!0,e,o,a,s,l,u)).context=s8(null),r=e.current,i=sE(),(a=iX(i,o=sx(r))).callback=null!=n?n:null,iZ(r,a,o),e.current.lanes=o,tc(e,o,i),sS(e,i),e}function s7(e,n,r,i){var o=n.current,a=sE(),s=sx(o);return r=s8(r),null===n.context?n.context=r:n.pendingContext=r,(n=iX(a,s)).payload={element:e},null!==(i=void 0===i?null:i)&&(n.callback=i),null!==(e=iZ(o,n,s))&&(sC(e,o,s,a),iQ(e,o,s)),s}function le(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function lt(e,n){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<n?r:n}}function ln(e,n){lt(e,n),(e=e.alternate)&&lt(e,n)}var lr="function"==typeof reportError?reportError:function(e){console.error(e)};function li(e){this._internalRoot=e}function lo(e){this._internalRoot=e}function la(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function ls(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ll(){}lo.prototype.render=li.prototype.render=function(e){var n=this._internalRoot;if(null===n)throw Error(h(409));s7(e,n,null,null)},lo.prototype.unmount=li.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var n=e.containerInfo;sN(function(){s7(null,e,null,null)}),n[rT]=null}},lo.prototype.unstable_scheduleHydration=function(e){if(e){var n=tm();e={blockedOn:null,target:e,priority:n};for(var r=0;r<tO.length&&0!==n&&n<tO[r].priority;r++);tO.splice(r,0,e),0===r&&tI(e)}};function lu(e,n,r,i,o){var a=r._reactRootContainer;if(a){var s=a;if("function"==typeof o){var l=o;o=function(){var e=le(s);l.call(e)}}s7(n,s,e,o)}else s=function(e,n,r,i,o){if(o){if("function"==typeof i){var a=i;i=function(){var e=le(s);a.call(e)}}var s=s9(n,i,e,0,null,!1,!1,"",ll);return e._reactRootContainer=s,e[rT]=s.current,rs(8===e.nodeType?e.parentNode:e),sN(),s}for(;o=e.lastChild;)e.removeChild(o);if("function"==typeof i){var l=i;i=function(){var e=le(u);l.call(e)}}var u=s6(e,0,!1,null,null,!1,!1,"",ll);return e._reactRootContainer=u,e[rT]=u.current,rs(8===e.nodeType?e.parentNode:e),sN(function(){s7(n,u,r,i)}),u}(r,n,e,o,i);return le(s)}tp=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var r=to(n.pendingLanes);0!==r&&(td(n,1|r),sS(n,e1()),0==(6&a6)&&(sc=e1()+500,r8()))}break;case 13:sN(function(){var n=iW(e,1);null!==n&&sC(n,e,1,sE())}),ln(e,1)}},tg=function(e){if(13===e.tag){var n=iW(e,134217728);null!==n&&sC(n,e,134217728,sE()),ln(e,134217728)}},ty=function(e){if(13===e.tag){var n=sx(e),r=iW(e,n);null!==r&&sC(r,e,n,sE()),ln(e,n)}},tm=function(){return th},tv=function(e,n){var r=th;try{return th=e,n()}finally{th=r}},eM=function(e,n,r){switch(n){case"input":if(er(e,r),n=r.name,"radio"===r.type&&null!=n){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<r.length;n++){var i=r[n];if(i!==e&&i.form===e.form){var o=rB(i);if(!o)throw Error(h(90));q(i),er(i,o)}}}break;case"textarea":ec(e,r);break;case"select":null!=(n=r.value)&&es(e,!!r.multiple,n,!1)}},eT=sj,ek=sN;var lc={findFiberByHostInstance:rL,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ld={bundleType:lc.bundleType,version:lc.version,rendererPackageName:lc.rendererPackageName,rendererConfig:lc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=eZ(e))?null:e.stateNode},findFiberByHostInstance:lc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lh.isDisabled&&lh.supportsFiber)try{e9=lh.inject(ld),e7=lh}catch(e){}}n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED={usingClientEntryPoint:!1,Events:[rF,rz,rB,ej,eN,sj]},n.createPortal=function(e,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!la(n))throw Error(h(200));return function(e,n,r){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:I,key:null==i?null:""+i,children:e,containerInfo:n,implementation:null}}(e,n,null,r)},n.createRoot=function(e,n){if(!la(e))throw Error(h(299));var r=!1,i="",o=lr;return null!=n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),n=s6(e,1,!1,null,null,r,!1,i,o),e[rT]=n.current,rs(8===e.nodeType?e.parentNode:e),new li(n)},n.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var n=e._reactInternals;if(void 0===n){if("function"==typeof e.render)throw Error(h(188));throw Error(h(268,e=Object.keys(e).join(",")))}return e=null===(e=eZ(n))?null:e.stateNode},n.flushSync=function(e){return sN(e)},n.hydrate=function(e,n,r){if(!ls(n))throw Error(h(200));return lu(null,e,n,!0,r)},n.hydrateRoot=function(e,n,r){if(!la(e))throw Error(h(405));var i=null!=r&&r.hydratedSources||null,o=!1,a="",s=lr;if(null!=r&&(!0===r.unstable_strictMode&&(o=!0),void 0!==r.identifierPrefix&&(a=r.identifierPrefix),void 0!==r.onRecoverableError&&(s=r.onRecoverableError)),n=s9(n,null,e,1,null!=r?r:null,o,!1,a,s),e[rT]=n.current,rs(e),i)for(e=0;e<i.length;e++)o=(o=(r=i[e])._getVersion)(r._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[r,o]:n.mutableSourceEagerHydrationData.push(r,o);return new lo(n)},n.render=function(e,n,r){if(!ls(n))throw Error(h(200));return lu(null,e,n,!1,r)},n.unmountComponentAtNode=function(e){if(!ls(e))throw Error(h(40));return!!e._reactRootContainer&&(sN(function(){lu(null,null,e,!1,function(){e._reactRootContainer=null,e[rT]=null})}),!0)},n.unstable_batchedUpdates=sj,n.unstable_renderSubtreeIntoContainer=function(e,n,r,i){if(!ls(r))throw Error(h(200));if(null==e||void 0===e._reactInternals)throw Error(h(38));return lu(e,n,r,!1,i)},n.version="18.3.1-next-f1338f8080-20240426"},17032:function(e,n,r){"use strict";var i=r("48362");n.createRoot=i.createRoot,n.hydrateRoot=i.hydrateRoot},48362:function(e,n,r){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=r("39562")},14589:function(e,n,r){"use strict";var i="function"==typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,l=i?Symbol.for("react.strict_mode"):60108,u=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,d=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.async_mode"):60111,f=i?Symbol.for("react.concurrent_mode"):60111,p=i?Symbol.for("react.forward_ref"):60112,g=i?Symbol.for("react.suspense"):60113,y=i?Symbol.for("react.suspense_list"):60120,m=i?Symbol.for("react.memo"):60115,b=i?Symbol.for("react.lazy"):60116,_=i?Symbol.for("react.block"):60121,w=i?Symbol.for("react.fundamental"):60117,E=i?Symbol.for("react.responder"):60118,x=i?Symbol.for("react.scope"):60119;function C(e){if("object"==typeof e&&null!==e){var n=e.$$typeof;switch(n){case o:switch(e=e.type){case h:case f:case s:case u:case l:case g:return e;default:switch(e=e&&e.$$typeof){case d:case p:case b:case m:case c:return e;default:return n}}case a:return n}}}function S(e){return C(e)===f}n.AsyncMode=h,n.ConcurrentMode=f,n.ContextConsumer=d,n.ContextProvider=c,n.Element=o,n.ForwardRef=p,n.Fragment=s,n.Lazy=b,n.Memo=m,n.Portal=a,n.Profiler=u,n.StrictMode=l,n.Suspense=g,n.isAsyncMode=function(e){return S(e)||C(e)===h},n.isConcurrentMode=S,n.isContextConsumer=function(e){return C(e)===d},n.isContextProvider=function(e){return C(e)===c},n.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},n.isForwardRef=function(e){return C(e)===p},n.isFragment=function(e){return C(e)===s},n.isLazy=function(e){return C(e)===b},n.isMemo=function(e){return C(e)===m},n.isPortal=function(e){return C(e)===a},n.isProfiler=function(e){return C(e)===u},n.isStrictMode=function(e){return C(e)===l},n.isSuspense=function(e){return C(e)===g},n.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===s||e===f||e===u||e===l||e===g||e===y||"object"==typeof e&&null!==e&&(e.$$typeof===b||e.$$typeof===m||e.$$typeof===c||e.$$typeof===d||e.$$typeof===p||e.$$typeof===w||e.$$typeof===E||e.$$typeof===x||e.$$typeof===_)},n.typeOf=C},92134:function(e,n,r){"use strict";e.exports=r("14589")},98945:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"FixedSizeList",{enumerable:!0,get:function(){return A}});var i=r.ir(r("79156")),o=r.ir(r("81982")),a=r.ir(r("30161")),s=r.ir(r("74606")),l=r("56144"),u="object"==typeof performance&&"function"==typeof performance.now?function(){return performance.now()}:function(){return Date.now()};function c(e){cancelAnimationFrame(e.id)}function d(e,n){var r=u(),i={id:requestAnimationFrame(function o(){u()-r>=n?e.call(null):i.id=requestAnimationFrame(o)})};return i}var h=-1;function f(e){if(void 0===e&&(e=!1),-1===h||e){var n=document.createElement("div"),r=n.style;r.width="50px",r.height="50px",r.overflow="scroll",document.body.appendChild(n),h=n.offsetWidth-n.clientWidth,document.body.removeChild(n)}return h}var p=null;function g(e){if(void 0===e&&(e=!1),null===p||e){var n=document.createElement("div"),r=n.style;r.width="50px",r.height="50px",r.overflow="scroll",r.direction="rtl";var i=document.createElement("div"),o=i.style;o.width="100px",o.height="100px",n.appendChild(i),document.body.appendChild(n),n.scrollLeft>0?p="positive-descending":(n.scrollLeft=1,p=0===n.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(n)}return p}var y=function(e){var n=e.columnIndex;return e.data,e.rowIndex+":"+n};function m(e){var n,r=e.getColumnOffset,u=e.getColumnStartIndexForOffset,h=e.getColumnStopIndexForStartIndex,p=e.getColumnWidth,m=e.getEstimatedTotalHeight,_=e.getEstimatedTotalWidth,w=e.getOffsetForColumnAndAlignment,E=e.getOffsetForRowAndAlignment,x=e.getRowHeight,C=e.getRowOffset,S=e.getRowStartIndexForOffset,O=e.getRowStopIndexForStartIndex,M=e.initInstanceProps,P=e.shouldResetStyleCacheOnItemSizeChange,D=e.validateProps;return(n=function(e){function n(n){var i;return(i=e.call(this,n)||this)._instanceProps=M(i.props,(0,o.default)(i)),i._resetIsScrollingTimeoutId=null,i._outerRef=void 0,i.state={instance:(0,o.default)(i),isScrolling:!1,horizontalScrollDirection:"forward",scrollLeft:"number"==typeof i.props.initialScrollLeft?i.props.initialScrollLeft:0,scrollTop:"number"==typeof i.props.initialScrollTop?i.props.initialScrollTop:0,scrollUpdateWasRequested:!1,verticalScrollDirection:"forward"},i._callOnItemsRendered=void 0,i._callOnItemsRendered=(0,s.default)(function(e,n,r,o,a,s,l,u){return i.props.onItemsRendered({overscanColumnStartIndex:e,overscanColumnStopIndex:n,overscanRowStartIndex:r,overscanRowStopIndex:o,visibleColumnStartIndex:a,visibleColumnStopIndex:s,visibleRowStartIndex:l,visibleRowStopIndex:u})}),i._callOnScroll=void 0,i._callOnScroll=(0,s.default)(function(e,n,r,o,a){return i.props.onScroll({horizontalScrollDirection:r,scrollLeft:e,scrollTop:n,verticalScrollDirection:o,scrollUpdateWasRequested:a})}),i._getItemStyle=void 0,i._getItemStyle=function(e,n){var o,a=i.props,s=a.columnWidth,l=a.direction,u=a.rowHeight,c=i._getItemStyleCache(P&&s,P&&l,P&&u),d=e+":"+n;if(c.hasOwnProperty(d))o=c[d];else{var h=r(i.props,n,i._instanceProps),f="rtl"===l;c[d]=o={position:"absolute",left:f?void 0:h,right:f?h:void 0,top:C(i.props,e,i._instanceProps),height:x(i.props,e,i._instanceProps),width:p(i.props,n,i._instanceProps)}}return o},i._getItemStyleCache=void 0,i._getItemStyleCache=(0,s.default)(function(e,n,r){return{}}),i._onScroll=function(e){var n=e.currentTarget,r=n.clientHeight,o=n.clientWidth,a=n.scrollLeft,s=n.scrollTop,l=n.scrollHeight,u=n.scrollWidth;i.setState(function(e){if(e.scrollLeft===a&&e.scrollTop===s)return null;var n=i.props.direction,c=a;if("rtl"===n)switch(g()){case"negative":c=-a;break;case"positive-descending":c=u-o-a}c=Math.max(0,Math.min(c,u-o));var d=Math.max(0,Math.min(s,l-r));return{isScrolling:!0,horizontalScrollDirection:e.scrollLeft<a?"forward":"backward",scrollLeft:c,scrollTop:d,verticalScrollDirection:e.scrollTop<s?"forward":"backward",scrollUpdateWasRequested:!1}},i._resetIsScrollingDebounced)},i._outerRefSetter=function(e){var n=i.props.outerRef;i._outerRef=e,"function"==typeof n?n(e):null!=n&&"object"==typeof n&&n.hasOwnProperty("current")&&(n.current=e)},i._resetIsScrollingDebounced=function(){null!==i._resetIsScrollingTimeoutId&&c(i._resetIsScrollingTimeoutId),i._resetIsScrollingTimeoutId=d(i._resetIsScrolling,150)},i._resetIsScrolling=function(){i._resetIsScrollingTimeoutId=null,i.setState({isScrolling:!1},function(){i._getItemStyleCache(-1)})},i}(0,a.default)(n,e),n.getDerivedStateFromProps=function(e,n){return b(e,n),D(e),null};var I=n.prototype;return I.scrollTo=function(e){var n=e.scrollLeft,r=e.scrollTop;void 0!==n&&(n=Math.max(0,n)),void 0!==r&&(r=Math.max(0,r)),this.setState(function(e){return(void 0===n&&(n=e.scrollLeft),void 0===r&&(r=e.scrollTop),e.scrollLeft===n&&e.scrollTop===r)?null:{horizontalScrollDirection:e.scrollLeft<n?"forward":"backward",scrollLeft:n,scrollTop:r,scrollUpdateWasRequested:!0,verticalScrollDirection:e.scrollTop<r?"forward":"backward"}},this._resetIsScrollingDebounced)},I.scrollToItem=function(e){var n=e.align,r=void 0===n?"auto":n,i=e.columnIndex,o=e.rowIndex,a=this.props,s=a.columnCount,l=a.height,u=a.rowCount,c=a.width,d=this.state,h=d.scrollLeft,p=d.scrollTop,g=f();void 0!==i&&(i=Math.max(0,Math.min(i,s-1))),void 0!==o&&(o=Math.max(0,Math.min(o,u-1)));var y=m(this.props,this._instanceProps),b=_(this.props,this._instanceProps)>c?g:0,x=y>l?g:0;this.scrollTo({scrollLeft:void 0!==i?w(this.props,i,r,h,this._instanceProps,x):h,scrollTop:void 0!==o?E(this.props,o,r,p,this._instanceProps,b):p})},I.componentDidMount=function(){var e=this.props,n=e.initialScrollLeft,r=e.initialScrollTop;if(null!=this._outerRef){var i=this._outerRef;"number"==typeof n&&(i.scrollLeft=n),"number"==typeof r&&(i.scrollTop=r)}this._callPropsCallbacks()},I.componentDidUpdate=function(){var e=this.props.direction,n=this.state,r=n.scrollLeft,i=n.scrollTop;if(n.scrollUpdateWasRequested&&null!=this._outerRef){var o=this._outerRef;if("rtl"===e)switch(g()){case"negative":o.scrollLeft=-r;break;case"positive-ascending":o.scrollLeft=r;break;default:var a=o.clientWidth,s=o.scrollWidth;o.scrollLeft=s-a-r}else o.scrollLeft=Math.max(0,r);o.scrollTop=Math.max(0,i)}this._callPropsCallbacks()},I.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&c(this._resetIsScrollingTimeoutId)},I.render=function(){var e=this.props,n=e.children,r=e.className,o=e.columnCount,a=e.direction,s=e.height,u=e.innerRef,c=e.innerElementType,d=e.innerTagName,h=e.itemData,f=e.itemKey,p=void 0===f?y:f,g=e.outerElementType,b=e.outerTagName,w=e.rowCount,E=e.style,x=e.useIsScrolling,C=e.width,S=this.state.isScrolling,O=this._getHorizontalRangeToRender(),M=O[0],P=O[1],D=this._getVerticalRangeToRender(),I=D[0],j=D[1],N=[];if(o>0&&w)for(var T=I;T<=j;T++)for(var k=M;k<=P;k++)N.push((0,l.createElement)(n,{columnIndex:k,data:h,isScrolling:x?S:void 0,key:p({columnIndex:k,data:h,rowIndex:T}),rowIndex:T,style:this._getItemStyle(T,k)}));var A=m(this.props,this._instanceProps),R=_(this.props,this._instanceProps);return(0,l.createElement)(g||b||"div",{className:r,onScroll:this._onScroll,ref:this._outerRefSetter,style:(0,i.default)({position:"relative",height:s,width:C,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:a},E)},(0,l.createElement)(c||d||"div",{children:N,ref:u,style:{height:A,pointerEvents:S?"none":void 0,width:R}}))},I._callPropsCallbacks=function(){var e=this.props,n=e.columnCount,r=e.onItemsRendered,i=e.onScroll,o=e.rowCount;if("function"==typeof r&&n>0&&o>0){var a=this._getHorizontalRangeToRender(),s=a[0],l=a[1],u=a[2],c=a[3],d=this._getVerticalRangeToRender(),h=d[0],f=d[1],p=d[2],g=d[3];this._callOnItemsRendered(s,l,h,f,u,c,p,g)}if("function"==typeof i){var y=this.state,m=y.horizontalScrollDirection,b=y.scrollLeft,_=y.scrollTop,w=y.scrollUpdateWasRequested,E=y.verticalScrollDirection;this._callOnScroll(b,_,m,E,w)}},I._getHorizontalRangeToRender=function(){var e=this.props,n=e.columnCount,r=e.overscanColumnCount,i=e.overscanColumnsCount,o=e.overscanCount,a=e.rowCount,s=this.state,l=s.horizontalScrollDirection,c=s.isScrolling,d=s.scrollLeft,f=r||i||o||1;if(0===n||0===a)return[0,0,0,0];var p=u(this.props,d,this._instanceProps),g=h(this.props,p,d,this._instanceProps);return[Math.max(0,p-(c&&"backward"!==l?1:Math.max(1,f))),Math.max(0,Math.min(n-1,g+(c&&"forward"!==l?1:Math.max(1,f)))),p,g]},I._getVerticalRangeToRender=function(){var e=this.props,n=e.columnCount,r=e.overscanCount,i=e.overscanRowCount,o=e.overscanRowsCount,a=e.rowCount,s=this.state,l=s.isScrolling,u=s.verticalScrollDirection,c=s.scrollTop,d=i||o||r||1;if(0===n||0===a)return[0,0,0,0];var h=S(this.props,c,this._instanceProps),f=O(this.props,h,c,this._instanceProps);return[Math.max(0,h-(l&&"backward"!==u?1:Math.max(1,d))),Math.max(0,Math.min(a-1,f+(l&&"forward"!==u?1:Math.max(1,d)))),h,f]},n}(l.PureComponent)).defaultProps={direction:"ltr",itemData:void 0,useIsScrolling:!1},n}var b=function(e,n){e.children,e.direction,e.height,e.innerTagName,e.outerTagName,e.overscanColumnsCount,e.overscanCount,e.overscanRowsCount,e.width,n.instance},_=function(e,n){var r=e.rowCount,i=n.rowMetadataMap,o=n.estimatedRowHeight,a=n.lastMeasuredRowIndex,s=0;if(a>=r&&(a=r-1),a>=0){var l=i[a];s=l.offset+l.size}var u=r-a-1;return s+u*o},w=function(e,n){var r=e.columnCount,i=n.columnMetadataMap,o=n.estimatedColumnWidth,a=n.lastMeasuredColumnIndex,s=0;if(a>=r&&(a=r-1),a>=0){var l=i[a];s=l.offset+l.size}var u=r-a-1;return s+u*o},E=function(e,n,r,i){var o,a,s;if("column"===e?(o=i.columnMetadataMap,a=n.columnWidth,s=i.lastMeasuredColumnIndex):(o=i.rowMetadataMap,a=n.rowHeight,s=i.lastMeasuredRowIndex),r>s){var l=0;if(s>=0){var u=o[s];l=u.offset+u.size}for(var c=s+1;c<=r;c++){var d=a(c);o[c]={offset:l,size:d},l+=d}"column"===e?i.lastMeasuredColumnIndex=r:i.lastMeasuredRowIndex=r}return o[r]},x=function(e,n,r,i){var o,a;return("column"===e?(o=r.columnMetadataMap,a=r.lastMeasuredColumnIndex):(o=r.rowMetadataMap,a=r.lastMeasuredRowIndex),(a>0?o[a].offset:0)>=i)?C(e,n,r,a,0,i):S(e,n,r,Math.max(0,a),i)},C=function(e,n,r,i,o,a){for(;o<=i;){var s=o+Math.floor((i-o)/2),l=E(e,n,s,r).offset;if(l===a)return s;l<a?o=s+1:l>a&&(i=s-1)}return o>0?o-1:0},S=function(e,n,r,i,o){for(var a="column"===e?n.columnCount:n.rowCount,s=1;i<a&&E(e,n,i,r).offset<o;)i+=s,s*=2;return C(e,n,r,Math.min(i,a-1),Math.floor(i/2),o)},O=function(e,n,r,i,o,a,s){var l="column"===e?n.width:n.height,u=E(e,n,r,a),c=Math.max(0,Math.min(("column"===e?w(n,a):_(n,a))-l,u.offset)),d=Math.max(0,u.offset-l+s+u.size);switch("smart"===i&&(i=o>=d-l&&o<=c+l?"auto":"center"),i){case"start":return c;case"end":return d;case"center":return Math.round(d+(c-d)/2);default:if(o>=d&&o<=c)return o;if(d>c)return d;else if(o<d)return d;else return c}};m({getColumnOffset:function(e,n,r){return E("column",e,n,r).offset},getColumnStartIndexForOffset:function(e,n,r){return x("column",e,r,n)},getColumnStopIndexForStartIndex:function(e,n,r,i){for(var o=e.columnCount,a=e.width,s=E("column",e,n,i),l=r+a,u=s.offset+s.size,c=n;c<o-1&&u<l;)u+=E("column",e,++c,i).size;return c},getColumnWidth:function(e,n,r){return r.columnMetadataMap[n].size},getEstimatedTotalHeight:_,getEstimatedTotalWidth:w,getOffsetForColumnAndAlignment:function(e,n,r,i,o,a){return O("column",e,n,r,i,o,a)},getOffsetForRowAndAlignment:function(e,n,r,i,o,a){return O("row",e,n,r,i,o,a)},getRowOffset:function(e,n,r){return E("row",e,n,r).offset},getRowHeight:function(e,n,r){return r.rowMetadataMap[n].size},getRowStartIndexForOffset:function(e,n,r){return x("row",e,r,n)},getRowStopIndexForStartIndex:function(e,n,r,i){for(var o=e.rowCount,a=e.height,s=E("row",e,n,i),l=r+a,u=s.offset+s.size,c=n;c<o-1&&u<l;)u+=E("row",e,++c,i).size;return c},initInstanceProps:function(e,n){var r={columnMetadataMap:{},estimatedColumnWidth:e.estimatedColumnWidth||50,estimatedRowHeight:e.estimatedRowHeight||50,lastMeasuredColumnIndex:-1,lastMeasuredRowIndex:-1,rowMetadataMap:{}};return n.resetAfterColumnIndex=function(e,r){void 0===r&&(r=!0),n.resetAfterIndices({columnIndex:e,shouldForceUpdate:r})},n.resetAfterRowIndex=function(e,r){void 0===r&&(r=!0),n.resetAfterIndices({rowIndex:e,shouldForceUpdate:r})},n.resetAfterIndices=function(e){var i=e.columnIndex,o=e.rowIndex,a=e.shouldForceUpdate;"number"==typeof i&&(r.lastMeasuredColumnIndex=Math.min(r.lastMeasuredColumnIndex,i-1)),"number"==typeof o&&(r.lastMeasuredRowIndex=Math.min(r.lastMeasuredRowIndex,o-1)),n._getItemStyleCache(-1),(void 0===a||a)&&n.forceUpdate()},r},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(e){e.columnWidth,e.rowHeight}});var M=function(e,n){return e};function P(e){var n,r=e.getItemOffset,u=e.getEstimatedTotalSize,h=e.getItemSize,p=e.getOffsetForIndexAndAlignment,y=e.getStartIndexForOffset,m=e.getStopIndexForStartIndex,b=e.initInstanceProps,_=e.shouldResetStyleCacheOnItemSizeChange,w=e.validateProps;return(n=function(e){function n(n){var i;return(i=e.call(this,n)||this)._instanceProps=b(i.props,(0,o.default)(i)),i._outerRef=void 0,i._resetIsScrollingTimeoutId=null,i.state={instance:(0,o.default)(i),isScrolling:!1,scrollDirection:"forward",scrollOffset:"number"==typeof i.props.initialScrollOffset?i.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},i._callOnItemsRendered=void 0,i._callOnItemsRendered=(0,s.default)(function(e,n,r,o){return i.props.onItemsRendered({overscanStartIndex:e,overscanStopIndex:n,visibleStartIndex:r,visibleStopIndex:o})}),i._callOnScroll=void 0,i._callOnScroll=(0,s.default)(function(e,n,r){return i.props.onScroll({scrollDirection:e,scrollOffset:n,scrollUpdateWasRequested:r})}),i._getItemStyle=void 0,i._getItemStyle=function(e){var n,o=i.props,a=o.direction,s=o.itemSize,l=o.layout,u=i._getItemStyleCache(_&&s,_&&l,_&&a);if(u.hasOwnProperty(e))n=u[e];else{var c=r(i.props,e,i._instanceProps),d=h(i.props,e,i._instanceProps),f="horizontal"===a||"horizontal"===l,p="rtl"===a,g=f?c:0;u[e]=n={position:"absolute",left:p?void 0:g,right:p?g:void 0,top:f?0:c,height:f?"100%":d,width:f?d:"100%"}}return n},i._getItemStyleCache=void 0,i._getItemStyleCache=(0,s.default)(function(e,n,r){return{}}),i._onScrollHorizontal=function(e){var n=e.currentTarget,r=n.clientWidth,o=n.scrollLeft,a=n.scrollWidth;i.setState(function(e){if(e.scrollOffset===o)return null;var n=i.props.direction,s=o;if("rtl"===n)switch(g()){case"negative":s=-o;break;case"positive-descending":s=a-r-o}return s=Math.max(0,Math.min(s,a-r)),{isScrolling:!0,scrollDirection:e.scrollOffset<s?"forward":"backward",scrollOffset:s,scrollUpdateWasRequested:!1}},i._resetIsScrollingDebounced)},i._onScrollVertical=function(e){var n=e.currentTarget,r=n.clientHeight,o=n.scrollHeight,a=n.scrollTop;i.setState(function(e){if(e.scrollOffset===a)return null;var n=Math.max(0,Math.min(a,o-r));return{isScrolling:!0,scrollDirection:e.scrollOffset<n?"forward":"backward",scrollOffset:n,scrollUpdateWasRequested:!1}},i._resetIsScrollingDebounced)},i._outerRefSetter=function(e){var n=i.props.outerRef;i._outerRef=e,"function"==typeof n?n(e):null!=n&&"object"==typeof n&&n.hasOwnProperty("current")&&(n.current=e)},i._resetIsScrollingDebounced=function(){null!==i._resetIsScrollingTimeoutId&&c(i._resetIsScrollingTimeoutId),i._resetIsScrollingTimeoutId=d(i._resetIsScrolling,150)},i._resetIsScrolling=function(){i._resetIsScrollingTimeoutId=null,i.setState({isScrolling:!1},function(){i._getItemStyleCache(-1,null)})},i}(0,a.default)(n,e),n.getDerivedStateFromProps=function(e,n){return D(e,n),w(e),null};var E=n.prototype;return E.scrollTo=function(e){e=Math.max(0,e),this.setState(function(n){return n.scrollOffset===e?null:{scrollDirection:n.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},E.scrollToItem=function(e,n){void 0===n&&(n="auto");var r=this.props,i=r.itemCount,o=r.layout,a=this.state.scrollOffset;e=Math.max(0,Math.min(e,i-1));var s=0;if(this._outerRef){var l=this._outerRef;s="vertical"===o?l.scrollWidth>l.clientWidth?f():0:l.scrollHeight>l.clientHeight?f():0}this.scrollTo(p(this.props,e,n,a,this._instanceProps,s))},E.componentDidMount=function(){var e=this.props,n=e.direction,r=e.initialScrollOffset,i=e.layout;if("number"==typeof r&&null!=this._outerRef){var o=this._outerRef;"horizontal"===n||"horizontal"===i?o.scrollLeft=r:o.scrollTop=r}this._callPropsCallbacks()},E.componentDidUpdate=function(){var e=this.props,n=e.direction,r=e.layout,i=this.state,o=i.scrollOffset;if(i.scrollUpdateWasRequested&&null!=this._outerRef){var a=this._outerRef;if("horizontal"===n||"horizontal"===r){if("rtl"===n)switch(g()){case"negative":a.scrollLeft=-o;break;case"positive-ascending":a.scrollLeft=o;break;default:var s=a.clientWidth,l=a.scrollWidth;a.scrollLeft=l-s-o}else a.scrollLeft=o}else a.scrollTop=o}this._callPropsCallbacks()},E.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&c(this._resetIsScrollingTimeoutId)},E.render=function(){var e=this.props,n=e.children,r=e.className,o=e.direction,a=e.height,s=e.innerRef,c=e.innerElementType,d=e.innerTagName,h=e.itemCount,f=e.itemData,p=e.itemKey,g=void 0===p?M:p,y=e.layout,m=e.outerElementType,b=e.outerTagName,_=e.style,w=e.useIsScrolling,E=e.width,x=this.state.isScrolling,C="horizontal"===o||"horizontal"===y,S=C?this._onScrollHorizontal:this._onScrollVertical,O=this._getRangeToRender(),P=O[0],D=O[1],I=[];if(h>0)for(var j=P;j<=D;j++)I.push((0,l.createElement)(n,{data:f,key:g(j,f),index:j,isScrolling:w?x:void 0,style:this._getItemStyle(j)}));var N=u(this.props,this._instanceProps);return(0,l.createElement)(m||b||"div",{className:r,onScroll:S,ref:this._outerRefSetter,style:(0,i.default)({position:"relative",height:a,width:E,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:o},_)},(0,l.createElement)(c||d||"div",{children:I,ref:s,style:{height:C?"100%":N,pointerEvents:x?"none":void 0,width:C?N:"100%"}}))},E._callPropsCallbacks=function(){if("function"==typeof this.props.onItemsRendered&&this.props.itemCount>0){var e=this._getRangeToRender(),n=e[0],r=e[1],i=e[2],o=e[3];this._callOnItemsRendered(n,r,i,o)}if("function"==typeof this.props.onScroll){var a=this.state,s=a.scrollDirection,l=a.scrollOffset,u=a.scrollUpdateWasRequested;this._callOnScroll(s,l,u)}},E._getRangeToRender=function(){var e=this.props,n=e.itemCount,r=e.overscanCount,i=this.state,o=i.isScrolling,a=i.scrollDirection,s=i.scrollOffset;if(0===n)return[0,0,0,0];var l=y(this.props,s,this._instanceProps),u=m(this.props,l,s,this._instanceProps);return[Math.max(0,l-(o&&"backward"!==a?1:Math.max(1,r))),Math.max(0,Math.min(n-1,u+(o&&"forward"!==a?1:Math.max(1,r)))),l,u]},n}(l.PureComponent)).defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},n}var D=function(e,n){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,n.instance},I=function(e,n,r){var i=e.itemSize,o=r.itemMetadataMap,a=r.lastMeasuredIndex;if(n>a){var s=0;if(a>=0){var l=o[a];s=l.offset+l.size}for(var u=a+1;u<=n;u++){var c=i(u);o[u]={offset:s,size:c},s+=c}r.lastMeasuredIndex=n}return o[n]},j=function(e,n,r){var i=n.itemMetadataMap,o=n.lastMeasuredIndex;return(o>0?i[o].offset:0)>=r?N(e,n,o,0,r):T(e,n,Math.max(0,o),r)},N=function(e,n,r,i,o){for(;i<=r;){var a=i+Math.floor((r-i)/2),s=I(e,a,n).offset;if(s===o)return a;s<o?i=a+1:s>o&&(r=a-1)}return i>0?i-1:0},T=function(e,n,r,i){for(var o=e.itemCount,a=1;r<o&&I(e,r,n).offset<i;)r+=a,a*=2;return N(e,n,Math.min(r,o-1),Math.floor(r/2),i)},k=function(e,n){var r=e.itemCount,i=n.itemMetadataMap,o=n.estimatedItemSize,a=n.lastMeasuredIndex,s=0;if(a>=r&&(a=r-1),a>=0){var l=i[a];s=l.offset+l.size}var u=r-a-1;return s+u*o};P({getItemOffset:function(e,n,r){return I(e,n,r).offset},getItemSize:function(e,n,r){return r.itemMetadataMap[n].size},getEstimatedTotalSize:k,getOffsetForIndexAndAlignment:function(e,n,r,i,o,a){var s=e.direction,l=e.height,u=e.layout,c=e.width,d="horizontal"===s||"horizontal"===u?c:l,h=I(e,n,o),f=Math.max(0,Math.min(k(e,o)-d,h.offset)),p=Math.max(0,h.offset-d+h.size+a);switch("smart"===r&&(r=i>=p-d&&i<=f+d?"auto":"center"),r){case"start":return f;case"end":return p;case"center":return Math.round(p+(f-p)/2);default:if(i>=p&&i<=f)return i;if(i<p)return p;else return f}},getStartIndexForOffset:function(e,n,r){return j(e,r,n)},getStopIndexForStartIndex:function(e,n,r,i){for(var o=e.direction,a=e.height,s=e.itemCount,l=e.layout,u=e.width,c=I(e,n,i),d=r+("horizontal"===o||"horizontal"===l?u:a),h=c.offset+c.size,f=n;f<s-1&&h<d;)h+=I(e,++f,i).size;return f},initInstanceProps:function(e,n){var r={itemMetadataMap:{},estimatedItemSize:e.estimatedItemSize||50,lastMeasuredIndex:-1};return n.resetAfterIndex=function(e,i){void 0===i&&(i=!0),r.lastMeasuredIndex=Math.min(r.lastMeasuredIndex,e-1),n._getItemStyleCache(-1),i&&n.forceUpdate()},r},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(e){e.itemSize}}),m({getColumnOffset:function(e,n){return n*e.columnWidth},getColumnWidth:function(e,n){return e.columnWidth},getRowOffset:function(e,n){return n*e.rowHeight},getRowHeight:function(e,n){return e.rowHeight},getEstimatedTotalHeight:function(e){var n=e.rowCount;return e.rowHeight*n},getEstimatedTotalWidth:function(e){var n=e.columnCount;return e.columnWidth*n},getOffsetForColumnAndAlignment:function(e,n,r,i,o,a){var s=e.columnCount,l=e.columnWidth,u=e.width,c=Math.max(0,s*l-u),d=Math.min(c,n*l),h=Math.max(0,n*l-u+a+l);switch("smart"===r&&(r=i>=h-u&&i<=d+u?"auto":"center"),r){case"start":return d;case"end":return h;case"center":var f=Math.round(h+(d-h)/2);if(f<Math.ceil(u/2))return 0;if(f>c+Math.floor(u/2))return c;else return f;default:if(i>=h&&i<=d)return i;if(h>d)return h;else if(i<h)return h;else return d}},getOffsetForRowAndAlignment:function(e,n,r,i,o,a){var s=e.rowHeight,l=e.height,u=Math.max(0,e.rowCount*s-l),c=Math.min(u,n*s),d=Math.max(0,n*s-l+a+s);switch("smart"===r&&(r=i>=d-l&&i<=c+l?"auto":"center"),r){case"start":return c;case"end":return d;case"center":var h=Math.round(d+(c-d)/2);if(h<Math.ceil(l/2))return 0;if(h>u+Math.floor(l/2))return u;else return h;default:if(i>=d&&i<=c)return i;if(d>c)return d;else if(i<d)return d;else return c}},getColumnStartIndexForOffset:function(e,n){var r=e.columnWidth;return Math.max(0,Math.min(e.columnCount-1,Math.floor(n/r)))},getColumnStopIndexForStartIndex:function(e,n,r){var i=e.columnWidth,o=e.columnCount,a=e.width,s=Math.ceil((a+r-n*i)/i);return Math.max(0,Math.min(o-1,n+s-1))},getRowStartIndexForOffset:function(e,n){var r=e.rowHeight;return Math.max(0,Math.min(e.rowCount-1,Math.floor(n/r)))},getRowStopIndexForStartIndex:function(e,n,r){var i=e.rowHeight,o=e.rowCount,a=e.height,s=Math.ceil((a+r-n*i)/i);return Math.max(0,Math.min(o-1,n+s-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(e){e.columnWidth,e.rowHeight}});var A=P({getItemOffset:function(e,n){return n*e.itemSize},getItemSize:function(e,n){return e.itemSize},getEstimatedTotalSize:function(e){var n=e.itemCount;return e.itemSize*n},getOffsetForIndexAndAlignment:function(e,n,r,i,o,a){var s=e.direction,l=e.height,u=e.itemCount,c=e.itemSize,d=e.layout,h=e.width,f="horizontal"===s||"horizontal"===d?h:l,p=Math.max(0,u*c-f),g=Math.min(p,n*c),y=Math.max(0,n*c-f+c+a);switch("smart"===r&&(r=i>=y-f&&i<=g+f?"auto":"center"),r){case"start":return g;case"end":return y;case"center":var m=Math.round(y+(g-y)/2);if(m<Math.ceil(f/2))return 0;if(m>p+Math.floor(f/2))return p;else return m;default:if(i>=y&&i<=g)return i;if(i<y)return y;else return g}},getStartIndexForOffset:function(e,n){return Math.max(0,Math.min(e.itemCount-1,Math.floor(n/e.itemSize)))},getStopIndexForStartIndex:function(e,n,r){var i=e.direction,o=e.height,a=e.itemCount,s=e.itemSize,l=e.layout,u=e.width,c=Math.ceil((("horizontal"===i||"horizontal"===l?u:o)+r-n*s)/s);return Math.max(0,Math.min(a-1,n+c-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(e){e.itemSize}})},61811:function(e,n,r){"use strict";var i=r("56144"),o=Symbol.for("react.element"),a=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,l=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,n,r){var i,a={},c=null,d=null;for(i in void 0!==r&&(c=""+r),void 0!==n.key&&(c=""+n.key),void 0!==n.ref&&(d=n.ref),n)s.call(n,i)&&!u.hasOwnProperty(i)&&(a[i]=n[i]);if(e&&e.defaultProps)for(i in n=e.defaultProps)void 0===a[i]&&(a[i]=n[i]);return{$$typeof:o,type:e,key:c,ref:d,props:a,_owner:l.current}}n.Fragment=a,n.jsx=c,n.jsxs=c},38321:function(e,n,r){"use strict";var i=Symbol.for("react.element"),o=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator,y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,b={};function _(e,n,r){this.props=e,this.context=n,this.refs=b,this.updater=r||y}function w(){}function E(e,n,r){this.props=e,this.context=n,this.refs=b,this.updater=r||y}_.prototype.isReactComponent={},_.prototype.setState=function(e,n){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")},_.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=_.prototype;var x=E.prototype=new w;x.constructor=E,m(x,_.prototype),x.isPureReactComponent=!0;var C=Array.isArray,S=Object.prototype.hasOwnProperty,O={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function P(e,n,r){var o,a={},s=null,l=null;if(null!=n)for(o in void 0!==n.ref&&(l=n.ref),void 0!==n.key&&(s=""+n.key),n)S.call(n,o)&&!M.hasOwnProperty(o)&&(a[o]=n[o]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),d=0;d<u;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(o in u=e.defaultProps)void 0===a[o]&&(a[o]=u[o]);return{$$typeof:i,type:e,key:s,ref:l,props:a,_owner:O.current}}function D(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var I=/\/+/g;function j(e,n){var r,i;return"object"==typeof e&&null!==e&&null!=e.key?(r=""+e.key,i={"=":"=0",":":"=2"},"$"+r.replace(/[=:]/g,function(e){return i[e]})):n.toString(36)}function N(e,n,r){if(null==e)return e;var a=[],s=0;return!function e(n,r,a,s,l){var u,c,d,h=typeof n;("undefined"===h||"boolean"===h)&&(n=null);var f=!1;if(null===n)f=!0;else switch(h){case"string":case"number":f=!0;break;case"object":switch(n.$$typeof){case i:case o:f=!0}}if(f){;return l=l(f=n),n=""===s?"."+j(f,0):s,C(l)?(a="",null!=n&&(a=n.replace(I,"$&/")+"/"),e(l,r,a,"",function(e){return e})):null!=l&&(D(l)&&(u=l,c=a+(!l.key||f&&f.key===l.key?"":(""+l.key).replace(I,"$&/")+"/")+n,l={$$typeof:i,type:u.type,key:c,ref:u.ref,props:u.props,_owner:u._owner}),r.push(l)),1}if(f=0,s=""===s?".":s+":",C(n))for(var p=0;p<n.length;p++){h=n[p];var y=s+j(h,p);f+=e(h,r,a,y,l)}else{;if("function"==typeof(y=null===(d=n)||"object"!=typeof d?null:"function"==typeof(d=g&&d[g]||d["@@iterator"])?d:null))for(n=y.call(n),p=0;!(h=n.next()).done;)y=s+j(h=h.value,p++),f+=e(h,r,a,y,l);else if("object"===h)throw Error("Objects are not valid as a React child (found: "+("[object Object]"===(r=String(n))?"object with keys {"+Object.keys(n).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.")}return f}(e,a,"","",function(e){return n.call(r,e,s++)}),a}function T(e){if(-1===e._status){var n=e._result;(n=n()).then(function(n){(0===e._status||-1===e._status)&&(e._status=1,e._result=n)},function(n){(0===e._status||-1===e._status)&&(e._status=2,e._result=n)}),-1===e._status&&(e._status=0,e._result=n)}if(1===e._status)return e._result.default;throw e._result}var k={current:null},A={transition:null};function R(){throw Error("act(...) is not supported in production builds of React.")}n.Children={map:N,forEach:function(e,n,r){N(e,function(){n.apply(this,arguments)},r)},count:function(e){var n=0;return N(e,function(){n++}),n},toArray:function(e){return N(e,function(e){return e})||[]},only:function(e){if(!D(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},n.Component=_,n.Fragment=a,n.Profiler=l,n.PureComponent=E,n.StrictMode=s,n.Suspense=h,n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED={ReactCurrentDispatcher:k,ReactCurrentBatchConfig:A,ReactCurrentOwner:O},n.act=R,n.cloneElement=function(e,n,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=m({},e.props),a=e.key,s=e.ref,l=e._owner;if(null!=n){if(void 0!==n.ref&&(s=n.ref,l=O.current),void 0!==n.key&&(a=""+n.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in n)S.call(n,c)&&!M.hasOwnProperty(c)&&(o[c]=void 0===n[c]&&void 0!==u?u[c]:n[c])}var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];o.children=u}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:l}},n.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},n.createElement=P,n.createFactory=function(e){var n=P.bind(null,e);return n.type=e,n},n.createRef=function(){return{current:null}},n.forwardRef=function(e){return{$$typeof:d,render:e}},n.isValidElement=D,n.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:T}},n.memo=function(e,n){return{$$typeof:f,type:e,compare:void 0===n?null:n}},n.startTransition=function(e){var n=A.transition;A.transition={};try{e()}finally{A.transition=n}},n.unstable_act=R,n.useCallback=function(e,n){return k.current.useCallback(e,n)},n.useContext=function(e){return k.current.useContext(e)},n.useDebugValue=function(){},n.useDeferredValue=function(e){return k.current.useDeferredValue(e)},n.useEffect=function(e,n){return k.current.useEffect(e,n)},n.useId=function(){return k.current.useId()},n.useImperativeHandle=function(e,n,r){return k.current.useImperativeHandle(e,n,r)},n.useInsertionEffect=function(e,n){return k.current.useInsertionEffect(e,n)},n.useLayoutEffect=function(e,n){return k.current.useLayoutEffect(e,n)},n.useMemo=function(e,n){return k.current.useMemo(e,n)},n.useReducer=function(e,n,r){return k.current.useReducer(e,n,r)},n.useRef=function(e){return k.current.useRef(e)},n.useState=function(e){return k.current.useState(e)},n.useSyncExternalStore=function(e,n,r){return k.current.useSyncExternalStore(e,n,r)},n.useTransition=function(){return k.current.useTransition()},n.version="18.3.1"},56144:function(e,n,r){"use strict";e.exports=r("38321")},52393:function(e,n,r){"use strict";e.exports=r("61811")},18449:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{Subject:function(){return i.Subject},BehaviorSubject:function(){return o.BehaviorSubject},animationFrameScheduler:function(){return a.animationFrameScheduler},combineLatest:function(){return s.combineLatest},merge:function(){return l.merge},of:function(){return u.of},debounceTime:function(){return c.debounceTime},distinctUntilChanged:function(){return d.distinctUntilChanged},filter:function(){return h.filter},map:function(){return f.map},share:function(){return p.share},skip:function(){return g.skip},switchMap:function(){return y.switchMap},tap:function(){return m.tap}});var i=r("9891"),o=r("75541"),a=r("83975"),s=r("66677"),l=r("72508"),u=r("34063"),c=r("43565"),d=r("50644"),h=r("60546"),f=r("12792"),p=r("63307"),g=r("28509"),y=r("61312"),m=r("12971")},75541:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"BehaviorSubject",{enumerable:!0,get:function(){return o}});var i=r("31710"),o=function(e){function n(n){var r=e.call(this)||this;return r._value=n,r}return(0,i.__extends)(n,e),Object.defineProperty(n.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),n.prototype._subscribe=function(n){var r=e.prototype._subscribe.call(this,n);return r.closed||n.next(this._value),r},n.prototype.getValue=function(){var e=this.hasError,n=this.thrownError,r=this._value;if(e)throw n;return this._throwIfClosed(),r},n.prototype.next=function(n){e.prototype.next.call(this,this._value=n)},n}(r("9891").Subject)},24509:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{COMPLETE_NOTIFICATION:function(){return i},errorNotification:function(){return o},nextNotification:function(){return a},createNotification:function(){return s}});var i=s("C",void 0,void 0);function o(e){return s("E",void 0,e)}function a(e){return s("N",e,void 0)}function s(e,n,r){return{kind:e,value:n,error:r}}},39427:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Observable",{enumerable:!0,get:function(){return d}});var i=r("56084"),o=r("49317"),a=r("30082"),s=r("15052"),l=r("24358"),u=r("35215"),c=r("27143"),d=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(n){var r=new e;return r.source=this,r.operator=n,r},e.prototype.subscribe=function(e,n,r){var a=this,s=function(e){var n;return e&&e instanceof i.Subscriber||(n=e)&&(0,u.isFunction)(n.next)&&(0,u.isFunction)(n.error)&&(0,u.isFunction)(n.complete)&&(0,o.isSubscription)(e)}(e)?e:new i.SafeSubscriber(e,n,r);return(0,c.errorContext)(function(){var e=a.operator,n=a.source;s.add(e?e.call(s,n):n?a._subscribe(s):a._trySubscribe(s))}),s},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){e.error(n)}},e.prototype.forEach=function(e,n){var r=this;return new(n=h(n))(function(n,o){var a=new i.SafeSubscriber({next:function(n){try{e(n)}catch(e){o(e),a.unsubscribe()}},error:o,complete:n});r.subscribe(a)})},e.prototype._subscribe=function(e){var n;return null===(n=this.source)||void 0===n?void 0:n.subscribe(e)},e.prototype[a.observable]=function(){return this},e.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(0,s.pipeFromArray)(e)(this)},e.prototype.toPromise=function(e){var n=this;return new(e=h(e))(function(e,r){var i;n.subscribe(function(e){return i=e},function(e){return r(e)},function(){return e(i)})})},e.create=function(n){return new e(n)},e}();function h(e){var n;return null!==(n=null!=e?e:l.config.Promise)&&void 0!==n?n:Promise}},47075:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Scheduler",{enumerable:!0,get:function(){return o}});var i=r("26051"),o=function(){function e(n,r){void 0===r&&(r=e.now),this.schedulerActionCtor=n,this.now=r}return e.prototype.schedule=function(e,n,r){return void 0===n&&(n=0),new this.schedulerActionCtor(this,e).schedule(r,n)},e.now=i.dateTimestampProvider.now,e}()},9891:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{Subject:function(){return c},AnonymousSubject:function(){return d}});var i=r("31710"),o=r("39427"),a=r("49317"),s=r("6705"),l=r("69104"),u=r("27143"),c=function(e){function n(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return(0,i.__extends)(n,e),n.prototype.lift=function(e){var n=new d(this,this);return n.operator=e,n},n.prototype._throwIfClosed=function(){if(this.closed)throw new s.ObjectUnsubscribedError},n.prototype.next=function(e){var n=this;(0,u.errorContext)(function(){var r,o;if(n._throwIfClosed(),!n.isStopped){!n.currentObservers&&(n.currentObservers=Array.from(n.observers));try{for(var a=(0,i.__values)(n.currentObservers),s=a.next();!s.done;s=a.next())s.value.next(e)}catch(e){r={error:e}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}}})},n.prototype.error=function(e){var n=this;(0,u.errorContext)(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=e;for(var r=n.observers;r.length;)r.shift().error(e)}})},n.prototype.complete=function(){var e=this;(0,u.errorContext)(function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var n=e.observers;n.length;)n.shift().complete()}})},n.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(n.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),n.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},n.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},n.prototype._innerSubscribe=function(e){var n=this,r=this.hasError,i=this.isStopped,o=this.observers;return r||i?a.EMPTY_SUBSCRIPTION:(this.currentObservers=null,o.push(e),new a.Subscription(function(){n.currentObservers=null,(0,l.arrRemove)(o,e)}))},n.prototype._checkFinalizedStatuses=function(e){var n=this.hasError,r=this.thrownError,i=this.isStopped;n?e.error(r):i&&e.complete()},n.prototype.asObservable=function(){var e=new o.Observable;return e.source=this,e},n.create=function(e,n){return new d(e,n)},n}(o.Observable),d=function(e){function n(n,r){var i=e.call(this)||this;return i.destination=n,i.source=r,i}return(0,i.__extends)(n,e),n.prototype.next=function(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)},n.prototype.error=function(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)},n.prototype.complete=function(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)},n.prototype._subscribe=function(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:a.EMPTY_SUBSCRIPTION},n}(c)},56084:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{Subscriber:function(){return f},SafeSubscriber:function(){return m},EMPTY_OBSERVER:function(){return w}});var i=r("31710"),o=r("35215"),a=r("49317"),s=r("24358"),l=r("30379"),u=r("39754"),c=r("24509"),d=r("74209"),h=r("27143"),f=function(e){function n(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,(0,a.isSubscription)(n)&&n.add(r)):r.destination=w,r}return(0,i.__extends)(n,e),n.create=function(e,n,r){return new m(e,n,r)},n.prototype.next=function(e){this.isStopped?_((0,c.nextNotification)(e),this):this._next(e)},n.prototype.error=function(e){this.isStopped?_((0,c.errorNotification)(e),this):(this.isStopped=!0,this._error(e))},n.prototype.complete=function(){this.isStopped?_(c.COMPLETE_NOTIFICATION,this):(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){!this.closed&&(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},n.prototype._next=function(e){this.destination.next(e)},n.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},n.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},n}(a.Subscription),p=Function.prototype.bind;function g(e,n){return p.call(e,n)}var y=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var n=this.partialObserver;if(n.next)try{n.next(e)}catch(e){b(e)}},e.prototype.error=function(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(e){b(e)}else b(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){b(e)}},e}(),m=function(e){function n(n,r,i){var a,l,u=e.call(this)||this;return(0,o.isFunction)(n)||!n?a={next:null!=n?n:void 0,error:null!=r?r:void 0,complete:null!=i?i:void 0}:u&&s.config.useDeprecatedNextContext?((l=Object.create(n)).unsubscribe=function(){return u.unsubscribe()},a={next:n.next&&g(n.next,l),error:n.error&&g(n.error,l),complete:n.complete&&g(n.complete,l)}):a=n,u.destination=new y(a),u}return(0,i.__extends)(n,e),n}(f);function b(e){s.config.useDeprecatedSynchronousErrorHandling?(0,h.captureError)(e):(0,l.reportUnhandledError)(e)}function _(e,n){var r=s.config.onStoppedNotification;r&&d.timeoutProvider.setTimeout(function(){return r(e,n)})}var w={closed:!0,next:u.noop,error:function(e){throw e},complete:u.noop}},49317:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{Subscription:function(){return l},EMPTY_SUBSCRIPTION:function(){return u},isSubscription:function(){return c}});var i=r("31710"),o=r("35215"),a=r("36556"),s=r("69104"),l=function(){var e;function n(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return n.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e,n,r,s,l,u=this._parentage;if(u){if(this._parentage=null,Array.isArray(u))try{for(var c=(0,i.__values)(u),h=c.next();!h.done;h=c.next())h.value.remove(this)}catch(n){e={error:n}}finally{try{h&&!h.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}else u.remove(this)}var f=this.initialTeardown;if((0,o.isFunction)(f))try{f()}catch(e){l=e instanceof a.UnsubscriptionError?e.errors:[e]}var p=this._finalizers;if(p){this._finalizers=null;try{for(var g=(0,i.__values)(p),y=g.next();!y.done;y=g.next()){var m=y.value;try{d(m)}catch(e){l=null!=l?l:[],e instanceof a.UnsubscriptionError?l=(0,i.__spreadArray)((0,i.__spreadArray)([],(0,i.__read)(l)),(0,i.__read)(e.errors)):l.push(e)}}}catch(e){r={error:e}}finally{try{y&&!y.done&&(s=g.return)&&s.call(g)}finally{if(r)throw r.error}}}if(l)throw new a.UnsubscriptionError(l)}},n.prototype.add=function(e){var r;if(e&&e!==this){if(this.closed)d(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(e)}}},n.prototype._hasParent=function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)},n.prototype._addParent=function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e},n.prototype._removeParent=function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&(0,s.arrRemove)(n,e)},n.prototype.remove=function(e){var r=this._finalizers;r&&(0,s.arrRemove)(r,e),e instanceof n&&e._removeParent(this)},n.EMPTY=(e=new n,e.closed=!0,e),n}(),u=l.EMPTY;function c(e){return e instanceof l||e&&"closed"in e&&(0,o.isFunction)(e.remove)&&(0,o.isFunction)(e.add)&&(0,o.isFunction)(e.unsubscribe)}function d(e){(0,o.isFunction)(e)?e():e.unsubscribe()}},24358:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"config",{enumerable:!0,get:function(){return i}});var i={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},66677:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{combineLatest:function(){return f},combineLatestInit:function(){return p}});var i=r("39427"),o=r("92816"),a=r("92609"),s=r("16385"),l=r("87180"),u=r("47940"),c=r("31745"),d=r("509"),h=r("71236");function f(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(0,u.popScheduler)(e),d=(0,u.popResultSelector)(e),h=(0,o.argsArgArrayOrObject)(e),f=h.args,g=h.keys;if(0===f.length)return(0,a.from)([],r);var y=new i.Observable(p(f,r,g?function(e){return(0,c.createObject)(g,e)}:s.identity));return d?y.pipe((0,l.mapOneOrManyArgs)(d)):y}function p(e,n,r){return void 0===r&&(r=s.identity),function(i){g(n,function(){for(var o=e.length,s=Array(o),l=o,u=o,c=function(o){g(n,function(){var c=(0,a.from)(e[o],n),h=!1;c.subscribe((0,d.createOperatorSubscriber)(i,function(e){s[o]=e,!h&&(h=!0,u--),!u&&i.next(r(s.slice()))},function(){!--l&&i.complete()}))},i)},h=0;h<o;h++)c(h)},i)}}function g(e,n,r){e?(0,h.executeSchedule)(r,e,n):n()}},14500:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"EMPTY",{enumerable:!0,get:function(){return i}});var i=new(r("39427")).Observable(function(e){return e.complete()})},92609:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"from",{enumerable:!0,get:function(){return a}});var i=r("23320"),o=r("91742");function a(e,n){return n?(0,i.scheduled)(e,n):(0,o.innerFrom)(e)}},91742:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{innerFrom:function(){return y},fromInteropObservable:function(){return m},fromArrayLike:function(){return b},fromPromise:function(){return _},fromIterable:function(){return w},fromAsyncIterable:function(){return E},fromReadableStreamLike:function(){return x}});var i=r("31710"),o=r("80880"),a=r("46983"),s=r("39427"),l=r("5126"),u=r("67166"),c=r("42665"),d=r("48870"),h=r("31336"),f=r("35215"),p=r("30379"),g=r("30082");function y(e){if(e instanceof s.Observable)return e;if(null!=e){if((0,l.isInteropObservable)(e))return m(e);if((0,o.isArrayLike)(e))return b(e);if((0,a.isPromise)(e))return _(e);if((0,u.isAsyncIterable)(e))return E(e);if((0,d.isIterable)(e))return w(e);if((0,h.isReadableStreamLike)(e))return x(e)}throw(0,c.createInvalidObservableTypeError)(e)}function m(e){return new s.Observable(function(n){var r=e[g.observable]();if((0,f.isFunction)(r.subscribe))return r.subscribe(n);throw TypeError("Provided object does not correctly implement Symbol.observable")})}function b(e){return new s.Observable(function(n){for(var r=0;r<e.length&&!n.closed;r++)n.next(e[r]);n.complete()})}function _(e){return new s.Observable(function(n){e.then(function(e){!n.closed&&(n.next(e),n.complete())},function(e){return n.error(e)}).then(null,p.reportUnhandledError)})}function w(e){return new s.Observable(function(n){var r,o;try{for(var a=(0,i.__values)(e),s=a.next();!s.done;s=a.next()){var l=s.value;if(n.next(l),n.closed)return}}catch(e){r={error:e}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}n.complete()})}function E(e){return new s.Observable(function(n){(function(e,n){var r,o,a,s;return(0,i.__awaiter)(this,void 0,void 0,function(){var l;return(0,i.__generator)(this,function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),r=(0,i.__asyncValues)(e),u.label=1;case 1:return[4,r.next()];case 2:if((o=u.sent()).done)return[3,4];if(l=o.value,n.next(l),n.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a={error:u.sent()},[3,11];case 6:if(u.trys.push([6,,9,10]),!(o&&!o.done&&(s=r.return)))return[3,8];return[4,s.call(r)];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(a)throw a.error;return[7];case 10:return[7];case 11:return n.complete(),[2]}})})})(e,n).catch(function(e){return n.error(e)})})}function x(e){return E((0,h.readableStreamLikeToAsyncGenerator)(e))}},72508:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"merge",{enumerable:!0,get:function(){return u}});var i=r("64280"),o=r("91742"),a=r("14500"),s=r("47940"),l=r("92609");function u(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(0,s.popScheduler)(e),u=(0,s.popNumber)(e,1/0);return e.length?1===e.length?(0,o.innerFrom)(e[0]):(0,i.mergeAll)(u)((0,l.from)(e,r)):a.EMPTY}},34063:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"of",{enumerable:!0,get:function(){return a}});var i=r("47940"),o=r("92609");function a(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(0,i.popScheduler)(e);return(0,o.from)(e,r)}},509:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{createOperatorSubscriber:function(){return o},OperatorSubscriber:function(){return a}});var i=r("31710");function o(e,n,r,i,o){return new a(e,n,r,i,o)}var a=function(e){function n(n,r,i,o,a,s){var l=e.call(this,n)||this;return l.onFinalize=a,l.shouldUnsubscribe=s,l._next=r?function(e){try{r(e)}catch(e){n.error(e)}}:e.prototype._next,l._error=o?function(e){try{o(e)}catch(e){n.error(e)}finally{this.unsubscribe()}}:e.prototype._error,l._complete=i?function(){try{i()}catch(e){n.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,l}return(0,i.__extends)(n,e),n.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),r||null===(n=this.onFinalize)||void 0===n||n.call(this)}},n}(r("56084").Subscriber)},43565:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"debounceTime",{enumerable:!0,get:function(){return s}});var i=r("29777"),o=r("33130"),a=r("509");function s(e,n){return void 0===n&&(n=i.asyncScheduler),(0,o.operate)(function(r,i){var o=null,s=null,l=null,u=function(){if(o){o.unsubscribe(),o=null;var e=s;s=null,i.next(e)}};function c(){var r=l+e,a=n.now();if(a<r){o=this.schedule(void 0,r-a),i.add(o);return}u()}r.subscribe((0,a.createOperatorSubscriber)(i,function(r){s=r,l=n.now(),!o&&(o=n.schedule(c,e),i.add(o))},function(){u(),i.complete()},void 0,function(){s=o=null}))})}},50644:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"distinctUntilChanged",{enumerable:!0,get:function(){return s}});var i=r("16385"),o=r("33130"),a=r("509");function s(e,n){return void 0===n&&(n=i.identity),e=null!=e?e:l,(0,o.operate)(function(r,i){var o,s=!0;r.subscribe((0,a.createOperatorSubscriber)(i,function(r){var a=n(r);(s||!e(o,a))&&(s=!1,o=a,i.next(r))}))})}function l(e,n){return e===n}},60546:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"filter",{enumerable:!0,get:function(){return a}});var i=r("33130"),o=r("509");function a(e,n){return(0,i.operate)(function(r,i){var a=0;r.subscribe((0,o.createOperatorSubscriber)(i,function(r){return e.call(n,r,a++)&&i.next(r)}))})}},12792:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"map",{enumerable:!0,get:function(){return a}});var i=r("33130"),o=r("509");function a(e,n){return(0,i.operate)(function(r,i){var a=0;r.subscribe((0,o.createOperatorSubscriber)(i,function(r){i.next(e.call(n,r,a++))}))})}},64280:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"mergeAll",{enumerable:!0,get:function(){return a}});var i=r("90059"),o=r("16385");function a(e){return void 0===e&&(e=1/0),(0,i.mergeMap)(o.identity,e)}},66083:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"mergeInternals",{enumerable:!0,get:function(){return s}});var i=r("91742"),o=r("71236"),a=r("509");function s(e,n,r,s,l,u,c,d){var h=[],f=0,p=0,g=!1,y=function(){g&&!h.length&&!f&&n.complete()},m=function(e){return f<s?b(e):h.push(e)},b=function(e){u&&n.next(e),f++;var d=!1;(0,i.innerFrom)(r(e,p++)).subscribe((0,a.createOperatorSubscriber)(n,function(e){null==l||l(e),u?m(e):n.next(e)},function(){d=!0},void 0,function(){if(d)try{f--;for(;h.length&&f<s;)!function(){var e=h.shift();c?(0,o.executeSchedule)(n,c,function(){return b(e)}):b(e)}();y()}catch(e){n.error(e)}}))};return e.subscribe((0,a.createOperatorSubscriber)(n,m,function(){g=!0,y()})),function(){null==d||d()}}},90059:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"mergeMap",{enumerable:!0,get:function(){return function e(n,r,u){return(void 0===u&&(u=1/0),(0,l.isFunction)(r))?e(function(e,a){return(0,i.map)(function(n,i){return r(e,n,a,i)})((0,o.innerFrom)(n(e,a)))},u):("number"==typeof r&&(u=r),(0,a.operate)(function(e,r){return(0,s.mergeInternals)(e,r,n,u)}))}}});var i=r("12792"),o=r("91742"),a=r("33130"),s=r("66083"),l=r("35215")},50208:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"observeOn",{enumerable:!0,get:function(){return s}});var i=r("71236"),o=r("33130"),a=r("509");function s(e,n){return void 0===n&&(n=0),(0,o.operate)(function(r,o){r.subscribe((0,a.createOperatorSubscriber)(o,function(r){return(0,i.executeSchedule)(o,e,function(){return o.next(r)},n)},function(){return(0,i.executeSchedule)(o,e,function(){return o.complete()},n)},function(r){return(0,i.executeSchedule)(o,e,function(){return o.error(r)},n)}))})}},63307:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"share",{enumerable:!0,get:function(){return u}});var i=r("31710"),o=r("91742"),a=r("9891"),s=r("56084"),l=r("33130");function u(e){void 0===e&&(e={});var n=e.connector,r=void 0===n?function(){return new a.Subject}:n,i=e.resetOnError,u=void 0===i||i,d=e.resetOnComplete,h=void 0===d||d,f=e.resetOnRefCountZero,p=void 0===f||f;return function(e){var n,i,a,d=0,f=!1,g=!1,y=function(){null==i||i.unsubscribe(),i=void 0},m=function(){y(),n=a=void 0,f=g=!1},b=function(){var e=n;m(),null==e||e.unsubscribe()};return(0,l.operate)(function(e,l){d++,!g&&!f&&y();var _=a=null!=a?a:r();l.add(function(){0==--d&&!g&&!f&&(i=c(b,p))}),_.subscribe(l),!n&&d>0&&(n=new s.SafeSubscriber({next:function(e){return _.next(e)},error:function(e){g=!0,y(),i=c(m,u,e),_.error(e)},complete:function(){f=!0,y(),i=c(m,h),_.complete()}}),(0,o.innerFrom)(e).subscribe(n))})(e)}}function c(e,n){for(var r=[],a=2;a<arguments.length;a++)r[a-2]=arguments[a];if(!0===n){e();return}if(!1!==n){var l=new s.SafeSubscriber({next:function(){l.unsubscribe(),e()}});return(0,o.innerFrom)(n.apply(void 0,(0,i.__spreadArray)([],(0,i.__read)(r)))).subscribe(l)}}},28509:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"skip",{enumerable:!0,get:function(){return o}});var i=r("60546");function o(e){return(0,i.filter)(function(n,r){return e<=r})}},9088:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"subscribeOn",{enumerable:!0,get:function(){return o}});var i=r("33130");function o(e,n){return void 0===n&&(n=0),(0,i.operate)(function(r,i){i.add(e.schedule(function(){return r.subscribe(i)},n))})}},61312:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"switchMap",{enumerable:!0,get:function(){return s}});var i=r("91742"),o=r("33130"),a=r("509");function s(e,n){return(0,o.operate)(function(r,o){var s=null,l=0,u=!1,c=function(){return u&&!s&&o.complete()};r.subscribe((0,a.createOperatorSubscriber)(o,function(r){null==s||s.unsubscribe();var u=0,d=l++;(0,i.innerFrom)(e(r,d)).subscribe(s=(0,a.createOperatorSubscriber)(o,function(e){return o.next(n?n(r,e,d,u++):e)},function(){s=null,c()}))},function(){u=!0,c()}))})}},12971:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"tap",{enumerable:!0,get:function(){return l}});var i=r("35215"),o=r("33130"),a=r("509"),s=r("16385");function l(e,n,r){var l=(0,i.isFunction)(e)||n||r?{next:e,error:n,complete:r}:e;return l?(0,o.operate)(function(e,n){null===(r=l.subscribe)||void 0===r||r.call(l);var r,i=!0;e.subscribe((0,a.createOperatorSubscriber)(n,function(e){var r;null===(r=l.next)||void 0===r||r.call(l,e),n.next(e)},function(){var e;i=!1,null===(e=l.complete)||void 0===e||e.call(l),n.complete()},function(e){var r;i=!1,null===(r=l.error)||void 0===r||r.call(l,e),n.error(e)},function(){var e,n;i&&(null===(e=l.unsubscribe)||void 0===e||e.call(l)),null===(n=l.finalize)||void 0===n||n.call(l)}))}):s.identity}},48897:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"scheduleArray",{enumerable:!0,get:function(){return o}});var i=r("39427");function o(e,n){return new i.Observable(function(r){var i=0;return n.schedule(function(){i===e.length?r.complete():(r.next(e[i++]),!r.closed&&this.schedule())})})}},52941:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"scheduleAsyncIterable",{enumerable:!0,get:function(){return a}});var i=r("39427"),o=r("71236");function a(e,n){if(!e)throw Error("Iterable cannot be null");return new i.Observable(function(r){(0,o.executeSchedule)(r,n,function(){var i=e[Symbol.asyncIterator]();(0,o.executeSchedule)(r,n,function(){i.next().then(function(e){e.done?r.complete():r.next(e.value)})},0,!0)})})}},2246:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"scheduleIterable",{enumerable:!0,get:function(){return l}});var i=r("39427"),o=r("46558"),a=r("35215"),s=r("71236");function l(e,n){return new i.Observable(function(r){var i;return(0,s.executeSchedule)(r,n,function(){i=e[o.iterator](),(0,s.executeSchedule)(r,n,function(){var e,n,o;try{n=(e=i.next()).value,o=e.done}catch(e){r.error(e);return}o?r.complete():r.next(n)},0,!0)}),function(){return(0,a.isFunction)(null==i?void 0:i.return)&&i.return()}})}},36261:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"scheduleObservable",{enumerable:!0,get:function(){return s}});var i=r("91742"),o=r("50208"),a=r("9088");function s(e,n){return(0,i.innerFrom)(e).pipe((0,a.subscribeOn)(n),(0,o.observeOn)(n))}},76593:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"schedulePromise",{enumerable:!0,get:function(){return s}});var i=r("91742"),o=r("50208"),a=r("9088");function s(e,n){return(0,i.innerFrom)(e).pipe((0,a.subscribeOn)(n),(0,o.observeOn)(n))}},13469:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"scheduleReadableStreamLike",{enumerable:!0,get:function(){return a}});var i=r("52941"),o=r("31336");function a(e,n){return(0,i.scheduleAsyncIterable)((0,o.readableStreamLikeToAsyncGenerator)(e),n)}},23320:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"scheduled",{enumerable:!0,get:function(){return m}});var i=r("36261"),o=r("76593"),a=r("48897"),s=r("2246"),l=r("52941"),u=r("5126"),c=r("46983"),d=r("80880"),h=r("48870"),f=r("67166"),p=r("42665"),g=r("31336"),y=r("13469");function m(e,n){if(null!=e){if((0,u.isInteropObservable)(e))return(0,i.scheduleObservable)(e,n);if((0,d.isArrayLike)(e))return(0,a.scheduleArray)(e,n);if((0,c.isPromise)(e))return(0,o.schedulePromise)(e,n);if((0,f.isAsyncIterable)(e))return(0,l.scheduleAsyncIterable)(e,n);if((0,h.isIterable)(e))return(0,s.scheduleIterable)(e,n);if((0,g.isReadableStreamLike)(e))return(0,y.scheduleReadableStreamLike)(e,n)}throw(0,p.createInvalidObservableTypeError)(e)}},47139:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return o}});var i=r("31710"),o=function(e){function n(n,r){return e.call(this)||this}return(0,i.__extends)(n,e),n.prototype.schedule=function(e,n){return void 0===n&&(n=0),this},n}(r("49317").Subscription)},29510:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AnimationFrameAction",{enumerable:!0,get:function(){return s}});var i=r("31710"),o=r("90188"),a=r("96106"),s=function(e){function n(n,r){var i=e.call(this,n,r)||this;return i.scheduler=n,i.work=r,i}return(0,i.__extends)(n,e),n.prototype.requestAsyncId=function(n,r,i){return(void 0===i&&(i=0),null!==i&&i>0)?e.prototype.requestAsyncId.call(this,n,r,i):(n.actions.push(this),n._scheduled||(n._scheduled=a.animationFrameProvider.requestAnimationFrame(function(){return n.flush(void 0)})))},n.prototype.recycleAsyncId=function(n,r,i){if(void 0===i&&(i=0),null!=i?i>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,n,r,i);var o,s=n.actions;null!=r&&r===n._scheduled&&(null===(o=s[s.length-1])||void 0===o?void 0:o.id)!==r&&(a.animationFrameProvider.cancelAnimationFrame(r),n._scheduled=void 0)},n}(o.AsyncAction)},46520:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AnimationFrameScheduler",{enumerable:!0,get:function(){return o}});var i=r("31710"),o=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,i.__extends)(n,e),n.prototype.flush=function(e){this._active=!0,e?n=e.id:(n=this._scheduled,this._scheduled=void 0);var n,r,i=this.actions;e=e||i.shift();do if(r=e.execute(e.state,e.delay))break;while((e=i[0])&&e.id===n&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===n&&i.shift();)e.unsubscribe();throw r}},n}(r("92693").AsyncScheduler)},90188:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AsyncAction",{enumerable:!0,get:function(){return l}});var i=r("31710"),o=r("47139"),a=r("42954"),s=r("69104"),l=function(e){function n(n,r){var i=e.call(this,n,r)||this;return i.scheduler=n,i.work=r,i.pending=!1,i}return(0,i.__extends)(n,e),n.prototype.schedule=function(e,n){if(void 0===n&&(n=0),this.closed)return this;this.state=e;var r,i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this},n.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),a.intervalProvider.setInterval(e.flush.bind(e,this),r)},n.prototype.recycleAsyncId=function(e,n,r){if(void 0===r&&(r=0),null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&a.intervalProvider.clearInterval(n)},n.prototype.execute=function(e,n){if(this.closed)return Error("executing a cancelled action");this.pending=!1;var r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},n.prototype._execute=function(e,n){var r,i=!1;try{this.work(e)}catch(e){i=!0,r=e||Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r},n.prototype.unsubscribe=function(){if(!this.closed){var n=this.id,r=this.scheduler,i=r.actions;this.work=this.state=this.scheduler=null,this.pending=!1,(0,s.arrRemove)(i,this),null!=n&&(this.id=this.recycleAsyncId(r,n,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},n}(o.Action)},92693:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AsyncScheduler",{enumerable:!0,get:function(){return a}});var i=r("31710"),o=r("47075"),a=function(e){function n(n,r){void 0===r&&(r=o.Scheduler.now);var i=e.call(this,n,r)||this;return i.actions=[],i._active=!1,i}return(0,i.__extends)(n,e),n.prototype.flush=function(e){var n,r=this.actions;if(this._active){r.push(e);return}this._active=!0;do if(n=e.execute(e.state,e.delay))break;while(e=r.shift());if(this._active=!1,n){for(;e=r.shift();)e.unsubscribe();throw n}},n}(o.Scheduler)},83975:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"animationFrameScheduler",{enumerable:!0,get:function(){return o}});var i=r("29510"),o=new(r("46520")).AnimationFrameScheduler(i.AnimationFrameAction)},96106:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"animationFrameProvider",{enumerable:!0,get:function(){return a}});var i=r("31710"),o=r("49317"),a={schedule:function(e){var n=requestAnimationFrame,r=cancelAnimationFrame,i=a.delegate;i&&(n=i.requestAnimationFrame,r=i.cancelAnimationFrame);var s=n(function(n){r=void 0,e(n)});return new o.Subscription(function(){return null==r?void 0:r(s)})},requestAnimationFrame:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=a.delegate;return((null==r?void 0:r.requestAnimationFrame)||requestAnimationFrame).apply(void 0,(0,i.__spreadArray)([],(0,i.__read)(e)))},cancelAnimationFrame:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=a.delegate;return((null==r?void 0:r.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,(0,i.__spreadArray)([],(0,i.__read)(e)))},delegate:void 0}},29777:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"asyncScheduler",{enumerable:!0,get:function(){return o}});var i=r("90188"),o=new(r("92693")).AsyncScheduler(i.AsyncAction)},26051:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"dateTimestampProvider",{enumerable:!0,get:function(){return i}});var i={now:function(){return(i.delegate||Date).now()},delegate:void 0}},42954:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"intervalProvider",{enumerable:!0,get:function(){return o}});var i=r("31710"),o={setInterval:function(e,n){for(var r=[],a=2;a<arguments.length;a++)r[a-2]=arguments[a];var s=o.delegate;return(null==s?void 0:s.setInterval)?s.setInterval.apply(s,(0,i.__spreadArray)([e,n],(0,i.__read)(r))):setInterval.apply(void 0,(0,i.__spreadArray)([e,n],(0,i.__read)(r)))},clearInterval:function(e){var n=o.delegate;return((null==n?void 0:n.clearInterval)||clearInterval)(e)},delegate:void 0}},74209:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"timeoutProvider",{enumerable:!0,get:function(){return o}});var i=r("31710"),o={setTimeout:function(e,n){for(var r=[],a=2;a<arguments.length;a++)r[a-2]=arguments[a];var s=o.delegate;return(null==s?void 0:s.setTimeout)?s.setTimeout.apply(s,(0,i.__spreadArray)([e,n],(0,i.__read)(r))):setTimeout.apply(void 0,(0,i.__spreadArray)([e,n],(0,i.__read)(r)))},clearTimeout:function(e){var n=o.delegate;return((null==n?void 0:n.clearTimeout)||clearTimeout)(e)},delegate:void 0}},46558:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});function i(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{getSymbolIterator:function(){return i},iterator:function(){return o}});var o=i()},30082:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"observable",{enumerable:!0,get:function(){return i}});var i="function"==typeof Symbol&&Symbol.observable||"@@observable"},6705:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ObjectUnsubscribedError",{enumerable:!0,get:function(){return i}});var i=(0,r("89321").createErrorClass)(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})},36556:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"UnsubscriptionError",{enumerable:!0,get:function(){return i}});var i=(0,r("89321").createErrorClass)(function(e){return function(n){e(this),this.message=n?n.length+" errors occurred during unsubscription:\n"+n.map(function(e,n){return n+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=n}})},47940:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{popResultSelector:function(){return s},popScheduler:function(){return l},popNumber:function(){return u}});var i=r("35215"),o=r("11162");function a(e){return e[e.length-1]}function s(e){return(0,i.isFunction)(a(e))?e.pop():void 0}function l(e){return(0,o.isScheduler)(a(e))?e.pop():void 0}function u(e,n){return"number"==typeof a(e)?e.pop():n}},92816:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"argsArgArrayOrObject",{enumerable:!0,get:function(){return l}});var i=Array.isArray,o=Object.getPrototypeOf,a=Object.prototype,s=Object.keys;function l(e){if(1===e.length){var n=e[0];if(i(n))return{args:n,keys:null};if(function(e){return e&&"object"==typeof e&&o(e)===a}(n)){var r=s(n);return{args:r.map(function(e){return n[e]}),keys:r}}}return{args:e,keys:null}}},69104:function(e,n,r){"use strict";function i(e,n){if(e){var r=e.indexOf(n);0<=r&&e.splice(r,1)}}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"arrRemove",{enumerable:!0,get:function(){return i}})},89321:function(e,n,r){"use strict";function i(e){var n=e(function(e){Error.call(e),e.stack=Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"createErrorClass",{enumerable:!0,get:function(){return i}})},31745:function(e,n,r){"use strict";function i(e,n){return e.reduce(function(e,r,i){return e[r]=n[i],e},{})}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"createObject",{enumerable:!0,get:function(){return i}})},27143:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{errorContext:function(){return a},captureError:function(){return s}});var i=r("24358"),o=null;function a(e){if(i.config.useDeprecatedSynchronousErrorHandling){var n=!o;if(n&&(o={errorThrown:!1,error:null}),e(),n){var r=o,a=r.errorThrown,s=r.error;if(o=null,a)throw s}}else e()}function s(e){i.config.useDeprecatedSynchronousErrorHandling&&o&&(o.errorThrown=!0,o.error=e)}},71236:function(e,n,r){"use strict";function i(e,n,r,i,o){void 0===i&&(i=0),void 0===o&&(o=!1);var a=n.schedule(function(){r(),o?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(a),!o)return a}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"executeSchedule",{enumerable:!0,get:function(){return i}})},16385:function(e,n,r){"use strict";function i(e){return e}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"identity",{enumerable:!0,get:function(){return i}})},80880:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"isArrayLike",{enumerable:!0,get:function(){return i}});var i=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},67166:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"isAsyncIterable",{enumerable:!0,get:function(){return o}});var i=r("35215");function o(e){return Symbol.asyncIterator&&(0,i.isFunction)(null==e?void 0:e[Symbol.asyncIterator])}},35215:function(e,n,r){"use strict";function i(e){return"function"==typeof e}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"isFunction",{enumerable:!0,get:function(){return i}})},5126:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"isInteropObservable",{enumerable:!0,get:function(){return a}});var i=r("30082"),o=r("35215");function a(e){return(0,o.isFunction)(e[i.observable])}},48870:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"isIterable",{enumerable:!0,get:function(){return a}});var i=r("46558"),o=r("35215");function a(e){return(0,o.isFunction)(null==e?void 0:e[i.iterator])}},46983:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"isPromise",{enumerable:!0,get:function(){return o}});var i=r("35215");function o(e){return(0,i.isFunction)(null==e?void 0:e.then)}},31336:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{readableStreamLikeToAsyncGenerator:function(){return a},isReadableStreamLike:function(){return s}});var i=r("31710"),o=r("35215");function a(e){return(0,i.__asyncGenerator)(this,arguments,function(){var n,r,o;return(0,i.__generator)(this,function(a){switch(a.label){case 0:n=e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,(0,i.__await)(n.read())];case 3:if(o=(r=a.sent()).value,!r.done)return[3,5];return[4,(0,i.__await)(void 0)];case 4:return[2,a.sent()];case 5:return[4,(0,i.__await)(o)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function s(e){return(0,o.isFunction)(null==e?void 0:e.getReader)}},11162:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"isScheduler",{enumerable:!0,get:function(){return o}});var i=r("35215");function o(e){return e&&(0,i.isFunction)(e.schedule)}},33130:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{hasLift:function(){return o},operate:function(){return a}});var i=r("35215");function o(e){return(0,i.isFunction)(null==e?void 0:e.lift)}function a(e){return function(n){if(o(n))return n.lift(function(n){try{return e(n,this)}catch(e){this.error(e)}});throw TypeError("Unable to lift unknown Observable type")}}},87180:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"mapOneOrManyArgs",{enumerable:!0,get:function(){return s}});var i=r("31710"),o=r("12792"),a=Array.isArray;function s(e){return(0,o.map)(function(n){var r,o;return r=e,a(o=n)?r.apply(void 0,(0,i.__spreadArray)([],(0,i.__read)(o))):r(o)})}},39754:function(e,n,r){"use strict";function i(){}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"noop",{enumerable:!0,get:function(){return i}})},15052:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"pipeFromArray",{enumerable:!0,get:function(){return o}});var i=r("16385");function o(e){return 0===e.length?i.identity:1===e.length?e[0]:function(n){return e.reduce(function(e,n){return n(e)},n)}}},30379:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"reportUnhandledError",{enumerable:!0,get:function(){return a}});var i=r("24358"),o=r("74209");function a(e){o.timeoutProvider.setTimeout(function(){var n=i.config.onUnhandledError;if(n)n(e);else throw e})}},42665:function(e,n,r){"use strict";function i(e){return TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"createInvalidObservableTypeError",{enumerable:!0,get:function(){return i}})},91131:function(e,n,r){"use strict";function i(e,n){var r=e.length;e.push(n);e:for(;0<r;){var i=r-1>>>1,o=e[i];if(0<s(o,n))e[i]=n,e[r]=o,r=i;else break e}}function o(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var n=e[0],r=e.pop();if(r!==n){e[0]=r;e:for(var i=0,o=e.length,a=o>>>1;i<a;){var l=2*(i+1)-1,u=e[l],c=l+1,d=e[c];if(0>s(u,r))c<o&&0>s(d,u)?(e[i]=d,e[c]=r,i=c):(e[i]=u,e[l]=r,i=l);else if(c<o&&0>s(d,r))e[i]=d,e[c]=r,i=c;else break e}}return n}function s(e,n){var r=e.sortIndex-n.sortIndex;return 0!==r?r:e.id-n.id}if("object"==typeof performance&&"function"==typeof performance.now){var l,u=performance;n.unstable_now=function(){return u.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var h=[],f=[],p=1,g=null,y=3,m=!1,b=!1,_=!1,w="function"==typeof setTimeout?setTimeout:null,E="function"==typeof clearTimeout?clearTimeout:null,x="undefined"!=typeof setImmediate?setImmediate:null;function C(e){for(var n=o(f);null!==n;){if(null===n.callback)a(f);else if(n.startTime<=e)a(f),n.sortIndex=n.expirationTime,i(h,n);else break;n=o(f)}}function S(e){if(_=!1,C(e),!b){if(null!==o(h))b=!0,R(O);else{var n=o(f);null!==n&&L(S,n.startTime-e)}}}function O(e,r){b=!1,_&&(_=!1,E(D),D=-1),m=!0;var i=y;try{for(C(r),g=o(h);null!==g&&(!(g.expirationTime>r)||e&&!N());){var s=g.callback;if("function"==typeof s){g.callback=null,y=g.priorityLevel;var l=s(g.expirationTime<=r);r=n.unstable_now(),"function"==typeof l?g.callback=l:g===o(h)&&a(h),C(r)}else a(h);g=o(h)}if(null!==g)var u=!0;else{var c=o(f);null!==c&&L(S,c.startTime-r),u=!1}return u}finally{g=null,y=i,m=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var M=!1,P=null,D=-1,I=5,j=-1;function N(){return!(n.unstable_now()-j<I)}function T(){if(null!==P){var e=n.unstable_now();j=e;var r=!0;try{r=P(!0,e)}finally{r?l():(M=!1,P=null)}}else M=!1}if("function"==typeof x)l=function(){x(T)};else if("undefined"!=typeof MessageChannel){var k=new MessageChannel,A=k.port2;k.port1.onmessage=T,l=function(){A.postMessage(null)}}else l=function(){w(T,0)};function R(e){P=e,M||(M=!0,l())}function L(e,r){D=w(function(){e(n.unstable_now())},r)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(e){e.callback=null},n.unstable_continueExecution=function(){b||m||(b=!0,R(O))},n.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_getFirstCallbackNode=function(){return o(h)},n.unstable_next=function(e){switch(y){case 1:case 2:case 3:var n=3;break;default:n=y}var r=y;y=n;try{return e()}finally{y=r}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=y;y=e;try{return n()}finally{y=r}},n.unstable_scheduleCallback=function(e,r,a){var s=n.unstable_now();switch(a="object"==typeof a&&null!==a?"number"==typeof(a=a.delay)&&0<a?s+a:s:s,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return l=a+l,e={id:p++,callback:r,priorityLevel:e,startTime:a,expirationTime:l,sortIndex:-1},a>s?(e.sortIndex=a,i(f,e),null===o(h)&&e===o(f)&&(_?(E(D),D=-1):_=!0,L(S,a-s))):(e.sortIndex=l,i(h,e),b||m||(b=!0,R(O))),e},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(e){var n=y;return function(){var r=y;y=n;try{return e.apply(this,arguments)}finally{y=r}}}},19317:function(e,n,r){"use strict";e.exports=r("91131")},51378:function(e,n,r){e.exports=function(e,n,r,i){var o=r?r.call(i,e,n):void 0;if(void 0!==o)return!!o;if(e===n)return!0;if("object"!=typeof e||!e||"object"!=typeof n||!n)return!1;var a=Object.keys(e),s=Object.keys(n);if(a.length!==s.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(n),u=0;u<a.length;u++){var c=a[u];if(!l(c))return!1;var d=e[c],h=n[c];if(!1===(o=r?r.call(i,d,h,c):void 0)||void 0===o&&d!==h)return!1}return!0}},34394:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return eO}});var i,o,a=r("92134"),s=r.ir(r("56144")),l=r.ir(r("51378")),u=r.ir(r("99338")),c=r.ir(r("13613")),d=r.ir(r("58763")),h=r.ir(r("70679"));function f(){return(f=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}var p=function(e,n){for(var r=[e[0]],i=0,o=n.length;i<o;i+=1)r.push(n[i],e[i+1]);return r},g=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,a.typeOf)(e)},y=Object.freeze([]),m=Object.freeze({});function b(e){return"function"==typeof e}function _(e){return e.displayName||e.name||"Component"}function w(e){return e&&"string"==typeof e.styledComponentId}var E="undefined"!=typeof process&&void 0!==process.env&&(process.env.REACT_APP_SC_ATTR||process.env.SC_ATTR)||"data-styled",x="undefined"!=typeof window&&"HTMLElement"in window,C=!!("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!==process.env&&(void 0!==process.env.REACT_APP_SC_DISABLE_SPEEDY&&""!==process.env.REACT_APP_SC_DISABLE_SPEEDY?"false"!==process.env.REACT_APP_SC_DISABLE_SPEEDY&&process.env.REACT_APP_SC_DISABLE_SPEEDY:void 0!==process.env.SC_DISABLE_SPEEDY&&""!==process.env.SC_DISABLE_SPEEDY&&"false"!==process.env.SC_DISABLE_SPEEDY&&process.env.SC_DISABLE_SPEEDY));function S(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];throw Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(r.length>0?" Args: "+r.join(", "):""))}var O=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var n=e.prototype;return n.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},n.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,o=i;e>=o;)(o<<=1)<0&&S(16,""+e);this.groupSizes=new Uint32Array(o),this.groupSizes.set(r),this.length=o;for(var a=i;a<o;a++)this.groupSizes[a]=0}for(var s=this.indexOfGroup(e+1),l=0,u=n.length;l<u;l++)this.tag.insertRule(s,n[l])&&(this.groupSizes[e]++,s++)},n.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var o=r;o<i;o++)this.tag.deleteRule(r)}},n.getGroup=function(e){var n="";if(e>=this.length||0===this.groupSizes[e])return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),o=i+r,a=i;a<o;a++)n+=this.tag.getRule(a)+"/*!sc*/\n";return n},e}(),M=new Map,P=new Map,D=1,I=function(e){if(M.has(e))return M.get(e);for(;P.has(D);)D++;var n=D++;return M.set(e,n),P.set(n,e),n},j=function(e,n){n>=D&&(D=n+1),M.set(e,n),P.set(n,e)},N="style["+E+'][data-styled-version="5.3.11"]',T=RegExp("^"+E+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),k=function(e,n,r){for(var i,o=r.split(","),a=0,s=o.length;a<s;a++)(i=o[a])&&e.registerName(n,i)},A=function(e,n){for(var r=(n.textContent||"").split("/*!sc*/\n"),i=[],o=0,a=r.length;o<a;o++){var s=r[o].trim();if(s){var l=s.match(T);if(l){var u=0|parseInt(l[1],10),c=l[2];0!==u&&(j(c,u),k(e,c,l[3]),e.getTag().insertRules(u,i)),i.length=0}else i.push(s)}}},R=function(){return"undefined"!=typeof __webpack_nonce__?__webpack_nonce__:null},L=function(e){var n=document.head,r=e||n,i=document.createElement("style"),o=function(e){for(var n=e.childNodes,r=n.length;r>=0;r--){var i=n[r];if(i&&1===i.nodeType&&i.hasAttribute(E))return i}}(r),a=void 0!==o?o.nextSibling:null;i.setAttribute(E,"active"),i.setAttribute("data-styled-version","5.3.11");var s=R();return s&&i.setAttribute("nonce",s),r.insertBefore(i,a),i},F=function(){function e(e){var n=this.element=L(e);n.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var n=document.styleSheets,r=0,i=n.length;r<i;r++){var o=n[r];if(o.ownerNode===e)return o}S(17)}(n),this.length=0}var n=e.prototype;return n.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch(e){return!1}},n.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},n.getRule=function(e){var n=this.sheet.cssRules[e];return void 0!==n&&"string"==typeof n.cssText?n.cssText:""},e}(),z=function(){function e(e){var n=this.element=L(e);this.nodes=n.childNodes,this.length=0}var n=e.prototype;return n.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n),i=this.nodes[e];return this.element.insertBefore(r,i||null),this.length++,!0}return!1},n.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},n.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),B=function(){function e(e){this.rules=[],this.length=0}var n=e.prototype;return n.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},n.deleteRule=function(e){this.rules.splice(e,1),this.length--},n.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),V=x,$={isServer:!x,useCSSOMInjection:!C},U=function(){function e(e,n,r){void 0===e&&(e=m),void 0===n&&(n={}),this.options=f({},$,{},e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&x&&V&&(V=!1,function(e){for(var n=document.querySelectorAll(N),r=0,i=n.length;r<i;r++){var o=n[r];o&&"active"!==o.getAttribute(E)&&(A(e,o),o.parentNode&&o.parentNode.removeChild(o))}}(this))}e.registerId=function(e){return I(e)};var n=e.prototype;return n.reconstructWithOptions=function(n,r){return void 0===r&&(r=!0),new e(f({},this.options,{},n),this.gs,r&&this.names||void 0)},n.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},n.getTag=function(){var e,n,r,i,o;return this.tag||(this.tag=(r=(n=this.options).isServer,i=n.useCSSOMInjection,o=n.target,e=r?new B(o):i?new F(o):new z(o),new O(e)))},n.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},n.registerName=function(e,n){if(I(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},n.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(I(e),r)},n.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},n.clearRules=function(e){this.getTag().clearGroup(I(e)),this.clearNames(e)},n.clearTag=function(){this.tag=void 0},n.toString=function(){return function(e){for(var n=e.getTag(),r=n.length,i="",o=0;o<r;o++){var a,s=(a=o,P.get(a));if(void 0!==s){var l=e.names.get(s),u=n.getGroup(o);if(l&&u&&l.size){var c=E+".g"+o+'[id="'+s+'"]',d="";void 0!==l&&l.forEach(function(e){e.length>0&&(d+=e+",")}),i+=""+u+c+'{content:"'+d+'"}/*!sc*/\n'}}}return i}(this)},e}(),H=/(a)(d)/gi,W=function(e){return String.fromCharCode(e+(e>25?39:97))};function K(e){var n,r="";for(n=Math.abs(e);n>52;n=n/52|0)r=W(n%52)+r;return(W(n%52)+r).replace(H,"$1-$2")}var G=function(e,n){for(var r=n.length;r;)e=33*e^n.charCodeAt(--r);return e},Y=function(e){return G(5381,e)};function X(e){for(var n=0;n<e.length;n+=1){var r=e[n];if(b(r)&&!w(r))return!1}return!0}var Z=Y("5.3.11"),Q=function(){function e(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===r||r.isStatic)&&X(e),this.componentId=n,this.baseHash=G(Z,n),this.baseStyle=r,U.registerId(n)}return e.prototype.generateAndInjectStyles=function(e,n,r){var i=this.componentId,o=[];if(this.baseStyle&&o.push(this.baseStyle.generateAndInjectStyles(e,n,r)),this.isStatic&&!r.hash){if(this.staticRulesId&&n.hasNameForId(i,this.staticRulesId))o.push(this.staticRulesId);else{var a=ep(this.rules,e,n,r).join(""),s=K(G(this.baseHash,a)>>>0);if(!n.hasNameForId(i,s)){var l=r(a,"."+s,void 0,i);n.insertRules(i,s,l)}o.push(s),this.staticRulesId=s}}else{for(var u=this.rules.length,c=G(this.baseHash,r.hash),d="",h=0;h<u;h++){var f=this.rules[h];if("string"==typeof f)d+=f;else if(f){var p=ep(f,e,n,r),g=Array.isArray(p)?p.join(""):p;c=G(c,g+h),d+=g}}if(d){var y=K(c>>>0);if(!n.hasNameForId(i,y)){var m=r(d,"."+y,void 0,i);n.insertRules(i,y,m)}o.push(y)}}return o.join(" ")},e}(),q=/^\s*\/\/.*$/gm,J=[":","[",".","#"];function ee(e){var n,r,i,o,a=void 0===e?m:e,s=a.options,l=void 0===s?m:s,c=a.plugins,d=void 0===c?y:c,h=new u.default(l),f=[],p=function(e){function n(n){if(n)try{e(n+"}")}catch(e){}}return function(r,i,o,a,s,l,u,c,d,h){switch(r){case 1:if(0===d&&64===i.charCodeAt(0))return e(i+";"),"";break;case 2:if(0===c)return i+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(o[0]+i),"";default:return i+(0===h?"/*|*/":"")}case -2:i.split("/*|*/}").forEach(n)}}}(function(e){f.push(e)}),g=function(e,i,a){return 0===i&&-1!==J.indexOf(a[r.length])||a.match(o)?e:"."+n};function b(e,a,s,l){void 0===l&&(l="&");var u=e.replace(q,""),c=a&&s?s+" "+a+" { "+u+" }":u;return n=l,i=RegExp("\\"+(r=a)+"\\b","g"),o=RegExp("(\\"+r+"\\b){2,}"),h(s||!a?"":a,c)}return h.use([].concat(d,[function(e,n,o){2===e&&o.length&&o[0].lastIndexOf(r)>0&&(o[0]=o[0].replace(i,g))},p,function(e){if(-2===e){var n=f;return f=[],n}}])),b.hash=d.length?d.reduce(function(e,n){return n.name||S(15),G(e,n.name)},5381).toString():"",b}var et=s.default.createContext(),en=(et.Consumer,s.default.createContext()),er=(en.Consumer,new U),ei=ee();function eo(){return(0,s.useContext)(et)||er}function ea(e){var n=(0,s.useState)(e.stylisPlugins),r=n[0],i=n[1],o=eo(),a=(0,s.useMemo)(function(){var n=o;return e.sheet?n=e.sheet:e.target&&(n=n.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(n=n.reconstructWithOptions({useCSSOMInjection:!1})),n},[e.disableCSSOMInjection,e.sheet,e.target]),u=(0,s.useMemo)(function(){return ee({options:{prefix:!e.disableVendorPrefixes},plugins:r})},[e.disableVendorPrefixes,r]);return(0,s.useEffect)(function(){(0,l.default)(r,e.stylisPlugins)||i(e.stylisPlugins)},[e.stylisPlugins]),s.default.createElement(et.Provider,{value:a},s.default.createElement(en.Provider,{value:u},e.children))}var es=function(){function e(e,n){var r=this;this.inject=function(e,n){void 0===n&&(n=ei);var i=r.name+n.hash;e.hasNameForId(r.id,i)||e.insertRules(r.id,i,n(r.rules,i,"@keyframes"))},this.toString=function(){return S(12,String(r.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=n}return e.prototype.getName=function(e){return void 0===e&&(e=ei),this.name+e.hash},e}(),el=/([A-Z])/,eu=/([A-Z])/g,ec=/^ms-/,ed=function(e){return"-"+e.toLowerCase()};function eh(e){return el.test(e)?e.replace(eu,ed).replace(ec,"-ms-"):e}var ef=function(e){return null==e||!1===e||""===e};function ep(e,n,r,i){if(Array.isArray(e)){for(var o,a=[],s=0,l=e.length;s<l;s+=1)""!==(o=ep(e[s],n,r,i))&&(Array.isArray(o)?a.push.apply(a,o):a.push(o));return a}if(ef(e))return"";if(w(e))return"."+e.styledComponentId;if(b(e))return"function"!=typeof e||e.prototype&&e.prototype.isReactComponent||!n?e:ep(e(n),n,r,i);return e instanceof es?r?(e.inject(r,i),e.getName(i)):e:g(e)?function e(n,r){var i,o,a=[];for(var s in n)n.hasOwnProperty(s)&&!ef(n[s])&&(Array.isArray(n[s])&&n[s].isCss||b(n[s])?a.push(eh(s)+":",n[s],";"):g(n[s])?a.push.apply(a,e(n[s],s)):a.push(eh(s)+": "+(i=s,null==(o=n[s])||"boolean"==typeof o||""===o?"":"number"!=typeof o||0===o||i in c.default||i.startsWith("--")?String(o).trim():o+"px")+";"));return r?[r+" {"].concat(a,["}"]):a}(e):e.toString()}var eg=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function ey(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return b(e)||g(e)?eg(ep(p(y,[e].concat(r)))):0===r.length&&1===e.length&&"string"==typeof e[0]?e:eg(ep(p(e,r)))}var em=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,ev=/(^-|-$)/g;function eb(e){return e.replace(em,"-").replace(ev,"")}function e_(e){return"string"==typeof e}var ew=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)};function eE(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var o=0;o<r.length;o++){var a,s=r[o];if(ew(s))for(var l in s){;"__proto__"!==(a=l)&&"constructor"!==a&&"prototype"!==a&&function(e,n,r){var i=e[r];ew(n)&&ew(i)?eE(i,n):e[r]=n}(e,s[l],l)}}return e}var ex=s.default.createContext();ex.Consumer;var eC={},eS=function(e){return function e(n,r,i){if(void 0===i&&(i=m),!(0,a.isValidElementType)(r))return S(1,String(r));var o=function(){return n(r,i,ey.apply(void 0,arguments))};return o.withConfig=function(o){return e(n,r,f({},i,{},o))},o.attrs=function(o){return e(n,r,f({},i,{attrs:Array.prototype.concat(i.attrs,o).filter(Boolean)}))},o}(function e(n,r,i){var o=w(n),a=!e_(n),l=r.attrs,u=void 0===l?y:l,c=r.componentId,p=void 0===c?(O=r.displayName,M=r.parentComponentId,P="string"!=typeof O?"sc":eb(O),eC[P]=(eC[P]||0)+1,D=P+"-"+K(Y("5.3.11"+P+eC[P])>>>0),M?M+"-"+D:D):c,g=r.displayName,E=void 0===g?e_(I=n)?"styled."+I:"Styled("+_(I)+")":g,x=r.displayName&&r.componentId?eb(r.displayName)+"-"+r.componentId:r.componentId||p,C=o&&n.attrs?Array.prototype.concat(n.attrs,u).filter(Boolean):u,S=r.shouldForwardProp;o&&n.shouldForwardProp&&(S=r.shouldForwardProp?function(e,i,o){return n.shouldForwardProp(e,i,o)&&r.shouldForwardProp(e,i,o)}:n.shouldForwardProp);var O,M,P,D,I,j,N=new Q(i,x,o?n.componentStyle:void 0),T=N.isStatic&&0===u.length,k=function(e,n){return function(e,n,r,i){var o,a,l,u,c,h,p,g,y,_,w,E,x,C,S=e.attrs,O=e.componentStyle,M=e.defaultProps,P=e.foldedComponentIds,D=e.shouldForwardProp,I=e.styledComponentId,j=e.target,N=(u=(o=n,a=(0,s.useContext)(ex),void 0===(l=M)&&(l=m),o.theme!==l.theme&&o.theme||a||l.theme||m),c=n,h=S,void 0===u&&(u=m),p=f({},c,{theme:u}),g={},h.forEach(function(e){var n,r,i,o=e;for(n in b(o)&&(o=o(p)),o)p[n]=g[n]="className"===n?(r=g[n],i=o[n],r&&i?r+" "+i:r||i):o[n]}),[p,g]),T=N[0],k=N[1],A=(y=O,_=i,w=T,E=0,x=eo(),C=(0,s.useContext)(en)||ei,_?y.generateAndInjectStyles(m,x,C):y.generateAndInjectStyles(w,x,C)),R=k.$as||n.$as||k.as||n.as||j,L=e_(R),F=k!==n?f({},n,{},k):n,z={};for(var B in F)"$"!==B[0]&&"as"!==B&&("forwardedAs"===B?z.as=F[B]:(D?D(B,d.default,R):!L||(0,d.default)(B))&&(z[B]=F[B]));return n.style&&k.style!==n.style&&(z.style=f({},n.style,{},k.style)),z.className=Array.prototype.concat(P,I,A!==I?A:null,n.className,k.className).filter(Boolean).join(" "),z.ref=r,(0,s.createElement)(R,z)}(j,e,n,T)};return k.displayName=E,(j=s.default.forwardRef(k)).attrs=C,j.componentStyle=N,j.displayName=E,j.shouldForwardProp=S,j.foldedComponentIds=o?Array.prototype.concat(n.foldedComponentIds,n.styledComponentId):y,j.styledComponentId=x,j.target=o?n.target:n,j.withComponent=function(n){var o=r.componentId,a=function(e,n){if(null==e)return{};var r,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)n.indexOf(r=a[i])>=0||(o[r]=e[r]);return o}(r,["componentId"]),s=o&&o+"-"+(e_(n)?n:eb(_(n)));return e(n,f({},a,{attrs:C,componentId:s}),i)},Object.defineProperty(j,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=o?eE({},n.defaultProps,e):e}}),Object.defineProperty(j,"toString",{value:function(){return"."+j.styledComponentId}}),a&&(0,h.default)(j,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),j},e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(e){eS[e]=eS(e)}),i=(function(e,n){this.rules=e,this.componentId=n,this.isStatic=X(e),U.registerId(this.componentId+1)}).prototype,i.createStyles=function(e,n,r,i){var o=i(ep(this.rules,n,r,i).join(""),""),a=this.componentId+e;r.insertRules(a,a,o)},i.removeStyles=function(e,n){n.clearRules(this.componentId+e)},i.renderStyles=function(e,n,r,i){e>2&&U.registerId(this.componentId+e),this.removeStyles(e,r),this.createStyles(e,n,r,i)},o=(function(){var e=this;this._emitSheetCSS=function(){var n=e.instance.toString();if(!n)return"";var r=R();return"<style "+[r&&'nonce="'+r+'"',E+'="true"','data-styled-version="5.3.11"'].filter(Boolean).join(" ")+">"+n+"</style>"},this.getStyleTags=function(){return e.sealed?S(2):e._emitSheetCSS()},this.getStyleElement=function(){if(e.sealed)return S(2);var n,r=((n={})[E]="",n["data-styled-version"]="5.3.11",n.dangerouslySetInnerHTML={__html:e.instance.toString()},n),i=R();return i&&(r.nonce=i),[s.default.createElement("style",f({},r,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new U({isServer:!0}),this.sealed=!1}).prototype,o.collectStyles=function(e){return this.sealed?S(2):s.default.createElement(ea,{sheet:this.instance},e)},o.interleaveWithNodeStream=function(e){return S(3)};var eO=eS},86400:function(e,n,r){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAAXNSR0IArs4c6QAACVpJREFUeF7tnQtuGzkQBScni30y2yeLfbKsmZUAwfBHw+maJtklYBEsoHkkH6s8oiQnvzYfNmADXzbwy25swAa+bkBBpMMGvmlAQcTDBhREBmygrwHvIH29eVWRBhSkyEa7zL4GFKSvN68q0oCCFNlol9nXgIL09eZVRRpQkCIb7TL7GlCQvt68qkgDClJko11mXwMK0tebVxVpQEGKbLTL7GtAQfp686oiDShIkY12mX0NKEhfb15VpAEFKbLRLrOvAQXp682rijSgIEU22mX2NZAhyEPfVL3KBv418HpmD2cJ8rxt2+/3xSnHmbu77lhNkrf35TWu0ActSBPiSTHQPawc3kR5Ie8qtCB/lKMyv6esvUnySI1ECtJuf+3u4cMG6AbaXQR5uUUK4t2DxsL8awPYXYQU5K/7ZwMnNoCwjIRezh3tDuLDBs5qAGEZCVWQs5hwnJsGEJaRUAUR3IQGEJaRUAVJwMMhEZaRUAWR1oQGEJaRUAVJwMMhEZaRUAWR1oQGEJaRUAVJwMMhEZaRUAWR1oQGEJaRUAVJwMMhEZaRUAWR1oQGEJaRUAVJwMMhEZaRUAWR1oQGEJaRUAVJwMMhEZaRUAWR1oQGEJaRUAVJwMMhEZaRUAWR1oQGEJaRUAVJwMMhEZaRUAWR1oQGEJaRUAVJwMMhEZaRUAWR1oQGEJaRUAVJwMMhEZaRUAWR1oQGEJaRUAVJwMMhEZaRUAWR1oQGEJaRUAVJwMMhEZaRUAWR1oQGEJaRUAVJwMMhEZaRUAWR1oQGEJaRUAVJwMMhEZaRUAWR1oQGEJaRUAVJwMMhEZaRUAWR1oQGEJaRUAVJwMMhEZaRUAWR1oQGEJaRUAVJwMMhEZaRUAWR1oQGEJaRUAVJwMMhEZaRUAWR1oQGEJaR0MEFeXnfvOfLf08JG+mQTAMIy0jo4II8vs/v9WaP2r/n/sDsmaknNoCwjIROJkjbw3ZH8W5yIs3AUAjLSOiEgigJQOzJkQjLSOikgijJyUQHD4ewjIROLEjbs3YeaecSH3M1gLCMhA4O2cdD+lcYeHhXkE1BvofAw/s8kiAsI6GL3EGuaCjJHJIgLCOhiwni4V1BwhsY+aB77xnkYyneScIxCQ1EftgjoQveQa472cRvHyj6yXso2yFhCMtI6MKCeC4JYRkJQVhGQgsI4rkEYfxQKMIyEjq4INdv8x7ajcvFnksiWozJQFhGQgcXpG2HksRAOVIKwjISOoEg0ZKM/K7dSBCTc0FYRkInESRakpbn11NIBb7PRlhGQicSpFXefnmqfTYS9fBcEtXkvhyEZSR0MkGu29D7AeJn26gk++COeDbCMhI6qSDRL7mUJAL7+zMQlpHQiQWJlsTD+/2AH30mwjISOrkg0ZJ4eD+K/n3XIywjoQsI4uH9PihHehbCMhK6iCAe3kfC/+e5ICwjoYsJEv2Sy8P7z7D3PANhGQldUJBoSTy89yjw/TUIy0joooJES+LhPVYShGUkdGFBCEl8yRUjCsIyErq4INd3uNo3gm//jt8j26wkR9r7/1qEZSS0gCDX7fRr88fBjkpAWEZCCwkS/ZLLw3u/LgjLSGgxQaIl8eVWnyQIy0iogvTt8OUqBemrD2EZCS0mSOQ5xJdYfXJ4SO/vDb3S3yFB690VjvywR0IL3EHa27u+zbuLX/zJCMtI6OKCRP+Krr/HHuMOwjISurAgkecNv2oSI8Y1BWEZCV1UkEg5PIzHyuEhPb7PXYkexnfVlfJk5Ic9ErrQHcTDeArrXYMiLCOhiwgSfRj3A8Au7u++CGEZCV1AkMjzhofxuxk/9ESEZSR0ckEi5fAwfoj5XRcjLCOhEwuiHLuYHOrJCMtI6KSC+E7VULzvngzCMhI6mSAexnezOOQFCMtI6ESCRL6k8jCe6w3CMhI6iSCRcviv3+bK4Sfpwf1Hy9G+cOgjtwHkhz0SOvgdJFIOP/zLleJ2dIRlJHRwQaLerVKOceTwJVbgXkQIQv8OR3tn7S1wzVFRT1FBQA7ywx4JXfgOctZhnNqXo1yO/M0ApDMkdFFBzoIj+nOZo1LcXn9WBz1zRlhGQhcU5MzzhoL06OFfPdrX2idX7T2DnClHm66C9G018sMeCV3oDkIfxj9DQUEUpK+BoKvuuYOcdRhXkKBN9W93jyvyJ0GyD6LeQfr2Gnk1hIRO/BLr7POGd5A+GT67CmEZCZ1UkBHk8JDeLwzCMhI6oSAZh/GvUPAlVp8kCMtI6ESCZB7GFaRPhK+uQlhGQgcX5Ppt3uzD+Hd4RH7jOBLDUV6GegaJ3FWzSjSA/LBHQge/g5SgpeAiEZaRUAUpiGf+khGWkVAFyael4AwQlpFQBSmIZ/6SEZaRUAXJp6XgDBCWkVAFKYhn/pIRlpFQBcmnpeAMEJaRUAUpiGf+khGWkVAFyael4AwQlpFQBSmIZ/6SEZaRUAXJp6XgDBCWkVAFKYhn/pIRlpFQBcmnpeAMEJaRUAUpiGf+khGWkVAFyael4AwQlpFQBSmIZ/6SEZaRUAXJp6XgDBCWkVAFKYhn/pIRlpFQBcmnpeAMEJaRUAUpiGf+khGWkVAFyael4AwQlpFQBSmIZ/6SEZaRUAXJp6XgDBCWkVAFKYhn/pIRlpFQBcmnpeAMEJaRUAUpiGf+khGWkVAFyael4AwQlpFQBSmIZ/6SEZaRUAXJp6XgDBCWkVAFKYhn/pIRlpFQBcmnpeAMEJaRUAUpiGf+khGWkVAFyael4AwQlpFQBSmIZ/6SEZaRUAXJp6XgDBCWkVAFKYhn/pIRlpFQBcmnpeAMEJaRUAUpiGf+khGWkdBLV3/zO3MGhRpAWEZCL5vy53InKbRHLjWpgddt2x6JsUlBnrdteyImbaYNfGjg5f3/G2/hD1KQNlnvIuFbZuCHBrC7RxuHFuThchdpf/qwgegGmhzt7tH+RB60INdJt9vfb88kyB5WDG1CvFEvq24LPUuQipvomhdoQEEW2ESXwDWgIFy3Ji/QgIIssIkugWtAQbhuTV6gAQVZYBNdAteAgnDdmrxAAwqywCa6BK4BBeG6NXmBBhRkgU10CVwDCsJ1a/ICDSjIApvoErgGFITr1uQFGlCQBTbRJXANKAjXrckLNKAgC2yiS+AaUBCuW5MXaEBBFthEl8A1oCBctyYv0ICCLLCJLoFrQEG4bk1eoAEFWWATXQLXwH+HzkvYdHuldAAAAABJRU5ErkJggg=="},79398:function(e,n,r){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNDQiIGhlaWdodD0iNDUiIHZpZXdCb3g9IjAgMCA0NCA0NSIgZmlsbD0ibm9uZSIgY2xhc3M9ImluamVjdGVkLXN2ZyIgZGF0YS1zcmM9Imh0dHBzOi8vbGYzLXN0YXRpYy5ieXRlZG5zZG9jLmNvbS9vYmovZWRlbi1jbi91dnBhaHR2YWJoX2xtX3poaHdoL2xqaHdadGhsYXVramxrdWx6bHAvYWN0aXZpdHlfaWNvbnMvZXhjbHVzaXZlLXNwbGl0LTA1MTguc3ZnIj4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE2LjQ3MDUgMTQuMDE1MkMxNS4yOTkgMTIuODQzNiAxNS4yOTkgMTAuOTQ0IDE2LjQ3MDUgOS43NzI0NEwyMC43MTMxIDUuNTI5N0MyMS44ODQ2IDQuMzU4MSAyMy43ODQgNC4zNTgxIDI0Ljk1NTYgNS41Mjk3TDI5LjE5ODEgOS43NzI0NEMzMC4zNjk3IDEwLjk0NCAzMC4zNjk3IDEyLjg0MzYgMjkuMTk4MSAxNC4wMTUyTDI1LjEyMDYgMTguMDkyOUgzMi42Njc0QzM2LjUzMzQgMTguMDkyOSAzOS42Njc0IDIxLjIyNjkgMzkuNjY3NCAyNS4wOTI5VjMzLjE1NFYzMy4zMjcxVjM3LjE1NEMzOS42Njc0IDM4LjI1ODUgMzguNzcxOSAzOS4xNTQgMzcuNjY3NCAzOS4xNTRIMzMuNjY3NEMzMi41NjI4IDM5LjE1NCAzMS42Njc0IDM4LjI1ODUgMzEuNjY3NCAzNy4xNTRWMzMuMzI3MVYzMy4xNTRWMjYuMDkyOUgyMy41OTQ4SDE1LjY2NzRWMzMuMTMyN0wxNy4yNjg1IDMzLjEyNDRDMTguODM5NyAzMy4xMTYzIDE5LjYzMjIgMzUuMDE1NiAxOC41MjEyIDM2LjEyNjZMMTIuNzM3NCA0MS45MTAzQzEyLjA1MDYgNDIuNTk3MSAxMC45MzcxIDQyLjU5NzEgMTAuMjUwMyA0MS45MTAzTDQuNTI1ODggMzYuMTg1OUMzLjQyMTA3IDM1LjA4MTEgNC4xOTc5NyAzMy4xOTE3IDUuNzYwMzggMzMuMTgzN0w3LjY2NzM3IDMzLjE3MzlWMjUuMDkyOUM3LjY2NzM3IDIxLjIyNyAxMC44MDE0IDE4LjA5MjkgMTQuNjY3NCAxOC4wOTI5SDIwLjU0ODFMMTYuNDcwNSAxNC4wMTUyWiIgZmlsbD0idXJsKCNwYWludDBfbGluZWFyXzI3NTJfMTgzNzAyLTcpIi8+CiAgPGRlZnM+CiAgICA8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfMjc1Ml8xODM3MDItNyIgeDE9IjM4LjUyIiB5MT0iNDMuMzkxNSIgeDI9IjguMDk2ODYiIHkyPSI0LjY5ODIiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iIzMzNzBGRiIvPgogICAgICA8c3RvcCBvZmZzZXQ9IjAuOTk3OTA4IiBzdG9wLWNvbG9yPSIjMzNBOUZGIi8+CiAgICA8L2xpbmVhckdyYWRpZW50PgogIDwvZGVmcz4KPC9zdmc+Cg=="},53812:function(e,n,r){e.exports=r.p+"a64b676807b351b8.jpg"},55951:function(e,n,r){e.exports=r.p+"ff01c9a15554d30b.jpg"},33984:function(e,n,r){e.exports=r.p+"8064c69d70c22444.jpg"},80863:function(e,n,r){},55689:function(e,n,r){},56978:function(e,n,r){},74824:function(e,n,r){},93569:function(e,n,r){},72314:function(e,n,r){},37894:function(e,n,r){!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(e=i(e,function(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var o="";for(var a in e)n.call(e,a)&&e[a]&&(o=i(o,a));return o}(a)))}return e}function i(e,n){return n?e?e+" "+n:e+n:e}void 0!==e&&e.exports?(r.default=r,e.exports=r):"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("classnames",[],function(){return r}):window.classNames=r}()},11278:function(e,n,r){var i,o;o=i||(i={}),function(e){var n="object"==typeof globalThis?globalThis:"object"==typeof r.g?r.g:"object"==typeof self?self:"object"==typeof this?this:function(){return function(){try{return Function("return this;")()}catch(e){}}()||function(){try{return(0,eval)("(function() { return this; })()")}catch(e){}}()}(),i=a(o);function a(e,n){return function(r,i){Object.defineProperty(e,r,{configurable:!0,writable:!0,value:i}),n&&n(r,i)}}void 0!==n.Reflect&&(i=a(n.Reflect,i)),e(i,n),void 0===n.Reflect&&(n.Reflect=o)}(function(e,n){var r=Object.prototype.hasOwnProperty,i="function"==typeof Symbol,o=i&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",a=i&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",s="function"==typeof Object.create,l=({__proto__:[]})instanceof Array,u=!s&&!l,c={create:s?function(){return B(Object.create(null))}:l?function(){return B({__proto__:null})}:function(){return B({})},has:u?function(e,n){return r.call(e,n)}:function(e,n){return n in e},get:u?function(e,n){return r.call(e,n)?e[n]:void 0}:function(e,n){return e[n]}},d=Object.getPrototypeOf(Function),h="function"==typeof Map&&"function"==typeof Map.prototype.entries?Map:function(){var e={},n=[],r=function(){function e(e,n,r){this._index=0,this._keys=e,this._values=n,this._selector=r}return e.prototype["@@iterator"]=function(){return this},e.prototype[a]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var r=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=n,this._values=n):this._index++,{value:r,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=n,this._values=n),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=n,this._values=n),{value:e,done:!0}},e}();return function(){function n(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(n.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),n.prototype.has=function(e){return this._find(e,!1)>=0},n.prototype.get=function(e){var n=this._find(e,!1);return n>=0?this._values[n]:void 0},n.prototype.set=function(e,n){var r=this._find(e,!0);return this._values[r]=n,this},n.prototype.delete=function(n){var r=this._find(n,!1);if(r>=0){for(var i=this._keys.length,o=r+1;o<i;o++)this._keys[o-1]=this._keys[o],this._values[o-1]=this._values[o];return this._keys.length--,this._values.length--,N(n,this._cacheKey)&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},n.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},n.prototype.keys=function(){return new r(this._keys,this._values,i)},n.prototype.values=function(){return new r(this._keys,this._values,o)},n.prototype.entries=function(){return new r(this._keys,this._values,s)},n.prototype["@@iterator"]=function(){return this.entries()},n.prototype[a]=function(){return this.entries()},n.prototype._find=function(e,n){if(!N(this._cacheKey,e)){this._cacheIndex=-1;for(var r=0;r<this._keys.length;r++)if(N(this._keys[r],e)){this._cacheIndex=r;break}}return this._cacheIndex<0&&n&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},n}();function i(e,n){return e}function o(e,n){return n}function s(e,n){return[e,n]}}(),f="function"==typeof Set&&"function"==typeof Set.prototype.entries?Set:function(){return function(){function e(){this._map=new h}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.keys()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[a]=function(){return this.keys()},e}()}(),p="function"==typeof WeakMap?WeakMap:function(){var e=c.create(),n=i();return function(){function e(){this._key=i()}return e.prototype.has=function(e){var n=o(e,!1);return void 0!==n&&c.has(n,this._key)},e.prototype.get=function(e){var n=o(e,!1);return void 0!==n?c.get(n,this._key):void 0},e.prototype.set=function(e,n){return o(e,!0)[this._key]=n,this},e.prototype.delete=function(e){var n=o(e,!1);return void 0!==n&&delete n[this._key]},e.prototype.clear=function(){this._key=i()},e}();function i(){var n;do n="@@WeakMap@@"+function(){var e=function(e){if("function"==typeof Uint8Array){var n=new Uint8Array(e);return"undefined"!=typeof crypto?crypto.getRandomValues(n):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(n):a(n,e),n}return a(Array(e),e)}(16);e[6]=79&e[6]|64,e[8]=191&e[8]|128;for(var n="",r=0;r<16;++r){var i=e[r];(4===r||6===r||8===r)&&(n+="-"),i<16&&(n+="0"),n+=i.toString(16).toLowerCase()}return n}();while(c.has(e,n));return e[n]=!0,n}function o(e,i){if(!r.call(e,n)){if(!i)return;Object.defineProperty(e,n,{value:c.create()})}return e[n]}function a(e,n){for(var r=0;r<n;++r)e[r]=255*Math.random()|0;return e}}(),g=i?Symbol.for("@reflect-metadata:registry"):void 0,y=function(){var e;return!C(g)&&O(n.Reflect)&&Object.isExtensible(n.Reflect)&&(e=n.Reflect[g]),C(e)&&(e=function(){!C(g)&&void 0!==n.Reflect&&!(g in n.Reflect)&&"function"==typeof n.Reflect.defineMetadata&&(e=function(e){var n=e.defineMetadata,r=e.hasOwnMetadata,i=e.getOwnMetadata,o=e.getOwnMetadataKeys,a=e.deleteMetadata,s=new p;return{isProviderFor:function(e,n){var r=s.get(e);return!!(!C(r)&&r.has(n))||!!o(e,n).length&&(C(r)&&(r=new f,s.set(e,r)),r.add(n),!0)},OrdinaryDefineOwnMetadata:n,OrdinaryHasOwnMetadata:r,OrdinaryGetOwnMetadata:i,OrdinaryOwnMetadataKeys:o,OrdinaryDeleteMetadata:a}}(n.Reflect));var e,r,i,o,a=new p,s={registerProvider:function(n){if(!Object.isExtensible(s))throw Error("Cannot add provider to a frozen registry.");switch(!0){case e===n:break;case C(r):r=n;break;case r===n:break;case C(i):i=n;break;case i===n:break;default:void 0===o&&(o=new f),o.add(n)}},getProvider:l,setProvider:function(e,n,s){if(!function(e){if(C(e))throw TypeError();return r===e||i===e||!C(o)&&o.has(e)}(s))throw Error("Metadata provider not registered.");var u=l(e,n);if(u!==s){if(!C(u))return!1;var c=a.get(e);C(c)&&(c=new h,a.set(e,c)),c.set(n,s)}return!0}};return s;function l(n,s){var l,u=a.get(n);return(!C(u)&&(l=u.get(s)),C(l))?(l=function(n,a){if(!C(r)){if(r.isProviderFor(n,a))return r;if(!C(i)){if(i.isProviderFor(n,a))return r;if(!C(o)){for(var s=k(o);;){var l=R(s);if(!l)return;var u=l.value;if(u.isProviderFor(n,a))return L(s),u}}}}if(!C(e)&&e.isProviderFor(n,a))return e}(n,s),!C(l)&&(C(u)&&(u=new h,a.set(n,u)),u.set(s,l)),l):l}}()),!C(g)&&O(n.Reflect)&&Object.isExtensible(n.Reflect)&&Object.defineProperty(n.Reflect,g,{enumerable:!1,configurable:!1,writable:!1,value:e}),e}(),m=function(e){var n=new p,r={isProviderFor:function(e,r){var i=n.get(e);return!C(i)&&i.has(r)},OrdinaryDefineOwnMetadata:function(e,n,r,o){i(r,o,!0).set(e,n)},OrdinaryHasOwnMetadata:function(e,n,r){var o=i(n,r,!1);if(C(o))return!1;return!!o.has(e)},OrdinaryGetOwnMetadata:function(e,n,r){var o=i(n,r,!1);if(!C(o))return o.get(e)},OrdinaryOwnMetadataKeys:function(e,n){var r=[],o=i(e,n,!1);if(C(o))return r;for(var a=k(o.keys()),s=0;;){var l=R(a);if(!l)return r.length=s,r;var u=l.value;try{r[s]=u}catch(e){try{L(a)}finally{throw e}}s++}},OrdinaryDeleteMetadata:function(e,r,o){var a=i(r,o,!1);if(C(a)||!a.delete(e))return!1;if(0===a.size){var s=n.get(r);!C(s)&&(s.delete(o),0===s.size&&n.delete(s))}return!0}};return y.registerProvider(r),r;function i(i,o,a){var s=n.get(i),l=!1;if(C(s)){if(!a)return;s=new h,n.set(i,s),l=!0}var u=s.get(o);if(C(u)){if(!a)return;if(u=new h,s.set(o,u),!e.setProvider(i,o,r))throw s.delete(o),l&&n.delete(i),Error("Wrong provider for target.")}return u}}(y);e("decorate",function(e,n,r,i){if(C(r)){if(!D(e)||!j(n))throw TypeError();return function(e,n){for(var r=e.length-1;r>=0;--r){var i=(0,e[r])(n);if(!C(i)&&!S(i)){if(!j(i))throw TypeError();n=i}}return n}(e,n)}if(!D(e)||!O(n)||!O(i)&&!C(i)&&!S(i))throw TypeError();return S(i)&&(i=void 0),function(e,n,r,i){for(var o=e.length-1;o>=0;--o){var a=(0,e[o])(n,r,i);if(!C(a)&&!S(a)){if(!O(a))throw TypeError();i=a}}return i}(e,n,r=P(r),i)});e("metadata",function(e,n){return function(r,i){if(!O(r)||!C(i)&&!function(e){switch(x(e)){case 3:case 4:return!0;default:return!1}}(i))throw TypeError();w(e,n,r,i)}});e("defineMetadata",function(e,n,r,i){if(!O(r))throw TypeError();return!C(i)&&(i=P(i)),w(e,n,r,i)});e("hasMetadata",function(e,n,r){if(!O(n))throw TypeError();return!C(r)&&(r=P(r)),function e(n,r,i){if(b(n,r,i))return!0;var o=F(r);return!S(o)&&e(n,o,i)}(e,n,r)});e("hasOwnMetadata",function(e,n,r){if(!O(n))throw TypeError();return!C(r)&&(r=P(r)),b(e,n,r)});e("getMetadata",function(e,n,r){if(!O(n))throw TypeError();return!C(r)&&(r=P(r)),function e(n,r,i){if(b(n,r,i))return _(n,r,i);var o=F(r);if(!S(o))return e(n,o,i)}(e,n,r)});e("getOwnMetadata",function(e,n,r){if(!O(n))throw TypeError();return!C(r)&&(r=P(r)),_(e,n,r)});e("getMetadataKeys",function(e,n){if(!O(e))throw TypeError();return!C(n)&&(n=P(n)),function e(n,r){var i=E(n,r),o=F(n);if(null===o)return i;var a=e(o,r);if(a.length<=0)return i;if(i.length<=0)return a;for(var s=new f,l=[],u=0;u<i.length;u++){var c=i[u],d=s.has(c);!d&&(s.add(c),l.push(c))}for(var h=0;h<a.length;h++){var c=a[h],d=s.has(c);!d&&(s.add(c),l.push(c))}return l}(e,n)});e("getOwnMetadataKeys",function(e,n){if(!O(e))throw TypeError();return!C(n)&&(n=P(n)),E(e,n)});e("deleteMetadata",function(e,n,r){if(!O(n))throw TypeError();if(!C(r)&&(r=P(r)),!O(n))throw TypeError();!C(r)&&(r=P(r));var i=z(n,r,!1);return!C(i)&&i.OrdinaryDeleteMetadata(e,n,r)});function b(e,n,r){var i=z(n,r,!1);return!C(i)&&function(e){return!!e}(i.OrdinaryHasOwnMetadata(e,n,r))}function _(e,n,r){var i=z(n,r,!1);if(!C(i))return i.OrdinaryGetOwnMetadata(e,n,r)}function w(e,n,r,i){z(r,i,!0).OrdinaryDefineOwnMetadata(e,n,r,i)}function E(e,n){var r=z(e,n,!1);return r?r.OrdinaryOwnMetadataKeys(e,n):[]}function x(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function C(e){return void 0===e}function S(e){return null===e}function O(e){return"object"==typeof e?null!==e:"function"==typeof e}function M(e){return!!e}function P(e){var n=function(e,n){switch(x(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var r=3===n?"string":5===n?"number":"default",i=T(e,o);if(void 0!==i){var a=i.call(e,r);if(O(a))throw TypeError();return a}return function(e,n){if("string"===n){var r=e.toString;if(I(r)){var i=r.call(e);if(!O(i))return i}var o=e.valueOf;if(I(o)){var i=o.call(e);if(!O(i))return i}}else{var o=e.valueOf;if(I(o)){var i=o.call(e);if(!O(i))return i}var a=e.toString;if(I(a)){var i=a.call(e);if(!O(i))return i}}throw TypeError()}(e,"default"===r?"number":r)}(e,3);if("symbol"==typeof n)return n;return""+n}function D(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function I(e){return"function"==typeof e}function j(e){return"function"==typeof e}function N(e,n){return e===n||e!=e&&n!=n}function T(e,n){var r=e[n];if(null!=r){if(!I(r))throw TypeError();return r}}function k(e){var n=T(e,a);if(!I(n))throw TypeError();var r=n.call(e);if(!O(r))throw TypeError();return r}function A(e){return e.value}function R(e){var n=e.next();return!n.done&&n}function L(e){var n=e.return;n&&n.call(e)}function F(e){var n=Object.getPrototypeOf(e);if("function"!=typeof e||e===d||n!==d)return n;var r=e.prototype,i=r&&Object.getPrototypeOf(r);if(null==i||i===Object.prototype)return n;var o=i.constructor;return"function"!=typeof o||o===e?n:o}function z(e,n,r){var i=y.getProvider(e,n);if(!C(i))return i;if(r){if(y.setProvider(e,n,m))return m;throw Error("Illegal state.")}}function B(e){return e.__=void 0,delete e.__,e}})},81982:function(e,n,r){"use strict";function i(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}})},79156:function(e,n,r){"use strict";function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var i in r)({}).hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(null,arguments)}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}})},30161:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var i=r.ir(r("96959"));function o(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,(0,i.default)(e,n)}},96959:function(e,n,r){"use strict";function i(e,n){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e})(e,n)}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}})},3487:function(e,n,r){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}})},97253:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"LazyServiceIdentifier",{enumerable:!0,get:function(){return o}});let i=Symbol.for("@inversifyjs/common/islazyServiceIdentifier");class o{[i];#e;constructor(e){this.#e=e,this[i]=!0}static is(e){return"object"==typeof e&&null!==e&&!0===e[i]}unwrap(){return this.#e()}}},32592:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{ClassElementMetadataKind:function(){return s},LegacyTargetImpl:function(){return T},getClassElementMetadataFromLegacyMetadata:function(){return C},getTargets:function(){return k}});var i,o,a,s,l=r("76996"),u=r("97253");let c="named",d="name",h="unmanaged",f="optional",p="inject",g="multi_inject",y="post_construct",m="pre_destroy",b=[p,g,d,h,c,f],_=Symbol.for("@inversifyjs/core/InversifyCoreError");class w extends Error{[_];kind;constructor(e,n,r){super(n,r),this[_]=!0,this.kind=e}static is(e){return"object"==typeof e&&null!==e&&!0===e[_]}static isErrorOfKind(e,n){return w.is(e)&&e.kind===n}}function E(e,n){let r=[];for(let e=0;e<n.length;++e)void 0===n[e]&&r.push(e);if(r.length>0)throw new w(a.missingInjectionDecorator,`Found unexpected missing metadata on type "${e.name}" at constructor indexes "${r.join('", "')}".

Are you using @inject, @multiInject or @unmanaged decorators at those indexes?

If you're using typescript and want to rely on auto injection, set "emitDecoratorMetadata" compiler option to true`)}function x(e){return{kind:s.singleInjection,name:void 0,optional:!1,tags:new Map,targetName:void 0,value:e}}function C(e){let n=e.find(e=>e.key===p),r=e.find(e=>e.key===g);if(void 0!==e.find(e=>e.key===h))return function(e,n){if(void 0!==n||void 0!==e)throw new w(a.missingInjectionDecorator,"Expected a single @inject, @multiInject or @unmanaged metadata");return{kind:s.unmanaged}}(n,r);if(void 0===r&&void 0===n)throw new w(a.missingInjectionDecorator,"Expected @inject, @multiInject or @unmanaged metadata");let i=e.find(e=>e.key===c),o=e.find(e=>e.key===f),l=e.find(e=>e.key===d);return{kind:void 0===n?s.multipleInjection:s.singleInjection,name:i?.value,optional:void 0!==o,tags:new Map(e.filter(e=>b.every(n=>e.key!==n)).map(e=>[e.key,e.value])),targetName:l?.value,value:void 0===n?r?.value:n.value}}function S(e,n,r){try{return C(r)}catch(r){throw w.isErrorOfKind(r,a.missingInjectionDecorator)?new w(a.missingInjectionDecorator,`Expected a single @inject, @multiInject or @unmanaged decorator at type "${e.name}" at constructor arguments at index "${n.toString()}"`,{cause:r}):r}}function O(e,n,r){try{return C(r)}catch(r){throw w.isErrorOfKind(r,a.missingInjectionDecorator)?new w(a.missingInjectionDecorator,`Expected a single @inject, @multiInject or @unmanaged decorator at type "${e.name}" at property "${n.toString()}"`,{cause:r}):r}}function M(e){let n=(0,l.getReflectMetadata)(e,"inversify:tagged_props"),r=new Map;if(void 0!==n)for(let i of Reflect.ownKeys(n)){let o=n[i];r.set(i,O(e,i,o))}return r}function P(e){let n=(0,l.getReflectMetadata)(e,y),r=(0,l.getReflectMetadata)(e,m);return{constructorArguments:function(e){let n=(0,l.getReflectMetadata)(e,"design:paramtypes"),r=(0,l.getReflectMetadata)(e,"inversify:tagged"),i=[];if(void 0!==r)for(let[n,o]of Object.entries(r)){let r=parseInt(n);i[r]=S(e,r,o)}if(void 0!==n){for(let e=0;e<n.length;++e)if(void 0===i[e]){let r=n[e];i[e]=x(r)}}return E(e,i),i}(e),lifecycle:{postConstructMethodName:n?.value,preDestroyMethodName:r?.value},properties:M(e)}}function D(e,n){let r=n.getPropertiesMetadata(e),i=new Map;for(let n of Reflect.ownKeys(r)){let o=r[n];i.set(n,O(e,n,o))}return i}function I(e){let n=Object.getPrototypeOf(e.prototype),r=n?.constructor;return r}(i=a||(a={}))[i.injectionDecoratorConflict=0]="injectionDecoratorConflict",i[i.missingInjectionDecorator=1]="missingInjectionDecorator",i[i.planning=2]="planning",i[i.unknown=3]="unknown",(o=s||(s={}))[o.multipleInjection=0]="multipleInjection",o[o.singleInjection=1]="singleInjection",o[o.unmanaged=2]="unmanaged";class j{#t;constructor(e){this.#t=e}startsWith(e){return this.#t.startsWith(e)}endsWith(e){return this.#t.endsWith(e)}contains(e){return this.#t.includes(e)}equals(e){return this.#t===e}value(){return this.#t}}let N="@inversifyjs/core/targetId";class T{#e;#n;#r;#i;#o;#a;constructor(e,n,r){this.#n=function(){let e=(0,l.getReflectMetadata)(Object,N)??0;return e===Number.MAX_SAFE_INTEGER?(0,l.updateReflectMetadata)(Object,N,e,()=>Number.MIN_SAFE_INTEGER):(0,l.updateReflectMetadata)(Object,N,e,e=>e+1),e}(),this.#r=e,this.#i=void 0,this.#e=n,this.#o=new j("string"==typeof e?e:e.toString().slice(7,-1)),this.#a=r}get id(){return this.#n}get identifier(){return this.#r}get metadata(){var e;return void 0===this.#i&&(this.#i=(e=this.#e).kind===s.unmanaged?[{key:h,value:!0}]:function(e){let n=[function(e){let n;switch(e.kind){case s.multipleInjection:n={key:g,value:e.value};break;case s.singleInjection:n={key:p,value:e.value}}return n}(e)];for(let[r,i]of(void 0!==e.name&&n.push({key:c,value:e.name}),e.optional&&n.push({key:f,value:!0}),e.tags))n.push({key:r,value:i});return void 0!==e.targetName&&n.push({key:d,value:e.targetName}),n}(e)),this.#i}get name(){return this.#o}get type(){return this.#a}get serviceIdentifier(){return u.LazyServiceIdentifier.is(this.#e.value)?this.#e.value.unwrap():this.#e.value}getCustomTags(){return[...this.#e.tags.entries()].map(([e,n])=>({key:e,value:n}))}getNamedTag(){return void 0===this.#e.name?null:{key:c,value:this.#e.name}}hasTag(e){return this.metadata.some(n=>n.key===e)}isArray(){return this.#e.kind===s.multipleInjection}isNamed(){return void 0!==this.#e.name}isOptional(){return this.#e.optional}isTagged(){return this.#e.tags.size>0}matchesArray(e){return this.isArray()&&this.#e.value===e}matchesNamedTag(e){return this.#e.name===e}matchesTag(e){return n=>this.metadata.some(r=>r.key===e&&r.value===n)}}let k=e=>{var n,r;return n=void 0===e?P:n=>(function(e,n){let r=(0,l.getReflectMetadata)(e,y),i=(0,l.getReflectMetadata)(e,m);return{constructorArguments:function(e,n){let r=n.getConstructorMetadata(e),i=[];for(let[n,o]of Object.entries(r.userGeneratedMetadata)){let r=parseInt(n);i[r]=S(e,r,o)}if(void 0!==r.compilerGeneratedMetadata){for(let e=0;e<r.compilerGeneratedMetadata.length;++e)if(void 0===i[e]){let n=r.compilerGeneratedMetadata[e];i[e]=x(n)}}return E(e,i),i}(e,n),lifecycle:{postConstructMethodName:r?.value,preDestroyMethodName:i?.value},properties:D(e,n)}})(n,e),r=void 0===e?M:n=>D(n,e),function(e){let i=n(e),o=I(e);for(;void 0!==o&&o!==Object;){let e=r(o);for(let[n,r]of e)i.properties.has(n)||i.properties.set(n,r);o=I(o)}let a=[];for(let e of i.constructorArguments)if(e.kind!==s.unmanaged){let n=e.targetName??"";a.push(new T(n,e,"ConstructorArgument"))}for(let[e,n]of i.properties)if(n.kind!==s.unmanaged){let r=n.targetName??e;a.push(new T(r,n,"ClassProperty"))}return a}}},76996:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});function i(e,n){return Reflect.getMetadata(n,e)}function o(e,n,r,o){let a=o(i(e,n)??r);Reflect.defineMetadata(n,a,e)}!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{getReflectMetadata:function(){return i},updateReflectMetadata:function(){return o}})},32646:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Bezier",{enumerable:!0,get:function(){return p}});var i=r("74981"),o=r("48249");let{abs:a,min:s,max:l,cos:u,sin:c,acos:d,sqrt:h}=Math,f=Math.PI;class p{constructor(e){let n=e&&e.forEach?e:Array.from(arguments).slice(),r=!1;if("object"==typeof n[0]){r=n.length;let e=[];n.forEach(function(n){["x","y","z"].forEach(function(r){void 0!==n[r]&&e.push(n[r])})}),n=e}let o=!1,s=n.length;if(r){if(r>4){if(1!=arguments.length)throw Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");o=!0}}else if(6!==s&&8!==s&&9!==s&&12!==s&&1!=arguments.length)throw Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");let l=this._3d=!o&&(9===s||12===s)||e&&e[0]&&void 0!==e[0].z,u=this.points=[];for(let e=0,r=l?3:2;e<s;e+=r){var c={x:n[e],y:n[e+1]};l&&(c.z=n[e+2]),u.push(c)}let d=this.order=u.length-1,h=this.dims=["x","y"];l&&h.push("z"),this.dimlen=h.length;let f=i.utils.align(u,{p1:u[0],p2:u[d]}),p=i.utils.dist(u[0],u[d]);this._linear=f.reduce((e,n)=>e+a(n.y),0)<p/50,this._lut=[],this._t1=0,this._t2=1,this.update()}static quadraticFromPoints(e,n,r,i){if(void 0===i&&(i=.5),0===i)return new p(n,n,r);if(1===i)return new p(e,n,n);let o=p.getABC(2,e,n,r,i);return new p(e,o.A,r)}static cubicFromPoints(e,n,r,o,a){void 0===o&&(o=.5);let s=p.getABC(3,e,n,r,o);void 0===a&&(a=i.utils.dist(n,s.C));let l=a*(1-o)/o,u=i.utils.dist(e,r),c=(r.x-e.x)/u,d=(r.y-e.y)/u,h=a*c,f=a*d,g={x:n.x-h,y:n.y-f},y={x:n.x+l*c,y:n.y+l*d},m=s.A,b={x:m.x+(g.x-m.x)/(1-o),y:m.y+(g.y-m.y)/(1-o)},_={x:m.x+(y.x-m.x)/o,y:m.y+(y.y-m.y)/o},w={x:e.x+(b.x-e.x)/o,y:e.y+(b.y-e.y)/o},E={x:r.x+(_.x-r.x)/(1-o),y:r.y+(_.y-r.y)/(1-o)};return new p(e,w,E,r)}static getUtils(){return i.utils}getUtils(){return p.getUtils()}static get PolyBezier(){return o.PolyBezier}valueOf(){return this.toString()}toString(){return i.utils.pointsToString(this.points)}toSVG(){if(this._3d)return!1;let e=this.points,n=e[0].x,r=e[0].y,i=["M",n,r,2===this.order?"Q":"C"];for(let n=1,r=e.length;n<r;n++)i.push(e[n].x),i.push(e[n].y);return i.join(" ")}setRatios(e){if(e.length!==this.points.length)throw Error("incorrect number of ratio values");this.ratios=e,this._lut=[]}verify(){let e=this.coordDigest();e!==this._print&&(this._print=e,this.update())}coordDigest(){return this.points.map(function(e,n){return""+n+e.x+e.y+(e.z?e.z:0)}).join("")}update(){this._lut=[],this.dpoints=i.utils.derive(this.points,this._3d),this.computedirection()}computedirection(){let e=this.points,n=i.utils.angle(e[0],e[this.order],e[1]);this.clockwise=n>0}length(){return i.utils.length(this.derivative.bind(this))}static getABC(e=2,n,r,o,a=.5){let s=i.utils.projectionratio(a,e),l=1-s,u={x:s*n.x+l*o.x,y:s*n.y+l*o.y},c=i.utils.abcratio(a,e),d={x:r.x+(r.x-u.x)/c,y:r.y+(r.y-u.y)/c};return{A:d,B:r,C:u,S:n,E:o}}getABC(e,n){n=n||this.get(e);let r=this.points[0],i=this.points[this.order];return p.getABC(this.order,r,n,i,e)}getLUT(e){if(this.verify(),e=e||100,this._lut.length===e+1)return this._lut;this._lut=[],e++,this._lut=[];for(let n=0,r,i;n<e;n++)i=n/(e-1),(r=this.compute(i)).t=i,this._lut.push(r);return this._lut}on(e,n){n=n||5;let r=this.getLUT(),o=[];for(let a=0,s,l=0;a<r.length;a++)s=r[a],i.utils.dist(s,e)<n&&(o.push(s),r.length);return!!o.length&&(t/=o.length)}project(e){let n=this.getLUT(),r=n.length-1,o=i.utils.closest(n,e),a=o.mpos,s=(a-1)/r,l=(a+1)/r,u=.1/r,c=o.mdist,d=s,h=d,f;c+=1;for(let n;d<l+u;d+=u)f=this.compute(d),(n=i.utils.dist(e,f))<c&&(c=n,h=d);return h=h<0?0:h>1?1:h,(f=this.compute(h)).t=h,f.d=c,f}get(e){return this.compute(e)}point(e){return this.points[e]}compute(e){return this.ratios?i.utils.computeWithRatios(e,this.points,this.ratios,this._3d):i.utils.compute(e,this.points,this._3d,this.ratios)}raise(){let e=this.points,n=[e[0]],r=e.length;for(let i=1,o,a;i<r;i++)o=e[i],a=e[i-1],n[i]={x:(r-i)/r*o.x+i/r*a.x,y:(r-i)/r*o.y+i/r*a.y};return n[r]=e[r-1],new p(n)}derivative(e){return i.utils.compute(e,this.dpoints[0],this._3d)}dderivative(e){return i.utils.compute(e,this.dpoints[1],this._3d)}align(){let e=this.points;return new p(i.utils.align(e,{p1:e[0],p2:e[e.length-1]}))}curvature(e){return i.utils.curvature(e,this.dpoints[0],this.dpoints[1],this._3d)}inflections(){return i.utils.inflections(this.points)}normal(e){return this._3d?this.__normal3(e):this.__normal2(e)}__normal2(e){let n=this.derivative(e),r=h(n.x*n.x+n.y*n.y);return{t:e,x:-n.y/r,y:n.x/r}}__normal3(e){let n=this.derivative(e),r=this.derivative(e+.01),i=h(n.x*n.x+n.y*n.y+n.z*n.z),o=h(r.x*r.x+r.y*r.y+r.z*r.z);n.x/=i,n.y/=i,n.z/=i,r.x/=o,r.y/=o,r.z/=o;let a={x:r.y*n.z-r.z*n.y,y:r.z*n.x-r.x*n.z,z:r.x*n.y-r.y*n.x},s=h(a.x*a.x+a.y*a.y+a.z*a.z);a.x/=s,a.y/=s,a.z/=s;let l=[a.x*a.x,a.x*a.y-a.z,a.x*a.z+a.y,a.x*a.y+a.z,a.y*a.y,a.y*a.z-a.x,a.x*a.z-a.y,a.y*a.z+a.x,a.z*a.z],u={t:e,x:l[0]*n.x+l[1]*n.y+l[2]*n.z,y:l[3]*n.x+l[4]*n.y+l[5]*n.z,z:l[6]*n.x+l[7]*n.y+l[8]*n.z};return u}hull(e){let n=this.points,r=[],o=[],a=0;for(o[a++]=n[0],o[a++]=n[1],o[a++]=n[2],3===this.order&&(o[a++]=n[3]);n.length>1;){r=[];for(let s=0,l,u=n.length-1;s<u;s++)l=i.utils.lerp(e,n[s],n[s+1]),o[a++]=l,r.push(l);n=r}return o}split(e,n){if(0===e&&n)return this.split(n).left;if(1===n)return this.split(e).right;let r=this.hull(e),o={left:new p(2===this.order?[r[0],r[3],r[5]]:[r[0],r[4],r[7],r[9]]),right:new p(2===this.order?[r[5],r[4],r[2]]:[r[9],r[8],r[6],r[3]]),span:r};return(o.left._t1=i.utils.map(0,0,1,this._t1,this._t2),o.left._t2=i.utils.map(e,0,1,this._t1,this._t2),o.right._t1=i.utils.map(e,0,1,this._t1,this._t2),o.right._t2=i.utils.map(1,0,1,this._t1,this._t2),n)?(n=i.utils.map(n,e,1,0,1),o.right.split(n).left):o}extrema(){let e={},n=[];return this.dims.forEach((function(r){let o=function(e){return e[r]},a=this.dpoints[0].map(o);e[r]=i.utils.droots(a),3===this.order&&(a=this.dpoints[1].map(o),e[r]=e[r].concat(i.utils.droots(a))),e[r]=e[r].filter(function(e){return e>=0&&e<=1}),n=n.concat(e[r].sort(i.utils.numberSort))}).bind(this)),e.values=n.sort(i.utils.numberSort).filter(function(e,r){return n.indexOf(e)===r}),e}bbox(){let e=this.extrema(),n={};return this.dims.forEach((function(r){n[r]=i.utils.getminmax(this,r,e[r])}).bind(this)),n}overlaps(e){let n=this.bbox(),r=e.bbox();return i.utils.bboxoverlap(n,r)}offset(e,n){if(void 0!==n){let r=this.get(e),i=this.normal(e),o={c:r,n:i,x:r.x+i.x*n,y:r.y+i.y*n};return this._3d&&(o.z=r.z+i.z*n),o}if(this._linear){let n=this.normal(0),r=this.points.map(function(r){let i={x:r.x+e*n.x,y:r.y+e*n.y};return r.z&&n.z&&(i.z=r.z+e*n.z),i});return[new p(r)]}return this.reduce().map(function(n){return n._linear?n.offset(e)[0]:n.scale(e)})}simple(){if(3===this.order){let e=i.utils.angle(this.points[0],this.points[3],this.points[1]),n=i.utils.angle(this.points[0],this.points[3],this.points[2]);if(e>0&&n<0||e<0&&n>0)return!1}let e=this.normal(0),n=this.normal(1),r=e.x*n.x+e.y*n.y;return this._3d&&(r+=e.z*n.z),a(d(r))<f/3}reduce(){let e,n=0,r=0,o,s=[],l=[],u=this.extrema().values;for(-1===u.indexOf(0)&&(u=[0].concat(u)),-1===u.indexOf(1)&&u.push(1),n=u[0],e=1;e<u.length;e++)r=u[e],(o=this.split(n,r))._t1=n,o._t2=r,s.push(o),n=r;return s.forEach(function(e){for(n=0,r=0;r<=1;)for(r=n+.01;r<=1.01;r+=.01)if(!(o=e.split(n,r)).simple()){if(.01>a(n-(r-=.01)))return[];(o=e.split(n,r))._t1=i.utils.map(n,0,1,e._t1,e._t2),o._t2=i.utils.map(r,0,1,e._t1,e._t2),l.push(o),n=r;break}n<1&&((o=e.split(n,1))._t1=i.utils.map(n,0,1,e._t1,e._t2),o._t2=e._t2,l.push(o))}),l}translate(e,n,r){r="number"==typeof r?r:n;let i=this.order,o=this.points.map((e,o)=>(1-o/i)*n+o/i*r);return new p(this.points.map((n,r)=>({x:n.x+e.x*o[r],y:n.y+e.y*o[r]})))}scale(e){let n=this.order,r=!1;if("function"==typeof e&&(r=e),r&&2===n)return this.raise().scale(r);let o=this.clockwise,a=this.points;if(this._linear)return this.translate(this.normal(0),r?r(0):e,r?r(1):e);let s=r?r(0):e,l=r?r(1):e,u=[this.offset(0,10),this.offset(1,10)],c=[],d=i.utils.lli4(u[0],u[0].c,u[1],u[1].c);if(!d)throw Error("cannot scale this curve. Try reducing it first.");return([0,1].forEach(function(e){let r=c[e*n]=i.utils.copy(a[e*n]);r.x+=(e?l:s)*u[e].n.x,r.y+=(e?l:s)*u[e].n.y}),r)?([0,1].forEach(function(i){if(2!==n||!i){var s=a[i+1],l={x:s.x-d.x,y:s.y-d.y},u=r?r((i+1)/n):e;r&&!o&&(u=-u);var f=h(l.x*l.x+l.y*l.y);l.x/=f,l.y/=f,c[i+1]={x:s.x+u*l.x,y:s.y+u*l.y}}}),new p(c)):([0,1].forEach(e=>{if(2===n&&e)return;let r=c[e*n],o=this.derivative(e),s={x:r.x+o.x,y:r.y+o.y};c[e+1]=i.utils.lli4(r,s,d,a[e+1])}),new p(c))}outline(e,n,r,a){if(n=void 0===n?e:n,this._linear){let s,l,u;let c=this.normal(0),d=this.points[0],h=this.points[this.points.length-1];void 0===r&&(r=e,a=n),s={x:d.x+c.x*e,y:d.y+c.y*e},u={x:h.x+c.x*r,y:h.y+c.y*r},l={x:(s.x+u.x)/2,y:(s.y+u.y)/2};let f=[s,l,u];s={x:d.x-c.x*n,y:d.y-c.y*n},u={x:h.x-c.x*a,y:h.y-c.y*a},l={x:(s.x+u.x)/2,y:(s.y+u.y)/2};let g=[u,l,s],y=i.utils.makeline(g[2],f[0]),m=i.utils.makeline(f[2],g[0]),b=[y,new p(f),m,new p(g)];return new o.PolyBezier(b)}let s=this.reduce(),l=s.length,u=[],c=[],d,h=0,f=this.length(),g=void 0!==r&&void 0!==a;function y(e,n,r,o,a){return function(s){let l=n-e;return i.utils.map(s,0,1,e+o/r*l,e+(o+a)/r*l)}}s.forEach(function(i){let o=i.length();g?(u.push(i.scale(y(e,r,f,h,o))),c.push(i.scale(y(-n,-a,f,h,o)))):(u.push(i.scale(e)),c.push(i.scale(-n))),h+=o}),c=c.map(function(e){return(d=e.points)[3]?e.points=[d[3],d[2],d[1],d[0]]:e.points=[d[2],d[1],d[0]],e}).reverse();let m=u[0].points[0],b=u[l-1].points[u[l-1].points.length-1],_=c[l-1].points[c[l-1].points.length-1],w=c[0].points[0],E=i.utils.makeline(_,m),x=i.utils.makeline(b,w),C=[E].concat(u).concat([x]).concat(c);return new o.PolyBezier(C)}outlineshapes(e,n,r){n=n||e;let o=this.outline(e,n).curves,a=[];for(let e=1,n=o.length;e<n/2;e++){let s=i.utils.makeshape(o[e],o[n-e],r);s.startcap.virtual=e>1,s.endcap.virtual=e<n/2-1,a.push(s)}return a}intersects(e,n){return e?e.p1&&e.p2?this.lineIntersects(e):(e instanceof p&&(e=e.reduce()),this.curveintersects(this.reduce(),e,n)):this.selfintersects(n)}lineIntersects(e){let n=s(e.p1.x,e.p2.x),r=s(e.p1.y,e.p2.y),o=l(e.p1.x,e.p2.x),a=l(e.p1.y,e.p2.y);return i.utils.roots(this.points,e).filter(e=>{var s=this.get(e);return i.utils.between(s.x,n,o)&&i.utils.between(s.y,r,a)})}selfintersects(e){let n=this.reduce(),r=n.length-2,i=[];for(let o=0,a,s,l;o<r;o++)s=n.slice(o,o+1),l=n.slice(o+2),a=this.curveintersects(s,l,e),i.push(...a);return i}curveintersects(e,n,r){let o=[];e.forEach(function(e){n.forEach(function(n){e.overlaps(n)&&o.push({left:e,right:n})})});let a=[];return o.forEach(function(e){let n=i.utils.pairiteration(e.left,e.right,r);n.length>0&&(a=a.concat(n))}),a}arcs(e){return e=e||.5,this._iterate(e,[])}_error(e,n,r,o){let s=(o-r)/4,l=this.get(r+s),u=this.get(o-s),c=i.utils.dist(e,n),d=i.utils.dist(e,l),h=i.utils.dist(e,u);return a(d-c)+a(h-c)}_iterate(e,n){let r=0,o=1,a;do{a=0,o=1;let s=this.get(r),l,d,h,f,p=!1,g=!1,y,m=o,b=1,_=0;do{g=p,f=h,m=(r+o)/2;if(l=this.get(m),d=this.get(o),(h=i.utils.getccenter(s,l,d)).interval={start:r,end:o},p=this._error(h,s,r,o)<=e,!(y=g&&!p)&&(b=o),p){if(o>=1){if(h.interval.end=b=1,f=h,o>1){let e={x:h.x+h.r*u(h.e),y:h.y+h.r*c(h.e)};h.e+=i.utils.angle({x:h.x,y:h.y},e,this.get(1))}break}o+=(o-r)/2}else o=m}while(!y&&a++<100);if(a>=100)break;f=f||h,n.push(f),r=b}while(o<1);return n}}},48249:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"PolyBezier",{enumerable:!0,get:function(){return o}});var i=r("74981");class o{constructor(e){this.curves=[],this._3d=!1,e&&(this.curves=e,this._3d=this.curves[0]._3d)}valueOf(){return this.toString()}toString(){return"["+this.curves.map(function(e){return i.utils.pointsToString(e.points)}).join(", ")+"]"}addCurve(e){this.curves.push(e),this._3d=this._3d||e._3d}length(){return this.curves.map(function(e){return e.length()}).reduce(function(e,n){return e+n})}curve(e){return this.curves[e]}bbox(){let e=this.curves;for(var n=e[0].bbox(),r=1;r<e.length;r++)i.utils.expandbox(n,e[r].bbox());return n}offset(e){let n=[];return this.curves.forEach(function(r){n.push(...r.offset(e))}),new o(n)}}},74981:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"utils",{enumerable:!0,get:function(){return _}});var i=r("32646");let{abs:o,cos:a,sin:s,acos:l,atan2:u,sqrt:c,pow:d}=Math;function h(e){return e<0?-d(-e,1/3):d(e,1/3)}let f=Math.PI,p=2*f,g=f/2,y=Number.MAX_SAFE_INTEGER||9007199254740991,m=Number.MIN_SAFE_INTEGER||-9007199254740991,b={x:0,y:0,z:0},_={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(e,n){let r=n(e),i=r.x*r.x+r.y*r.y;return void 0!==r.z&&(i+=r.z*r.z),c(i)},compute:function(e,n,r){if(0===e)return n[0].t=0,n[0];let i=n.length-1;if(1===e)return n[i].t=1,n[i];let o=1-e,a=n;if(0===i)return n[0].t=e,n[0];if(1===i){let n={x:o*a[0].x+e*a[1].x,y:o*a[0].y+e*a[1].y,t:e};return r&&(n.z=o*a[0].z+e*a[1].z),n}if(i<4){let n=o*o,s=e*e,l,u,c,d=0;2===i?(a=[a[0],a[1],a[2],b],l=n,u=o*e*2,c=s):3===i&&(l=n*o,u=n*e*3,c=o*s*3,d=e*s);let h={x:l*a[0].x+u*a[1].x+c*a[2].x+d*a[3].x,y:l*a[0].y+u*a[1].y+c*a[2].y+d*a[3].y,t:e};return r&&(h.z=l*a[0].z+u*a[1].z+c*a[2].z+d*a[3].z),h}let s=JSON.parse(JSON.stringify(n));for(;s.length>1;){for(let n=0;n<s.length-1;n++)s[n]={x:s[n].x+(s[n+1].x-s[n].x)*e,y:s[n].y+(s[n+1].y-s[n].y)*e},void 0!==s[n].z&&(s[n].z=s[n].z+(s[n+1].z-s[n].z)*e);s.splice(s.length-1,1)}return s[0].t=e,s[0]},computeWithRatios:function(e,n,r,i){let o=1-e,a=r[0],s=r[1],l=r[2],u=r[3],c;return(a*=o,s*=e,2===n.length)?(c=a+s,{x:(a*n[0].x+s*n[1].x)/c,y:(a*n[0].y+s*n[1].y)/c,z:!!i&&(a*n[0].z+s*n[1].z)/c,t:e}):(a*=o,s*=2*o,l*=e*e,3===n.length)?(c=a+s+l,{x:(a*n[0].x+s*n[1].x+l*n[2].x)/c,y:(a*n[0].y+s*n[1].y+l*n[2].y)/c,z:!!i&&(a*n[0].z+s*n[1].z+l*n[2].z)/c,t:e}):(a*=o,s*=1.5*o,l*=3*o,u*=e*e*e,4===n.length)?(c=a+s+l+u,{x:(a*n[0].x+s*n[1].x+l*n[2].x+u*n[3].x)/c,y:(a*n[0].y+s*n[1].y+l*n[2].y+u*n[3].y)/c,z:!!i&&(a*n[0].z+s*n[1].z+l*n[2].z+u*n[3].z)/c,t:e}):void 0},derive:function(e,n){let r=[];for(let i=e,o=i.length,a=o-1;o>1;o--,a--){let e=[];for(let r=0,o;r<a;r++)o={x:a*(i[r+1].x-i[r].x),y:a*(i[r+1].y-i[r].y)},n&&(o.z=a*(i[r+1].z-i[r].z)),e.push(o);r.push(e),i=e}return r},between:function(e,n,r){return n<=e&&e<=r||_.approximately(e,n)||_.approximately(e,r)},approximately:function(e,n,r){return o(e-n)<=(r||1e-6)},length:function(e){let n=_.Tvalues.length,r=0;for(let i=0,o;i<n;i++)o=.5*_.Tvalues[i]+.5,r+=_.Cvalues[i]*_.arcfn(o,e);return .5*r},map:function(e,n,r,i,o){return i+(o-i)*((e-n)/(r-n))},lerp:function(e,n,r){let i={x:n.x+e*(r.x-n.x),y:n.y+e*(r.y-n.y)};return void 0!==n.z&&void 0!==r.z&&(i.z=n.z+e*(r.z-n.z)),i},pointToString:function(e){let n=e.x+"/"+e.y;return void 0!==e.z&&(n+="/"+e.z),n},pointsToString:function(e){return"["+e.map(_.pointToString).join(", ")+"]"},copy:function(e){return JSON.parse(JSON.stringify(e))},angle:function(e,n,r){let i=n.x-e.x,o=n.y-e.y,a=r.x-e.x,s=r.y-e.y;return u(i*s-o*a,i*a+o*s)},round:function(e,n){let r=""+e,i=r.indexOf(".");return parseFloat(r.substring(0,i+1+n))},dist:function(e,n){let r=e.x-n.x,i=e.y-n.y;return c(r*r+i*i)},closest:function(e,n){let r=d(2,63),i,o;return e.forEach(function(e,a){(o=_.dist(n,e))<r&&(r=o,i=a)}),{mdist:r,mpos:i}},abcratio:function(e,n){if(2!==n&&3!==n)return!1;if(void 0===e)e=.5;else if(0===e||1===e)return e;let r=d(e,n)+d(1-e,n),i=r-1;return o(i/r)},projectionratio:function(e,n){if(2!==n&&3!==n)return!1;if(void 0===e)e=.5;else if(0===e||1===e)return e;let r=d(1-e,n),i=d(e,n)+r;return r/i},lli8:function(e,n,r,i,o,a,s,l){let u=(e-r)*(a-l)-(n-i)*(o-s);return 0!=u&&{x:((e*i-n*r)*(o-s)-(e-r)*(o*l-a*s))/u,y:((e*i-n*r)*(a-l)-(n-i)*(o*l-a*s))/u}},lli4:function(e,n,r,i){let o=e.x,a=e.y,s=n.x,l=n.y,u=r.x,c=r.y,d=i.x,h=i.y;return _.lli8(o,a,s,l,u,c,d,h)},lli:function(e,n){return _.lli4(e,e.c,n,n.c)},makeline:function(e,n){return new i.Bezier(e.x,e.y,(e.x+n.x)/2,(e.y+n.y)/2,n.x,n.y)},findbbox:function(e){let n=y,r=y,i=m,o=m;return e.forEach(function(e){let a=e.bbox();n>a.x.min&&(n=a.x.min),r>a.y.min&&(r=a.y.min),i<a.x.max&&(i=a.x.max),o<a.y.max&&(o=a.y.max)}),{x:{min:n,mid:(n+i)/2,max:i,size:i-n},y:{min:r,mid:(r+o)/2,max:o,size:o-r}}},shapeintersections:function(e,n,r,i,o){if(!_.bboxoverlap(n,i))return[];let a=[],s=[e.startcap,e.forward,e.back,e.endcap],l=[r.startcap,r.forward,r.back,r.endcap];return s.forEach(function(n){!n.virtual&&l.forEach(function(i){if(i.virtual)return;let s=n.intersects(i,o);s.length>0&&(s.c1=n,s.c2=i,s.s1=e,s.s2=r,a.push(s))})}),a},makeshape:function(e,n,r){let i=n.points.length,o=e.points.length,a=_.makeline(n.points[i-1],e.points[0]),s=_.makeline(e.points[o-1],n.points[0]),l={startcap:a,forward:e,back:n,endcap:s,bbox:_.findbbox([a,e,n,s])};return l.intersections=function(e){return _.shapeintersections(l,l.bbox,e,e.bbox,r)},l},getminmax:function(e,n,r){if(!r)return{min:0,max:0};let i=y,o=m,a,s;-1===r.indexOf(0)&&(r=[0].concat(r)),-1===r.indexOf(1)&&r.push(1);for(let l=0,u=r.length;l<u;l++)a=r[l],(s=e.get(a))[n]<i&&(i=s[n]),s[n]>o&&(o=s[n]);return{min:i,mid:(i+o)/2,max:o,size:o-i}},align:function(e,n){let r=n.p1.x,i=n.p1.y,o=-u(n.p2.y-i,n.p2.x-r);return e.map(function(e){return{x:(e.x-r)*a(o)-(e.y-i)*s(o),y:(e.x-r)*s(o)+(e.y-i)*a(o)}})},roots:function(e,n){let r,i,o;n=n||{p1:{x:0,y:0},p2:{x:1,y:0}};let s=e.length-1,u=_.align(e,n),d=function(e){return 0<=e&&e<=1};if(2===s){let e=u[0].y,n=u[1].y,r=u[2].y,i=e-2*n+r;if(0!==i){let o=-c(n*n-e*r),a=-e+n;return[-(o+a)/i,-(-o+a)/i].filter(d)}return n!==r&&0===i?[(2*n-r)/(2*n-2*r)].filter(d):[]}let f=u[0].y,g=u[1].y,y=u[2].y,m=u[3].y,b=-f+3*g-3*y+m,w=3*f-6*g+3*y,E=-3*f+3*g,x=f;if(_.approximately(b,0)){if(_.approximately(w,0))return _.approximately(E,0)?[]:[-x/E].filter(d);let e=c(E*E-4*w*x),n=2*w;return[(e-E)/n,(-E-e)/n].filter(d)}w/=b,E/=b,x/=b;let C=(3*E-w*w)/3,S=C/3,O=(2*w*w*w-9*w*E+27*x)/27,M=O/2,P=M*M+S*S*S;if(P<0){let e=-C/3,n=c(e*e*e),r=-O/(2*n),s=l(r<-1?-1:r>1?1:r),u=h(n),f=2*u;return i=f*a(s/3)-w/3,o=f*a((s+p)/3)-w/3,[i,o,f*a((s+2*p)/3)-w/3].filter(d)}if(0===P)return i=2*(r=M<0?h(-M):-h(M))-w/3,[i,o=-r-w/3].filter(d);{let e=c(P);return r=h(-M+e),[r-h(M+e)-w/3].filter(d)}},droots:function(e){if(3===e.length){let n=e[0],r=e[1],i=e[2],o=n-2*r+i;if(0!==o){let e=-c(r*r-n*i),a=-n+r;return[-(e+a)/o,-(-e+a)/o]}return r!==i&&0===o?[(2*r-i)/(2*(r-i))]:[]}if(2===e.length){let n=e[0],r=e[1];if(n!==r)return[n/(n-r)]}return[]},curvature:function(e,n,r,i,a){let s,l,u,h,f=0,p=0,g=_.compute(e,n),y=_.compute(e,r),m=g.x*g.x+g.y*g.y;if(i?(s=c(d(g.y*y.z-y.y*g.z,2)+d(g.z*y.x-y.z*g.x,2)+d(g.x*y.y-y.x*g.y,2)),l=d(m+g.z*g.z,1.5)):(s=g.x*y.y-g.y*y.x,l=d(m,1.5)),0===s||0===l)return{k:0,r:0};if(f=s/l,p=l/s,!a){let a=_.curvature(e-.001,n,r,i,!0).k,s=_.curvature(e+.001,n,r,i,!0).k;h=(s-f+(f-a))/2,u=(o(s-f)+o(f-a))/2}return{k:f,r:p,dk:h,adk:u}},inflections:function(e){if(e.length<4)return[];let n=_.align(e,{p1:e[0],p2:e.slice(-1)[0]}),r=n[2].x*n[1].y,i=n[3].x*n[1].y,o=n[1].x*n[2].y,a=n[3].x*n[2].y,s=18*(-3*r+2*i+3*o-a),l=18*(3*r-i-3*o),u=18*(o-r);if(_.approximately(s,0)){if(!_.approximately(l,0)){let e=-u/l;if(0<=e&&e<=1)return[e]}return[]}let c=2*s;if(_.approximately(c,0))return[];let d=l*l-4*s*u;if(d<0)return[];let h=Math.sqrt(d);return[(h-l)/c,-(l+h)/c].filter(function(e){return 0<=e&&e<=1})},bboxoverlap:function(e,n){let r=["x","y"],i=r.length;for(let a=0,s,l,u,c;a<i;a++)if(l=e[s=r[a]].mid,u=n[s].mid,c=(e[s].size+n[s].size)/2,o(l-u)>=c)return!1;return!0},expandbox:function(e,n){n.x.min<e.x.min&&(e.x.min=n.x.min),n.y.min<e.y.min&&(e.y.min=n.y.min),n.z&&n.z.min<e.z.min&&(e.z.min=n.z.min),n.x.max>e.x.max&&(e.x.max=n.x.max),n.y.max>e.y.max&&(e.y.max=n.y.max),n.z&&n.z.max>e.z.max&&(e.z.max=n.z.max),e.x.mid=(e.x.min+e.x.max)/2,e.y.mid=(e.y.min+e.y.max)/2,e.z&&(e.z.mid=(e.z.min+e.z.max)/2),e.x.size=e.x.max-e.x.min,e.y.size=e.y.max-e.y.min,e.z&&(e.z.size=e.z.max-e.z.min)},pairiteration:function(e,n,r){let i=e.bbox(),o=n.bbox(),a=r||.5;if(i.x.size+i.y.size<a&&o.x.size+o.y.size<a)return[(1e5*(e._t1+e._t2)/2|0)/1e5+"/"+(1e5*(n._t1+n._t2)/2|0)/1e5];let s=e.split(.5),l=n.split(.5),u=[{left:s.left,right:l.left},{left:s.left,right:l.right},{left:s.right,right:l.right},{left:s.right,right:l.left}];u=u.filter(function(e){return _.bboxoverlap(e.left.bbox(),e.right.bbox())});let c=[];return 0===u.length?c:(u.forEach(function(e){c=c.concat(_.pairiteration(e.left,e.right,a))}),c=c.filter(function(e,n){return c.indexOf(e)===n}))},getccenter:function(e,n,r){let i=n.x-e.x,o=n.y-e.y,l=r.x-n.x,c=r.y-n.y,d=i*a(g)-o*s(g),h=i*s(g)+o*a(g),f=l*a(g)-c*s(g),y=l*s(g)+c*a(g),m=(e.x+n.x)/2,b=(e.y+n.y)/2,w=(n.x+r.x)/2,E=(n.y+r.y)/2,x=m+d,C=b+h,S=w+f,O=E+y,M=_.lli8(m,b,x,C,w,E,S,O),P=_.dist(M,e),D=u(e.y-M.y,e.x-M.x),I=u(n.y-M.y,n.x-M.x),j=u(r.y-M.y,r.x-M.x),N;return D<j?((D>I||I>j)&&(D+=p),D>j&&(N=j,j=D,D=N)):j<I&&I<D?(N=j,j=D,D=N):j+=p,M.s=D,M.e=j,M.r=P,M},numberSort:function(e,n){return e-n}}},93839:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{createCopier:function(){return A},default:function(){return R}});var i=Function.prototype.toString,o=Object.create,a=Object.prototype.toString,s=function(){function e(){this._keys=[],this._values=[]}return e.prototype.has=function(e){return!!~this._keys.indexOf(e)},e.prototype.get=function(e){return this._values[this._keys.indexOf(e)]},e.prototype.set=function(e,n){this._keys.push(e),this._values.push(n)},e}(),l="undefined"!=typeof WeakMap?function(){return new WeakMap}:function(){return new s};function u(e){if(!e)return o(null);var n=e.constructor;if(n===Object)return e===Object.prototype?{}:o(e);if(n&&~i.call(n).indexOf("[native code]"))try{return new n}catch(e){}return o(e)}var c="g"===/test/g.flags?function(e){return e.flags}:function(e){var n="";return e.global&&(n+="g"),e.ignoreCase&&(n+="i"),e.multiline&&(n+="m"),e.unicode&&(n+="u"),e.sticky&&(n+="y"),n};function d(e){var n=a.call(e);return n.substring(8,n.length-1)}var h="undefined"!=typeof Symbol?function(e){return e[Symbol.toStringTag]||d(e)}:d,f=Object.defineProperty,p=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyNames,y=Object.getOwnPropertySymbols,m=Object.prototype,b=m.hasOwnProperty,_=m.propertyIsEnumerable,w="function"==typeof y,E=w?function(e){return g(e).concat(y(e))}:g;function x(e,n,r){for(var i=E(e),o=0,a=i.length,s=void 0,l=void 0;o<a;++o)if("callee"!==(s=i[o])&&"caller"!==s){if(!(l=p(e,s))){n[s]=r.copier(e[s],r);continue}!l.get&&!l.set&&(l.value=r.copier(l.value,r));try{f(n,s,l)}catch(e){n[s]=l.value}}return n}function C(e,n){return e.slice(0)}function S(e,n){var r=new n.Constructor;return n.cache.set(e,r),e.forEach(function(e,i){r.set(i,n.copier(e,n))}),r}var O=w?function(e,n){var r=u(n.prototype);for(var i in n.cache.set(e,r),e)b.call(e,i)&&(r[i]=n.copier(e[i],n));for(var o=y(e),a=0,s=o.length,l=void 0;a<s;++a)l=o[a],_.call(e,l)&&(r[l]=n.copier(e[l],n));return r}:function(e,n){var r=u(n.prototype);for(var i in n.cache.set(e,r),e)b.call(e,i)&&(r[i]=n.copier(e[i],n));return r};function M(e,n){return new n.Constructor(e.valueOf())}function P(e,n){return e}function D(e,n){var r=new n.Constructor;return n.cache.set(e,r),e.forEach(function(e){r.add(n.copier(e,n))}),r}var I=Array.isArray,j=Object.assign,N=Object.getPrototypeOf||function(e){return e.__proto__},T={array:function(e,n){var r=new n.Constructor;n.cache.set(e,r);for(var i=0,o=e.length;i<o;++i)r[i]=n.copier(e[i],n);return r},arrayBuffer:C,blob:function(e,n){return e.slice(0,e.size,e.type)},dataView:function(e,n){return new n.Constructor(C(e.buffer))},date:function(e,n){return new n.Constructor(e.getTime())},error:P,map:S,object:O,regExp:function(e,n){var r=new n.Constructor(e.source,c(e));return r.lastIndex=e.lastIndex,r},set:D},k=j({},T,{array:function(e,n){var r=new n.Constructor;return n.cache.set(e,r),x(e,r,n)},map:function(e,n){return x(e,S(e,n),n)},object:function(e,n){var r=u(n.prototype);return n.cache.set(e,r),x(e,r,n)},set:function(e,n){return x(e,D(e,n),n)}});function A(e){var n,r={Arguments:(n=j({},T,e)).object,Array:n.array,ArrayBuffer:n.arrayBuffer,Blob:n.blob,Boolean:M,DataView:n.dataView,Date:n.date,Error:n.error,Float32Array:n.arrayBuffer,Float64Array:n.arrayBuffer,Int8Array:n.arrayBuffer,Int16Array:n.arrayBuffer,Int32Array:n.arrayBuffer,Map:n.map,Number:M,Object:n.object,Promise:P,RegExp:n.regExp,Set:n.set,String:M,WeakMap:P,WeakSet:P,Uint8Array:n.arrayBuffer,Uint8ClampedArray:n.arrayBuffer,Uint16Array:n.arrayBuffer,Uint32Array:n.arrayBuffer,Uint64Array:n.arrayBuffer},i=r.Array,o=r.Object;function a(e,n){if(n.prototype=n.Constructor=void 0,!e||"object"!=typeof e)return e;if(n.cache.has(e))return n.cache.get(e);if(n.prototype=N(e),n.Constructor=n.prototype&&n.prototype.constructor,!n.Constructor||n.Constructor===Object)return o(e,n);if(I(e))return i(e,n);var a=r[h(e)];return a?a(e,n):"function"==typeof e.then?e:o(e,n)}return function(e){return a(e,{Constructor:void 0,cache:l(),copier:a,prototype:void 0})}}A(j({},k,{}));var R=A({})},91516:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{Container:function(){return eO},ContainerModule:function(){return eM},inject:function(){return eT},injectable:function(){return eI},multiInject:function(){return eA},named:function(){return ej},optional:function(){return ek},postConstruct:function(){return eL},preDestroy:function(){return eF}}),r("11278"),r("97253");var i,o,a,s,l=r("32592");let u="named",c="name",d="unmanaged",h="optional",f="inject",p="multi_inject",g="inversify:tagged",y="inversify:tagged_props",m="inversify:paramtypes",b="design:paramtypes",_="post_construct",w="pre_destroy",E=[f,p,c,d,u,h];Object.freeze({__proto__:null,DESIGN_PARAM_TYPES:b,INJECT_TAG:f,MULTI_INJECT_TAG:p,NAMED_TAG:u,NAME_TAG:c,NON_CUSTOM_TAG_KEYS:E,OPTIONAL_TAG:h,PARAM_TYPES:m,POST_CONSTRUCT:_,PRE_DESTROY:w,TAGGED:g,TAGGED_PROP:y,UNMANAGED_TAG:d});let x={Request:"Request",Singleton:"Singleton",Transient:"Transient"},C={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"},S={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"},O=0;function M(){return O++}class P{id;moduleId;activated;serviceIdentifier;implementationType;cache;dynamicValue;scope;type;factory;provider;constraint;onActivation;onDeactivation;constructor(e,n){this.id=O++,this.activated=!1,this.serviceIdentifier=e,this.scope=n,this.type=C.Invalid,this.constraint=e=>!0,this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.onDeactivation=null,this.dynamicValue=null}clone(){let e=new P(this.serviceIdentifier,this.scope);return e.activated=e.scope===x.Singleton&&this.activated,e.implementationType=this.implementationType,e.dynamicValue=this.dynamicValue,e.scope=this.scope,e.type=this.type,e.factory=this.factory,e.provider=this.provider,e.constraint=this.constraint,e.onActivation=this.onActivation,e.onDeactivation=this.onDeactivation,e.cache=this.cache,e}}let D="Metadata key was used more than once in a parameter:",I="NULL argument",j="Key Not Found",N="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.",T=(e,n)=>`onDeactivation() error in class ${e}: ${n}`;class k{getConstructorMetadata(e){return{compilerGeneratedMetadata:Reflect.getMetadata(b,e)??[],userGeneratedMetadata:Reflect.getMetadata(g,e)??{}}}getPropertiesMetadata(e){return Reflect.getMetadata(y,e)??{}}}function A(e){return e instanceof RangeError||"Maximum call stack size exceeded"===e.message}function R(e){return"function"==typeof e?e.name:"symbol"==typeof e?e.toString():e}function L(e,n,r){let i="",o=r(e,n);return 0!==o.length&&(i="\nRegistered bindings:",o.forEach(e=>{let n="Object";null!==e.implementationType&&(n=F(e.implementationType)),i=`${i}
 ${n}`,e.constraint.metaData&&(i=`${i} - ${e.constraint.metaData}`)})),i}(i=a||(a={}))[i.MultipleBindingsAvailable=2]="MultipleBindingsAvailable",i[i.NoBindingsAvailable=0]="NoBindingsAvailable",i[i.OnlyOneBindingAvailable=1]="OnlyOneBindingAvailable";function F(e){if(null!=e.name&&""!==e.name)return e.name;{let n=e.toString(),r=n.match(/^function\s*([^\s(]+)/);return null===r?`Anonymous function: ${n}`:r[1]}}function z(e){return`{"key":"${e.key.toString()}","value":"${e.value.toString()}"}`}class B{id;container;plan;currentRequest;constructor(e){this.id=O++,this.container=e}addPlan(e){this.plan=e}setCurrentRequest(e){this.currentRequest=e}}class V{key;value;constructor(e,n){this.key=e,this.value=n}toString(){return this.key===u?`named: ${String(this.value).toString()} `:`tagged: { key:${this.key.toString()}, value: ${String(this.value)} }`}}class ${parentContext;rootRequest;constructor(e,n){this.parentContext=e,this.rootRequest=n}}class U{id;serviceIdentifier;parentContext;parentRequest;bindings;childRequests;target;requestScope;constructor(e,n,r,i,o){this.id=O++,this.serviceIdentifier=e,this.parentContext=n,this.parentRequest=r,this.target=o,this.childRequests=[],this.bindings=Array.isArray(i)?i:[i],this.requestScope=null===r?new Map:null}addChildRequest(e,n,r){let i=new U(e,this.parentContext,this,n,r);return this.childRequests.push(i),i}}function H(e){return e._bindingDictionary}function W(e,n,r,i,o){let s=G(r.container,o.serviceIdentifier),l=[];return s.length===a.NoBindingsAvailable&&!0===r.container.options.autoBindInjectable&&"function"==typeof o.serviceIdentifier&&e.getConstructorMetadata(o.serviceIdentifier).compilerGeneratedMetadata&&(r.container.bind(o.serviceIdentifier).toSelf(),s=G(r.container,o.serviceIdentifier)),l=n?s:s.filter(e=>{let n=new U(e.serviceIdentifier,r,i,e,o);return e.constraint(n)}),function(e,n,r,i,o){switch(n.length){case a.NoBindingsAvailable:if(i.isOptional())return;{let n=R(e),a="No matching bindings found for serviceIdentifier:";throw a+=function(e,n){if(n.isTagged()||n.isNamed()){let r="",i=n.getNamedTag(),o=n.getCustomTags();return null!==i&&(r+=z(i)+"\n"),null!==o&&o.forEach(e=>{r+=z(e)+"\n"}),` ${e}
 ${e} - ${r}`}return` ${e}`}(n,i)+L(o,n,G),null!==r&&(a+=`
Trying to resolve bindings for "${R(r.serviceIdentifier)}"`),Error(a)}case a.OnlyOneBindingAvailable:return;case a.MultipleBindingsAvailable:default:if(i.isArray())return;{let n=R(e),r=`Ambiguous match found for serviceIdentifier: ${n}`;throw Error(r+=L(o,n,G))}}}(o.serviceIdentifier,l,i,o,r.container),l}function K(e,n){let r=n.isMultiInject?p:f,i=[new V(r,e)];return void 0!==n.customTag&&i.push(new V(n.customTag.key,n.customTag.value)),!0===n.isOptional&&i.push(new V(h,!0)),i}function G(e,n){let r=[],i=H(e);return i.hasKey(n)?r=i.get(n):null!==e.parent&&(r=G(e.parent,n)),r}function Y(e){return("object"==typeof e&&null!==e||"function"==typeof e)&&"function"==typeof e.then}function X(e){return!!Y(e)||Array.isArray(e)&&e.some(Y)}let Z=(e,n,r)=>{e.has(n.id)||e.set(n.id,r)},Q=(e,n)=>{e.cache=n,e.activated=!0,Y(n)&&q(e,n)},q=async(e,n)=>{try{let r=await n;e.cache=r}catch(n){throw e.cache=null,e.activated=!1,n}};(o=s||(s={})).DynamicValue="toDynamicValue",o.Factory="toFactory",o.Provider="toProvider";function J(e){let n=new e.constr(...e.constructorInjections);return e.propertyRequests.forEach((r,i)=>{let o=r.target.identifier,a=e.propertyInjections[i];r.target.isOptional()&&void 0===a||(n[o]=a)}),n}async function ee(e){let n=[];for(let r of e)Array.isArray(r)?n.push(Promise.all(r)):n.push(r);return Promise.all(n)}function et(e,n){let r=function(e,n){var r;if(Reflect.hasMetadata(_,e)){let i=Reflect.getMetadata(_,e);try{return n[i.value]?.()}catch(n){if(n instanceof Error)throw Error((r=e.name,`@postConstruct error in class ${r}: ${n.message}`))}}}(e,n);return Y(r)?r.then(()=>n):n}let en=e=>n=>{n.parentContext.setCurrentRequest(n);let r=n.bindings,i=n.childRequests,o=n.target&&n.target.isArray(),a=!(n.parentRequest&&n.parentRequest.target&&n.target&&n.parentRequest.target.matchesArray(n.target.serviceIdentifier));if(o&&a)return i.map(n=>en(e)(n));{if(n.target.isOptional()&&0===r.length)return;let i=r[0];return ea(e,n,i)}},er=(e,n)=>{let r=(e=>{switch(e.type){case C.Factory:return{factory:e.factory,factoryType:s.Factory};case C.Provider:return{factory:e.provider,factoryType:s.Provider};case C.DynamicValue:return{factory:e.dynamicValue,factoryType:s.DynamicValue};default:throw Error(`Unexpected factory type ${e.type}`)}})(e);return((e,n)=>{try{return e()}catch(e){if(A(e))throw n();throw e}})(()=>r.factory.bind(e)(n),()=>{var e;return Error((e=r.factoryType,`It looks like there is a circular dependency in one of the '${e}' bindings. Please investigate bindings with service identifier '${n.currentRequest.serviceIdentifier.toString()}'.`))})},ei=(e,n,r)=>{let i;let o=n.childRequests;switch((e=>{let n=null;switch(e.type){case C.ConstantValue:case C.Function:n=e.cache;break;case C.Constructor:case C.Instance:n=e.implementationType;break;case C.DynamicValue:n=e.dynamicValue;break;case C.Provider:n=e.provider;break;case C.Factory:n=e.factory}if(null===n){let n=R(e.serviceIdentifier);throw Error(`Invalid binding type: ${n}`)}})(r),r.type){case C.ConstantValue:case C.Function:i=r.cache;break;case C.Constructor:i=r.implementationType;break;case C.Instance:i=function(e,n,r,i){var o,a;o=e,a=n,o.scope!==x.Singleton&&function(e,n){let r=`Class cannot be instantiated in ${e.scope===x.Request?"request":"transient"} scope.`;if("function"==typeof e.onDeactivation)throw Error(T(n.name,r));if(Reflect.hasMetadata(w,n))throw Error(`@preDestroy error in class ${n.name}: ${r}`)}(o,a);let s=function(e,n,r){let i;if(n.length>0){var o,a;let s=(o=n,a=r,o.reduce((e,n)=>{let r=a(n);return n.target.type===S.ConstructorArgument?e.constructorInjections.push(r):(e.propertyRequests.push(n),e.propertyInjections.push(r)),e.isAsync||(e.isAsync=X(r)),e},{constructorInjections:[],isAsync:!1,propertyInjections:[],propertyRequests:[]})),l={...s,constr:e};i=s.isAsync?async function(e){let n=await ee(e.constructorInjections),r=await ee(e.propertyInjections);return J({...e,constructorInjections:n,propertyInjections:r})}(l):J(l)}else i=new e;return i}(n,r,i);return Y(s)?s.then(e=>et(n,e)):et(n,s)}(r,r.implementationType,o,en(e));break;default:i=er(r,n.parentContext)}return i},eo=(e,n,r)=>{var i,o,a,s,l;let u=(i=e,o=n,o.scope===x.Singleton&&o.activated?o.cache:o.scope===x.Request&&i.has(o.id)?i.get(o.id):null);return null!==u||(u=r(),a=e,s=n,l=u,s.scope===x.Singleton&&Q(s,l),s.scope===x.Request&&Z(a,s,l)),u},ea=(e,n,r)=>eo(e,r,()=>{let i=ei(e,n,r);return Y(i)?i.then(e=>es(n,r,e)):es(n,r,i)});function es(e,n,r){let i=el(e.parentContext,n,r),o=eh(e.parentContext.container),a,s=o.next();do{a=s.value;let n=e.parentContext,r=e.serviceIdentifier,l=ed(a,r);i=Y(i)?ec(l,n,i):eu(l,n,i),s=o.next()}while(!0!==s.done&&!H(a).hasKey(e.serviceIdentifier));return i}let el=(e,n,r)=>{let i;return"function"==typeof n.onActivation?n.onActivation(e,r):r},eu=(e,n,r)=>{let i=e.next();for(;!0!==i.done;){if(Y(r=i.value(n,r)))return ec(e,n,r);i=e.next()}return r},ec=async(e,n,r)=>{let i=await r,o=e.next();for(;!0!==o.done;)i=await o.value(n,i),o=e.next();return i},ed=(e,n)=>{let r=e._activations;return r.hasKey(n)?r.get(n).values():[].values()},eh=e=>{let n=[e],r=e.parent;for(;null!==r;)n.push(r),r=r.parent;return{next:()=>{let e=n.pop();return void 0!==e?{done:!1,value:e}:{done:!0,value:void 0}}}},ef=(e,n)=>{let r=e.parentRequest;return null!==r&&(!!n(r)||ef(r,n))},ep=e=>n=>{let r=r=>null!==r&&null!==r.target&&r.target.matchesTag(e)(n);return r.metaData=new V(e,n),r},eg=ep(u),ey=e=>n=>{let r=null;if(null!==n){if(r=n.bindings[0],"string"==typeof e)return r.serviceIdentifier===e;{let r=n.bindings[0].implementationType;return e===r}}return!1};class em{_binding;constructor(e){this._binding=e}when(e){return this._binding.constraint=e,new ev(this._binding)}whenTargetNamed(e){return this._binding.constraint=eg(e),new ev(this._binding)}whenTargetIsDefault(){return this._binding.constraint=e=>null!==e&&null!==e.target&&!e.target.isNamed()&&!e.target.isTagged(),new ev(this._binding)}whenTargetTagged(e,n){return this._binding.constraint=ep(e)(n),new ev(this._binding)}whenInjectedInto(e){return this._binding.constraint=n=>null!==n&&ey(e)(n.parentRequest),new ev(this._binding)}whenParentNamed(e){return this._binding.constraint=n=>null!==n&&eg(e)(n.parentRequest),new ev(this._binding)}whenParentTagged(e,n){return this._binding.constraint=r=>null!==r&&ep(e)(n)(r.parentRequest),new ev(this._binding)}whenAnyAncestorIs(e){return this._binding.constraint=n=>null!==n&&ef(n,ey(e)),new ev(this._binding)}whenNoAncestorIs(e){return this._binding.constraint=n=>null!==n&&!ef(n,ey(e)),new ev(this._binding)}whenAnyAncestorNamed(e){return this._binding.constraint=n=>null!==n&&ef(n,eg(e)),new ev(this._binding)}whenNoAncestorNamed(e){return this._binding.constraint=n=>null!==n&&!ef(n,eg(e)),new ev(this._binding)}whenAnyAncestorTagged(e,n){return this._binding.constraint=r=>null!==r&&ef(r,ep(e)(n)),new ev(this._binding)}whenNoAncestorTagged(e,n){return this._binding.constraint=r=>null!==r&&!ef(r,ep(e)(n)),new ev(this._binding)}whenAnyAncestorMatches(e){return this._binding.constraint=n=>null!==n&&ef(n,e),new ev(this._binding)}whenNoAncestorMatches(e){return this._binding.constraint=n=>null!==n&&!ef(n,e),new ev(this._binding)}}class ev{_binding;constructor(e){this._binding=e}onActivation(e){return this._binding.onActivation=e,new em(this._binding)}onDeactivation(e){return this._binding.onDeactivation=e,new em(this._binding)}}class eb{_bindingWhenSyntax;_bindingOnSyntax;_binding;constructor(e){this._binding=e,this._bindingWhenSyntax=new em(this._binding),this._bindingOnSyntax=new ev(this._binding)}when(e){return this._bindingWhenSyntax.when(e)}whenTargetNamed(e){return this._bindingWhenSyntax.whenTargetNamed(e)}whenTargetIsDefault(){return this._bindingWhenSyntax.whenTargetIsDefault()}whenTargetTagged(e,n){return this._bindingWhenSyntax.whenTargetTagged(e,n)}whenInjectedInto(e){return this._bindingWhenSyntax.whenInjectedInto(e)}whenParentNamed(e){return this._bindingWhenSyntax.whenParentNamed(e)}whenParentTagged(e,n){return this._bindingWhenSyntax.whenParentTagged(e,n)}whenAnyAncestorIs(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)}whenNoAncestorIs(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)}whenAnyAncestorNamed(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)}whenAnyAncestorTagged(e,n){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,n)}whenNoAncestorNamed(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)}whenNoAncestorTagged(e,n){return this._bindingWhenSyntax.whenNoAncestorTagged(e,n)}whenAnyAncestorMatches(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)}whenNoAncestorMatches(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)}onActivation(e){return this._bindingOnSyntax.onActivation(e)}onDeactivation(e){return this._bindingOnSyntax.onDeactivation(e)}}class e_{_binding;constructor(e){this._binding=e}inRequestScope(){return this._binding.scope=x.Request,new eb(this._binding)}inSingletonScope(){return this._binding.scope=x.Singleton,new eb(this._binding)}inTransientScope(){return this._binding.scope=x.Transient,new eb(this._binding)}}class ew{_bindingInSyntax;_bindingWhenSyntax;_bindingOnSyntax;_binding;constructor(e){this._binding=e,this._bindingWhenSyntax=new em(this._binding),this._bindingOnSyntax=new ev(this._binding),this._bindingInSyntax=new e_(e)}inRequestScope(){return this._bindingInSyntax.inRequestScope()}inSingletonScope(){return this._bindingInSyntax.inSingletonScope()}inTransientScope(){return this._bindingInSyntax.inTransientScope()}when(e){return this._bindingWhenSyntax.when(e)}whenTargetNamed(e){return this._bindingWhenSyntax.whenTargetNamed(e)}whenTargetIsDefault(){return this._bindingWhenSyntax.whenTargetIsDefault()}whenTargetTagged(e,n){return this._bindingWhenSyntax.whenTargetTagged(e,n)}whenInjectedInto(e){return this._bindingWhenSyntax.whenInjectedInto(e)}whenParentNamed(e){return this._bindingWhenSyntax.whenParentNamed(e)}whenParentTagged(e,n){return this._bindingWhenSyntax.whenParentTagged(e,n)}whenAnyAncestorIs(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)}whenNoAncestorIs(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)}whenAnyAncestorNamed(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)}whenAnyAncestorTagged(e,n){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,n)}whenNoAncestorNamed(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)}whenNoAncestorTagged(e,n){return this._bindingWhenSyntax.whenNoAncestorTagged(e,n)}whenAnyAncestorMatches(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)}whenNoAncestorMatches(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)}onActivation(e){return this._bindingOnSyntax.onActivation(e)}onDeactivation(e){return this._bindingOnSyntax.onDeactivation(e)}}class eE{_binding;constructor(e){this._binding=e}to(e){return this._binding.type=C.Instance,this._binding.implementationType=e,new ew(this._binding)}toSelf(){if("function"!=typeof this._binding.serviceIdentifier)throw Error("The toSelf function can only be applied when a constructor is used as service identifier");let e=this._binding.serviceIdentifier;return this.to(e)}toConstantValue(e){return this._binding.type=C.ConstantValue,this._binding.cache=e,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=x.Singleton,new eb(this._binding)}toDynamicValue(e){return this._binding.type=C.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=e,this._binding.implementationType=null,new ew(this._binding)}toConstructor(e){return this._binding.type=C.Constructor,this._binding.implementationType=e,this._binding.scope=x.Singleton,new eb(this._binding)}toFactory(e){return this._binding.type=C.Factory,this._binding.factory=e,this._binding.scope=x.Singleton,new eb(this._binding)}toFunction(e){if("function"!=typeof e)throw Error("Value provided to function binding must be a function!");let n=this.toConstantValue(e);return this._binding.type=C.Function,this._binding.scope=x.Singleton,n}toAutoFactory(e){return this._binding.type=C.Factory,this._binding.factory=n=>()=>n.container.get(e),this._binding.scope=x.Singleton,new eb(this._binding)}toAutoNamedFactory(e){return this._binding.type=C.Factory,this._binding.factory=n=>r=>n.container.getNamed(e,r),new eb(this._binding)}toProvider(e){return this._binding.type=C.Provider,this._binding.provider=e,this._binding.scope=x.Singleton,new eb(this._binding)}toService(e){this._binding.type=C.DynamicValue,Object.defineProperty(this._binding,"cache",{configurable:!0,enumerable:!0,get:()=>null,set(e){}}),this._binding.dynamicValue=n=>{try{return n.container.get(e)}catch(r){return n.container.getAsync(e)}},this._binding.implementationType=null}}class ex{bindings;activations;deactivations;middleware;moduleActivationStore;static of(e,n,r,i,o){let a=new ex;return a.bindings=e,a.middleware=n,a.deactivations=i,a.activations=r,a.moduleActivationStore=o,a}}class eC{_map;constructor(){this._map=new Map}getMap(){return this._map}add(e,n){if(this._checkNonNulish(e),null==n)throw Error(I);let r=this._map.get(e);void 0!==r?r.push(n):this._map.set(e,[n])}get(e){this._checkNonNulish(e);let n=this._map.get(e);if(void 0!==n)return n;throw Error(j)}remove(e){if(this._checkNonNulish(e),!this._map.delete(e))throw Error(j)}removeIntersection(e){this.traverse((n,r)=>{let i=e.hasKey(n)?e.get(n):void 0;if(void 0!==i){let e=r.filter(e=>!i.some(n=>e===n));this._setValue(n,e)}})}removeByCondition(e){let n=[];return this._map.forEach((r,i)=>{let o=[];for(let i of r)e(i)?n.push(i):o.push(i);this._setValue(i,o)}),n}hasKey(e){return this._checkNonNulish(e),this._map.has(e)}clone(){let e=new eC;return this._map.forEach((n,r)=>{n.forEach(n=>{e.add(r,"object"==typeof n&&null!==n&&"clone"in n&&"function"==typeof n.clone?n.clone():n)})}),e}traverse(e){this._map.forEach((n,r)=>{e(r,n)})}_checkNonNulish(e){if(null==e)throw Error(I)}_setValue(e,n){n.length>0?this._map.set(e,n):this._map.delete(e)}}class eS{_map=new Map;remove(e){let n=this._map.get(e);return void 0===n?this._getEmptyHandlersStore():(this._map.delete(e),n)}addDeactivation(e,n,r){this._getModuleActivationHandlers(e).onDeactivations.add(n,r)}addActivation(e,n,r){this._getModuleActivationHandlers(e).onActivations.add(n,r)}clone(){let e=new eS;return this._map.forEach((n,r)=>{e._map.set(r,{onActivations:n.onActivations.clone(),onDeactivations:n.onDeactivations.clone()})}),e}_getModuleActivationHandlers(e){let n=this._map.get(e);return void 0===n&&(n=this._getEmptyHandlersStore(),this._map.set(e,n)),n}_getEmptyHandlersStore(){return{onActivations:new eC,onDeactivations:new eC}}}class eO{id;parent;options;_middleware;_bindingDictionary;_activations;_deactivations;_snapshots;_metadataReader;_moduleActivationStore;constructor(e){let n=e||{};if("object"!=typeof n)throw Error("Invalid Container constructor argument. Container options must be an object.");if(void 0===n.defaultScope)n.defaultScope=x.Transient;else if(n.defaultScope!==x.Singleton&&n.defaultScope!==x.Transient&&n.defaultScope!==x.Request)throw Error('Invalid Container option. Default scope must be a string ("singleton" or "transient").');if(void 0===n.autoBindInjectable)n.autoBindInjectable=!1;else if("boolean"!=typeof n.autoBindInjectable)throw Error("Invalid Container option. Auto bind injectable must be a boolean");if(void 0===n.skipBaseClassChecks)n.skipBaseClassChecks=!1;else if("boolean"!=typeof n.skipBaseClassChecks)throw Error("Invalid Container option. Skip base check must be a boolean");this.options={autoBindInjectable:n.autoBindInjectable,defaultScope:n.defaultScope,skipBaseClassChecks:n.skipBaseClassChecks},this.id=O++,this._bindingDictionary=new eC,this._snapshots=[],this._middleware=null,this._activations=new eC,this._deactivations=new eC,this.parent=null,this._metadataReader=new k,this._moduleActivationStore=new eS}static merge(e,n,...r){let i=new eO,o=[e,n,...r].map(e=>H(e)),a=H(i);return o.forEach(e=>{e.traverse((e,n)=>{n.forEach(e=>{a.add(e.serviceIdentifier,e.clone())})})}),i}load(...e){let n=this._getContainerModuleHelpersFactory();for(let r of e){let e=n(r.id);r.registry(e.bindFunction,e.unbindFunction,e.isboundFunction,e.rebindFunction,e.unbindAsyncFunction,e.onActivationFunction,e.onDeactivationFunction)}}async loadAsync(...e){let n=this._getContainerModuleHelpersFactory();for(let r of e){let e=n(r.id);await r.registry(e.bindFunction,e.unbindFunction,e.isboundFunction,e.rebindFunction,e.unbindAsyncFunction,e.onActivationFunction,e.onDeactivationFunction)}}unload(...e){e.forEach(e=>{let n=this._removeModuleBindings(e.id);this._deactivateSingletons(n),this._removeModuleHandlers(e.id)})}async unloadAsync(...e){for(let n of e){let e=this._removeModuleBindings(n.id);await this._deactivateSingletonsAsync(e),this._removeModuleHandlers(n.id)}}bind(e){return this._bind(this._buildBinding(e))}rebind(e){return this.unbind(e),this.bind(e)}async rebindAsync(e){return await this.unbindAsync(e),this.bind(e)}unbind(e){if(this._bindingDictionary.hasKey(e)){let n=this._bindingDictionary.get(e);this._deactivateSingletons(n)}this._removeServiceFromDictionary(e)}async unbindAsync(e){if(this._bindingDictionary.hasKey(e)){let n=this._bindingDictionary.get(e);await this._deactivateSingletonsAsync(n)}this._removeServiceFromDictionary(e)}unbindAll(){this._bindingDictionary.traverse((e,n)=>{this._deactivateSingletons(n)}),this._bindingDictionary=new eC}async unbindAllAsync(){let e=[];this._bindingDictionary.traverse((n,r)=>{e.push(this._deactivateSingletonsAsync(r))}),await Promise.all(e),this._bindingDictionary=new eC}onActivation(e,n){this._activations.add(e,n)}onDeactivation(e,n){this._deactivations.add(e,n)}isBound(e){let n=this._bindingDictionary.hasKey(e);return!n&&this.parent&&(n=this.parent.isBound(e)),n}isCurrentBound(e){return this._bindingDictionary.hasKey(e)}isBoundNamed(e,n){return this.isBoundTagged(e,u,n)}isBoundTagged(e,n,r){let i=!1;if(this._bindingDictionary.hasKey(e)){let o=this._bindingDictionary.get(e),a=function(e,n,r){let i=K(n,r),o=(0,l.getClassElementMetadataFromLegacyMetadata)(i);if(o.kind===l.ClassElementMetadataKind.unmanaged)throw Error("Unexpected metadata when creating target");let a=new l.LegacyTargetImpl("",o,"Variable"),s=new B(e);return new U(n,s,null,[],a)}(this,e,{customTag:{key:n,value:r},isMultiInject:!1});i=o.some(e=>e.constraint(a))}return!i&&this.parent&&(i=this.parent.isBoundTagged(e,n,r)),i}snapshot(){this._snapshots.push(ex.of(this._bindingDictionary.clone(),this._middleware,this._activations.clone(),this._deactivations.clone(),this._moduleActivationStore.clone()))}restore(){let e=this._snapshots.pop();if(void 0===e)throw Error("No snapshot available to restore.");this._bindingDictionary=e.bindings,this._activations=e.activations,this._deactivations=e.deactivations,this._middleware=e.middleware,this._moduleActivationStore=e.moduleActivationStore}createChild(e){let n=new eO(e||this.options);return n.parent=this,n}applyMiddleware(...e){let n=this._middleware?this._middleware:this._planAndResolve();this._middleware=e.reduce((e,n)=>n(e),n)}applyCustomMetadataReader(e){this._metadataReader=e}get(e){let n=this._getNotAllArgs(e,!1,!1);return this._getButThrowIfAsync(n)}async getAsync(e){let n=this._getNotAllArgs(e,!1,!1);return this._get(n)}getTagged(e,n,r){let i=this._getNotAllArgs(e,!1,!1,n,r);return this._getButThrowIfAsync(i)}async getTaggedAsync(e,n,r){let i=this._getNotAllArgs(e,!1,!1,n,r);return this._get(i)}getNamed(e,n){return this.getTagged(e,u,n)}async getNamedAsync(e,n){return this.getTaggedAsync(e,u,n)}getAll(e,n){let r=this._getAllArgs(e,n,!1);return this._getButThrowIfAsync(r)}async getAllAsync(e,n){let r=this._getAllArgs(e,n,!1);return this._getAll(r)}getAllTagged(e,n,r){let i=this._getNotAllArgs(e,!0,!1,n,r);return this._getButThrowIfAsync(i)}async getAllTaggedAsync(e,n,r){let i=this._getNotAllArgs(e,!0,!1,n,r);return this._getAll(i)}getAllNamed(e,n){return this.getAllTagged(e,u,n)}async getAllNamedAsync(e,n){return this.getAllTaggedAsync(e,u,n)}resolve(e){let n=this.isBound(e);n||this.bind(e).toSelf();let r=this.get(e);return n||this.unbind(e),r}tryGet(e){let n=this._getNotAllArgs(e,!1,!0);return this._getButThrowIfAsync(n)}async tryGetAsync(e){let n=this._getNotAllArgs(e,!1,!0);return this._get(n)}tryGetTagged(e,n,r){let i=this._getNotAllArgs(e,!1,!0,n,r);return this._getButThrowIfAsync(i)}async tryGetTaggedAsync(e,n,r){let i=this._getNotAllArgs(e,!1,!0,n,r);return this._get(i)}tryGetNamed(e,n){return this.tryGetTagged(e,u,n)}async tryGetNamedAsync(e,n){return this.tryGetTaggedAsync(e,u,n)}tryGetAll(e,n){let r=this._getAllArgs(e,n,!0);return this._getButThrowIfAsync(r)}async tryGetAllAsync(e,n){let r=this._getAllArgs(e,n,!0);return this._getAll(r)}tryGetAllTagged(e,n,r){let i=this._getNotAllArgs(e,!0,!0,n,r);return this._getButThrowIfAsync(i)}async tryGetAllTaggedAsync(e,n,r){let i=this._getNotAllArgs(e,!0,!0,n,r);return this._getAll(i)}tryGetAllNamed(e,n){return this.tryGetAllTagged(e,u,n)}async tryGetAllNamedAsync(e,n){return this.tryGetAllTaggedAsync(e,u,n)}_preDestroy(e,n){if(void 0!==e&&Reflect.hasMetadata(w,e)){let r=Reflect.getMetadata(w,e);return n[r.value]?.()}}_removeModuleHandlers(e){let n=this._moduleActivationStore.remove(e);this._activations.removeIntersection(n.onActivations),this._deactivations.removeIntersection(n.onDeactivations)}_removeModuleBindings(e){return this._bindingDictionary.removeByCondition(n=>n.moduleId===e)}_deactivate(e,n){let r=null==n?void 0:Object.getPrototypeOf(n).constructor;try{if(this._deactivations.hasKey(e.serviceIdentifier)){let i=this._deactivateContainer(n,this._deactivations.get(e.serviceIdentifier).values());if(Y(i))return this._handleDeactivationError(i.then(async()=>this._propagateContainerDeactivationThenBindingAndPreDestroyAsync(e,n,r)),e.serviceIdentifier)}let i=this._propagateContainerDeactivationThenBindingAndPreDestroy(e,n,r);if(Y(i))return this._handleDeactivationError(i,e.serviceIdentifier)}catch(n){if(n instanceof Error)throw Error(T(R(e.serviceIdentifier),n.message))}}async _handleDeactivationError(e,n){try{await e}catch(e){if(e instanceof Error)throw Error(T(R(n),e.message))}}_deactivateContainer(e,n){let r=n.next();for(;"function"==typeof r.value;){let i=r.value(e);if(Y(i))return i.then(async()=>this._deactivateContainerAsync(e,n));r=n.next()}}async _deactivateContainerAsync(e,n){let r=n.next();for(;"function"==typeof r.value;)await r.value(e),r=n.next()}_getContainerModuleHelpersFactory(){let e=e=>n=>{let r=this._buildBinding(n);return r.moduleId=e,this._bind(r)},n=()=>e=>{this.unbind(e)},r=()=>async e=>this.unbindAsync(e),i=()=>e=>this.isBound(e),o=n=>{let r=e(n);return e=>(this.unbind(e),r(e))},a=e=>(n,r)=>{this._moduleActivationStore.addActivation(e,n,r),this.onActivation(n,r)},s=e=>(n,r)=>{this._moduleActivationStore.addDeactivation(e,n,r),this.onDeactivation(n,r)};return l=>({bindFunction:e(l),isboundFunction:i(),onActivationFunction:a(l),onDeactivationFunction:s(l),rebindFunction:o(l),unbindAsyncFunction:r(),unbindFunction:n()})}_bind(e){return this._bindingDictionary.add(e.serviceIdentifier,e),new eE(e)}_buildBinding(e){let n=this.options.defaultScope||x.Transient;return new P(e,n)}async _getAll(e){return Promise.all(this._get(e))}_get(e){let n={...e,contextInterceptor:e=>e,targetType:S.Variable};if(this._middleware){let e=this._middleware(n);if(null==e)throw Error("Invalid return type in middleware. Middleware must return!");return e}return this._planAndResolve()(n)}_getButThrowIfAsync(e){let n=this._get(e);if(X(n)){var r;throw Error(`You are attempting to construct ${"function"==typeof(r=e.serviceIdentifier)?`[function/class ${r.name||"<anonymous>"}]`:"symbol"==typeof r?r.toString():`'${r}'`} in a synchronous way but it has asynchronous dependencies.`)}return n}_getAllArgs(e,n,r){return{avoidConstraints:!n?.enforceBindingConstraints,isMultiInject:!0,isOptional:r,serviceIdentifier:e}}_getNotAllArgs(e,n,r,i,o){return{avoidConstraints:!1,isMultiInject:n,isOptional:r,key:i,serviceIdentifier:e,value:o}}_getPlanMetadataFromNextArgs(e){let n={isMultiInject:e.isMultiInject};return void 0!==e.key&&(n.customTag={key:e.key,value:e.value}),!0===e.isOptional&&(n.isOptional=!0),n}_planAndResolve(){return e=>{var n;let r=function(e,n,r,i,o,a=!1){let s=new B(n),u=function(e,n,r){let i=K(n,r),o=(0,l.getClassElementMetadataFromLegacyMetadata)(i);if(o.kind===l.ClassElementMetadataKind.unmanaged)throw Error("Unexpected metadata when creating target");return new l.LegacyTargetImpl("",o,e)}(r,i,o);try{return function e(n,r,i,o,a,s){let u,c;if(null===a){u=W(n,r,o,null,s),c=new U(i,o,null,u,s);let e=new $(o,c);o.addPlan(e)}else u=W(n,r,o,a,s),c=a.addChildRequest(s.serviceIdentifier,u,s);u.forEach(r=>{let i=null;if(s.isArray())i=c.addChildRequest(r.serviceIdentifier,r,s);else{if(null!==r.cache)return;i=c}if(r.type===C.Instance&&null!==r.implementationType){var a,u;let s=(a=n,u=r.implementationType,(0,l.getTargets)(a)(u));if(!0!==o.container.options.skipBaseClassChecks){let e=function e(n,r){let i=function(e){let n=Object.getPrototypeOf(e.prototype),r=n?.constructor;return r}(r);if(void 0===i||i===Object)return 0;let o=(0,l.getTargets)(n)(i),a=o.map(e=>e.metadata.filter(e=>e.key===d)),s=[].concat.apply([],a).length,u=o.length-s;return u>0?u:e(n,i)}(n,r.implementationType);if(s.length<e){let e=`The number of constructor arguments in the derived class ${F(r.implementationType)} must be >= than the number of constructor arguments of its base class.`;throw Error(e)}}s.forEach(r=>{e(n,!1,r.serviceIdentifier,o,i,r)})}})}(e,a,i,s,null,u),s}catch(e){throw A(e)&&function e(n){n.childRequests.forEach(r=>{if(function e(n,r){return null!==n.parentRequest&&(n.parentRequest.serviceIdentifier===r||e(n.parentRequest,r))}(n,r.serviceIdentifier)){let e=function(e){let n=function e(n,r=[]){let i=R(n.serviceIdentifier);return r.push(i),null!==n.parentRequest?e(n.parentRequest,r):r}(e);return n.reverse().join(" --> ")}(r);throw Error(`Circular dependency found: ${e}`)}e(r)})}(s.plan.rootRequest),e}}(this._metadataReader,this,e.targetType,e.serviceIdentifier,this._getPlanMetadataFromNextArgs(e),e.avoidConstraints);r=e.contextInterceptor(r);let i=en((n=r).plan.rootRequest.requestScope)(n.plan.rootRequest);return i}}_deactivateIfSingleton(e){if(e.activated)return Y(e.cache)?e.cache.then(n=>this._deactivate(e,n)):this._deactivate(e,e.cache)}_deactivateSingletons(e){for(let n of e)if(Y(this._deactivateIfSingleton(n)))throw Error("Attempting to unbind dependency with asynchronous destruction (@preDestroy or onDeactivation)")}async _deactivateSingletonsAsync(e){await Promise.all(e.map(async e=>this._deactivateIfSingleton(e)))}_propagateContainerDeactivationThenBindingAndPreDestroy(e,n,r){return this.parent?this._deactivate.bind(this.parent)(e,n):this._bindingDeactivationAndPreDestroy(e,n,r)}async _propagateContainerDeactivationThenBindingAndPreDestroyAsync(e,n,r){this.parent?await this._deactivate.bind(this.parent)(e,n):await this._bindingDeactivationAndPreDestroyAsync(e,n,r)}_removeServiceFromDictionary(e){try{this._bindingDictionary.remove(e)}catch(n){throw Error(`Could not unbind serviceIdentifier: ${R(e)}`)}}_bindingDeactivationAndPreDestroy(e,n,r){if("function"==typeof e.onDeactivation){let i=e.onDeactivation(n);if(Y(i))return i.then(()=>this._preDestroy(r,n))}return this._preDestroy(r,n)}async _bindingDeactivationAndPreDestroyAsync(e,n,r){"function"==typeof e.onDeactivation&&await e.onDeactivation(n),await this._preDestroy(r,n)}}class eM{id;registry;constructor(e){this.id=O++,this.registry=e}}function eP(e,n,r,i){let o=function(e){let n=[];if(Array.isArray(e)){n=e;let r=function(e){let n=new Set;for(let r of e){if(n.has(r))return r;n.add(r)}}(n.map(e=>e.key));if(void 0!==r)throw Error(`${D} ${r.toString()}`)}else n=[e];return n}(i),a={};Reflect.hasOwnMetadata(e,n)&&(a=Reflect.getMetadata(e,n));let s=a[r];if(void 0===s)s=[];else for(let e of s)if(o.some(n=>n.key===e.key))throw Error(`${D} ${e.key.toString()}`);s.push(...o),a[r]=s,Reflect.defineMetadata(e,a,n)}function eD(e){return(n,r,i)=>{var o,a,s,l;"number"==typeof i?(o=n,a=r,s=i,l=e,!function(e){if(void 0!==e)throw Error(N)}(a),eP(g,o,s.toString(),l)):function(e,n,r){if(void 0!==e.prototype)throw Error(N);eP(y,e.constructor,n,r)}(n,r,e)}}function eI(){return function(e){if(Reflect.hasOwnMetadata(m,e))throw Error("Cannot apply @injectable decorator multiple times.");let n=Reflect.getMetadata(b,e)||[];return Reflect.defineMetadata(m,n,e),e}}function ej(e){return eD(new V(u,e))}function eN(e){return n=>(r,i,o)=>{if(void 0===n){let e="function"==typeof r?r.name:r.constructor.name;throw Error(`@inject called with undefined this could mean that the class ${e} has a circular dependency problem. You can use a LazyServiceIdentifer to overcome this limitation.`)}eD(new V(e,n))(r,i,o)}}let eT=eN(f);function ek(){return eD(new V(h,!0))}let eA=eN(p);function eR(e,n){return()=>(r,i)=>{let o=new V(e,i);if(Reflect.hasOwnMetadata(e,r.constructor))throw Error(n);Reflect.defineMetadata(e,o,r.constructor)}}let eL=eR(_,"Cannot apply @postConstruct decorator multiple times in the same class"),eF=eR(w,"Cannot apply @preDestroy decorator multiple times in the same class")},69267:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var i=r.ir(r("90202")),o=r.ir(r("26127")),a=(0,i.default)(o.default,"DataView")},14122:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return c}});var i=r.ir(r("67261")),o=r.ir(r("71721")),a=r.ir(r("80252")),s=r.ir(r("54751")),l=r.ir(r("27983"));function u(e){var n=-1,r=null==e?0:e.length;for(this.clear();++n<r;){var i=e[n];this.set(i[0],i[1])}}u.prototype.clear=i.default,u.prototype.delete=o.default,u.prototype.get=a.default,u.prototype.has=s.default,u.prototype.set=l.default;var c=u},46743:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return c}});var i=r.ir(r("40114")),o=r.ir(r("29680")),a=r.ir(r("63561")),s=r.ir(r("72321")),l=r.ir(r("55329"));function u(e){var n=-1,r=null==e?0:e.length;for(this.clear();++n<r;){var i=e[n];this.set(i[0],i[1])}}u.prototype.clear=i.default,u.prototype.delete=o.default,u.prototype.get=a.default,u.prototype.has=s.default,u.prototype.set=l.default;var c=u},17139:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var i=r.ir(r("90202")),o=r.ir(r("26127")),a=(0,i.default)(o.default,"Map")},75521:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return c}});var i=r.ir(r("60967")),o=r.ir(r("94887")),a=r.ir(r("85653")),s=r.ir(r("63412")),l=r.ir(r("73411"));function u(e){var n=-1,r=null==e?0:e.length;for(this.clear();++n<r;){var i=e[n];this.set(i[0],i[1])}}u.prototype.clear=i.default,u.prototype.delete=o.default,u.prototype.get=a.default,u.prototype.has=s.default,u.prototype.set=l.default;var c=u},41165:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var i=r.ir(r("90202")),o=r.ir(r("26127")),a=(0,i.default)(o.default,"Promise")},46126:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var i=r.ir(r("90202")),o=r.ir(r("26127")),a=(0,i.default)(o.default,"Set")},64776:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return l}});var i=r.ir(r("75521")),o=r.ir(r("49189")),a=r.ir(r("64375"));function s(e){var n=-1,r=null==e?0:e.length;for(this.__data__=new i.default;++n<r;)this.add(e[n])}s.prototype.add=s.prototype.push=o.default,s.prototype.has=a.default;var l=s},7609:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return d}});var i=r.ir(r("46743")),o=r.ir(r("28558")),a=r.ir(r("44776")),s=r.ir(r("39008")),l=r.ir(r("22839")),u=r.ir(r("34523"));function c(e){var n=this.__data__=new i.default(e);this.size=n.size}c.prototype.clear=o.default,c.prototype.delete=a.default,c.prototype.get=s.default,c.prototype.has=l.default,c.prototype.set=u.default;var d=c},10404:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var i=r.ir(r("26127")).default.Symbol},38388:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var i=r.ir(r("26127")).default.Uint8Array},40280:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var i=r.ir(r("90202")),o=r.ir(r("26127")),a=(0,i.default)(o.default,"WeakMap")},73043:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var i=function(e,n){for(var r=-1,i=null==e?0:e.length,o=0,a=[];++r<i;){var s=e[r];n(s,r,e)&&(a[o++]=s)}return a}},36376:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return d}});var i=r.ir(r("30373")),o=r.ir(r("59657")),a=r.ir(r("30656")),s=r.ir(r("75392")),l=r.ir(r("21122")),u=r.ir(r("98964")),c=Object.prototype.hasOwnProperty,d=function(e,n){var r=(0,a.default)(e),d=!r&&(0,o.default)(e),h=!r&&!d&&(0,s.default)(e),f=!r&&!d&&!h&&(0,u.default)(e),p=r||d||h||f,g=p?(0,i.default)(e.length,String):[],y=g.length;for(var m in e)(n||c.call(e,m))&&!(p&&("length"==m||h&&("offset"==m||"parent"==m)||f&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||(0,l.default)(m,y)))&&g.push(m);return g}},32077:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var i=function(e,n){for(var r=-1,i=null==e?0:e.length,o=Array(i);++r<i;)o[r]=n(e[r],r,e);return o}},14374:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var i=function(e,n){for(var r=-1,i=n.length,o=e.length;++r<i;)e[o+r]=n[r];return e}},57658:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var i=function(e,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}},2351:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var i=r.ir(r("47694")),o=function(e,n){for(var r=e.length;r--;)if((0,i.default)(e[r][0],n))return r;return -1}},51367:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var i=r.ir(r("83576")),o=r.ir(r("96907")),a=function(e,n){n=(0,i.default)(n,e);for(var r=0,a=n.length;null!=e&&r<a;)e=e[(0,o.default)(n[r++])];return r&&r==a?e:void 0}},94617:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var i=r.ir(r("14374")),o=r.ir(r("30656")),a=function(e,n,r){var a=n(e);return(0,o.default)(e)?a:(0,i.default)(a,r(e))}},29009:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return l}});var i=r.ir(r("10404")),o=r.ir(r("64917")),a=r.ir(r("84498")),s=i.default?i.default.toStringTag:void 0,l=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?(0,o.default)(e):(0,a.default)(e)}},71239:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var i=r.ir(r("29009")),o=r.ir(r("7230")),a=function(e){return(0,o.default)(e)&&"[object Arguments]"==(0,i.default)(e)}},53309:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var i=r.ir(r("94749")),o=r.ir(r("7230")),a=function e(n,r,a,s,l){return n===r||(null!=n&&null!=r&&((0,o.default)(n)||(0,o.default)(r))?(0,i.default)(n,r,a,s,e,l):n!=n&&r!=r)}},94749:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return y}});var i=r.ir(r("7609")),o=r.ir(r("32997")),a=r.ir(r("6288")),s=r.ir(r("40085")),l=r.ir(r("35062")),u=r.ir(r("30656")),c=r.ir(r("75392")),d=r.ir(r("98964")),h="[object Arguments]",f="[object Array]",p="[object Object]",g=Object.prototype.hasOwnProperty,y=function(e,n,r,y,m,b){var _=(0,u.default)(e),w=(0,u.default)(n),E=_?f:(0,l.default)(e),x=w?f:(0,l.default)(n);E=E==h?p:E,x=x==h?p:x;var C=E==p,S=x==p,O=E==x;if(O&&(0,c.default)(e)){if(!(0,c.default)(n))return!1;_=!0,C=!1}if(O&&!C)return b||(b=new i.default),_||(0,d.default)(e)?(0,o.default)(e,n,r,y,m,b):(0,a.default)(e,n,E,r,y,m,b);if(!(1&r)){var M=C&&g.call(e,"__wrapped__"),P=S&&g.call(n,"__wrapped__");if(M||P){var D=M?e.value():e,I=P?n.value():n;return b||(b=new i.default),m(D,I,r,y,b)}}return!!O&&(b||(b=new i.default),(0,s.default)(e,n,r,y,m,b))}},75991:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return f}});var i=r.ir(r("88087")),o=r.ir(r("97275")),a=r.ir(r("80")),s=r.ir(r("45134")),l=/^\[object .+?Constructor\]$/,u=Object.prototype,c=Function.prototype.toString,d=u.hasOwnProperty,h=RegExp("^"+c.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),f=function(e){return!(!(0,a.default)(e)||(0,o.default)(e))&&((0,i.default)(e)?h:l).test((0,s.default)(e))}},95812:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return l}});var i=r.ir(r("29009")),o=r.ir(r("84260")),a=r.ir(r("7230")),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1;var l=function(e){return(0,a.default)(e)&&(0,o.default)(e.length)&&!!s[(0,i.default)(e)]}},77191:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var i=r.ir(r("61871")),o=r.ir(r("22063")),a=Object.prototype.hasOwnProperty,s=function(e){if(!(0,i.default)(e))return(0,o.default)(e);var n=[];for(var r in Object(e))a.call(e,r)&&"constructor"!=r&&n.push(r);return n}},30373:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var i=function(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}},60548:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return d}});var i=r.ir(r("10404")),o=r.ir(r("32077")),a=r.ir(r("30656")),s=r.ir(r("71364")),l=1/0,u=i.default?i.default.prototype:void 0,c=u?u.toString:void 0,d=function e(n){if("string"==typeof n)return n;if((0,a.default)(n))return(0,o.default)(n,e)+"";if((0,s.default)(n))return c?c.call(n):"";var r=n+"";return"0"==r&&1/n==-l?"-0":r}},56942:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var i=function(e){return function(n){return e(n)}}},4778:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var i=function(e,n){return e.has(n)}},83576:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return l}});var i=r.ir(r("30656")),o=r.ir(r("45495")),a=r.ir(r("32139")),s=r.ir(r("51313")),l=function(e,n){return(0,i.default)(e)?e:(0,o.default)(e,n)?[e]:(0,a.default)((0,s.default)(e))}},93804:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var i=r.ir(r("26127")).default["__core-js_shared__"]},32997:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var i=r.ir(r("64776")),o=r.ir(r("57658")),a=r.ir(r("4778")),s=function(e,n,r,s,l,u){var c=1&r,d=e.length,h=n.length;if(d!=h&&!(c&&h>d))return!1;var f=u.get(e),p=u.get(n);if(f&&p)return f==n&&p==e;var g=-1,y=!0,m=2&r?new i.default:void 0;for(u.set(e,n),u.set(n,e);++g<d;){var b=e[g],_=n[g];if(s)var w=c?s(_,b,g,n,e,u):s(b,_,g,e,n,u);if(void 0!==w){if(w)continue;y=!1;break}if(m){if(!(0,o.default)(n,function(e,n){if(!(0,a.default)(m,n)&&(b===e||l(b,e,r,s,u)))return m.push(n)})){y=!1;break}}else if(!(b===_||l(b,_,r,s,u))){y=!1;break}}return u.delete(e),u.delete(n),y}},6288:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return h}});var i=r.ir(r("10404")),o=r.ir(r("38388")),a=r.ir(r("47694")),s=r.ir(r("32997")),l=r.ir(r("35382")),u=r.ir(r("96088")),c=i.default?i.default.prototype:void 0,d=c?c.valueOf:void 0,h=function(e,n,r,i,c,h,f){switch(r){case"[object DataView]":if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)break;e=e.buffer,n=n.buffer;case"[object ArrayBuffer]":if(e.byteLength!=n.byteLength||!h(new o.default(e),new o.default(n)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return(0,a.default)(+e,+n);case"[object Error]":return e.name==n.name&&e.message==n.message;case"[object RegExp]":case"[object String]":return e==n+"";case"[object Map]":var p=l.default;case"[object Set]":var g=1&i;if(p||(p=u.default),e.size!=n.size&&!g)break;var y=f.get(e);if(y)return y==n;i|=2,f.set(e,n);var m=(0,s.default)(p(e),p(n),i,c,h,f);return f.delete(e),m;case"[object Symbol]":if(d)return d.call(e)==d.call(n)}return!1}},40085:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var i=r.ir(r("98743")),o=Object.prototype.hasOwnProperty,a=function(e,n,r,a,s,l){var u=1&r,c=(0,i.default)(e),d=c.length;if(d!=(0,i.default)(n).length&&!u)return!1;for(var h=d;h--;){var f=c[h];if(!(u?f in n:o.call(n,f)))return!1}var p=l.get(e),g=l.get(n);if(p&&g)return p==n&&g==e;var y=!0;l.set(e,n),l.set(n,e);for(var m=u;++h<d;){var b=e[f=c[h]],_=n[f];if(a)var w=u?a(_,b,f,n,e,l):a(b,_,f,e,n,l);if(!(void 0===w?b===_||s(b,_,r,a,l):w)){y=!1;break}m||(m="constructor"==f)}if(y&&!m){var E=e.constructor,x=n.constructor;E!=x&&"constructor"in e&&"constructor"in n&&!("function"==typeof E&&E instanceof E&&"function"==typeof x&&x instanceof x)&&(y=!1)}return l.delete(e),l.delete(n),y}},86864:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var i="object"==typeof global&&global&&global.Object===Object&&global},98743:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var i=r.ir(r("94617")),o=r.ir(r("87622")),a=r.ir(r("29062")),s=function(e){return(0,i.default)(e,a.default,o.default)}},17200:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var i=r.ir(r("69506")),o=function(e,n){var r=e.__data__;return(0,i.default)(n)?r["string"==typeof n?"string":"hash"]:r.map}},90202:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var i=r.ir(r("75991")),o=r.ir(r("48919")),a=function(e,n){var r=(0,o.default)(e,n);return(0,i.default)(r)?r:void 0}},64917:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return u}});var i=r.ir(r("10404")),o=Object.prototype,a=o.hasOwnProperty,s=o.toString,l=i.default?i.default.toStringTag:void 0,u=function(e){var n=a.call(e,l),r=e[l];try{e[l]=void 0;var i=!0}catch(e){}var o=s.call(e);return i&&(n?e[l]=r:delete e[l]),o}},87622:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return l}});var i=r.ir(r("73043")),o=r.ir(r("94921")),a=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,l=s?function(e){return null==e?[]:(e=Object(e),(0,i.default)(s(e),function(n){return a.call(e,n)}))}:o.default},35062:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return x}});var i=r.ir(r("69267")),o=r.ir(r("17139")),a=r.ir(r("41165")),s=r.ir(r("46126")),l=r.ir(r("40280")),u=r.ir(r("29009")),c=r.ir(r("45134")),d="[object Map]",h="[object Promise]",f="[object Set]",p="[object WeakMap]",g="[object DataView]",y=(0,c.default)(i.default),m=(0,c.default)(o.default),b=(0,c.default)(a.default),_=(0,c.default)(s.default),w=(0,c.default)(l.default),E=u.default;(i.default&&E(new i.default(new ArrayBuffer(1)))!=g||o.default&&E(new o.default)!=d||a.default&&E(a.default.resolve())!=h||s.default&&E(new s.default)!=f||l.default&&E(new l.default)!=p)&&(E=function(e){var n=(0,u.default)(e),r="[object Object]"==n?e.constructor:void 0,i=r?(0,c.default)(r):"";if(i)switch(i){case y:return g;case m:return d;case b:return h;case _:return f;case w:return p}return n});var x=E},48919:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var i=function(e,n){return null==e?void 0:e[n]}},67261:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var i=r.ir(r("30890")),o=function(){this.__data__=i.default?(0,i.default)(null):{},this.size=0}},71721:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var i=function(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}},80252:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var i=r.ir(r("30890")),o=Object.prototype.hasOwnProperty,a=function(e){var n=this.__data__;if(i.default){var r=n[e];return"__lodash_hash_undefined__"===r?void 0:r}return o.call(n,e)?n[e]:void 0}},54751:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var i=r.ir(r("30890")),o=Object.prototype.hasOwnProperty,a=function(e){var n=this.__data__;return i.default?void 0!==n[e]:o.call(n,e)}},27983:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var i=r.ir(r("30890")),o=function(e,n){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=i.default&&void 0===n?"__lodash_hash_undefined__":n,this}},21122:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var i=/^(?:0|[1-9]\d*)$/,o=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&i.test(e))&&e>-1&&e%1==0&&e<n}},45495:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return l}});var i=r.ir(r("30656")),o=r.ir(r("71364")),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/,l=function(e,n){if((0,i.default)(e))return!1;var r=typeof e;return!!("number"==r||"symbol"==r||"boolean"==r||null==e||(0,o.default)(e))||s.test(e)||!a.test(e)||null!=n&&e in Object(n)}},69506:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var i=function(e){var n=typeof e;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==e:null===e}},97275:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var i,o=r.ir(r("93804"));var a=(i=/[^.]+$/.exec(o.default&&o.default.keys&&o.default.keys.IE_PROTO||""),i?"Symbol(src)_1."+i:""),s=function(e){return!!a&&a in e}},61871:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var i=Object.prototype,o=function(e){var n=e&&e.constructor,r="function"==typeof n&&n.prototype||i;return e===r}},40114:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var i=function(){this.__data__=[],this.size=0}},29680:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var i=r.ir(r("2351")),o=Array.prototype.splice,a=function(e){var n=this.__data__,r=(0,i.default)(n,e);return!(r<0)&&(r==n.length-1?n.pop():o.call(n,r,1),--this.size,!0)}},63561:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var i=r.ir(r("2351")),o=function(e){var n=this.__data__,r=(0,i.default)(n,e);return r<0?void 0:n[r][1]}},72321:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var i=r.ir(r("2351")),o=function(e){return(0,i.default)(this.__data__,e)>-1}},55329:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var i=r.ir(r("2351")),o=function(e,n){var r=this.__data__,o=(0,i.default)(r,e);return o<0?(++this.size,r.push([e,n])):r[o][1]=n,this}},60967:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var i=r.ir(r("14122")),o=r.ir(r("46743")),a=r.ir(r("17139")),s=function(){this.size=0,this.__data__={hash:new i.default,map:new(a.default||o.default),string:new i.default}}},94887:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var i=r.ir(r("17200")),o=function(e){var n=(0,i.default)(this,e).delete(e);return this.size-=n?1:0,n}},85653:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var i=r.ir(r("17200")),o=function(e){return(0,i.default)(this,e).get(e)}},63412:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var i=r.ir(r("17200")),o=function(e){return(0,i.default)(this,e).has(e)}},73411:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var i=r.ir(r("17200")),o=function(e,n){var r=(0,i.default)(this,e),o=r.size;return r.set(e,n),this.size+=r.size==o?0:1,this}},35382:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var i=function(e){var n=-1,r=Array(e.size);return e.forEach(function(e,i){r[++n]=[i,e]}),r}},48382:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var i=r.ir(r("19083")),o=function(e){var n=(0,i.default)(e,function(e){return 500===r.size&&r.clear(),e}),r=n.cache;return n}},30890:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var i=(0,r.ir(r("90202")).default)(Object,"create")},22063:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var i=(0,r.ir(r("49220")).default)(Object.keys,Object)},41925:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return l}});var i=r.ir(r("86864")),o="object"==typeof n&&n&&!n.nodeType&&n,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o&&i.default.process,l=function(){try{var e=a&&a.require&&a.require("util").types;if(e)return e;return s&&s.binding&&s.binding("util")}catch(e){}}()},84498:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var i=Object.prototype.toString,o=function(e){return i.call(e)}},49220:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var i=function(e,n){return function(r){return e(n(r))}}},26127:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var i=r.ir(r("86864")),o="object"==typeof self&&self&&self.Object===Object&&self,a=i.default||o||Function("return this")()},49189:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var i=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},64375:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var i=function(e){return this.__data__.has(e)}},96088:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var i=function(e){var n=-1,r=Array(e.size);return e.forEach(function(e){r[++n]=e}),r}},28558:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var i=r.ir(r("46743")),o=function(){this.__data__=new i.default,this.size=0}},44776:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var i=function(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}},39008:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var i=function(e){return this.__data__.get(e)}},22839:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var i=function(e){return this.__data__.has(e)}},34523:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var i=r.ir(r("46743")),o=r.ir(r("17139")),a=r.ir(r("75521")),s=function(e,n){var r=this.__data__;if(r instanceof i.default){var s=r.__data__;if(!o.default||s.length<199)return s.push([e,n]),this.size=++r.size,this;r=this.__data__=new a.default(s)}return r.set(e,n),this.size=r.size,this}},32139:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var i=r.ir(r("48382")),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,s=(0,i.default)(function(e){var n=[];return 46===e.charCodeAt(0)&&n.push(""),e.replace(o,function(e,r,i,o){n.push(i?o.replace(a,"$1"):r||e)}),n})},96907:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var i=r.ir(r("71364")),o=1/0,a=function(e){if("string"==typeof e||(0,i.default)(e))return e;var n=e+"";return"0"==n&&1/e==-o?"-0":n}},45134:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var i=Function.prototype.toString,o=function(e){if(null!=e){try{return i.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},47694:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var i=function(e,n){return e===n||e!=e&&n!=n}},9096:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var i=r.ir(r("51367")),o=function(e,n,r){var o=null==e?void 0:(0,i.default)(e,n);return void 0===o?r:o}},59657:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return u}});var i=r.ir(r("71239")),o=r.ir(r("7230")),a=Object.prototype,s=a.hasOwnProperty,l=a.propertyIsEnumerable,u=(0,i.default)(function(){return arguments}())?i.default:function(e){return(0,o.default)(e)&&s.call(e,"callee")&&!l.call(e,"callee")}},30656:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var i=Array.isArray},55741:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var i=r.ir(r("88087")),o=r.ir(r("84260")),a=function(e){return null!=e&&(0,o.default)(e.length)&&!(0,i.default)(e)}},75392:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return u}});var i=r.ir(r("26127")),o=r.ir(r("30560")),a="object"==typeof n&&n&&!n.nodeType&&n,s=a&&"object"==typeof e&&e&&!e.nodeType&&e,l=s&&s.exports===a?i.default.Buffer:void 0,u=(l?l.isBuffer:void 0)||o.default},4917:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var i=r.ir(r("53309")),o=function(e,n){return(0,i.default)(e,n)}},88087:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var i=r.ir(r("29009")),o=r.ir(r("80")),a=function(e){if(!(0,o.default)(e))return!1;var n=(0,i.default)(e);return"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n}},84260:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var i=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},80:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var i=function(e){var n=typeof e;return null!=e&&("object"==n||"function"==n)}},7230:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var i=function(e){return null!=e&&"object"==typeof e}},71364:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var i=r.ir(r("29009")),o=r.ir(r("7230")),a=function(e){return"symbol"==typeof e||(0,o.default)(e)&&"[object Symbol]"==(0,i.default)(e)}},98964:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return l}});var i=r.ir(r("95812")),o=r.ir(r("56942")),a=r.ir(r("41925")),s=a.default&&a.default.isTypedArray,l=s?(0,o.default)(s):i.default},29062:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var i=r.ir(r("36376")),o=r.ir(r("77191")),a=r.ir(r("55741")),s=function(e){return(0,a.default)(e)?(0,i.default)(e):(0,o.default)(e)}},2848:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var i=function(e){var n=null==e?0:e.length;return n?e[n-1]:void 0}},96006:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{get:function(){return i.default},isEqual:function(){return o.default},last:function(){return a.default}});var i=r.ir(r("9096")),o=r.ir(r("4917")),a=r.ir(r("2848"))},19083:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var i=r.ir(r("75521"));function o(e,n){if("function"!=typeof e||null!=n&&"function"!=typeof n)throw TypeError("Expected a function");var r=function(){var i=arguments,o=n?n.apply(this,i):i[0],a=r.cache;if(a.has(o))return a.get(o);var s=e.apply(this,i);return r.cache=a.set(o,s)||a,s};return r.cache=new(o.Cache||i.default),r}o.Cache=i.default;var a=o},94921:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var i=function(){return[]}},30560:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var i=function(){return!1}},51313:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var i=r.ir(r("60548")),o=function(e){return null==e?"":(0,i.default)(e)}},57254:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{random:function(){return i},customRandom:function(){return o},customAlphabet:function(){return a},nanoid:function(){return s}});let i=e=>crypto.getRandomValues(new Uint8Array(e)),o=(e,n,r)=>{let i=(2<<Math.log(e.length-1)/Math.LN2)-1,o=-~(1.6*i*n/e.length);return (a=n)=>{let s="";for(;;){let n=r(o),l=o;for(;l--;)if((s+=e[n[l]&i]||"").length===a)return s}}},a=(e,n=21)=>o(e,n,i),s=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((e,n)=>((n&=63)<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"")},31710:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{__extends:function(){return o},__awaiter:function(){return s},__generator:function(){return l},__values:function(){return u},__read:function(){return c},__spreadArray:function(){return d},__await:function(){return h},__asyncGenerator:function(){return f},__asyncValues:function(){return p}});var i=function(e,n){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])})(e,n)};function o(e,n){if("function"!=typeof n&&null!==n)throw TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var a=function(){return(a=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++)for(var o in n=arguments[r],n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)};function s(e,n,r,i){return new(r||(r=Promise))(function(o,a){function s(e){try{u(i.next(e))}catch(e){a(e)}}function l(e){try{u(i.throw(e))}catch(e){a(e)}}function u(e){var n;e.done?o(e.value):((n=e.value)instanceof r?n:new r(function(e){e(n)})).then(s,l)}u((i=i.apply(e,n||[])).next())})}function l(e,n){var r,i,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=l(0),s.throw=l(1),s.return=l(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function l(l){return function(u){return function(l){if(r)throw TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(a=0)),a;)try{if(r=1,i&&(o=2&l[0]?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,i=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=n.call(e,a)}catch(e){l=[6,e],i=0}finally{r=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,u])}}}function u(e){var n="function"==typeof Symbol&&Symbol.iterator,r=n&&e[n],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(e,n){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,o,a=r.call(e),s=[];try{for(;(void 0===n||n-- >0)&&!(i=a.next()).done;)s.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return s}function d(e,n,r){if(r||2==arguments.length)for(var i,o=0,a=n.length;o<a;o++)(i||!(o in n))&&(!i&&(i=Array.prototype.slice.call(n,0,o)),i[o]=n[o]);return e.concat(i||Array.prototype.slice.call(n))}function h(e){return this instanceof h?(this.v=e,this):new h(e)}function f(e,n,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var i,o=r.apply(e,n||[]),a=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",function(e){return function(n){return Promise.resolve(n).then(e,c)}}),i[Symbol.asyncIterator]=function(){return this},i;function s(e,n){o[e]&&(i[e]=function(n){return new Promise(function(r,i){a.push([e,n,r,i])>1||l(e,n)})},n&&(i[e]=n(i[e])))}function l(e,n){try{(function(e){e.value instanceof h?Promise.resolve(e.value.v).then(u,c):d(a[0][2],e)})(o[e](n))}catch(e){d(a[0][3],e)}}function u(e){l("next",e)}function c(e){l("throw",e)}function d(e,n){e(n),a.shift(),a.length&&l(a[0][0],a[0][1])}}function p(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,r=e[Symbol.asyncIterator];return r?r.call(e):(e=u(e),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(r){n[r]=e[r]&&function(n){return new Promise(function(i,o){(function(e,n,r,i){Promise.resolve(i).then(function(n){e({value:n,done:r})},n)})(i,o,(n=e[r](n)).done,n.value)})}}}var g=function(e){return(g=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n})(e)};"function"==typeof SuppressedError&&SuppressedError},45120:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=r("52393"),o=r("17032"),a=r("26957");let s=(0,o.createRoot)(document.getElementById("root"));s.render((0,i.jsx)(a.Editor,{}))},37397:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"IconAutoLayout",{enumerable:!0,get:function(){return o}});var i=r("52393");let o=(0,i.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{fill:"currentColor",d:"M3 2C2.44772 2 2 2.44771 2 3V12C2 12.5523 2.44772 13 3 13H10C10.5523 13 11 12.5523 11 12V3C11 2.44772 10.5523 2 10 2H3zM4 11V4H9V11H4zM21 22C21.5523 22 22 21.5523 22 21V12C22 11.4477 21.5523 11 21 11H14C13.4477 11 13 11.4477 13 12V21C13 21.5523 13.4477 22 14 22H21zM20 13V20H15V13H20zM2 16C2 15.4477 2.44772 15 3 15H10C10.5523 15 11 15.4477 11 16V21C11 21.5523 10.5523 22 10 22H3C2.44772 22 2 21.5523 2 21V16zM4 20V17H9V20H4zM21 9C21.5523 9 22 8.55228 22 8V3C22 2.44772 21.5523 2 21 2H14C13.4477 2 13 2.44772 13 3V8C13 8.55228 13.4477 9 14 9H21zM20 4V7H15V4H20z"})})},86952:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"IconMinimap",{enumerable:!0,get:function(){return o}});var i=r("52393");let o=()=>(0,i.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsxs)("g",{id:"g1",children:[(0,i.jsx)("path",{id:"path1",fill:"#000000",stroke:"none",d:"M 18.09091 6.883101 L 5.409091 6.883101 L 5.409091 16.746737 L 10.664648 16.746737 C 10.927091 17.116341 11.30353 17.422749 11.792977 17.611004 L 12.664289 17.946156 L 12.744959 18.155828 L 5.409091 18.155828 C 4.630871 18.155828 4 17.524979 4 16.746737 L 4 6.883101 C 4 6.104881 4.630871 5.47401 5.409091 5.47401 L 18.09091 5.47401 C 18.86915 5.47401 19.5 6.104881 19.5 6.883101 L 19.5 12.52348 C 19.247208 11.883823 18.730145 11.365912 18.09091 11.111994 L 18.09091 6.883101 Z M 18.09091 18.155828 L 17.881165 18.155828 L 19.469212 14.368896 C 19.479921 14.343321 19.490206 14.317817 19.5 14.292241 L 19.5 16.746737 C 19.5 17.524979 18.86915 18.155828 18.09091 18.155828 Z"}),(0,i.jsx)("path",{id:"path2",fill:"#000000",fillRule:"evenodd",stroke:"none",d:"M 18.494614 13.960189 C 18.982441 12.796985 17.813459 11.628003 16.650255 12.11576 L 12.133272 14.01 C 10.962248 14.501069 10.987188 16.168798 12.172375 16.62464 L 13.482055 17.128389 L 13.985805 18.438068 C 14.441646 19.623184 16.109375 19.648125 16.600443 18.477171 L 18.494614 13.960189 Z M 17.19515 13.415224 L 15.30098 17.932205 L 14.79723 16.622526 C 14.654066 16.250385 14.359989 15.956307 13.987918 15.813213 L 12.678168 15.309464 L 17.19515 13.415224 Z"})]})})},96474:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{IconMouse:function(){return o},IconMouseTool:function(){return a}});var i=r("52393");function o(e){let{width:n,height:r}=e;return(0,i.jsx)("svg",{width:n||34,height:r||52,viewBox:"0 0 34 52",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M30.9998 16.6666V35.3333C30.9998 37.5748 30.9948 38.4695 30.9 39.1895C30.2108 44.4247 26.0912 48.5443 20.856 49.2335C20.1361 49.3283 19.2413 49.3333 16.9998 49.3333C14.7584 49.3333 13.8636 49.3283 13.1437 49.2335C7.90847 48.5443 3.78888 44.4247 3.09965 39.1895C3.00487 38.4695 2.99984 37.5748 2.99984 35.3333V16.6666C2.99984 14.4252 3.00487 13.5304 3.09965 12.8105C3.78888 7.57528 7.90847 3.45569 13.1437 2.76646C13.7232 2.69017 14.4159 2.67202 15.8332 2.66785V9.86573C14.4738 10.3462 13.4998 11.6426 13.4998 13.1666V17.8332C13.4998 19.3571 14.4738 20.6536 15.8332 21.1341V23.6666C15.8332 24.3109 16.3555 24.8333 16.9998 24.8333C17.6442 24.8333 18.1665 24.3109 18.1665 23.6666V21.1341C19.5259 20.6536 20.4998 19.3572 20.4998 17.8332V13.1666C20.4998 11.6426 19.5259 10.3462 18.1665 9.86571V2.66785C19.5837 2.67202 20.2765 2.69017 20.856 2.76646C26.0912 3.45569 30.2108 7.57528 30.9 12.8105C30.9948 13.5304 30.9998 14.4252 30.9998 16.6666ZM0.666504 16.6666C0.666504 14.4993 0.666504 13.4157 0.786276 12.5059C1.61335 6.22368 6.55687 1.28016 12.8391 0.453085C13.7489 0.333313 14.8325 0.333313 16.9998 0.333313C19.1671 0.333313 20.2508 0.333313 21.1605 0.453085C27.4428 1.28016 32.3863 6.22368 33.2134 12.5059C33.3332 13.4157 33.3332 14.4994 33.3332 16.6666V35.3333C33.3332 37.5006 33.3332 38.5843 33.2134 39.494C32.3863 45.7763 27.4428 50.7198 21.1605 51.5469C20.2508 51.6666 19.1671 51.6666 16.9998 51.6666C14.8325 51.6666 13.7489 51.6666 12.8391 51.5469C6.55687 50.7198 1.61335 45.7763 0.786276 39.494C0.666504 38.5843 0.666504 37.5006 0.666504 35.3333V16.6666ZM15.8332 13.1666C15.8332 13.0011 15.8676 12.8437 15.9297 12.7011C15.9886 12.566 16.0722 12.4443 16.1749 12.3416C16.386 12.1305 16.6777 11.9999 16.9998 11.9999C17.6435 11.9999 18.1654 12.5212 18.1665 13.1646L18.1665 13.1666V17.8332L18.1665 17.8353C18.1665 17.8364 18.1665 17.8376 18.1665 17.8387C18.1661 17.9132 18.1588 17.986 18.1452 18.0565C18.0853 18.3656 17.9033 18.6312 17.6515 18.8011C17.4655 18.9266 17.2412 18.9999 16.9998 18.9999C16.3555 18.9999 15.8332 18.4776 15.8332 17.8332V13.1666Z",fill:"currentColor",fillOpacity:"0.8"})})}let a=()=>(0,i.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 8C4.5 4.13401 7.63401 1 11.5 1H12.5C16.366 1 19.5 4.13401 19.5 8V17C19.5 20.3137 16.8137 23 13.5 23H10.5C7.18629 23 4.5 20.3137 4.5 17V8ZM11.2517 3.00606C8.60561 3.13547 6.5 5.32184 6.5 8V17C6.5 19.2091 8.29086 21 10.5 21H13.5C15.7091 21 17.5 19.2091 17.5 17V8C17.5 5.32297 15.3962 3.13732 12.7517 3.00622V5.28013C13.2606 5.54331 13.6074 6.06549 13.6074 6.66669V8.75759C13.6074 9.35879 13.2606 9.88097 12.7517 10.1441V11.4091C12.7517 11.8233 12.4159 12.1591 12.0017 12.1591C11.5875 12.1591 11.2517 11.8233 11.2517 11.4091V10.1457C10.7411 9.88298 10.3931 9.35994 10.3931 8.75759V6.66669C10.3931 6.06433 10.7411 5.5413 11.2517 5.27862V3.00606ZM12.0017 6.14397C11.7059 6.14397 11.466 6.38381 11.466 6.67968V8.74462C11.466 9.03907 11.7036 9.27804 11.9975 9.28031L12.0002 9.28032C12.0456 9.28032 12.0896 9.27482 12.1316 9.26447C12.3401 9.21256 12.5002 9.0386 12.5318 8.82287C12.5345 8.80149 12.5359 8.7797 12.5359 8.75759V6.66669C12.5359 6.64463 12.5345 6.62288 12.5318 6.60154C12.4999 6.38354 12.3368 6.20817 12.1252 6.15826C12.0856 6.14891 12.0442 6.14397 12.0017 6.14397Z"})})},6979:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{IconPad:function(){return o},IconPadTool:function(){return a}});var i=r("52393");function o(e){let{width:n,height:r}=e;return(0,i.jsxs)("svg",{width:n||48,height:r||38,viewBox:"0 0 48 38",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("rect",{x:"1.83317",y:"1.49998",width:"44.3333",height:"35",rx:"3.5",stroke:"currentColor",strokeOpacity:"0.8",strokeWidth:"2.33333"}),(0,i.jsx)("path",{d:"M14.6665 30.6667H33.3332",stroke:"currentColor",strokeOpacity:"0.8",strokeWidth:"2.33333",strokeLinecap:"round"})]})}let a=()=>(0,i.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.8549 5H3.1451C3.06496 5 3 5.06496 3 5.1451V18.8549C3 18.935 3.06496 19 3.1451 19H20.8549C20.935 19 21 18.935 21 18.8549V5.1451C21 5.06496 20.935 5 20.8549 5ZM3.1451 3C1.96039 3 1 3.96039 1 5.1451V18.8549C1 20.0396 1.96039 21 3.1451 21H20.8549C22.0396 21 23 20.0396 23 18.8549V5.1451C23 3.96039 22.0396 3 20.8549 3H3.1451Z"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.99991 16C6.99991 15.4477 7.44762 15 7.99991 15H15.9999C16.5522 15 16.9999 15.4477 16.9999 16C16.9999 16.5523 16.5522 17 15.9999 17H7.99991C7.44762 17 6.99991 16.5523 6.99991 16Z"})]})},66047:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"IconSwitchLine",{enumerable:!0,get:function(){return o}});var i=r("52393");let o=(0,i.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{id:"switch-line",fill:"currentColor",stroke:"none",d:"M 12.728118 10.060962 C 13.064282 8.716098 14.272528 7.772551 15.65877 7.772343 L 17.689898 7.772343 C 18.0798 7.772343 18.39588 7.456264 18.39588 7.066362 C 18.39588 6.676458 18.0798 6.36038 17.689898 6.36038 L 15.659616 6.36038 C 13.62515 6.360315 11.851767 7.745007 11.358504 9.718771 C 11.02234 11.063635 9.814095 12.007183 8.427853 12.007389 L 7.101437 12.007389 C 6.711768 12.007389 6.395878 12.323277 6.395878 12.712947 C 6.395878 13.102616 6.711768 13.418506 7.101437 13.418506 L 8.426159 13.418506 C 9.812716 13.418323 11.021417 14.361954 11.357657 15.707124 C 11.850921 17.680887 13.624304 19.065578 15.65877 19.065516 L 17.689049 19.065516 C 18.078953 19.065516 18.395033 18.749435 18.395033 18.359533 C 18.395033 17.969631 18.078953 17.653551 17.689049 17.653551 L 15.65877 17.653551 C 14.272528 17.653345 13.064282 16.709797 12.728118 15.364932 C 12.454905 14.27114 11.774856 13.322707 10.826583 12.712947 C 11.774536 12.10303 12.454268 11.154617 12.727271 10.060962 Z"})})},50668:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AddNode",{enumerable:!0,get:function(){return l}});var i=r("52393"),o=r("23103"),a=r("73543"),s=r("57673");let l=e=>{let n=(0,s.useAddNode)();return(0,i.jsx)(o.Button,{icon:(0,i.jsx)(a.IconPlus,{}),color:"highlight",style:{backgroundColor:"rgba(171,181,255,0.3)",borderRadius:"8px"},disabled:e.disabled,onClick:e=>{let r=e.currentTarget.getBoundingClientRect();n(r)},children:"Add Node"})}},6931:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"BaseNode",{enumerable:!0,get:function(){return c}});var i=r("52393"),o=r("56144"),a=r("95281"),s=r("23103"),l=r("79242"),u=r("48345");let c=({node:e})=>{let n=(0,a.useNodeRender)(),r=n.form,c=(0,o.useCallback)(()=>e.renderData.node||document.body,[]);return(0,i.jsx)(s.ConfigProvider,{getPopupContainer:c,children:(0,i.jsxs)(a.WorkflowNodeRenderer,{node:e,children:[r?.state.invalid&&(0,i.jsx)(u.ErrorIcon,{}),(0,i.jsx)(u.BaseNodeStyle,{className:n.selected?"selected":"",style:{outline:r?.state.invalid?"1px solid red":"none"},children:(0,i.jsx)(l.NodeRenderContext.Provider,{value:n,children:r?.render()})})]})})}},48345:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{BaseNodeStyle:function(){return s},ErrorIcon:function(){return l}});var i=r("52393"),o=r.ir(r("34394")),a=r("73543");let s=o.default.div`
  align-items: flex-start;
  background-color: #fff;
  border: 1px solid rgba(6, 7, 9, 0.15);
  border-radius: 8px;
  box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.04), 0 4px 12px 0 rgba(0, 0, 0, 0.02);
  display: flex;
  flex-direction: column;
  justify-content: center;
  position: relative;
  width: 360px;

  transition: all 0.3s ease;
  &.selected {
    border: 1px solid var(--coz-stroke-hglt, #4e40e5);
  }
`,l=()=>(0,i.jsx)(a.IconInfoCircle,{style:{position:"absolute",color:"red",left:-6,top:-6,zIndex:1,background:"white",borderRadius:8}})},89329:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"CodeEditorField",{enumerable:!0,get:function(){return u}});var i=r("52393"),o=r("56144"),a=r.ir(r("24616")),s=r("23103"),l=r("73543");let u=({value:e,onChange:n})=>{let[r,u]=(0,o.useState)(!1),[c,d]=(0,o.useState)(e);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(a.default,{children:["code:",(0,i.jsx)(s.Button,{icon:(0,i.jsx)(l.IconCode,{}),style:{marginLeft:"8px"},onClick:()=>{d(e),u(!0)},children:"Editor"})]}),(0,i.jsx)(s.Modal,{title:"代码编辑器",visible:r,onOk:()=>{n(c),u(!1)},onCancel:()=>{u(!1)},closeOnEsc:!0,fullScreen:!0,style:{zIndex:1e3},getPopupContainer:()=>document.body,children:(0,i.jsx)(s.TextArea,{value:c,onChange:e=>d(e),rows:10,style:{width:"100%"}})})]})}},75477:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"IconPlusCircle",{enumerable:!0,get:function(){return o}});var i=r("52393");let o=()=>(0,i.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsxs)("g",{id:"add",children:[(0,i.jsx)("path",{id:"background",fill:"#ffffff",fillRule:"evenodd",stroke:"none",d:"M 24 12 C 24 5.372583 18.627417 0 12 0 C 5.372583 0 -0 5.372583 -0 12 C -0 18.627417 5.372583 24 12 24 C 18.627417 24 24 18.627417 24 12 Z"}),(0,i.jsx)("path",{id:"content",fill:"currentColor",fillRule:"evenodd",stroke:"none",d:"M 22 12.005 C 22 6.482153 17.522848 2.004999 12 2.004999 C 6.477152 2.004999 2 6.482153 2 12.005 C 2 17.527847 6.477152 22.004999 12 22.004999 C 17.522848 22.004999 22 17.527847 22 12.005 Z"}),(0,i.jsx)("path",{id:"cross",fill:"#ffffff",stroke:"none",d:"M 11.411996 16.411797 C 11.411996 16.736704 11.675362 17 12.00023 17 C 12.325109 17 12.588474 16.736704 12.588474 16.411797 L 12.588474 12.58826 L 16.41201 12.58826 C 16.736919 12.58826 17.000216 12.324894 17.000216 12.000015 C 17.000216 11.675147 16.736919 11.411781 16.41201 11.411781 L 12.588474 11.411781 L 12.588474 7.588234 C 12.588474 7.263367 12.325109 7 12.00023 7 C 11.675362 7 11.411996 7.263367 11.411996 7.588234 L 11.411996 11.411781 L 7.588449 11.411781 C 7.263581 11.411781 7.000215 11.675147 7.000215 12.000015 C 7.000215 12.324894 7.263581 12.58826 7.588449 12.58826 L 11.411996 12.58826 L 11.411996 16.411797 Z"})]})})},83952:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"LineAddButton",{enumerable:!0,get:function(){return u}});var i=r("52393"),o=r("39848"),a=r("95281");r("55689");var s=r("23146"),l=r("75477");let u=e=>{let{line:n,selected:r,color:u}=e,c=(0,s.useVisible)({line:n,selected:r,color:u}),d=(0,a.useService)(o.WorkflowNodePanelService);if(!c)return(0,i.jsx)(i.Fragment,{});let{fromPort:h,toPort:f}=n;return(0,i.jsx)("div",{className:"line-add-button",style:{left:"50%",top:"50%",color:u},"data-testid":"sdk.workflow.canvas.line.add","data-line-id":n.id,onClick:async()=>{let e=await d.call({panelPosition:{x:(n.position.from.x+n.position.to.x)/2,y:(n.position.from.y+n.position.to.y)/2},fromPort:h,toPort:f,enableBuildLine:!0,enableAutoOffset:!0,panelProps:{enableScrollClose:!0}});e&&n.dispose()},children:(0,i.jsx)(l.IconPlusCircle,{})})}},98220:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NodePanel",{enumerable:!0,get:function(){return l}});var i=r("52393"),o=r("23103"),a=r("95945"),s=r("15799");r("56978");let l=e=>{let{onSelect:n,position:r,onClose:l,panelProps:u}=e,{enableNodePlaceholder:c}=u;return(0,i.jsx)(o.Popover,{trigger:"click",visible:!0,onVisibleChange:e=>e?null:l(),content:(0,i.jsx)(s.NodeList,{onSelect:n}),placement:"right",popupAlign:{offset:[30,0]},overlayStyle:{padding:0},children:(0,i.jsx)("div",{style:c?{position:"absolute",top:r.y-61.5,left:r.x,width:360,height:100}:{position:"absolute",top:r.y,left:r.x,width:0,height:0},children:c&&(0,i.jsx)(a.NodePlaceholder,{})})})}},15799:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NodeList",{enumerable:!0,get:function(){return h}});var i=r("52393");r("56144");var o=r.ir(r("34394")),a=r("95281"),s=r("44843");let l=o.default.div`
  width: 100%;
  height: 32px;
  border-radius: 5px;
  display: flex;
  align-items: center;
  cursor: pointer;
  font-size: 19px;
  padding: 0 15px;
  &:hover {
    background-color: hsl(252deg 62% 55% / 9%);
    color: hsl(252 62% 54.9%);
  }
`,u=o.default.div`
  font-size: 12px;
  margin-left: 10px;
`;function c(e){return(0,i.jsxs)(l,{onClick:e.disabled?void 0:e.onClick,style:e.disabled?{opacity:.3}:{},children:[(0,i.jsx)("div",{style:{fontSize:14},children:e.icon}),(0,i.jsx)(u,{children:e.label})]})}let d=o.default.div`
  max-height: 500px;
  overflow: auto;
  &::-webkit-scrollbar {
    display: none;
  }
`,h=e=>{let{onSelect:n}=e,r=(0,a.useClientContext)(),o=(e,i)=>{let o=i.onAdd?.(r);n({nodeType:i.type,selectEvent:e,nodeJSON:o})};return(0,i.jsx)(d,{style:{width:180},children:s.nodeRegistries.filter(e=>e.canAdd?.(r)??!0).map(e=>(0,i.jsx)(c,{disabled:!1,icon:(0,i.jsx)("img",{style:{width:10,height:10,borderRadius:4},src:e.info.icon}),label:e.type,onClick:n=>o(n,e)},e.type))})}},95945:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NodePlaceholder",{enumerable:!0,get:function(){return a}});var i=r("52393"),o=r("23103");let a=()=>(0,i.jsx)("div",{className:"node-placeholder","data-testid":"workflow.detail.node-panel.placeholder",children:(0,i.jsx)(o.Skeleton,{className:"node-placeholder-skeleton",loading:!0,active:!0,placeholder:(0,i.jsxs)("div",{className:"",children:[(0,i.jsxs)("div",{className:"node-placeholder-hd",children:[(0,i.jsx)(o.Skeleton.Avatar,{shape:"square",className:"node-placeholder-avatar"}),(0,i.jsx)(o.Skeleton.Title,{style:{width:141}})]}),(0,i.jsxs)("div",{className:"node-placeholder-content",children:[(0,i.jsxs)("div",{className:"node-placeholder-footer",children:[(0,i.jsx)(o.Skeleton.Title,{style:{width:85}}),(0,i.jsx)(o.Skeleton.Title,{style:{width:241}})]}),(0,i.jsx)(o.Skeleton.Title,{style:{width:220}})]})]})})})},68587:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"SelectorBoxPopover",{enumerable:!0,get:function(){return l}});var i=r("52393"),o=r("23103"),a=r("73543"),s=r("59344");let l=({bounds:e,children:n,flowSelectConfig:r,commandRegistry:l})=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{style:{position:"absolute",left:e.right,top:e.top,transform:"translate(-100%, -100%)"},onMouseDown:e=>{e.stopPropagation()},children:(0,i.jsxs)(o.ButtonGroup,{size:"small",style:{display:"flex",flexWrap:"nowrap",height:24},children:[(0,i.jsx)(o.Tooltip,{content:"Collapse",children:(0,i.jsx)(o.Button,{icon:(0,i.jsx)(a.IconShrink,{}),style:{height:24},type:"primary",theme:"solid",onMouseDown:e=>{l.executeCommand(s.FlowCommandId.COLLAPSE)}})}),(0,i.jsx)(o.Tooltip,{content:"Expand",children:(0,i.jsx)(o.Button,{icon:(0,i.jsx)(a.IconExpand,{}),style:{height:24},type:"primary",theme:"solid",onMouseDown:e=>{l.executeCommand(s.FlowCommandId.EXPAND)}})}),(0,i.jsx)(o.Tooltip,{content:"Copy",children:(0,i.jsx)(o.Button,{icon:(0,i.jsx)(a.IconCopy,{}),style:{height:24},type:"primary",theme:"solid",onClick:()=>{l.executeCommand(s.FlowCommandId.COPY)}})}),(0,i.jsx)(o.Tooltip,{content:"Delete",children:(0,i.jsx)(o.Button,{type:"primary",theme:"solid",icon:(0,i.jsx)(a.IconDeleteStroked,{}),style:{height:24},onClick:()=>{l.executeCommand(s.FlowCommandId.DELETE)}})})]})}),(0,i.jsx)("div",{children:n})]})},11650:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AddNote",{enumerable:!0,get:function(){return c}});var i=r("52393"),o=r("56144"),a=r("95281"),s=r("23103"),l=r("73543"),u=r("6014");let c=()=>{let e=(0,a.usePlayground)(),n=(0,a.useClientContext)(),r=(0,o.useCallback)(async()=>{let e=`note_${Math.random().toString(36).substring(2,9)}_${Date.now()}`;n.document.createWorkflowNodeByType("note",{x:100,y:100},{id:e,data:{...u.NoteNodeRegistry.data},meta:{...u.NoteNodeRegistry.meta}})},[n]);return(0,i.jsx)(s.Tooltip,{content:"Add Note",children:(0,i.jsx)(s.Button,{disabled:e.config.readonly,type:"tertiary",icon:(0,i.jsx)(l.IconFile,{}),theme:"borderless",onClick:r})})}},86307:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AutoLayout",{enumerable:!0,get:function(){return u}});var i=r("52393"),o=r("56144"),a=r("95281"),s=r("23103"),l=r("37397");let u=()=>{let e=(0,a.usePlaygroundTools)(),n=(0,a.usePlayground)(),r=(0,o.useCallback)(async()=>{await e.autoLayout()},[e]);return(0,i.jsx)(s.Tooltip,{content:"Auto Layout",children:(0,i.jsx)(s.IconButton,{disabled:n.config.readonly,type:"tertiary",theme:"borderless",onClick:r,icon:l.IconAutoLayout})})}},46241:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Console",{enumerable:!0,get:function(){return u}});var i=r("52393"),o=r("56144"),a=r("95281"),s=r("23103"),l=r("73543");let u=()=>{let e=(0,a.useClientContext)(),n=(0,a.usePlayground)(),r=(0,o.useCallback)(async()=>{console.log(e.document.toJSON())},[e]);return(0,i.jsx)(s.Tooltip,{content:"Terminal Show JSON Data",children:(0,i.jsx)(s.Button,{disabled:n.config.readonly,type:"tertiary",icon:(0,i.jsx)(l.IconTerminal,{}),theme:"borderless",onClick:r})})}},35373:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"FitView",{enumerable:!0,get:function(){return l}});var i=r("52393"),o=r("95281"),a=r("23103"),s=r("73543");let l=()=>{let e=(0,o.usePlaygroundTools)();return(0,i.jsx)(a.Tooltip,{content:"FitView",children:(0,i.jsx)(a.IconButton,{icon:(0,i.jsx)(s.IconExpand,{}),type:"tertiary",theme:"borderless",onClick:()=>e.fitView()})})}},38617:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"DemoTools",{enumerable:!0,get:function(){return x}});var i=r("52393"),o=r("56144"),a=r("95281"),s=r("23103"),l=r("73543"),u=r("50668"),c=r("99765"),d=r("90742"),h=r("53534"),f=r("35677"),p=r("26048"),g=r("80201"),y=r("69084"),m=r("65959"),b=r("35373"),_=r("46241"),w=r("86307"),E=r("11650");let x=()=>{let{history:e,playground:n}=(0,a.useClientContext)(),[r,x]=(0,o.useState)(!1),[C,S]=(0,o.useState)(!1),[O,M]=(0,o.useState)(!0);(0,o.useEffect)(()=>{let n=e.undoRedoService.onChange(()=>{x(e.canUndo()),S(e.canRedo())});return()=>n.dispose()},[e]);let P=(0,a.useRefresh)();return(0,o.useEffect)(()=>{let e=n.config.onReadonlyOrDisabledChange(()=>P());return()=>e.dispose()},[n]),(0,i.jsx)(h.ToolContainer,{className:"demo-free-layout-tools",children:(0,i.jsxs)(h.ToolSection,{children:[(0,i.jsx)(m.Interactive,{}),(0,i.jsx)(w.AutoLayout,{}),(0,i.jsx)(d.SwitchLine,{}),(0,i.jsx)(c.ZoomSelect,{}),(0,i.jsx)(b.FitView,{}),(0,i.jsx)(g.MinimapSwitch,{minimapVisible:O,setMinimapVisible:M}),(0,i.jsx)(y.Minimap,{visible:O}),(0,i.jsx)(p.Readonly,{}),(0,i.jsx)(s.Tooltip,{content:"Undo",children:(0,i.jsx)(s.IconButton,{type:"tertiary",theme:"borderless",icon:(0,i.jsx)(l.IconUndo,{}),disabled:!r,onClick:()=>e.undo()})}),(0,i.jsx)(s.Tooltip,{content:"Redo",children:(0,i.jsx)(s.IconButton,{type:"tertiary",theme:"borderless",icon:(0,i.jsx)(l.IconRedo,{}),disabled:!C,onClick:()=>e.redo()})}),(0,i.jsx)(s.Divider,{layout:"vertical",style:{height:"16px"},margin:3}),(0,i.jsx)(u.AddNode,{disabled:n.config.readonly}),(0,i.jsx)(E.AddNote,{}),(0,i.jsx)(s.Divider,{layout:"vertical",style:{height:"16px"},margin:3}),(0,i.jsx)(f.Save,{disabled:n.config.readonly}),(0,i.jsx)(_.Console,{})]})})}},65959:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{CACHE_KEY:function(){return d},IS_MAC_OS:function(){return h},getPreferInteractiveType:function(){return f},setPreferInteractiveType:function(){return p},Interactive:function(){return g}});var i,o,a=r("52393"),s=r("56144"),l=r("95281"),u=r("23103"),c=r("17936");let d="workflow_prefer_interactive_type",h=/(Macintosh|MacIntel|MacPPC|Mac68K|iPad)/.test(navigator.userAgent),f=()=>{let e=localStorage.getItem(d);return e&&[o.Mouse,o.Pad].includes(e)?e:h?o.Pad:o.Mouse},p=e=>{localStorage.setItem(d,e)};(i=o||(o={})).Mouse="MOUSE",i.Pad="PAD";let g=()=>{let e=(0,l.usePlaygroundTools)(),[n,r]=(0,s.useState)(!1),[i,d]=(0,s.useState)(()=>f()),[h,g]=(0,s.useState)(!1),y=i===o.Mouse?"Mouse-Friendly":"Touchpad-Friendly";return(0,s.useEffect)(()=>{e.setMouseScrollDelta(e=>e/20);let n=f();e.setInteractiveType(n)},[]),(0,a.jsx)(u.Popover,{trigger:"custom",position:"top",visible:n,onClickOutSide:()=>{r(!1)},children:(0,a.jsx)(u.Tooltip,{content:y,style:{display:h?"none":"block"},children:(0,a.jsx)("div",{className:"workflow-toolbar-interactive",children:(0,a.jsx)(c.MousePadSelector,{value:i,onChange:n=>{d(n),p(n),e.setInteractiveType(n)},onPopupVisibleChange:g,containerStyle:{border:"none",height:"32px",width:"32px",justifyContent:"center",alignItems:"center",gap:"2px",padding:"4px",borderRadius:"var(--small, 6px)"},iconStyle:{margin:"0",width:"16px",height:"16px"},arrowStyle:{width:"12px",height:"12px"}})})})})}},80201:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"MinimapSwitch",{enumerable:!0,get:function(){return s}});var i=r("52393"),o=r("23103"),a=r("53534");let s=e=>{let{minimapVisible:n,setMinimapVisible:r}=e;return(0,i.jsx)(o.Tooltip,{content:"Minimap",children:(0,i.jsx)(o.IconButton,{type:"tertiary",theme:"borderless",icon:(0,i.jsx)(a.UIIconMinimap,{visible:n}),onClick:()=>r(!n)})})}},69084:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Minimap",{enumerable:!0,get:function(){return l}});var i=r("52393"),o=r("61400"),a=r("95281"),s=r("53534");let l=({visible:e})=>{let n=(0,a.useService)(o.FlowMinimapService);return e?(0,i.jsx)(s.MinimapContainer,{children:(0,i.jsx)(o.MinimapRender,{service:n,panelStyles:{},containerStyles:{pointerEvents:"auto",position:"relative",top:"unset",right:"unset",bottom:"unset",left:"unset"},inactiveStyle:{opacity:1,scale:1,translateX:0,translateY:0}})}):(0,i.jsx)(i.Fragment,{})}},17936:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"MousePadSelector",{enumerable:!0,get:function(){return p}});var i,o,a=r("52393"),s=r("56144"),l=r("23103"),u=r("6979"),c=r("96474");r("74824");let{Title:d,Paragraph:h}=l.Typography;(i=o||(o={})).Mouse="MOUSE",i.Pad="PAD";let f=({title:e,subTitle:n,icon:r,onChange:i,value:o,selected:s})=>(0,a.jsxs)("div",{className:`mouse-pad-option ${s?"mouse-pad-option-selected":""}`,onClick:()=>i(o),children:[(0,a.jsx)("div",{className:`mouse-pad-option-icon ${s?"mouse-pad-option-icon-selected":""}`,children:r}),(0,a.jsx)(d,{heading:6,className:`mouse-pad-option-title ${s?"mouse-pad-option-title-selected":""}`,children:e}),(0,a.jsx)(h,{type:"tertiary",className:`mouse-pad-option-subTitle ${s?"mouse-pad-option-subTitle-selected":""}`,children:n})]}),p=({value:e,onChange:n,onPopupVisibleChange:r,containerStyle:i,iconStyle:d,arrowStyle:h})=>{let p=e===o.Mouse,[g,y]=(0,s.useState)(!1);return(0,a.jsx)(l.Popover,{trigger:"custom",position:"topLeft",closeOnEsc:!0,visible:g,onVisibleChange:e=>{r?.(e)},onClickOutSide:()=>{y(!1)},spacing:20,content:(0,a.jsxs)("div",{className:"ui-mouse-pad-selector-popover",children:[(0,a.jsx)(l.Typography.Title,{heading:4,children:"Interaction mode"}),(0,a.jsxs)("div",{className:"ui-mouse-pad-selector-popover-options",children:[(0,a.jsx)(f,{title:"Mouse-Friendly",subTitle:"Drag the canvas with the left mouse button, zoom with the scroll wheel.",value:o.Mouse,selected:e===o.Mouse,icon:(0,a.jsx)(c.IconMouse,{}),onChange:n}),(0,a.jsx)(f,{title:"Touchpad-Friendly",subTitle:"Drag with two fingers moving in the same direction, zoom by pinching or spreading two fingers.",value:o.Pad,selected:e===o.Pad,icon:(0,a.jsx)(u.IconPad,{}),onChange:n})]})]}),children:(0,a.jsx)("div",{className:`ui-mouse-pad-selector ${g?"ui-mouse-pad-selector-active":""}`,onClick:()=>{y(!g)},style:i,children:(0,a.jsx)("div",{className:"ui-mouse-pad-selector-icon",style:d,children:p?(0,a.jsx)(c.IconMouseTool,{}):(0,a.jsx)(u.IconPadTool,{})})})})}},26048:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Readonly",{enumerable:!0,get:function(){return u}});var i=r("52393"),o=r("56144"),a=r("95281"),s=r("23103"),l=r("73543");let u=()=>{let e=(0,a.usePlayground)(),n=(0,o.useCallback)(()=>{e.config.readonly=!e.config.readonly},[e]);return e.config.readonly?(0,i.jsx)(s.IconButton,{theme:"borderless",type:"tertiary",icon:(0,i.jsx)(l.IconLock,{size:"default"}),onClick:n}):(0,i.jsx)(s.IconButton,{theme:"borderless",type:"tertiary",icon:(0,i.jsx)(l.IconUnlock,{size:"default"}),onClick:n})}},35677:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Save",{enumerable:!0,get:function(){return l}});var i=r("52393"),o=r("56144"),a=r("95281"),s=r("23103");function l(e){let[n,r]=(0,o.useState)(0),l=(0,a.useClientContext)(),u=(0,o.useCallback)(()=>{let e=l.document.getAllNodes().map(e=>(0,a.getNodeForm)(e)),n=e.filter(e=>e?.state.invalid).length;r(n)},[l]),c=(0,o.useCallback)(async()=>{let e=l.document.getAllNodes().map(e=>(0,a.getNodeForm)(e));await Promise.all(e.map(async e=>e?.validate())),console.log(">>>>> save data: ",l.document.toJSON())},[l]);return((0,o.useEffect)(()=>{let e=e=>{let n=(0,a.getNodeForm)(e);if(n){let r=n.onValidate(()=>u());e.onDispose(()=>r.dispose())}};l.document.getAllNodes().map(n=>e(n));let n=l.document.onNodeCreate(({node:n})=>e(n));return()=>n.dispose()},[l]),0===n)?(0,i.jsx)(s.Button,{disabled:e.disabled,onClick:c,style:{backgroundColor:"rgba(171,181,255,0.3)",borderRadius:"8px"},children:"Save"}):(0,i.jsx)(s.Badge,{count:n,position:"rightTop",type:"danger",children:(0,i.jsx)(s.Button,{type:"danger",disabled:e.disabled,onClick:c,style:{backgroundColor:"rgba(255, 179, 171, 0.3)",borderRadius:"8px"},children:"\xa0 Save"})})}},53534:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{ToolContainer:function(){return a},ToolSection:function(){return s},SelectZoom:function(){return l},MinimapContainer:function(){return u},UIIconMinimap:function(){return c}});var i=r.ir(r("34394")),o=r("86952");let a=i.default.div`
  position: absolute;
  bottom: 16px;
  display: flex;
  justify-content: left;
  min-width: 360px;
  pointer-events: none;
  gap: 8px;

  z-index: 99;
`,s=i.default.div`
  display: flex;
  align-items: center;
  background-color: #fff;
  border: 1px solid rgba(68, 83, 130, 0.25);
  border-radius: 10px;
  box-shadow: rgba(0, 0, 0, 0.04) 0px 2px 6px 0px, rgba(0, 0, 0, 0.02) 0px 4px 12px 0px;
  column-gap: 2px;
  height: 40px;
  padding: 0 4px;
  pointer-events: auto;
`,l=i.default.span`
  padding: 4px;
  border-radius: 8px;
  border: 1px solid rgba(68, 83, 130, 0.25);
  font-size: 12px;
  width: 50px;
  cursor: pointer;
`,u=i.default.div`
  position: absolute;
  bottom: 60px;
  width: 198px;
`,c=(0,i.default)(o.IconMinimap)`
  color: ${e=>e.visible?void 0:"#060709cc"};
`},90742:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"SwitchLine",{enumerable:!0,get:function(){return u}});var i=r("52393"),o=r("56144"),a=r("95281"),s=r("23103"),l=r("66047");let u=()=>{let e=(0,a.useService)(a.WorkflowLinesManager),n=(0,o.useCallback)(()=>{e.switchLineType()},[e]);return(0,i.jsx)(s.Tooltip,{content:"Switch Line",children:(0,i.jsx)(s.IconButton,{type:"tertiary",theme:"borderless",onClick:n,icon:l.IconSwitchLine})})}},99765:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ZoomSelect",{enumerable:!0,get:function(){return u}});var i=r("52393"),o=r("56144"),a=r("95281"),s=r("23103"),l=r("53534");let u=()=>{let e=(0,a.usePlaygroundTools)(),n=(0,a.usePlayground)(),[r,u]=(0,o.useState)(!1);return(0,i.jsx)(s.Dropdown,{position:"top",trigger:"custom",visible:r,onClickOutSide:()=>u(!1),render:(0,i.jsxs)(s.Dropdown.Menu,{children:[(0,i.jsx)(s.Dropdown.Item,{onClick:()=>e.zoomin(),children:"Zoom in"}),(0,i.jsx)(s.Dropdown.Item,{onClick:()=>e.zoomout(),children:"Zoom out"}),(0,i.jsx)(s.Divider,{layout:"horizontal"}),(0,i.jsx)(s.Dropdown.Item,{onClick:()=>n.config.updateZoom(.5),children:"Zoom to 50%"}),(0,i.jsx)(s.Dropdown.Item,{onClick:()=>n.config.updateZoom(1),children:"Zoom to 100%"}),(0,i.jsx)(s.Dropdown.Item,{onClick:()=>n.config.updateZoom(1.5),children:"Zoom to 150%"}),(0,i.jsx)(s.Dropdown.Item,{onClick:()=>n.config.updateZoom(2),children:"Zoom to 200%"})]}),children:(0,i.jsxs)(l.SelectZoom,{onClick:()=>u(!0),children:[Math.floor(100*e.zoom),"%"]})})}},26957:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Editor",{enumerable:!0,get:function(){return c}});var i=r("52393"),o=r("95281");r("80863"),r("72314");var a=r("44843"),s=r("67076"),l=r("60054"),u=r("38617");let c=()=>{let e=(0,l.useEditorProps)(s.initialData,a.nodeRegistries);return(0,i.jsx)("div",{className:"doc-free-feature-overview",children:(0,i.jsxs)(o.FreeLayoutEditorProvider,{...e,children:[(0,i.jsx)("div",{className:"demo-container",children:(0,i.jsx)(o.EditorRenderer,{className:"demo-editor"})}),(0,i.jsx)(u.DemoTools,{})]})})}},54394:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Feedback",{enumerable:!0,get:function(){return l}});var i=r("52393"),o=r.ir(r("34394"));let a=o.default.span`
  font-size: 12px;
  color: red;
`,s=o.default.span`
  font-size: 12px;
  color: orange;
`,l=({errors:e,warnings:n,invalid:r})=>{let o=e=>e?e.map(e=>(0,i.jsx)("span",{children:e.message},e.name)):null;return(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{children:(0,i.jsx)(a,{children:o(e)})}),(0,i.jsx)("div",{children:(0,i.jsx)(s,{children:o(n)})})]})}},21688:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"FormContent",{enumerable:!0,get:function(){return h}});var i=r("52393"),o=r("56144"),a=r("95281"),s=r.ir(r("31550")),l=r("23103"),u=r("79242"),c=r("17810"),d=r("54394");function h(e){let{node:n,expanded:r,toggleExpand:h,readonly:f}=(0,o.useContext)(u.NodeRenderContext);n.getNodeRegistry();let[p,g]=(0,o.useState)(!1),y=(0,o.useRef)(null),m=(e,n)=>{e(n),g(!1)};return(0,i.jsx)(c.FormWrapper,{children:r?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.FormTitleDescription,{onDoubleClick:()=>{!f&&(g(!0),setTimeout(()=>y.current?.focus(),0))},children:(0,i.jsx)(a.Field,{name:"description",children:({field:{value:e,onChange:n},fieldState:r})=>(0,i.jsxs)("div",{children:[p?(0,i.jsx)(l.TextArea,{ref:y,defaultValue:e,onBlur:()=>m(n,y.current?.value||""),onEnterPress:()=>m(n,y.current?.value||"")}):(0,i.jsx)(s.default,{ellipsis:{showTooltip:!0},children:e}),(0,i.jsx)(d.Feedback,{errors:r?.errors})]})})}),e.children]}):void 0})}},17810:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{FormWrapper:function(){return o},FormTitleDescription:function(){return a}});var i=r.ir(r("34394"));let o=i.default.div`
  box-sizing: border-box;
  width: 100%;
  display: flex;
  flex-direction: column;
  gap: 6px;
  background-color: rgba(0, 0, 0, 0.02);
  padding: 0 12px 12px;
`,a=i.default.div`
  color: var(--semi-color-text-2);
  font-size: 12px;
  line-height: 20px;
  padding: 0px 4px;
  word-break: break-all;
  white-space: break-spaces;
`},16037:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"FormHeader",{enumerable:!0,get:function(){return g}});var i=r("52393"),o=r("56144"),a=r("95281"),s=r("23103"),l=r("73543"),u=r("54394"),c=r("79242"),d=r("64481"),h=r("39341");let{Text:f}=s.Typography;function p(){let{node:e,deleteNode:n}=(0,o.useContext)(c.NodeRenderContext),r=(0,a.useClientContext)(),l=e.getNodeRegistry();return(0,i.jsxs)(s.Dropdown.Menu,{children:[(0,i.jsx)(s.Dropdown.Item,{onClick:()=>{r.playground.commandService.executeCommand(a.Command.Default.COPY,e)},disabled:!0===l.meta.copyDisable,children:"Copy"}),(0,i.jsx)(s.Dropdown.Item,{onClick:n,disabled:!!(l.canDelete?.(r,e)||l.meta.deleteDisable),children:"Delete"})]})}function g(){let{node:e,expanded:n,toggleExpand:r,readonly:g}=(0,o.useContext)(c.NodeRenderContext),[y,m]=(0,o.useState)(!1),b=(0,o.useRef)(null),_=(e,n)=>{e(n),m(!1)};return(0,i.jsxs)(h.Header,{children:[(0,d.getIcon)(e),(0,i.jsx)(h.Title,{onDoubleClick:()=>{!g&&(m(!0),setTimeout(()=>b.current?.focus(),0))},children:(0,i.jsx)(a.Field,{name:"title",children:({field:{value:e,onChange:n},fieldState:r})=>(0,i.jsxs)("div",{style:{height:24},children:[y?(0,i.jsx)(s.Input,{ref:b,defaultValue:e,onBlur:()=>_(n,b.current?.value||""),onEnterPress:()=>_(n,b.current?.value||"")}):(0,i.jsx)(f,{ellipsis:{showTooltip:!0},children:e}),(0,i.jsx)(u.Feedback,{errors:r?.errors})]})})}),(0,i.jsx)("span",{children:e.id}),(0,i.jsx)(s.Button,{type:"primary",icon:n?(0,i.jsx)(l.IconSmallTriangleDown,{}):(0,i.jsx)(l.IconSmallTriangleLeft,{}),size:"small",theme:"borderless",onClick:r}),g?void 0:(0,i.jsx)(h.Operators,{children:(0,i.jsx)(s.Dropdown,{trigger:"hover",position:"bottomRight",render:(0,i.jsx)(p,{}),children:(0,i.jsx)(s.IconButton,{color:"secondary",size:"small",theme:"borderless",icon:(0,i.jsx)(l.IconMore,{}),onClick:e=>e.stopPropagation()})})})]})}},39341:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{Header:function(){return o},Title:function(){return a},Icon:function(){return s},Operators:function(){return l}});var i=r.ir(r("34394"));let o=i.default.div`
  box-sizing: border-box;
  display: flex;
  justify-content: flex-start;
  align-items: center;
  width: 100%;
  column-gap: 8px;
  border-radius: 8px;

  background: linear-gradient(#f2f2ff 0%, rgba(0, 0, 0, 0.02) 100%);
  overflow: hidden;

  padding: 8px;
`,a=i.default.div`
  font-size: 20px;
  flex: 1;
  width: 0;
`,s=i.default.img`
  width: 24px;
  height: 24px;
  scale: 0.8;
  border-radius: 4px;
`,l=i.default.div`
  display: flex;
  align-items: center;
  column-gap: 4px;
`},64481:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"getIcon",{enumerable:!0,get:function(){return a}});var i=r("52393"),o=r("39341");let a=e=>{let n=e.getNodeRegistry().info?.icon;return n?(0,i.jsx)(o.Icon,{src:n}):null}},91611:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"FormInputs",{enumerable:!0,get:function(){return d}});var i=r("52393"),o=r("56144"),a=r("95281"),s=r("74009"),l=r("29332"),u=r("54394"),c=r("79242");function d(){let{readonly:e}=(0,o.useContext)(c.NodeRenderContext);return(0,i.jsx)(a.Field,{name:"inputs",children:({field:n})=>{let r=n.value?.required||[],o=n.value?.properties;if(!o)return(0,i.jsx)(i.Fragment,{});let c=Object.keys(o).map(n=>{let c=o[n];return(0,i.jsx)(a.Field,{name:`inputsValues.${n}`,defaultValue:c.default,children:({field:o,fieldState:a})=>(0,i.jsxs)(l.FormItem,{name:n,type:c.type,required:r.includes(n),children:[(0,i.jsx)(s.FxExpression,{value:o.value,onChange:o.onChange,disabled:e,hasError:Object.keys(a?.errors||{}).length>0}),(0,i.jsx)(u.Feedback,{errors:a?.errors})]})},n)});return(0,i.jsx)(i.Fragment,{children:c})}})}},29332:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"FormItem",{enumerable:!0,get:function(){return u}});var i=r("52393"),o=r("56144"),a=r("23103"),s=r("74583");r("93569");let{Text:l}=a.Typography;function u({children:e,name:n,required:r,description:u,type:c,labelWidth:d}){let h=(0,o.useCallback)(e=>(0,i.jsxs)("div",{style:{width:"0",display:"flex",flex:"1"},children:[(0,i.jsx)(l,{style:{width:"100%"},ellipsis:{showTooltip:!!e},children:n}),r&&(0,i.jsx)("span",{style:{color:"#f93920",paddingLeft:"2px"},children:"*"})]}),[]);return(0,i.jsxs)("div",{style:{fontSize:12,marginBottom:6,width:"100%",position:"relative",display:"flex",justifyContent:"center",alignItems:"center",gap:8},children:[(0,i.jsxs)("div",{style:{justifyContent:"center",alignItems:"center",color:"var(--semi-color-text-0)",width:d||118,position:"relative",display:"flex",columnGap:4,flexShrink:0},children:[(0,i.jsx)(s.TypeTag,{className:"form-item-type-tag",type:c}),u?(0,i.jsx)(a.Tooltip,{content:u,children:h()}):h(!0)]}),(0,i.jsx)("div",{style:{flexGrow:1,minWidth:0},children:e})]})}},35168:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"FormOutputs",{enumerable:!0,get:function(){return l}});var i=r("52393"),o=r("95281"),a=r("74583"),s=r("15305");function l(){return(0,i.jsx)(o.Field,{name:"outputs",children:({field:e})=>{let n=e.value?.properties;if(n){let e=Object.keys(n).map(e=>{let r=n[e];return(0,i.jsx)(a.TypeTag,{name:e,type:r.type},e)});return(0,i.jsx)(s.FormOutputsContainer,{children:e})}return(0,i.jsx)(i.Fragment,{})}})}},15305:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"FormOutputsContainer",{enumerable:!0,get:function(){return o}});var i=r.ir(r("34394"));let o=i.default.div`
  display: flex;
  gap: 6px;
  flex-wrap: wrap;
  border-top: 1px solid var(--semi-color-border);
  padding: 8px 0 0;
  width: 100%;

  :global(.semi-tag .semi-tag-content) {
    font-size: 10px;
  }
`},74009:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{FxIcon:function(){return s},FxExpression:function(){return l}});var i=r("52393");r("56144");var o=r("23103"),a=r("27099");function s(e){return(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 16 16",...e,children:(0,i.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M5.581 4.49A2.75 2.75 0 0 1 8.319 2h.931a.75.75 0 0 1 0 1.5h-.931a1.25 1.25 0 0 0-1.245 1.131l-.083.869H9.25a.75.75 0 0 1 0 1.5H6.849l-.43 4.51A2.75 2.75 0 0 1 3.681 14H2.75a.75.75 0 0 1 0-1.5h.931a1.25 1.25 0 0 0 1.245-1.132L5.342 7H3.75a.75.75 0 0 1 0-1.5h1.735zM9.22 9.22a.75.75 0 0 1 1.06 0l1.22 1.22l1.22-1.22a.75.75 0 1 1 1.06 1.06l-1.22 1.22l1.22 1.22a.75.75 0 1 1-1.06 1.06l-1.22-1.22l-1.22 1.22a.75.75 0 1 1-1.06-1.06l1.22-1.22l-1.22-1.22a.75.75 0 0 1 0-1.06",clipRule:"evenodd"})})}function l(e){let{value:n,onChange:r,disabled:l,literal:u,icon:c}=e;if(u)return(0,i.jsx)(o.Input,{value:n,onChange:r,disabled:l});let d="object"==typeof n&&"expression"===n.type;return(0,i.jsxs)("div",{style:{display:"flex"},children:[d?(0,i.jsx)(a.VariableSelector,{value:n.content,hasError:e.hasError,style:{flexGrow:1},onChange:e=>r({type:"expression",content:e}),disabled:l}):(0,i.jsx)(o.Input,{value:n,onChange:r,validateStatus:e.hasError?"error":void 0,disabled:l,style:{flexGrow:1,outline:e.hasError?"1px solid red":void 0}}),!l&&(c||(0,i.jsx)(o.Button,{theme:"borderless",icon:(0,i.jsx)(s,{}),onClick:()=>{d?r(n.content):r({content:n,type:"expression"})}}))]})}},25046:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"PropertiesEdit",{enumerable:!0,get:function(){return c}});var i=r("52393"),o=r("56144"),a=r("23103"),s=r("73543"),l=r("79242"),u=r("44594");let c=e=>{let n=e.value||{},{readonly:r}=(0,o.useContext)(l.NodeRenderContext),[c,d]=(0,o.useState)({key:"",value:{type:"string"}}),[h,f]=(0,o.useState)(),p=()=>{d({key:"",value:{type:"string"}}),f(!1)},g=(r,i,o)=>{let a={...n};o?(delete a[i],a[o]=r):a[i]=r,e.onChange(a)};return(0,i.jsxs)(i.Fragment,{children:[Object.keys(e.value||{}).map(o=>{let a=n[o]||{};return(0,i.jsx)(u.PropertyEdit,{propertyKey:o,useFx:e.useFx,value:a,disabled:r,onChange:g,onDelete:()=>{let r={...n};delete r[o],e.onChange(r)}},o)}),h&&(0,i.jsx)(u.PropertyEdit,{propertyKey:c.key,value:c.value,useFx:e.useFx,onChange:(e,r,i)=>{i?(!(i in n)&&g(e,r,i),p()):d({key:i||r,value:e})},onDelete:()=>{let r=c.key;setTimeout(()=>{let i={...n};delete i[r],e.onChange(i),p()},10)}}),!r&&(0,i.jsx)("div",{children:(0,i.jsx)(a.Button,{theme:"borderless",icon:(0,i.jsx)(s.IconPlus,{}),onClick:()=>f(!0),children:"Add"})})]})}},44594:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"PropertyEdit",{enumerable:!0,get:function(){return d}});var i=r("52393"),o=r("56144"),a=r("23103"),s=r("73543"),l=r("96846"),u=r("27099"),c=r("91876");let d=e=>{let{value:n,disabled:r}=e,[d,h]=(0,o.useState)(e.propertyKey),f=(r,i)=>{n[r]=i,e.onChange(n,e.propertyKey)};return(0,o.useLayoutEffect)(()=>{h(e.propertyKey)},[e.propertyKey]),(0,i.jsxs)(c.Row,{children:[(0,i.jsxs)(c.LeftColumn,{children:[(0,i.jsx)(l.TypeSelector,{value:n.type,disabled:r,style:{position:"absolute",top:6,left:4,zIndex:1},onChange:e=>f("type",e)}),(0,i.jsx)(a.Input,{value:d,disabled:r,onChange:e=>h(e.trim()),onBlur:()=>{""!==d?e.onChange(n,e.propertyKey,d):h(e.propertyKey)},style:{paddingLeft:26}})]}),e.useFx?(0,i.jsx)(u.VariableSelector,{value:n.default,disabled:r,onChange:e=>f("default",e),style:{flexGrow:1,height:32}}):(0,i.jsx)(a.Input,{disabled:r,value:n.default,onChange:e=>f("default",e)}),e.onDelete&&!r&&(0,i.jsx)(a.Button,{theme:"borderless",icon:(0,i.jsx)(s.IconCrossCircleStroked,{}),onClick:e.onDelete})]})}},91876:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{Row:function(){return o},LeftColumn:function(){return a}});var i=r.ir(r("34394"));let o=i.default.div`
  display: flex;
  justify-content: flex-start;
  align-items: center;
  font-size: 12px;
  margin-bottom: 6px;
`,a=i.default.div`
  width: 300px;
  margin-right: 10px;
  position: relative;
`},96846:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"TypeSelector",{enumerable:!0,get:function(){return l}});var i=r("52393");r("56144");var o=r("23103"),a=r("29726");let s=["object","boolean","array","string","integer","number"],l=e=>{let{value:n,disabled:r}=e,l=a.VariableTypeIcons[n];return(0,i.jsx)(o.Dropdown,{trigger:"hover",position:"bottomRight",disabled:r,render:(0,i.jsx)(o.Dropdown.Menu,{children:s.map(n=>(0,i.jsxs)(o.Dropdown.Item,{onClick:()=>{e.onChange?.(n)},children:[a.VariableTypeIcons[n],(0,i.jsx)("span",{style:{paddingLeft:"4px"},children:n})]},n))}),children:(0,i.jsx)(o.Tag,{color:"white",style:e.style,onClick:e=>{e.stopPropagation(),e.preventDefault()},children:l})})}},74583:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"TypeTag",{enumerable:!0,get:function(){return u}});var i=r("52393"),o=r.ir(r("34394")),a=r("23103"),s=r("29726");let l=o.default.div`
  display: flex;
  justify-content: center;
  align-items: center;
  column-gap: 6px;
`;function u({name:e,type:n,isArray:r,className:o}){let u=r?s.ArrayIcons[n]:s.VariableTypeIcons[n];return(0,i.jsx)(a.Tooltip,{content:(0,i.jsxs)(l,{children:[u," ",n]}),children:(0,i.jsxs)(a.Tag,{color:"white",className:o,style:{padding:4,maxWidth:450},children:[u,e&&(0,i.jsxs)("span",{style:{display:"inline-block",marginLeft:4,marginTop:-1,overflow:"hidden",textOverflow:"ellipsis"},children:[" ",e]})]})})}},73926:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"useEditorProps",{enumerable:!0,get:function(){return p}});var i=r("56144"),o=r("61400"),a=r("2203"),s=r("39848"),l=r("83757"),u=r("79265"),c=r("27958"),d=r("90968"),h=r("68587"),f=r("3138");function p(e,n){return(0,i.useMemo)(()=>({background:!0,readonly:!1,initialData:e,nodeRegistries:n,getNodeDefaultRegistry:e=>({type:e,meta:{defaultExpanded:!0},formMeta:d.defaultFormMeta}),canAddLine:(e,n,r)=>n.node!==r.node&&!0,canDeleteLine:(e,n,r,i)=>!0,async onDragLineEnd(e,n){let r=e.get(s.WorkflowNodePanelService),{fromPort:i,toPort:o,mousePos:a,line:l,originLine:u}=n;if(!u&&!!l)!o&&await r.call({fromPort:i,toPort:void 0,panelPosition:a,enableBuildLine:!0,panelProps:{enableNodePlaceholder:!0,enableScrollClose:!0}})},selectBox:{SelectorBoxPopover:h.SelectorBoxPopover},materials:{renderDefaultNode:f.BaseNode},nodeEngine:{enable:!0},variableEngine:{enable:!0},history:{enable:!0,enableChangeNode:!0},onContentChange(e,n){},shortcuts:u.shortcuts,onAllLayersRendered(e){e.document.fitView(!1),console.log("--- Playground rendered ---")},onDispose(){console.log("---- Playground Dispose ----")},plugins:()=>[(0,l.createFreeLinesPlugin)({renderInsideLine:f.LineAddButton}),(0,o.createMinimapPlugin)({disableLayer:!0,canvasStyle:{canvasWidth:182,canvasHeight:102,canvasPadding:50,canvasBackground:"rgba(242, 243, 245, 1)",canvasBorderRadius:10,viewportBackground:"rgba(255, 255, 255, 1)",viewportBorderRadius:4,viewportBorderColor:"rgba(6, 7, 9, 0.10)",viewportBorderWidth:1,viewportBorderDashLength:void 0,nodeColor:"rgba(0, 0, 0, 0.10)",nodeBorderRadius:2,nodeBorderWidth:.145,nodeBorderColor:"rgba(6, 7, 9, 0.10)",overlayColor:"rgba(255, 255, 255, 0.55)"},inactiveDebounceTime:1}),(0,c.createSyncVariablePlugin)({}),(0,a.createFreeSnapPlugin)({edgeColor:"#00B2B2",alignColor:"#00B2B2",edgeLineWidth:1,alignLineWidth:1,alignCrossWidth:8}),(0,s.createFreeNodePanelPlugin)({renderer:f.NodePanel})]}),[])}},53655:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{renderForm:function(){return c},formMeta:function(){return d}});var i=r("52393"),o=r("95281"),a=r.ir(r("24616")),s=r("23103"),l=r("56443"),u=r("89329");let c=({form:e})=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.FormHeader,{}),(0,i.jsxs)(l.FormContent,{children:[(0,i.jsx)("span",{children:"输入配置"}),(0,i.jsx)(o.Field,{name:"inputs.properties",render:({field:{value:e,onChange:n},fieldState:r})=>(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(l.PropertiesEdit,{value:e,onChange:n,useFx:!0})})}),(0,i.jsx)(s.Divider,{margin:"12px"}),(0,i.jsx)("span",{children:"代码配置"}),(0,i.jsx)(o.Field,{name:"language",render:({field:{value:e,onChange:n},fieldState:r})=>(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(a.default,{children:["language:",(0,i.jsx)(s.Select,{defaultValue:e,style:{width:200,marginLeft:"8px"}})]})})}),(0,i.jsx)(o.Field,{name:"code",render:({field:{value:e,onChange:n},fieldState:r})=>(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(u.CodeEditorField,{value:e,onChange:n})})}),(0,i.jsx)(s.Divider,{margin:"12px"}),(0,i.jsx)("span",{children:"输出配置"}),(0,i.jsx)(o.Field,{name:"outputs.properties",render:({field:{value:e,onChange:n},fieldState:r})=>(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(l.PropertiesEdit,{value:e,onChange:n})})}),(0,i.jsx)(l.FormOutputs,{})]})]}),d={render:c,validateTrigger:o.ValidateTrigger.onChange,validate:{title:({value:e})=>e?void 0:"Title is required"}}},31404:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ConditionInputs",{enumerable:!0,get:function(){return p}});var i=r("52393"),o=r("56144"),a=r("57254"),s=r("95281"),l=r("23103"),u=r("73543"),c=r("74009"),d=r("56443"),h=r("79242"),f=r("27249");function p(){let{readonly:e}=(0,o.useContext)(h.NodeRenderContext);return(0,i.jsx)(s.FieldArray,{name:"inputsValues.conditions",children:({field:n})=>(0,i.jsxs)(i.Fragment,{children:[n.map((r,o)=>(0,i.jsx)(s.Field,{name:r.name,children:({field:r,fieldState:a})=>(0,i.jsxs)(d.FormItem,{name:"if",type:"boolean",required:!0,labelWidth:40,children:[(0,i.jsx)(c.FxExpression,{value:r.value.value,onChange:e=>r.onChange({key:r.value.key,value:e}),icon:(0,i.jsx)(l.Button,{theme:"borderless",icon:(0,i.jsx)(u.IconCrossCircleStroked,{}),onClick:()=>n.delete(o)}),hasError:Object.keys(a?.errors||{}).length>0,disabled:e}),(0,i.jsx)(d.Feedback,{errors:a?.errors,invalid:a?.invalid}),(0,i.jsx)(f.ConditionPort,{"data-port-id":r.value.key,"data-port-type":"output"})]})},r.name)),!e&&(0,i.jsx)("div",{children:(0,i.jsx)(l.Button,{theme:"borderless",icon:(0,i.jsx)(u.IconPlus,{}),onClick:()=>n.append({key:`if_${(0,a.nanoid)(6)}`,value:{type:"expression",content:""}}),children:"Add"})})]})})}},27249:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ConditionPort",{enumerable:!0,get:function(){return o}});var i=r.ir(r("34394"));let o=i.default.div`
  position: absolute;
  right: -12px;
  top: 50%;
`},50859:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{renderForm:function(){return l},formMeta:function(){return u}});var i=r("52393"),o=r("95281"),a=r("56443"),s=r("31404");let l=({form:e})=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.FormHeader,{}),(0,i.jsxs)(a.FormContent,{children:[(0,i.jsx)(s.ConditionInputs,{}),(0,i.jsx)(a.FormOutputs,{})]})]}),u={render:l,validateTrigger:o.ValidateTrigger.onChange,validate:{title:({value:e})=>e?void 0:"Title is required","inputsValues.conditions.*":({value:e})=>{if(!e?.value?.content)return"Condition is required"}}}},90968:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{renderForm:function(){return s},defaultFormMeta:function(){return l}});var i=r("52393"),o=r("95281"),a=r("56443");let s=({form:e})=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.FormHeader,{}),(0,i.jsxs)(a.FormContent,{children:[(0,i.jsx)(a.FormInputs,{}),(0,i.jsx)(a.FormOutputs,{})]})]}),l={render:s,validateTrigger:o.ValidateTrigger.onChange,validate:{title:({value:e})=>e?void 0:"Title is required","inputsValues.*":({value:e,context:n,formValues:r,name:i})=>{let o=i.replace(/^inputsValues\./,""),a=r.inputs?.required||[];if(a.includes(o)&&(""===e||void 0===e))return`${o} is required`}}}},45411:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{renderForm:function(){return s},formMeta:function(){return l}});var i=r("52393"),o=r("95281"),a=r("56443");let s=({form:e})=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.FormHeader,{}),(0,i.jsxs)(a.FormContent,{children:[(0,i.jsx)(o.Field,{name:"outputs.properties",render:({field:{value:e,onChange:n},fieldState:r})=>(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(a.PropertiesEdit,{value:e,onChange:n,useFx:!0})})}),(0,i.jsx)(a.FormOutputs,{})]})]}),l={render:s,validateTrigger:o.ValidateTrigger.onChange,validate:{title:({value:e})=>e?void 0:"Title is required"}}},36521:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{renderForm:function(){return l},formMeta:function(){return u}});var i=r("52393"),o=r("56144"),a=r("95281"),s=r("23103");let l=({form:e})=>{let n=(0,o.useRef)(null),[r,l]=(0,o.useState)("#fefbee"),u=()=>{l("#fdf3eb")},c=()=>{l("#fefbee")};return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(a.Field,{name:"description",render:({field:{value:e,onChange:o},fieldState:a})=>(0,i.jsx)(s.TextArea,{ref:n,placeholder:"输入要添加的注释...",value:e||"",autosize:{minRows:1,maxRows:10},showClear:!0,onChange:(e,n)=>{o(e)},onClick:u,onBlur:c,style:{width:"100%",height:"300px",background:r}})})})},u={render:l,validateTrigger:a.ValidateTrigger.onChange,validate:{description:({value:e})=>e?void 0:"Description is required"}}},71882:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{renderForm:function(){return s},formMeta:function(){return l}});var i=r("52393"),o=r("95281"),a=r("56443");let s=({form:e})=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.FormHeader,{}),(0,i.jsxs)(a.FormContent,{children:[(0,i.jsx)(o.Field,{name:"outputs.properties",render:({field:{value:e,onChange:n},fieldState:r})=>(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(a.PropertiesEdit,{value:e,onChange:n})})}),(0,i.jsx)(a.FormOutputs,{})]})]}),l={render:s,validateTrigger:o.ValidateTrigger.onChange,validate:{title:({value:e})=>e?void 0:"Title is required"}}},29726:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{VariableTypeIcons:function(){return o},ArrayIcons:function(){return a}});var i=r("52393");let o={custom:(0,i.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:"false","aria-hidden":"true",children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.1 18L4.5032 20.1702C4.24999 21.0909 4.94281 22 5.89773 22C6.54881 22 7.11964 21.565 7.29227 20.9372L8.1 18H12.1L11.5032 20.1702C11.25 21.0909 11.9428 22 12.8977 22C13.5488 22 14.1196 21.565 14.2923 20.9372L15.1 18H19.5C20.3284 18 21 17.3284 21 16.5C21 15.6716 20.3284 15 19.5 15H15.925L17.575 9H20.5C21.3284 9 22 8.32843 22 7.5C22 6.67157 21.3284 6 20.5 6H18.4L18.9968 3.8298C19.25 2.90906 18.5572 2 17.6023 2C16.9512 2 16.3804 2.43504 16.2077 3.06281L15.4 6H11.4L11.9968 3.8298C12.25 2.90906 11.5572 2 10.6023 2C9.95119 2 9.38036 2.43504 9.20773 3.06281L8.4 6H4.5C3.67157 6 3 6.67157 3 7.5C3 8.32843 3.67157 9 4.5 9H7.575L5.925 15H3.5C2.67157 15 2 15.6716 2 16.5C2 17.3284 2.67157 18 3.5 18H5.1ZM8.925 15L10.575 9H14.575L12.925 15H8.925Z",fill:"currentColor"})}),object:(0,i.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{d:"M5.33893 1.5835C5.66613 1.5835 5.93137 1.88142 5.93137 2.20862C5.93137 2.53582 5.66613 2.76838 5.33893 2.76838H4.9099C4.34717 2.76838 4.08062 3.07557 4.08062 3.71921V6.58633C4.08062 7.30996 3.80723 7.84734 3.26798 8.19105C3.11426 8.28902 3.10884 8.55273 3.26068 8.65359C3.80476 9.01503 4.08062 9.53994 4.08062 10.2434V13.1251C4.08062 13.7395 4.34717 14.0613 4.9099 14.0613H5.33893C5.66613 14.0613 5.93137 14.3435 5.93137 14.6707C5.93137 14.9979 5.66613 15.2462 5.33893 15.2462H4.64335C3.99177 15.2462 3.48828 15.0268 3.13287 14.6172C2.80708 14.2369 2.64419 13.7103 2.64419 13.0666V10.3165C2.64419 9.8923 2.55534 9.58511 2.37764 9.39494C2.26816 9.27135 1.80618 9.17938 1.38154 9.11602C1.02726 9.06315 0.759057 8.76744 0.765747 8.4093C0.772379 8.0543 1.03439 7.7566 1.38545 7.70346C1.80778 7.63952 2.26906 7.54968 2.37764 7.43477C2.55534 7.22997 2.64419 6.92278 2.64419 6.51319V3.77772C2.64419 3.11945 2.80708 2.59284 3.13287 2.21251C3.48828 1.78829 3.99177 1.5835 4.64335 1.5835H5.33893Z",fill:"currentColor"}),(0,i.jsx)("path",{d:"M10.962 15.2463C10.6348 15.2463 10.3696 14.9483 10.3696 14.6211C10.3696 14.2939 10.6348 14.0614 10.962 14.0614H11.391C11.9538 14.0614 12.2203 13.7542 12.2203 13.1105V10.2434C12.2203 9.51979 12.4937 8.98241 13.033 8.6387C13.1867 8.54073 13.1921 8.27703 13.0403 8.17616C12.4962 7.81472 12.2203 7.28982 12.2203 6.58638V3.70463C12.2203 3.09024 11.9538 2.76842 11.391 2.76842L10.962 2.76842C10.6348 2.76842 10.3696 2.48627 10.3696 2.15907C10.3696 1.83188 10.6348 1.58354 10.962 1.58354L11.6576 1.58354C12.3092 1.58354 12.8127 1.80296 13.1681 2.21255C13.4939 2.59289 13.6568 3.1195 13.6568 3.76314V6.51324C13.6568 6.93745 13.7456 7.24464 13.9233 7.43481C14.03 7.5553 14.4328 7.64858 14.8186 7.71393C15.1718 7.77376 15.4401 8.06977 15.4334 8.42791C15.4268 8.78291 15.1646 9.08018 14.814 9.13633C14.4306 9.19774 14.0291 9.28303 13.9233 9.39499C13.7456 9.59978 13.6568 9.90697 13.6568 10.3166V13.052C13.6568 13.7103 13.4939 14.2369 13.1681 14.6172C12.8127 15.0415 12.3092 15.2463 11.6576 15.2463H10.962Z",fill:"currentColor"})]}),boolean:(0,i.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.668 4.66683H5.33463C3.49369 4.66683 2.0013 6.15921 2.0013 8.00016C2.0013 9.84111 3.49369 11.3335 5.33463 11.3335H10.668C12.5089 11.3335 14.0013 9.84111 14.0013 8.00016C14.0013 6.15921 12.5089 4.66683 10.668 4.66683ZM5.33463 3.3335C2.75731 3.3335 0.667969 5.42283 0.667969 8.00016C0.667969 10.5775 2.75731 12.6668 5.33463 12.6668H10.668C13.2453 12.6668 15.3346 10.5775 15.3346 8.00016C15.3346 5.42283 13.2453 3.3335 10.668 3.3335H5.33463Z",fill:"currentColor"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.66797 8.00016C8.66797 6.89559 9.5634 6.00016 10.668 6.00016C11.7725 6.00016 12.668 6.89559 12.668 8.00016C12.668 9.10473 11.7725 10.0002 10.668 10.0002C9.5634 10.0002 8.66797 9.10473 8.66797 8.00016ZM10.668 7.3335C10.2998 7.3335 10.0013 7.63197 10.0013 8.00016C10.0013 8.36835 10.2998 8.66683 10.668 8.66683C11.0362 8.66683 11.3346 8.36835 11.3346 8.00016C11.3346 7.63197 11.0362 7.3335 10.668 7.3335Z",fill:"currentColor"})]}),string:(0,i.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{d:"M9.3342 3.33321C8.96601 3.33321 8.66753 3.63169 8.66753 3.99988C8.66753 4.36807 8.96601 4.66655 9.3342 4.66655H14.6675C15.0357 4.66655 15.3342 4.36807 15.3342 3.99988C15.3342 3.63169 15.0357 3.33321 14.6675 3.33321H9.3342Z",fill:"currentColor"}),(0,i.jsx)("path",{d:"M10.0009 7.99988C10.0009 7.63169 10.2993 7.33321 10.6675 7.33321H14.6675C15.0357 7.33321 15.3342 7.63169 15.3342 7.99988C15.3342 8.36807 15.0357 8.66655 14.6675 8.66655H10.6675C10.2993 8.66655 10.0009 8.36807 10.0009 7.99988Z",fill:"currentColor"}),(0,i.jsx)("path",{d:"M12.0009 11.3332C11.6327 11.3332 11.3342 11.6317 11.3342 11.9999C11.3342 12.3681 11.6327 12.6665 12.0009 12.6665H14.6675C15.0357 12.6665 15.3342 12.3681 15.3342 11.9999C15.3342 11.6317 15.0357 11.3332 14.6675 11.3332H12.0009Z",fill:"currentColor"}),(0,i.jsx)("path",{d:"M9.86659 14.1482L8.23444 10.1844H3.18136C3.13868 10.1844 3.09685 10.1808 3.05616 10.1738L1.66589 14.1129C1.53049 14.4965 1.10971 14.6978 0.726058 14.5624C0.342408 14.427 0.141166 14.0062 0.276572 13.6225L4.37566 2.00848C4.71323 1.05202 6.05321 1.01763 6.4394 1.95552L11.2289 13.5872C11.3838 13.9634 11.2044 14.394 10.8282 14.5489C10.452 14.7038 10.0215 14.5244 9.86659 14.1482ZM5.44412 3.40791L3.57241 8.71109H7.62778L5.44412 3.40791Z",fill:"currentColor"})]}),integer:(0,i.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{d:"M15.132 11.4601C15.644 11.0121 15.9 10.3921 15.9 9.60007C15.9 8.60807 15.5 7.93607 14.7 7.58407C15.412 7.23207 15.768 6.62407 15.768 5.76007C15.768 5.05607 15.536 4.48007 15.072 4.03207C14.608 3.59207 14.012 3.37207 13.284 3.37207C12.588 3.37207 12.008 3.58007 11.544 3.99607C11.064 4.42007 10.808 4.98807 10.776 5.70007H12C12.064 4.88407 12.492 4.47607 13.284 4.47607C14.124 4.47607 14.544 4.91607 14.544 5.79607C14.544 6.66007 14.112 7.09207 13.248 7.09207H13.044V8.16007H13.248C14.2 8.16007 14.676 8.62807 14.676 9.56407C14.676 10.5081 14.212 10.9801 13.284 10.9801C12.9 10.9801 12.584 10.8761 12.336 10.6681C12.064 10.4441 11.916 10.1161 11.892 9.68407H10.668C10.692 10.4761 10.964 11.0841 11.484 11.5081C11.948 11.8921 12.548 12.0841 13.284 12.0841C14.036 12.0841 14.652 11.8761 15.132 11.4601Z",fill:"currentColor"}),(0,i.jsx)("path",{d:"M4.46875 12.0003V10.9083L7.75675 6.91228C8.06075 6.54428 8.21275 6.16428 8.21275 5.77228C8.21275 4.90828 7.79675 4.47628 6.96475 4.47628C6.60475 4.47628 6.31275 4.57628 6.08875 4.77628C5.83275 5.00828 5.70475 5.34828 5.70475 5.79628H4.48075C4.48075 5.07628 4.71275 4.49228 5.17675 4.04428C5.64075 3.60428 6.23675 3.38428 6.96475 3.38428C7.70075 3.38428 8.29675 3.60028 8.75275 4.03228C9.20875 4.47228 9.43675 5.05628 9.43675 5.78428C9.43675 6.13628 9.36875 6.45628 9.23275 6.74428C9.12075 6.97628 8.92075 7.27228 8.63275 7.63228L5.95675 10.9083H9.43675V12.0003H4.46875Z",fill:"currentColor"}),(0,i.jsx)("path",{d:"M1.668 12.0001V4.78805L0 6.25205V4.89605L1.668 3.45605H2.892V12.0001H1.668Z",fill:"currentColor"})]}),number:(0,i.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{d:"M3.44151 5.3068C3.44151 3.83404 4.71542 2.64014 6.18818 2.64014C7.66094 2.64014 8.93484 3.83404 8.93484 5.3068V10.6135C8.93484 12.0862 7.66094 13.2801 6.18818 13.2801C4.71542 13.2801 3.44151 12.0862 3.44151 10.6135V5.3068ZM7.60151 5.3068C7.60151 4.57042 6.92456 3.97347 6.18818 3.97347C5.4518 3.97347 4.77484 4.57042 4.77484 5.3068V10.6135C4.77484 11.3498 5.4518 11.9468 6.18818 11.9468C6.92456 11.9468 7.60151 11.3498 7.60151 10.6135V5.3068Z",fill:"currentColor"}),(0,i.jsx)("path",{d:"M12.9882 2.64014C11.5154 2.64014 10.2415 3.83404 10.2415 5.3068V10.6135C10.2415 12.0862 11.5154 13.2801 12.9882 13.2801C14.4609 13.2801 15.7348 12.0862 15.7348 10.6135V5.3068C15.7348 3.83404 14.4609 2.64014 12.9882 2.64014ZM14.4015 10.6135C14.4015 11.3498 13.7246 11.9468 12.9882 11.9468C12.2518 11.9468 11.5748 11.3498 11.5748 10.6135V5.3068C11.5748 4.57042 12.2518 3.97347 12.9882 3.97347C13.7246 3.97347 14.4015 4.57042 14.4015 5.3068V10.6135Z",fill:"currentColor"}),(0,i.jsx)("path",{d:"M1.21484 13.2001C1.76713 13.2001 2.21484 12.7524 2.21484 12.2001C2.21484 11.6479 1.76713 11.2001 1.21484 11.2001C0.662559 11.2001 0.214844 11.6479 0.214844 12.2001C0.214844 12.7524 0.662559 13.2001 1.21484 13.2001Z",fill:"currentColor"})]}),array:(0,i.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{d:"M5.23759 1.00342H2.00391V14.997H5.23759V13.6251H3.35127V2.37534H5.23759V1.00342Z",fill:"currentColor"}),(0,i.jsx)("path",{d:"M10.7624 1.00342H13.9961V14.997H10.7624V13.6251H12.6487V2.37534H10.7624V1.00342Z",fill:"currentColor"})]}),stream:(0,i.jsx)("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",children:(0,i.jsx)("path",{d:"M879.674 544.51l-158.254-0.221c-8.534 2.287-17.305-2.776-19.588-11.307l-23.862-75.877-74.742 350.891c0 0-1.523 18.507-11.518 18.507s-26.9 0.281-26.9 0.281c-8.259 2.213-16.748-2.687-18.961-10.949l-92.741-457.648-70.305 330.634c-2.261 8.291-11.94 15.206-20.385 12.986l-24.876 0.339c-8.723 2.293-17.685-2.789-20.023-11.349L270.629 544.51 143.993 544.51c-8.831 0-15.993-7.159-15.993-15.993l0-31.986c0-8.831 7.162-15.993 15.993-15.993l157.429-0.516c9.565-0.304 17.685 0.788 20.023 9.351l24.386 76.092 68.642-358.907c0 0 3.4-10.894 14.397-10.894 10.994 0 34.107-0.448 34.107-0.448 8.262-2.213 16.751 2.687 18.965 10.949l91.912 454.126 67.948-326.182c2.213-8.262 8.707-15.161 16.965-12.948l27.316-0.333c8.531-2.287 17.301 2.776 19.588 11.31l46.665 148.4 127.337 0c8.835 0 15.993 7.162 15.993 15.993l0 31.986C895.667 537.352 888.508 544.51 879.674 544.51z",fill:"currentColor"})}),map:(0,i.jsxs)("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",children:[(0,i.jsx)("path",{d:"M877.860571 938.642286h-645.851428c-27.574857 0-54.052571-11.337143-73.508572-31.744a110.957714 110.957714 0 0 1-30.500571-76.8V193.828571c0-28.745143 10.971429-56.32 30.500571-76.726857a101.888 101.888 0 0 1 73.508572-31.817143h574.171428c27.501714 0 53.979429 11.337143 73.508572 31.744 19.529143 20.333714 30.500571 48.054857 30.500571 76.8v522.020572a34.157714 34.157714 0 0 1-6.948571 22.820571c-37.156571 19.382857-57.636571 39.350857-57.636572 72.630857 0 39.716571 19.894857 50.029714 57.636572 72.777143a34.816 34.816 0 0 1-8.045714 49.298286 32.256 32.256 0 0 1-17.334858 5.193143z m-32.256-254.537143V193.828571a40.228571 40.228571 0 0 0-39.497142-41.179428H232.009143a40.301714 40.301714 0 0 0-39.497143 41.252571V699.245714c17.773714-9.874286 37.449143-14.994286 57.417143-14.921143h595.675428v-0.073142z m-595.675428 187.245714h566.198857c-22.893714-11.190857-27.940571-39.497143-28.013714-59.977143 0-20.260571 3.218286-43.885714 28.013714-59.904h-566.125714c-31.670857 0-57.417143 26.843429-57.417143 59.977143 0 33.060571 25.746286 59.904 57.344 59.904z",fill:"currentColor"}),(0,i.jsx)("path",{d:"M320 128m32.036571 0l-0.073142 0q32.036571 0 32.036571 32.036571l0 511.926858q0 32.036571-32.036571 32.036571l0.073142 0q-32.036571 0-32.036571-32.036571l0-511.926858q0-32.036571 32.036571-32.036571Z",fill:"currentColor"})]})},a={object:(0,i.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 1.58105H3.6139V2.87326H1.36702V13.1264H3.6139V14.4186H0V1.58105ZM3.41656 13.3264V13.3266H1.17155V13.3264H3.41656ZM0.197344 14.2186H0.199219V1.78125H3.41656V1.78105H0.197344V14.2186ZM12.3861 1.58105H16V14.4186H12.3861V13.1264H14.633V2.87326H12.3861V1.58105ZM12.5834 2.67326V1.78105H15.8027V1.78125H12.5853V2.67326H12.5834ZM12.5853 13.3266V14.2186H12.5834V13.3264H14.8303V2.67345H14.8322V13.3266H12.5853ZM3.82031 5.9091C3.82031 5.18535 4.40703 4.59863 5.13078 4.59863C5.85453 4.59863 6.44124 5.18535 6.44124 5.9091C6.44124 6.56485 5.9596 7.1081 5.33078 7.2044V8.70018H5.32877C5.32982 8.75093 5.33078 8.80912 5.33078 8.87034V9.72111C5.33078 10.0195 5.57268 10.2614 5.87109 10.2614H6.24124C6.55613 10.2614 6.8114 10.5167 6.8114 10.8316C6.8114 11.1465 6.55613 11.4017 6.24124 11.4017H5.87109C4.94291 11.4017 4.19047 10.6493 4.19047 9.72111V6.82186C3.96158 6.58607 3.82031 6.26397 3.82031 5.9091ZM7.33679 5.9091C7.33679 5.59421 7.59205 5.33894 7.90694 5.33894H11.6085C11.9234 5.33894 12.1786 5.59421 12.1786 5.9091C12.1786 6.22399 11.9234 6.47925 11.6085 6.47925H7.90694C7.59205 6.47925 7.33679 6.22399 7.33679 5.9091ZM7.33679 9.86846C7.33679 9.55357 7.59205 9.2983 7.90694 9.2983H11.6085C11.9234 9.2983 12.1786 9.55357 12.1786 9.86846C12.1786 10.1833 11.9234 10.4386 11.6085 10.4386H7.90694C7.59205 10.4386 7.33679 10.1833 7.33679 9.86846Z",fill:"currentColor"})}),boolean:(0,i.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 1.58105H3.6139V2.87326H1.36702V13.1264H3.6139V14.4186H0V1.58105ZM3.41656 13.3264V13.3266H1.17155V13.3264H3.41656ZM0.197344 14.2186H0.199219V1.78125H3.41656V1.78105H0.197344V14.2186ZM12.3861 1.58105H16V14.4186H12.3861V13.1264H14.633V2.87326H12.3861V1.58105ZM12.5834 2.67326V1.78105H15.8027V1.78125H12.5853V2.67326H12.5834ZM12.5853 13.3266V14.2186H12.5834V13.3264H14.8303V2.67345H14.8322V13.3266H12.5853ZM2.75 7.99993C2.75 6.14518 4.25358 4.6416 6.10833 4.6416H9.775C11.6298 4.6416 13.1333 6.14518 13.1333 7.99993C13.1333 9.85469 11.6298 11.3583 9.775 11.3583H6.10833C4.25358 11.3583 2.75 9.85469 2.75 7.99993ZM6.10833 5.85827C4.92552 5.85827 3.96667 6.81713 3.96667 7.99993C3.96667 9.18274 4.92552 10.1416 6.10833 10.1416H9.775C10.9578 10.1416 11.9167 9.18274 11.9167 7.99993C11.9167 6.81713 10.9578 5.85827 9.775 5.85827H6.10833ZM8.25 7.99993C8.25 7.1577 8.93277 6.47493 9.775 6.47493C10.6172 6.47493 11.3 7.1577 11.3 7.99993C11.3 8.84217 10.6172 9.52493 9.775 9.52493C8.93277 9.52493 8.25 8.84217 8.25 7.99993ZM9.775 7.6916C9.60471 7.6916 9.46667 7.82965 9.46667 7.99993C9.46667 8.17022 9.60471 8.30827 9.775 8.30827C9.94529 8.30827 10.0833 8.17022 10.0833 7.99993C10.0833 7.82965 9.94529 7.6916 9.775 7.6916Z",fill:"currentColor"})}),string:(0,i.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 1.58105H3.6139V2.87326H1.36702V13.1264H3.6139V14.4186H0V1.58105ZM3.41656 13.3264V13.3266H1.17155V13.3264H3.41656ZM0.197344 14.2186H0.199219V1.78125H3.41656V1.78105H0.197344V14.2186ZM12.3861 1.58105H16V14.4186H12.3861V13.1264H14.633V2.87326H12.3861V1.58105ZM12.5834 2.67326V1.78105H15.8027V1.78125H12.5853V2.67326H12.5834ZM12.5853 13.3266V14.2186H12.5834V13.3264H14.8303V2.67345H14.8322V13.3266H12.5853ZM5.23701 4.07158C5.50364 3.3161 6.56205 3.28894 6.86709 4.02974L10 11.6383C10.1329 11.9609 9.979 12.3302 9.65631 12.4631C9.33363 12.596 8.96434 12.4421 8.83147 12.1194L7.8021 9.61951H4.61903L3.7474 12.0891C3.63126 12.4182 3.27034 12.5908 2.94127 12.4747C2.6122 12.3585 2.43958 11.9976 2.55573 11.6685L5.23701 4.07158ZM6.08814 5.45704L5.06505 8.35579H7.28174L6.08814 5.45704ZM8.81938 6.07534C8.81938 5.75166 9.08177 5.48926 9.40545 5.48926H12.8941C13.2178 5.48926 13.4802 5.75166 13.4802 6.07534C13.4802 6.39902 13.2178 6.66142 12.8941 6.66142H9.40545C9.08177 6.66142 8.81938 6.39902 8.81938 6.07534ZM10.2668 9.69181C10.2668 9.36812 10.5292 9.10573 10.8529 9.10573H12.8941C13.2178 9.10573 13.4802 9.36812 13.4802 9.69181C13.4802 10.0155 13.2178 10.2779 12.8941 10.2779H10.8529C10.5292 10.2779 10.2668 10.0155 10.2668 9.69181Z",fill:"currentColor"})}),integer:(0,i.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 1.58105H3.6139V2.87326H1.36702V13.1264H3.6139V14.4186H0V1.58105ZM3.41656 13.3264V13.3266H1.17155V13.3264H3.41656ZM0.197344 14.2186H0.199219V1.78125H3.41656V1.78105H0.197344V14.2186ZM12.3861 1.58105H16V14.4186H12.3861V13.1264H14.633V2.87326H12.3861V1.58105ZM12.5834 2.67326V1.78105H15.8027V1.78125H12.5853V2.67326H12.5834ZM12.5853 13.3266V14.2186H12.5834V13.3264H14.8303V2.67345H14.8322V13.3266H12.5853ZM10.3614 5.22374C10.7161 4.90585 11.1581 4.75 11.6762 4.75C12.2173 4.75 12.6723 4.91467 13.0281 5.25207L13.0291 5.253C13.3852 5.59688 13.561 6.03946 13.561 6.56767C13.561 6.89 13.4945 7.17448 13.3539 7.41445C13.2572 7.57972 13.1279 7.71948 12.9685 7.83428C13.1575 7.95643 13.3099 8.11182 13.4225 8.30109C13.5793 8.5644 13.6531 8.88311 13.6531 9.24936C13.6531 9.83787 13.4612 10.3151 13.0656 10.6612C12.6982 10.9795 12.2305 11.1341 11.6762 11.1341C11.1356 11.1341 10.6805 10.9925 10.324 10.6977C9.92124 10.3691 9.71723 9.90026 9.69942 9.31256L9.69473 9.15802H10.846L10.8539 9.2997C10.8689 9.5698 10.9591 9.75553 11.1096 9.87941L11.1106 9.88027C11.2519 9.99882 11.4365 10.0631 11.6762 10.0631C11.9765 10.0631 12.1743 9.98692 12.2984 9.86071C12.4229 9.73404 12.4984 9.53136 12.4984 9.22422C12.4984 8.92116 12.4215 8.72127 12.2939 8.59581C12.1658 8.46989 11.961 8.39373 11.6511 8.39373H11.3586V7.34788H11.6511C11.9297 7.34788 12.111 7.27834 12.2238 7.16555C12.3366 7.05276 12.4062 6.87138 12.4062 6.59281C12.4062 6.30696 12.3378 6.12041 12.2277 6.00501C12.1188 5.89092 11.9446 5.82098 11.6762 5.82098C11.4248 5.82098 11.2539 5.88537 11.1407 5.99325C11.0268 6.10185 10.9497 6.27522 10.9291 6.5375L10.9183 6.67577H9.76788L9.77492 6.51904C9.79886 5.98644 9.99237 5.54989 10.3614 5.22374ZM5.91032 5.26037C6.26612 4.92297 6.72112 4.7583 7.26219 4.7583C7.80751 4.7583 8.26297 4.91938 8.61401 5.25194L8.61501 5.25289C8.96719 5.59272 9.13852 6.04185 9.13852 6.58435C9.13852 6.84997 9.08709 7.09565 8.9817 7.31883L8.98114 7.31999C8.89563 7.49712 8.74775 7.71415 8.54418 7.96862L8.54322 7.96981L6.87446 10.0127H9.13852V11.0753H5.36909V10.1089L7.69946 7.27679C7.89456 7.04062 7.98374 6.80773 7.98374 6.57597C7.98374 6.29602 7.91626 6.11385 7.8078 6.00122C7.70036 5.88964 7.52811 5.8209 7.26219 5.8209C7.04017 5.8209 6.87439 5.88173 6.75075 5.99193C6.61227 6.11766 6.53226 6.30918 6.53226 6.59273V6.74273H5.37747V6.59273C5.37747 6.05443 5.55248 5.60586 5.90934 5.2613L5.91032 5.26037ZM3.50907 4.80865H4.56964V11.0754H3.41486V6.2201L2.25 7.24249V5.89561L3.50907 4.80865Z",fill:"currentColor"})}),number:(0,i.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.6139 1.58154H0V14.4191H3.6139V13.1269H1.36702V2.87375H3.6139V1.58154ZM3.41656 13.3271V13.3269H1.17155V13.3271H3.41656ZM0.199219 14.2191H0.197344V1.78154H3.41656V1.78174H0.199219V14.2191ZM16 1.58154H12.3861V2.87375H14.633V13.1269H12.3861V14.4191H16V1.58154ZM12.5834 1.78154V2.67375H12.5853V1.78174H15.8027V1.78154H12.5834ZM12.5853 14.2191V13.3271H14.8322V2.67394H14.8303V13.3269H12.5834V14.2191H12.5853ZM6.86771 4.5C5.87019 4.5 5.00104 5.30767 5.00104 6.31667V9.63333C5.00104 10.6423 5.87019 11.45 6.86771 11.45C7.86523 11.45 8.73438 10.6423 8.73438 9.63333V6.31667C8.73438 5.30767 7.86523 4.5 6.86771 4.5ZM11.1177 4.5C10.1202 4.5 9.25104 5.30767 9.25104 6.31667V9.63333C9.25104 10.6423 10.1202 11.45 11.1177 11.45C12.1152 11.45 12.9844 10.6423 12.9844 9.63333V6.31667C12.9844 5.30767 12.1152 4.5 11.1177 4.5ZM6.13438 6.31667C6.13438 5.9503 6.47884 5.63333 6.86771 5.63333C7.25657 5.63333 7.60104 5.9503 7.60104 6.31667V9.63333C7.60104 9.9997 7.25657 10.3167 6.86771 10.3167C6.47884 10.3167 6.13438 9.9997 6.13438 9.63333V6.31667ZM10.3844 6.31667C10.3844 5.9503 10.7288 5.63333 11.1177 5.63333C11.5066 5.63333 11.851 5.9503 11.851 6.31667V9.63333C11.851 9.9997 11.5066 10.3167 11.1177 10.3167C10.7288 10.3167 10.3844 9.9997 10.3844 9.63333V6.31667ZM3.75938 9.85C3.33135 9.85 2.98438 10.197 2.98438 10.625C2.98438 11.053 3.33135 11.4 3.75938 11.4C4.1874 11.4 4.53438 11.053 4.53438 10.625C4.53438 10.197 4.1874 9.85 3.75938 9.85Z",fill:"currentColor"})})}},27099:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"VariableSelector",{enumerable:!0,get:function(){return s}});var i=r("52393");r("56144");var o=r("23103"),a=r("23928");let s=({value:e,onChange:n,options:r,disabled:s,style:l,hasError:u})=>{let{size:c="small",emptyContent:d,targetSchemas:h,strongEqualToTargetSchema:f}=r||{},p=(0,a.useVariableTree)({targetSchemas:h,strongEqual:f,ignoreReadonly:!0,getTreeData:({variable:e,key:n,icon:r,children:o,disabled:a,parentFields:s})=>({key:n,value:n,icon:(0,i.jsx)("span",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginRight:4},children:r}),label:e.meta?.expressionTitle||e.key||"",disabled:a,labelPath:[...s,e].map(e=>e.meta?.expressionTitle||e.key||"").join("."),children:o})});return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(o.TreeSelect,{dropdownMatchSelectWidth:!1,disabled:s,treeData:p,size:c,value:e,style:{...l,outline:u?"1px solid red":void 0},validateStatus:u?"error":void 0,onChange:e=>{n(e)},showClear:!0,placeholder:"Select Variable...",emptyContent:d?d:"nodata"})})}},57673:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"useAddNode",{enumerable:!0,get:function(){return u}});var i=r("56144"),o=r("39848"),a=r("95281");let s=()=>{let e=(0,a.usePlayground)();return(0,i.useCallback)(n=>e.config.getPosFromMouseEvent({clientX:n.left+64,clientY:n.top-7}),[e])},l=()=>{let e=(0,a.useService)(a.WorkflowSelectService);return(0,i.useCallback)(n=>{n&&e.selectNode(n)},[e])},u=()=>{let e=(0,a.useService)(a.WorkflowDocument),n=(0,a.useService)(o.WorkflowNodePanelService),r=(0,a.usePlayground)(),u=s(),c=l();return(0,i.useCallback)(async i=>{let o=u(i);await n.call({panelPosition:o,customPosition:({selectPosition:n})=>{let i=150/r.config.zoom,s=o.x+180+i,l=(0,a.getAntiOverlapPosition)(e,{x:s,y:n.y});return{x:l.x,y:l.y}},enableSelectPosition:!0,enableMultiAdd:!0,afterAddNode:c})},[u,n,r.config.zoom,e,c])}},3138:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),r.es(r("6931"),n),r.es(r("83952"),n),r.es(r("98220"),n)},23146:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"useVisible",{enumerable:!0,get:function(){return o}});var i=r("95281");r("55689");let o=e=>{let n=(0,i.usePlayground)(),{line:r,selected:o=!1,color:a}=e;return!r.disposed&&!n.config.readonly&&(!!o||a===i.LineColors.HOVER)&&("loop-output-to-function"!==r.fromPort.portID||r.toPort?.portID!=="loop-function-input")&&("batch-output-to-function"!==r.fromPort.portID||r.toPort?.portID!=="batch-function-input")&&!0}},79242:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NodeRenderContext",{enumerable:!0,get:function(){return i.NodeRenderContext}});var i=r("52466")},52466:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NodeRenderContext",{enumerable:!0,get:function(){return o}});var i=r.ir(r("56144"));let o=i.default.createContext({})},56443:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),r.es(r("54394"),n),r.es(r("21688"),n),r.es(r("35168"),n),r.es(r("91611"),n),r.es(r("16037"),n),r.es(r("29332"),n),r.es(r("74583"),n),r.es(r("25046"),n)},60054:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"useEditorProps",{enumerable:!0,get:function(){return i.useEditorProps}});var i=r("73926")},67076:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"initialData",{enumerable:!0,get:function(){return i}});let i={nodes:[{id:"start_0",type:"start",meta:{position:{x:181,y:249.5}},data:{title:"Start",description:"Start node",outputs:{type:"object",properties:{query:{type:"string",default:"Hello Flow."}}}}},{id:"condition_0",type:"condition",meta:{position:{x:643,y:213}},data:{title:"Condition",description:"condition",inputsValues:{conditions:[{key:"if_0",value:{type:"expression",content:""}},{key:"if_1",value:{type:"expression",content:""}}]},inputs:{type:"object",properties:{conditions:{type:"array",items:{type:"object",properties:{key:{type:"string"},value:{type:"string"}}}}}}}},{id:"llm_0",type:"llm",blocks:[],meta:{description:"llm",position:{x:1105,y:0}},data:{title:"LLM_0",description:"condition",inputsValues:{modelType:"gpt-3.5-turbo",temperature:.5,systemPrompt:"You are an AI assistant.",prompt:""},inputs:{type:"object",required:["modelType","temperature","prompt"],properties:{modelType:{type:"string"},temperature:{type:"number"},systemPrompt:{type:"string"},prompt:{type:"string"}}},outputs:{type:"object",properties:{result:{type:"string"}}}}},{id:"llm_1",type:"llm",blocks:[],meta:{description:"llm",position:{x:1105,y:405}},data:{title:"LLM_1",description:"condition",inputsValues:{modelType:"gpt-3.5-turbo",temperature:.5,systemPrompt:"You are an AI assistant.",prompt:"Hello."},inputs:{type:"object",required:["modelType","temperature","prompt"],properties:{modelType:{type:"string"},temperature:{type:"number"},systemPrompt:{type:"string"},prompt:{type:"string"}}},outputs:{type:"object",properties:{result:{type:"string"}}}}},{id:"end_0",type:"end",meta:{position:{x:1567,y:249.5}},data:{title:"End",description:"end",outputs:{type:"object",properties:{result:{type:"string"}}}}},{id:"code_mWO_8",type:"code",meta:{position:{x:379.6275862068965,y:177.33620689655174}},data:{title:"Code_1",description:"代码组件",inputsValues:{},language:"java",code:"",inputs:{type:"object",required:[],properties:{}},outputs:{type:"object",properties:{result:{type:"string"}}}}}],edges:[{sourceNodeID:"start_0",targetNodeID:"condition_0"},{sourceNodeID:"condition_0",sourcePortID:"if_0",targetNodeID:"llm_0"},{sourceNodeID:"condition_0",sourcePortID:"if_1",targetNodeID:"llm_1"},{sourceNodeID:"llm_0",targetNodeID:"end_0"},{sourceNodeID:"llm_1",targetNodeID:"end_0"}]}},3033:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"CodeNodeRegistry",{enumerable:!0,get:function(){return l}});var i=r("57254"),o=r.ir(r("86400")),a=r("53655");let s=0,l={type:"code",info:{icon:o.default,description:"support java/groovy... code node"},meta:{size:{width:360,height:94}},formMeta:a.formMeta,onAdd:()=>({id:`code_${(0,i.nanoid)(5)}`,type:"code",data:{title:`Code_${++s}`,description:"代码组件",inputsValues:{},language:"java",code:"",inputs:{type:"object",required:[],properties:{}},outputs:{type:"object",properties:{result:{type:"string"}}}}})}},45971:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ConditionNodeRegistry",{enumerable:!0,get:function(){return s}});var i=r("57254"),o=r.ir(r("79398")),a=r("50859");let s={type:"condition",info:{icon:o.default,description:"Connect multiple downstream branches. Only the corresponding branch will be executed if the set conditions are met."},meta:{defaultPorts:[{type:"input"}],useDynamicPort:!0,size:{width:360,height:305}},formMeta:a.formMeta,onAdd:()=>({id:`condition_${(0,i.nanoid)(5)}`,type:"condition",data:{title:"Condition",inputsValues:{conditions:[{key:`if_${(0,i.nanoid)(5)}`,value:""},{key:`if_${(0,i.nanoid)(5)}`,value:""}]},inputs:{type:"object",properties:{conditions:{type:"array",items:{type:"object",properties:{key:{type:"string"},value:{type:"string"}}}}}}}})}},39355:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"EndNodeRegistry",{enumerable:!0,get:function(){return a}});var i=r.ir(r("53812")),o=r("45411");let a={type:"end",meta:{deleteDisable:!0,copyDisable:!0,defaultPorts:[{type:"input"}],size:{width:360,height:211}},info:{icon:i.default,description:"The final node of the workflow, used to return the result information after the workflow is run."},formMeta:o.formMeta,canAdd:()=>!1}},44843:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"nodeRegistries",{enumerable:!0,get:function(){return c}});var i=r("11263"),o=r("6014"),a=r("14743"),s=r("39355"),l=r("45971"),u=r("3033");let c=[l.ConditionNodeRegistry,i.StartNodeRegistry,s.EndNodeRegistry,a.LLMNodeRegistry,o.NoteNodeRegistry,u.CodeNodeRegistry]},14743:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"LLMNodeRegistry",{enumerable:!0,get:function(){return s}});var i=r("57254"),o=r.ir(r("55951"));let a=0,s={type:"llm",info:{icon:o.default,description:"Call the large language model and use variables and prompt words to generate responses."},meta:{size:{width:360,height:94}},onAdd:()=>({id:`llm_${(0,i.nanoid)(5)}`,type:"llm",data:{title:`LLM_${++a}`,inputsValues:{},inputs:{type:"object",required:["modelType","temperature","prompt"],properties:{modelType:{type:"string"},temperature:{type:"number"},systemPrompt:{type:"string"},prompt:{type:"string"}}},outputs:{type:"object",properties:{result:{type:"string"}}}}})}},6014:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NoteNodeRegistry",{enumerable:!0,get:function(){return a}});var i=r.ir(r("33984")),o=r("36521");let a={type:"note",meta:{deleteDisable:!1,useDynamicPort:!0,copyDisable:!1,size:{width:360,height:211}},info:{icon:i.default,description:"The starting node of the workflow, used to set the information needed to initiate the workflow."},formMeta:o.formMeta,canAdd:()=>!1,onAdd:e=>({id:"note",type:"note",data:{title:"Note",description:"Enter your note description..."}})}},11263:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"StartNodeRegistry",{enumerable:!0,get:function(){return a}});var i=r.ir(r("33984")),o=r("71882");let a={type:"start",meta:{isStart:!0,deleteDisable:!0,copyDisable:!0,defaultPorts:[{type:"output"}],size:{width:360,height:211}},info:{icon:i.default,description:"The starting node of the workflow, used to set the information needed to initiate the workflow."},formMeta:o.formMeta,canAdd:()=>!1}},27958:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"createSyncVariablePlugin",{enumerable:!0,get:function(){return i.createSyncVariablePlugin}});var i=r("43204")},43204:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"createSyncVariablePlugin",{enumerable:!0,get:function(){return a}});var i=r("95281"),o=r("79269");let a=(0,i.definePluginCreator)({onInit(e,n){let r=e.document;r.onNodeCreate(({node:e})=>{let n=(0,i.getNodeForm)(e),r=e.getData(i.FlowNodeVariableData),a=a=>{if(!a){r.clearVar();return}let s=(0,o.createASTFromJSONSchema)(a);if(s){let o=n?.getValueIn("title")||e.id;r.setVar(i.ASTFactory.createVariableDeclaration({meta:{title:`${o}.outputs`},key:`${e.id}.outputs`,type:s}))}else r.clearVar()};n&&(a(n.getValueIn("outputs")),n.onFormValuesChange(e=>{e.name.match(/^outputs/)&&a(n.getValueIn("outputs"))}))})}})},79269:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"createASTFromJSONSchema",{enumerable:!0,get:function(){return function e(n){let{type:r}=n||{};if(r)switch(r){case"object":return o.ASTFactory.createObject({properties:Object.entries(n.properties||{}).sort((e,n)=>((0,i.get)(e?.[1],"extra.index")||0)-((0,i.get)(n?.[1],"extra.index")||0)).map(([n,r])=>({key:n,type:e(r),meta:{description:r.description}}))});case"array":return o.ASTFactory.createArray({items:e(n.items)});case"string":return o.ASTFactory.createString();case"number":return o.ASTFactory.createNumber();case"boolean":return o.ASTFactory.createBoolean();case"integer":return o.ASTFactory.createInteger();default:return o.ASTFactory.createCustomType({typeName:r})}}}});var i=r("96006"),o=r("95281")},23928:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"useVariableTree",{enumerable:!0,get:function(){return l}});var i=r("56144"),o=r("95281"),a=r("79269"),s=r("29726");function l({targetSchemas:e=[],strongEqual:n=!1,ignoreReadonly:r=!1,getTreeData:l}){let u=(0,o.useScopeAvailable)(),c=(0,i.useCallback)(e=>{let n=e.type;return(0,o.isMatchAST)(n,o.ArrayType)?s.ArrayIcons[n.items?.kind.toLowerCase()]||s.VariableTypeIcons[o.ASTKind.Array.toLowerCase()]:(0,o.isMatchAST)(n,o.CustomType)?s.VariableTypeIcons[n.typeName.toLowerCase()]:s.VariableTypeIcons[e.type?.kind.toLowerCase()]},[]),d=(0,i.useMemo)(()=>o.ASTFactory.createUnion({types:e.map(e=>{let r=(0,a.createASTFromJSONSchema)(e);return n?r:{...r,weak:!0}})}),[n,...e]),h=(0,i.useCallback)(e=>!e||!!d.types?.length&&!e.isTypeEqual(d),[n,d]),f=(e,n=[])=>{let r,i=e?.type,a=h(i);if((0,o.isMatchAST)(i,o.ObjectType)&&(r=(i.properties||[]).map(r=>f(r,[...n,e])).filter(Boolean)),a&&!r?.length)return null;let s=[...n.map(e=>e.meta?.titleKey||e.key),e.meta?.titleKey||e.key].join(".");return l({key:s,icon:c(e),variable:e,parentFields:n,children:r,disabled:a})};return[...u.variables.filter(e=>!r||!e.meta?.readonly).slice(0).reverse()].map(e=>f(e)).filter(Boolean)}},59344:function(e,n,r){"use strict";var i,o;Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"FlowCommandId",{enumerable:!0,get:function(){return i}}),(o=i||(i={})).COPY="COPY",o.PASTE="PASTE",o.CUT="CUT",o.GROUP="GROUP",o.UNGROUP="UNGROUP",o.COLLAPSE="COLLPASE",o.EXPAND="EXPAND",o.DELETE="DELETE",o.ZOOM_IN="ZOOM_IN",o.ZOOM_OUT="ZOOM_OUT",o.RESET_ZOOM="RESET_ZOOM",o.SELECT_ALL="SELECT_ALL",o.CANCEL_SELECT="CANCEL_SELECT"},79265:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),r.es(r("59344"),n),r.es(r("75696"),n)},75696:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"shortcuts",{enumerable:!0,get:function(){return s}});var i=r("95281"),o=r("23103"),a=r("59344");function s(e,n){e.addHandlers({commandId:a.FlowCommandId.SELECT_ALL,shortcuts:["meta a","ctrl a"],execute(){let e=n.document.getAllNodes();n.playground.selectionService.selection=e}}),e.addHandlers({commandId:a.FlowCommandId.COPY,shortcuts:["meta c","ctrl c"],execute:async e=>{let r=n.get(i.WorkflowDocument),a=n.get(i.WorkflowSelectService);if(window.getSelection()?.toString())return navigator.clipboard.writeText(window.getSelection()?.toString()??"").then(()=>{o.Toast.success({content:"Text copied"})}),e;let{selectedNodes:s}=a;if(0===s.length)return;let l=s.filter(e=>"start"!==e.flowNodeType&&"end"!==e.flowNodeType),u=await Promise.all(l.map(async e=>{let n=await r.toNodeJSON(e);return{nodeJSON:n,nodeType:e.flowNodeType}}));navigator.clipboard.writeText(JSON.stringify({nodes:u,fromHost:window.location.host})).then(()=>{o.Toast.success({content:"Nodes copied"})}).catch(e=>{o.Toast.error({content:"Failed to copy nodes"}),console.error("Failed to write text: ",e)})}}),e.addHandlers({commandId:a.FlowCommandId.PASTE,shortcuts:["meta v","ctrl v"],execute:async e=>{let r;let a=n.get(i.WorkflowDocument),s=n.get(i.WorkflowSelectService),l=n.get(i.WorkflowDragService);if(e&&Array.isArray(e)){let n=await Promise.all(e.map(async e=>{let n=await a.toNodeJSON(e);return a.copyNodeFromJSON(n.type,n,"",n.meta?.position,e.parent?.id)}));return n}let u=await navigator.clipboard.readText()||"";try{r=JSON.parse(u)}catch(e){return}if(!r.nodes||!r.fromHost)return null;if(r.fromHost!==window.location.host)return o.Toast.error({content:"Cannot paste nodes from different pages"}),null;let{activatedNode:c}=s,d=c?.flowNodeType===i.FlowNodeBaseType.SUB_CANVAS?c:void 0,h=await Promise.all(r.nodes.map(({nodeJSON:e})=>{delete e.blocks,delete e.edges,delete e.meta?.canvasPosition;let n=d?l.adjustSubNodePosition(e.type,d,e.meta?.position):e.meta?.position;return a.copyNodeFromJSON(e.type,e,"",n,d?.id)}));h.length>0&&(s.selection=h),o.Toast.success({content:"Nodes pasted"})}}),e.addHandlers({commandId:a.FlowCommandId.COLLAPSE,commandDetail:{label:"Collapse"},shortcuts:["meta alt openbracket","ctrl alt openbracket"],isEnabled:()=>!n.playground.config.readonlyOrDisabled,execute:()=>{let e=n.selection,r=e.selection.filter(e=>e instanceof i.FlowNodeEntity);r.forEach(e=>{e.renderData.expanded=!1})}}),e.addHandlers({commandId:a.FlowCommandId.EXPAND,commandDetail:{label:"Expand"},shortcuts:["meta alt closebracket","ctrol alt openbracket"],isEnabled:()=>!n.playground.config.readonlyOrDisabled,execute:()=>{let e=n.selection,r=e.selection.filter(e=>e instanceof i.FlowNodeEntity);r.forEach(e=>{e.renderData.expanded=!0})}})}}},n={};function r(i){var o=n[i];if(void 0!==o)return o.exports;var a=n[i]={exports:{}};return e[i](a,a.exports,r),a.exports}!function(){function e(n){if("function"!=typeof WeakMap)return null;var r=new WeakMap,i=new WeakMap;return(e=function(e){return e?i:r})(n)}r.ir=function(n,r){if(!r&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var i=e(r);if(i&&i.has(n))return i.get(n);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in n)if("default"!==s&&Object.prototype.hasOwnProperty.call(n,s)){var l=a?Object.getOwnPropertyDescriptor(n,s):null;l&&(l.get||l.set)?Object.defineProperty(o,s,l):o[s]=n[s]}return o.default=n,i&&i.set(n,o),o}}(),r.es=function(e,n){return Object.keys(e).forEach(function(r){"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[r]}})}),e},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}(),!function(){self.importScripts&&(e=self.location+"");var e,n=self.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var i=n.getElementsByTagName("script");i.length&&(e=i[i.length-1].src)}if(!e)throw Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e}(),r("45120")}();
//# sourceMappingURL=main.js.map